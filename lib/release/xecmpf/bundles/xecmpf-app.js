csui.define("csui/lib/underscore",["module","csui/lib/underscore.string","csui/lib/underscore.deepExtend"],function(e,t,i){"use strict";var n="undefined"!=typeof window?window:{},o=n._,s=Array.prototype,a=Object.prototype,r="undefined"!=typeof Symbol?Symbol.prototype:null,c=s.push,l=s.slice,u=a.toString,p=a.hasOwnProperty,d=Array.isArray,h=Object.keys,m=Object.create,f=function(){},g=function(e){return e instanceof g?e:this instanceof g?void(this._wrapped=e):new g(e)};"undefined"==typeof exports||exports.nodeType?n._=g:("undefined"!=typeof e&&!e.nodeType&&e.exports&&(exports=e.exports=g),exports._=g),g.VERSION="1.8.3";var b,v=function(e,t,i){if(void 0===t)return e;switch(null==i?3:i){case 1:return function(i){return e.call(t,i)};case 3:return function(i,n,o){return e.call(t,i,n,o)};case 4:return function(i,n,o,s){return e.call(t,i,n,o,s)}}return function(){return e.apply(t,arguments)}},w=function(e,t,i){return g.iteratee!==b?g.iteratee(e,t):null==e?g.identity:g.isFunction(e)?v(e,t,i):g.isObject(e)?g.matcher(e):g.property(e)};g.iteratee=b=function(e,t){return w(e,t,1/0)};var y=function(e,t){return t=null==t?e.length-1:+t,function(){for(var i=Math.max(arguments.length-t,0),n=Array(i),o=0;i>o;o++)n[o]=arguments[o+t];switch(t){case 0:return e.call(this,n);case 1:return e.call(this,arguments[0],n);case 2:return e.call(this,arguments[0],arguments[1],n)}var s=Array(t+1);for(o=0;t>o;o++)s[o]=arguments[o];return s[t]=n,e.apply(this,s)}},x=function(e){if(!g.isObject(e))return{};if(m)return m(e);f.prototype=e;var t=new f;return f.prototype=null,t},_=function(e){return function(t){return null==t?void 0:t[e]}},k=Math.pow(2,53)-1,C=_("length"),S=function(e){var t=C(e);return"number"==typeof t&&t>=0&&k>=t};g.each=g.forEach=function(e,t,i){t=v(t,i);var n,o;if(S(e))for(n=0,o=e.length;o>n;n++)t(e[n],n,e);else{var s=g.keys(e);for(n=0,o=s.length;o>n;n++)t(e[s[n]],s[n],e)}return e},g.map=g.collect=function(e,t,i){t=w(t,i);for(var n=!S(e)&&g.keys(e),o=(n||e).length,s=Array(o),a=0;o>a;a++){var r=n?n[a]:a;s[a]=t(e[r],r,e)}return s};var V=function(e){var t=function(t,i,n,o){var s=!S(t)&&g.keys(t),a=(s||t).length,r=e>0?0:a-1;for(o||(n=t[s?s[r]:r],r+=e);r>=0&&a>r;r+=e){var c=s?s[r]:r;n=i(n,t[c],c,t)}return n};return function(e,i,n,o){var s=arguments.length>=3;return t(e,v(i,o,4),n,s)}};g.reduce=g.foldl=g.inject=V(1),g.reduceRight=g.foldr=V(-1),g.find=g.detect=function(e,t,i){var n=S(e)?g.findIndex:g.findKey,o=n(e,t,i);return void 0!==o&&-1!==o?e[o]:void 0},g.filter=g.select=function(e,t,i){var n=[];return t=w(t,i),g.each(e,function(e,i,o){t(e,i,o)&&n.push(e)}),n},g.reject=function(e,t,i){return g.filter(e,g.negate(w(t)),i)},g.every=g.all=function(e,t,i){t=w(t,i);for(var n=!S(e)&&g.keys(e),o=(n||e).length,s=0;o>s;s++){var a=n?n[s]:s;if(!t(e[a],a,e))return!1}return!0},g.some=g.any=function(e,t,i){t=w(t,i);for(var n=!S(e)&&g.keys(e),o=(n||e).length,s=0;o>s;s++){var a=n?n[s]:s;if(t(e[a],a,e))return!0}return!1},g.contains=g.includes=g.include=function(e,t,i,n){return S(e)||(e=g.values(e)),("number"!=typeof i||n)&&(i=0),g.indexOf(e,t,i)>=0},g.invoke=y(function(e,t,i){var n=g.isFunction(t);return g.map(e,function(e){var o=n?t:e[t];return null==o?o:o.apply(e,i)})}),g.pluck=function(e,t){return g.map(e,g.property(t))},g.where=function(e,t){return g.filter(e,g.matcher(t))},g.findWhere=function(e,t){return g.find(e,g.matcher(t))},g.max=function(e,t,i){var n,o,s=-(1/0),a=-(1/0);if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=S(e)?e:g.values(e);for(var r=0,c=e.length;c>r;r++)n=e[r],null!=n&&n>s&&(s=n)}else t=w(t,i),g.each(e,function(e,i,n){o=t(e,i,n),(o>a||o===-(1/0)&&s===-(1/0))&&(s=e,a=o)});return s},g.min=function(e,t,i){var n,o,s=1/0,a=1/0;if(null==t||"number"==typeof t&&"object"!=typeof e[0]&&null!=e){e=S(e)?e:g.values(e);for(var r=0,c=e.length;c>r;r++)n=e[r],null!=n&&s>n&&(s=n)}else t=w(t,i),g.each(e,function(e,i,n){o=t(e,i,n),(a>o||o===1/0&&s===1/0)&&(s=e,a=o)});return s},g.shuffle=function(e){return g.sample(e,1/0)},g.sample=function(e,t,i){if(null==t||i)return S(e)||(e=g.values(e)),e[g.random(e.length-1)];var n=S(e)?g.clone(e):g.values(e),o=C(n);t=Math.max(Math.min(t,o),0);for(var s=o-1,a=0;t>a;a++){var r=g.random(a,s),c=n[a];n[a]=n[r],n[r]=c}return n.slice(0,t)},g.sortBy=function(e,t,i){var n=0;return t=w(t,i),g.pluck(g.map(e,function(e,i,o){return{"value":e,"index":n++,"criteria":t(e,i,o)}}).sort(function(e,t){var i=e.criteria,n=t.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return e.index-t.index}),"value")};var T=function(e,t){return function(i,n,o){var s=t?[[],[]]:{};return n=w(n,o),g.each(i,function(t,o){var a=n(t,o,i);e(s,t,a)}),s}};g.groupBy=T(function(e,t,i){g.has(e,i)?e[i].push(t):e[i]=[t]}),g.indexBy=T(function(e,t,i){e[i]=t}),g.countBy=T(function(e,t,i){g.has(e,i)?e[i]++:e[i]=1});var M=/[^\ud800-\udfff]|[\ud800-\udbff][\udc00-\udfff]|[\ud800-\udfff]/g;g.toArray=function(e){return e?g.isArray(e)?l.call(e):g.isString(e)?e.match(M):S(e)?g.map(e,g.identity):g.values(e):[]},g.size=function(e){return null==e?0:S(e)?e.length:g.keys(e).length},g.partition=T(function(e,t,i){e[i?0:1].push(t)},!0),g.first=g.head=g.take=function(e,t,i){return null==e||e.length<1?void 0:null==t||i?e[0]:g.initial(e,e.length-t)},g.initial=function(e,t,i){return l.call(e,0,Math.max(0,e.length-(null==t||i?1:t)))},g.last=function(e,t,i){return null==e||e.length<1?void 0:null==t||i?e[e.length-1]:g.rest(e,Math.max(0,e.length-t))},g.rest=g.tail=g.drop=function(e,t,i){return l.call(e,null==t||i?1:t)},g.compact=function(e){return g.filter(e,Boolean)};var A=function(e,t,i,n){n=n||[];for(var o=n.length,s=0,a=C(e);a>s;s++){var r=e[s];if(S(r)&&(g.isArray(r)||g.isArguments(r)))if(t)for(var c=0,l=r.length;l>c;)n[o++]=r[c++];else A(r,t,i,n),o=n.length;else i||(n[o++]=r)}return n};g.flatten=function(e,t){return A(e,t,!1)},g.without=y(function(e,t){return g.difference(e,t)}),g.uniq=g.unique=function(e,t,i,n){g.isBoolean(t)||(n=i,i=t,t=!1),null!=i&&(i=w(i,n));for(var o=[],s=[],a=0,r=C(e);r>a;a++){var c=e[a],l=i?i(c,a,e):c;t?(a&&s===l||o.push(c),s=l):i?g.contains(s,l)||(s.push(l),o.push(c)):g.contains(o,c)||o.push(c)}return o},g.union=y(function(e){return g.uniq(A(e,!0,!0))}),g.intersection=function(e){for(var t=[],i=arguments.length,n=0,o=C(e);o>n;n++){var s=e[n];if(!g.contains(t,s)){var a;for(a=1;i>a&&g.contains(arguments[a],s);a++);a===i&&t.push(s)}}return t},g.difference=y(function(e,t){return t=A(t,!0,!0),g.filter(e,function(e){return!g.contains(t,e)})}),g.unzip=function(e){for(var t=e&&g.max(e,C).length||0,i=Array(t),n=0;t>n;n++)i[n]=g.pluck(e,n);return i},g.zip=y(g.unzip),g.object=function(e,t){for(var i={},n=0,o=C(e);o>n;n++)t?i[e[n]]=t[n]:i[e[n][0]]=e[n][1];return i};var P=function(e){return function(t,i,n){i=w(i,n);for(var o=C(t),s=e>0?0:o-1;s>=0&&o>s;s+=e)if(i(t[s],s,t))return s;return-1}};g.findIndex=P(1),g.findLastIndex=P(-1),g.sortedIndex=function(e,t,i,n){i=w(i,n,1);for(var o=i(t),s=0,a=C(e);a>s;){var r=Math.floor((s+a)/2);i(e[r])<o?s=r+1:a=r}return s};var E=function(e,t,i){return function(n,o,s){var a=0,r=C(n);if("number"==typeof s)e>0?a=s>=0?s:Math.max(s+r,a):r=s>=0?Math.min(s+1,r):s+r+1;else if(i&&s&&r)return s=i(n,o),n[s]===o?s:-1;if(o!==o)return s=t(l.call(n,a,r),g.isNaN),s>=0?s+a:-1;for(s=e>0?a:r-1;s>=0&&r>s;s+=e)if(n[s]===o)return s;return-1}};g.indexOf=E(1,g.findIndex,g.sortedIndex),g.lastIndexOf=E(-1,g.findLastIndex),g.range=function(e,t,i){null==t&&(t=e||0,e=0),i||(i=e>t?-1:1);for(var n=Math.max(Math.ceil((t-e)/i),0),o=Array(n),s=0;n>s;s++,e+=i)o[s]=e;return o},g.chunk=function(e,t){if(null==t||1>t)return[];for(var i=[],n=0,o=e.length;o>n;)i.push(l.call(e,n,n+=t));return i};var B=function(e,t,i,n,o){if(!(n instanceof t))return e.apply(i,o);var s=x(e.prototype),a=e.apply(s,o);return g.isObject(a)?a:s};g.bind=y(function(e,t,i){if(!g.isFunction(e))throw new TypeError("Bind must be called on a function");var n=y(function(o){return B(e,n,t,this,i.concat(o))});return n}),g.partial=y(function(e,t){var i=g.partial.placeholder,n=function(){for(var o=0,s=t.length,a=Array(s),r=0;s>r;r++)a[r]=t[r]===i?arguments[o++]:t[r];for(;o<arguments.length;)a.push(arguments[o++]);return B(e,n,this,this,a)};return n}),g.partial.placeholder=g,g.bindAll=y(function(e,t){t=A(t,!1,!1);var i=t.length;if(1>i)throw new Error("bindAll must be passed function names");for(;i--;){var n=t[i];e[n]=g.bind(e[n],e)}}),g.memoize=function(e,t){var i=function(n){var o=i.cache,s=""+(t?t.apply(this,arguments):n);return g.has(o,s)||(o[s]=e.apply(this,arguments)),o[s]};return i.cache={},i},g.delay=y(function(e,t,i){return setTimeout(function(){return e.apply(null,i)},t)}),g.defer=g.partial(g.delay,g,1),g.throttle=function(e,t,i){var n,o,s,a,r=0;i||(i={});var c=function(){r=i.leading===!1?0:g.now(),n=null,a=e.apply(o,s),n||(o=s=null)},l=function(){var l=g.now();r||i.leading!==!1||(r=l);var u=t-(l-r);return o=this,s=arguments,0>=u||u>t?(n&&(clearTimeout(n),n=null),r=l,a=e.apply(o,s),n||(o=s=null)):n||i.trailing===!1||(n=setTimeout(c,u)),a};return l.cancel=function(){clearTimeout(n),r=0,n=o=s=null},l},g.debounce=function(e,t,i){var n,o,s=function(t,i){n=null,i&&(o=e.apply(t,i))},a=y(function(a){if(n&&clearTimeout(n),i){var r=!n;n=setTimeout(s,t),r&&(o=e.apply(this,a))}else n=g.delay(s,t,this,a);return o});return a.cancel=function(){clearTimeout(n),n=null},a},g.wrap=function(e,t){return g.partial(t,e)},g.negate=function(e){return function(){return!e.apply(this,arguments)}},g.compose=function(){var e=arguments,t=e.length-1;return function(){for(var i=t,n=e[t].apply(this,arguments);i--;)n=e[i].call(this,n);return n}},g.after=function(e,t){return function(){return--e<1?t.apply(this,arguments):void 0}},g.before=function(e,t){var i;return function(){return--e>0&&(i=t.apply(this,arguments)),1>=e&&(t=null),i}},g.once=g.partial(g.before,2),g.restArgs=y;var I=!{"toString":null}.propertyIsEnumerable("toString"),O=["valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],R=function(e,t){var i=O.length,n=e.constructor,o=g.isFunction(n)&&n.prototype||a,s="constructor";for(g.has(e,s)&&!g.contains(t,s)&&t.push(s);i--;)s=O[i],s in e&&e[s]!==o[s]&&!g.contains(t,s)&&t.push(s)};g.keys=function(e){if(!g.isObject(e))return[];if(h)return h(e);var t=[];for(var i in e)g.has(e,i)&&t.push(i);return I&&R(e,t),t},g.allKeys=function(e){if(!g.isObject(e))return[];var t=[];for(var i in e)t.push(i);return I&&R(e,t),t},g.values=function(e){for(var t=g.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=e[t[o]];return n},g.mapObject=function(e,t,i){t=w(t,i);for(var n=g.keys(e),o=n.length,s={},a=0;o>a;a++){var r=n[a];s[r]=t(e[r],r,e)}return s},g.pairs=function(e){for(var t=g.keys(e),i=t.length,n=Array(i),o=0;i>o;o++)n[o]=[t[o],e[t[o]]];return n},g.invert=function(e){for(var t={},i=g.keys(e),n=0,o=i.length;o>n;n++)t[e[i[n]]]=i[n];return t},g.functions=g.methods=function(e){var t=[];for(var i in e)g.isFunction(e[i])&&t.push(i);return t.sort()};var F=function(e,t){return function(i){var n=arguments.length;if(t&&(i=Object(i)),2>n||null==i)return i;for(var o=1;n>o;o++)for(var s=arguments[o],a=e(s),r=a.length,c=0;r>c;c++){var l=a[c];t&&void 0!==i[l]||(i[l]=s[l])}return i}};g.extend=F(g.allKeys),g.extendOwn=g.assign=F(g.keys),g.findKey=function(e,t,i){t=w(t,i);for(var n,o=g.keys(e),s=0,a=o.length;a>s;s++)if(n=o[s],t(e[n],n,e))return n};var j=function(e,t,i){return t in i};g.pick=y(function(e,t){var i={},n=t[0];if(null==e)return i;g.isFunction(n)?(t.length>1&&(n=v(n,t[1])),t=g.allKeys(e)):(n=j,t=A(t,!1,!1),e=Object(e));for(var o=0,s=t.length;s>o;o++){var a=t[o],r=e[a];n(r,a,e)&&(i[a]=r)}return i}),g.omit=y(function(e,t){var i,n=t[0];return g.isFunction(n)?(n=g.negate(n),t.length>1&&(i=t[1])):(t=g.map(A(t,!1,!1),String),n=function(e,i){return!g.contains(t,i)}),g.pick(e,n,i)}),g.defaults=F(g.allKeys,!0),g.create=function(e,t){var i=x(e);return t&&g.extendOwn(i,t),i},g.clone=function(e){return g.isObject(e)?g.isArray(e)?e.slice():g.extend({},e):e},g.tap=function(e,t){return t(e),e},g.isMatch=function(e,t){var i=g.keys(t),n=i.length;if(null==e)return!n;for(var o=Object(e),s=0;n>s;s++){var a=i[s];if(t[a]!==o[a]||!(a in o))return!1}return!0};var L,D;L=function(e,t,i,n){if(e===t)return 0!==e||1/e===1/t;if(null==e||null==t)return e===t;if(e!==e)return t!==t;var o=typeof e;return"function"!==o&&"object"!==o&&"object"!=typeof t?!1:D(e,t,i,n)},D=function(e,t,i,n){e instanceof g&&(e=e._wrapped),t instanceof g&&(t=t._wrapped);var o=u.call(e);if(o!==u.call(t))return!1;switch(o){case"[object RegExp]":case"[object String]":return""+e==""+t;case"[object Number]":return+e!==+e?+t!==+t:0===+e?1/+e===1/t:+e===+t;case"[object Date]":case"[object Boolean]":return+e===+t;case"[object Symbol]":return r.valueOf.call(e)===r.valueOf.call(t)}var s="[object Array]"===o;if(!s){if("object"!=typeof e||"object"!=typeof t)return!1;var a=e.constructor,c=t.constructor;if(a!==c&&!(g.isFunction(a)&&a instanceof a&&g.isFunction(c)&&c instanceof c)&&"constructor"in e&&"constructor"in t)return!1}i=i||[],n=n||[];for(var l=i.length;l--;)if(i[l]===e)return n[l]===t;if(i.push(e),n.push(t),s){if(l=e.length,l!==t.length)return!1;for(;l--;)if(!L(e[l],t[l],i,n))return!1}else{var p,d=g.keys(e);if(l=d.length,g.keys(t).length!==l)return!1;for(;l--;)if(p=d[l],!g.has(t,p)||!L(e[p],t[p],i,n))return!1}return i.pop(),n.pop(),!0},g.isEqual=function(e,t){return L(e,t)},g.isEmpty=function(e){return null==e?!0:S(e)&&(g.isArray(e)||g.isString(e)||g.isArguments(e))?0===e.length:0===g.keys(e).length},g.isElement=function(e){return!(!e||1!==e.nodeType)},g.isArray=d||function(e){return"[object Array]"===u.call(e)},g.isObject=function(e){var t=typeof e;return"function"===t||"object"===t&&!!e},g.each(["Arguments","Function","String","Number","Date","RegExp","Error","Symbol","Map","WeakMap","Set","WeakSet"],function(e){g["is"+e]=function(t){return u.call(t)==="[object "+e+"]"}}),g.isArguments(arguments)||(g.isArguments=function(e){return g.has(e,"callee")});var N=n.document&&n.document.childNodes;"function"!=typeof/./&&"object"!=typeof Int8Array&&"function"!=typeof N&&(g.isFunction=function(e){return"function"==typeof e||!1}),g.isFinite=function(e){return!g.isSymbol(e)&&isFinite(e)&&!isNaN(parseFloat(e))},g.isNaN=function(e){return g.isNumber(e)&&isNaN(e)},g.isBoolean=function(e){return e===!0||e===!1||"[object Boolean]"===u.call(e)},g.isNull=function(e){return null===e},g.isUndefined=function(e){return void 0===e},g.has=function(e,t){return null!=e&&p.call(e,t)},g.noConflict=function(){return n._=o,this},g.identity=function(e){return e},g.constant=function(e){return function(){return e}},g.noop=function(){},g.property=_,g.propertyOf=function(e){return null==e?function(){}:function(t){return e[t]}},g.matcher=g.matches=function(e){return e=g.extendOwn({},e),function(t){return g.isMatch(t,e)}},g.times=function(e,t,i){var n=Array(Math.max(0,e));t=v(t,i,1);for(var o=0;e>o;o++)n[o]=t(o);return n},g.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))},g.now=Date.now||function(){return(new Date).getTime()};var q={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},$=g.invert(q),H=function(e){var t=function(t){return e[t]},i="(?:"+g.keys(e).join("|")+")",n=RegExp(i),o=RegExp(i,"g");return function(e){return e=null==e?"":""+e,n.test(e)?e.replace(o,t):e}};g.escape=H(q),g.unescape=H($),g.result=function(e,t,i){var n=null==e?void 0:e[t];return void 0===n&&(n=i),g.isFunction(n)?n.call(e):n};var U=0;g.uniqueId=function(e){var t=++U+"";return e?e+t:t},g.templateSettings={"evaluate":/<%([\s\S]+?)%>/g,"interpolate":/<%=([\s\S]+?)%>/g,"escape":/<%-([\s\S]+?)%>/g};var W=/(.)^/,z={"'":"'","\\":"\\","\r":"r","\n":"n","\u2028":"u2028","\u2029":"u2029"},K=/\\|'|\r|\n|\u2028|\u2029/g,G=function(e){return"\\"+z[e]};g.template=function(e,t,i){!t&&i&&(t=i),t=g.defaults({},t,g.templateSettings);var n=RegExp([(t.escape||W).source,(t.interpolate||W).source,(t.evaluate||W).source].join("|")+"|$","g"),o=0,s="__p+='";e.replace(n,function(t,i,n,a,r){return s+=e.slice(o,r).replace(K,G),o=r+t.length,i?s+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'":n?s+="'+\n((__t=("+n+"))==null?'':__t)+\n'":a&&(s+="';\n"+a+"\n__p+='"),t}),s+="';\n",t.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";var a;try{a=new Function(t.variable||"obj","_",s)}catch(r){throw r.source=s,r}var c=function(e){return a.call(this,e,g)},l=t.variable||"obj";return c.source="function("+l+"){\n"+s+"}",c},g.chain=function(e){var t=g(e);return t._chain=!0,t};var J=function(e,t){return e._chain?g(t).chain():t};return g.mixin=function(e){return g.each(g.functions(e),function(t){var i=g[t]=e[t];g.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),J(this,i.apply(g,e))}}),g},g.mixin(g),g.each(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=s[e];g.prototype[e]=function(){var i=this._wrapped;return t.apply(i,arguments),"shift"!==e&&"splice"!==e||0!==i.length||delete i[0],J(this,i)}}),g.each(["concat","join","slice"],function(e){var t=s[e];g.prototype[e]=function(){return J(this,t.apply(this._wrapped,arguments))}}),g.prototype.value=function(){return this._wrapped},g.prototype.valueOf=g.prototype.toJSON=g.prototype.value,g.prototype.toString=function(){return String(this._wrapped)},t&&(g.string=g.str=t),i&&(g.deepExtend=i),g.noConflict()}),csui.define("csui/lib/normalize",[],function(){function e(e,i,o){if(e.match(r)||e.match(a))return e;e=s(e);var c=o.match(a),l=i.match(a);return!l||c&&c[1]==l[1]&&c[2]==l[2]?n(t(e,i),o):t(e,i)}function t(e,t){if("./"==e.substr(0,2)&&(e=e.substr(2)),e.match(r)||e.match(a))return e;var i=t.split("/"),n=e.split("/");for(i.pop();curPart=n.shift();)".."==curPart?i.pop():i.push(curPart);return i.join("/")}function n(e,t){var n=t.split("/");for(n.pop(),t=n.join("/")+"/",i=0;t.substr(i,1)==e.substr(i,1);)i++;for(;"/"!=t.substr(i,1);)i--;t=t.substr(i+1),e=e.substr(i+1),n=t.split("/");var o=e.split("/");for(out="";n.shift();)out+="../";for(;curPart=o.shift();)out+=curPart+"/";return out.substr(0,out.length-1)}var o=/([^:])\/+/g,s=function(e){return e.replace(o,"$1/")},a=/[^\:\/]*:\/\/([^\/])*/,r=/^(\/|data:)/,c=function(t,i,n){i=s(i),n=s(n);for(var o,a,t,r=/@import\s*("([^"]*)"|'([^']*)')|url\s*\((?!#)\s*(\s*"([^"]*)"|'([^']*)'|[^\)]*\s*)\s*\)/gi;o=r.exec(t);){a=o[3]||o[2]||o[5]||o[6]||o[4];var c;c=e(a,i,n);var l=o[5]||o[6]?1:0;t=t.substr(0,r.lastIndex-a.length-l-1)+c+t.substr(r.lastIndex-l-1),r.lastIndex=r.lastIndex+(c.length-a.length)}return t};return c.convertURIBase=e,c.absoluteURI=t,c.relativeURI=n,c}),csui.define("css",["i18n"],function(e){if("undefined"==typeof window)return{"load":function(e,t,i){i()}};var t=document.getElementsByTagName("head")[0],i=t.querySelector("link[data-csui-use-custom-theme]"),n=t.querySelector("link[data-csui-theme-overrides]")||t.querySelector("style[data-csui-theme-overrides]");i&&console.warn('The attribute "data-csui-use-custom-theme" has been deprecated.  Instead of creating a theme for all modules in single directory,  use styling overrides with the attribute "data-csui-theme-overrides".');var o=window.navigator.userAgent.match(/Trident\/([^ ;]*)|AppleWebKit\/([^ ;]*)|Opera\/([^ ;]*)|rv\:([^ ;]*)(.*?)Gecko\/([^ ;]*)|MSIE\s([^ ;]*)|AndroidWebKit\/([^ ;]*)/)||0,s=!1,a=!0;o[1]||o[7]?s=parseInt(o[1])<6||parseInt(o[7])<=9:o[2]||o[8]?a=!1:o[4]&&(s=parseInt(o[4])<18);var r={};r.pluginBuilder="csui/lib/css-builder";var c,l,u,p=function(){c=document.createElement("style"),c.setAttribute("data-csui-required","true"),n?t.insertBefore(c,n):t.appendChild(c),l=c.styleSheet||c.sheet},d=0,h=[],m=function(e){l.addImport(e),c.onload=function(){f()},d++,31==d&&(p(),d=0)},f=function(){u();var e=h.shift();return e?(u=e[1],void m(e[0])):void(u=null)},g=function(e,t){if(l&&l.addImport||p(),l&&l.addImport)u?h.push([e,t]):(m(e),u=t);else{c.textContent='@import "'+e+'";';var i=setInterval(function(){try{c.sheet.cssRules,clearInterval(i),t()}catch(e){}},10)}},b=function(e,i){var o=document.createElement("link");if(o.type="text/css",o.rel="stylesheet",o.setAttribute("data-csui-required","true"),a)o.onload=function(){o.onload=function(){},setTimeout(i,7)};else var s=setInterval(function(){for(var e=0;e<document.styleSheets.length;e++){var t=document.styleSheets[e];if(t.href==o.href)return clearInterval(s),i()}},10);o.href=e,n?t.insertBefore(o,n):t.appendChild(o)};return r.normalize=function(e,t){return".css"==e.substr(e.length-4,4)&&(e=e.substr(0,e.length-4)),t(e)},r.load=function(e,t,i,n){(s?g:b)(t.toUrl(e+".css"),i)},r.styleLoad=function(t,n,o){var s,a=e.settings.rtl&&o?"-rtl.css":".css",r=t.toUrl(n),c=r.indexOf("?");if(i){s=i.getAttribute("href");var l=s.lastIndexOf("/");s=(0>l?"":s.substr(0,l+1))+n+".css",c>=0&&(s+=r.substring(c))}else s=0>c?r+a:r.substring(0,c)+a+r.substring(c);b(s,function(){})},r}),csui.define("css!xecmpf/pages/start/perspectivewithoutheader",[],function(){}),csui.define("xecmpf/pages/start/perspective-only.page.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/lib/fastclick","csui/utils/namedlocalstorage","csui/utils/contexts/perspective/perspective.context","csui/utils/contexts/factories/connector","csui/utils/contexts/factories/user","csui/pages/start/perspective.routing","csui/utils/url","csui/utils/base","csui/pages/start/impl/perspective.panel/perspective.panel.view","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","csui/behaviors/keyboard.navigation/tabables.behavior","csui/utils/page.leaving.blocker","csui/controls/globalmessage/globalmessage","csui/controls/iconpreload/icon.preload.view","css!xecmpf/pages/start/perspectivewithoutheader"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g,b,v){var w=t.extend({"signInPageUrl":"signin.html"},e.config()),y=o.ItemView.extend({"behaviors":{"TabablesBehavior":{"behaviorClass":f}},"template":!1,"constructor":function(e){o.ItemView.prototype.constructor.call(this,e),this.options.el||this.setElement(document.body);var t=new r,a=t.getObject(c);if(t.options=t.options||{},t.options.suppressReferencePanel=!0,!a.connection.credentials&&!a.authenticator.isAuthenticated()&&!a.authenticator.syncStorage().isAuthenticated())return void this._navigateToSignIn();this.perspectivePanel=new h({"context":t}),this.propagateEventsToViews(this.perspectivePanel);var l;u.getInstance({"context":t});l=u.routesWithSlashes()?{"pushState":!0,"root":p.combine(new p(new p(location.pathname).getCgiScript()).getPath(),"/xecm")}:{"root":location.pathname},n.history.start(l),d.isAppleMobile()&&this.$el.addClass("csui-on-ipad"),s.attach(this.el),i(window).unload(function(){}),this.perspectivePanel.on("show:perspective swap:perspective",function(){var e=window.opener?window.opener:window!==window.parent?window.parent:void 0;e&&(0===this.$el.find(".conws-header-wrapper").length?e.postMessage({"status":"showDialogHeader"},"*"):e.postMessage({"status":"hideDialogHeader"},"*"))})},"onRender":function(){if(!this._redirecting){this.$el.addClass("binf-widgets xecm-page-widget"),this.$el.append("<div class='binf-widgets'></div>"),v.ensureOnThePage(),b.setMessageRegionView(this,{"classes":"xecm-global-message","useClass":!0,"sizeToParentContainer":!0});var e=new o.Region({"el":this.$el.find("div")});e.show(this.perspectivePanel)}},"_navigateToSignIn":function(){if(u.routesWithSlashes())g.forceDisable(),location.reload();else{var e=this.options.signInPageUrl||w.signInPageUrl,t=location.search;t+=t?"&":"?",t+="nextUrl="+encodeURIComponent(location.pathname),location.href=e+t+location.hash}this._redirecting=!0}});return t.extend(y.prototype,m),y}),+function(){"use strict";function e(e,t,i,n,o,s){t[e]&&(i.push(e),(t[e]===!0||1===t[e])&&n.push(o+e+"/"+s))}function t(e,t,i,n,o){var s=n+t+"/"+o;require._fileExists(e.toUrl(s+".js"))&&i.push(s)}function i(e,t,n){var o;for(o in t)!t.hasOwnProperty(o)||e.hasOwnProperty(o)&&!n?"object"==typeof t[o]&&(!e[o]&&t[o]&&(e[o]={}),i(e[o],t[o],n)):e[o]=t[o]}var n=/(^.*(^|\/)nls(\/|$))([^\/:]*)\/?([^\/:]*)(:[^\/:]*)?/;csui.define("i18n",["module"],function(o){var s=o.config?o.config():{},a=s.locale,r=s.defaultLocale||"en-us",c=s.preferredLocales||[],l=s.loadableLocales||[],u=s.rtl||!1,p=s.overrides||{};r=r.toLowerCase(),a||(a="undefined"!=typeof navigator&&(navigator.languages&&navigator.languages[0]||navigator.language||navigator.userLanguage)||r),a=a.toLowerCase(),"object"!=typeof l||l instanceof Array||(l=Object.keys(l));var d,h;for(d=0;d<l.length;++d)h=l[d],h&&(l[d]=h.toLowerCase());"string"==typeof c&&(c=c.replace(/\s/g,"").split(",").map(function(e){var t=e.split(";"),i=t[1]||"";return{"locale":t[0].toLowerCase(),"quality":parseFloat(i.split("=")[1]||1)}}).filter(function(e){return e.locale}).sort(function(e,t){return e=e.quality,t=t.quality,t>e?1:e>t?-1:0})),c.length||(c[0]={"locale":a,"quality":1});var m={"locale":a,"defaultLocale":r,"loadableLocales":l,"preferredLocales":c,"rtl":u};return{"version":"2.0.6","defaultLocale":a,"settings":m,"load":function(o,s,a,r){r=r||{};var c,l,u,d=n.exec(o),h=d[1],f=d[4],g=d[5],b=d[6],v=f.split("-"),w=[],y={},x="";if(d[5]?h=d[1]:(g=d[4],f=":preferred"===b?m.preferredLocales[0].locale:m.locale,v=f.split("-")),c=h+g,r.isBuild){for(w.push(c),t(s,"root",w,h,g),l=0;l<v.length;l++)u=v[l],x+=(x?"-":"")+u,t(s,x,w,h,g);s(w,function(){a()})}else s([c],function(t){function n(){s(w,function(){var e,n,o,r;for(e=c.length-1;e>-1&&c[e];e--)r=c[e],n=t[r],o=h+r+"/"+g,Object.keys(p).forEach(function(e){e===o&&i(y,p[e])}),(n===!0||1===n)&&(n=s(o)),i(y,n);a(y)},function(e){a.error&&a.error(e)})}function o(){x=u.shift(),x?0===m.loadableLocales.length||m.loadableLocales.indexOf(x)>=0?s([h+x+"/"+g],function(){c.push(x),t[x]=!0,o()},function(){t[x]=!1,o()}):(t[x]=!1,o()):n()}var r,c=[],u=[];for(e("root",t,c,w,h,g),l=0;l<v.length;l++)r=v[l],x+=(x?"-":"")+r,void 0!==t[x]?e(x,t,c,w,h,g):u.push(x);c.length>1?n():o()},function(e){a.error&&a.error(e)})}}})}(),csui.define("xecmpf/widgets/integration/folderbrowse/impl/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/integration/folderbrowse/impl/nls/root/localized.strings",{"BackButtonToolItem":"Back","PageWidgetToolItem":"Open Full Page Workspace","SearchToolItem":"Search From Here","SearchFromHerePlaceHolder":"Search From Here","CloseToolTip":"Close"}),csui.define("css!xecmpf/widgets/integration/folderbrowse/impl/folderbrowse",[],function(){}),csui.define("xecmpf/widgets/integration/folderbrowse/search.box.view",["module","csui/lib/underscore","csui/lib/jquery","csui/widgets/search.box/search.box.view","i18n!xecmpf/widgets/integration/folderbrowse/impl/nls/localized.strings","css!xecmpf/widgets/integration/folderbrowse/impl/folderbrowse"],function(e,t,i,n,o){"use strict";var s=t.defaults({},e.config(),{"showOptionsDropDown":!1,"showSearchInput":!0,"searchFromHere":!0,"customSearchIconClass":"xecmpf-icon-search","customSearchIconEnabledClass":"xecmpf-icon-search-md","placeholder":o.SearchFromHerePlaceHolder}),a=n.extend({"constructor":function(e){e=e||{},e.data=t.defaults({},e.data,s),n.prototype.constructor.call(this,e)},"searchIconClicked":function(e){e.preventDefault(),e.stopPropagation(),n.prototype.searchIconClicked.call(this,e)}});return a}),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof csui.define&&csui.define.amd?csui.define("csui/lib/handlebars",t):"object"==typeof exports?exports.Handlebars=t():e.Handlebars=t()}(this,function(){return function(e){function t(n){if(i[n])return i[n].exports;var o=i[n]={"exports":{},"id":n,"loaded":!1};return e[n].call(o.exports,o,o.exports,t),o.loaded=!0,o.exports}var i={};return t.m=e,t.c=i,t.p="",t(0)}([function(e,t,i){"use strict";function n(){var e=b();return e.compile=function(t,i){return u.compile(t,i,e)},e.precompile=function(t,i){return u.precompile(t,i,e)},e.AST=c["default"],e.Compiler=u.Compiler,e.JavaScriptCompiler=d["default"],e.Parser=l.parser,e.parse=l.parse,e}var o=i(8)["default"];t.__esModule=!0;var s=i(1),a=o(s),r=i(2),c=o(r),l=i(3),u=i(4),p=i(5),d=o(p),h=i(6),m=o(h),f=i(7),g=o(f),b=a["default"].create,v=n();v.create=n,g["default"](v),v.Visitor=m["default"],v["default"]=v,t["default"]=v,e.exports=t["default"]},function(e,t,i){"use strict";function n(){var e=new a.HandlebarsEnvironment;return d.extend(e,a),e.SafeString=c["default"],e.Exception=u["default"],e.Utils=d,e.escapeExpression=d.escapeExpression,e.VM=m,e.template=function(t){return m.template(t,e)},e}var o=i(8)["default"];t.__esModule=!0;var s=i(9),a=o(s),r=i(10),c=o(r),l=i(11),u=o(l),p=i(12),d=o(p),h=i(13),m=o(h),f=i(7),g=o(f),b=n();b.create=n,g["default"](b),b["default"]=b,t["default"]=b,e.exports=t["default"]},function(e,t,i){"use strict";t.__esModule=!0;var n={"Program":function(e,t,i,n){this.loc=n,this.type="Program",this.body=e,this.blockParams=t,this.strip=i},"MustacheStatement":function(e,t,i,n,o,s){this.loc=s,this.type="MustacheStatement",this.path=e,this.params=t||[],this.hash=i,this.escaped=n,this.strip=o},"BlockStatement":function(e,t,i,n,o,s,a,r,c){this.loc=c,this.type="BlockStatement",this.path=e,this.params=t||[],this.hash=i,this.program=n,this.inverse=o,this.openStrip=s,this.inverseStrip=a,this.closeStrip=r},"PartialStatement":function(e,t,i,n,o){this.loc=o,this.type="PartialStatement",this.name=e,this.params=t||[],this.hash=i,this.indent="",this.strip=n},"ContentStatement":function(e,t){this.loc=t,this.type="ContentStatement",this.original=this.value=e},"CommentStatement":function(e,t,i){this.loc=i,this.type="CommentStatement",this.value=e,this.strip=t},"SubExpression":function(e,t,i,n){this.loc=n,this.type="SubExpression",this.path=e,this.params=t||[],this.hash=i},"PathExpression":function(e,t,i,n,o){this.loc=o,this.type="PathExpression",this.data=e,this.original=n,this.parts=i,this.depth=t},"StringLiteral":function(e,t){this.loc=t,this.type="StringLiteral",this.original=this.value=e},"NumberLiteral":function(e,t){this.loc=t,this.type="NumberLiteral",this.original=this.value=Number(e)},"BooleanLiteral":function(e,t){this.loc=t,this.type="BooleanLiteral",this.original=this.value="true"===e},"UndefinedLiteral":function(e){this.loc=e,this.type="UndefinedLiteral",this.original=this.value=void 0},"NullLiteral":function(e){this.loc=e,this.type="NullLiteral",this.original=this.value=null},"Hash":function(e,t){this.loc=t,this.type="Hash",this.pairs=e},"HashPair":function(e,t,i){this.loc=i,this.type="HashPair",this.key=e,this.value=t},"helpers":{"helperExpression":function(e){return!("SubExpression"!==e.type&&!e.params.length&&!e.hash)},"scopedId":function(e){return/^\.|this\b/.test(e.original)},"simpleId":function(e){return 1===e.parts.length&&!n.helpers.scopedId(e)&&!e.depth}}};t["default"]=n,e.exports=t["default"]},function(e,t,i){"use strict";function n(e,t){if("Program"===e.type)return e;a["default"].yy=m,m.locInfo=function(e){return new m.SourceLocation(t&&t.srcName,e)};var i=new u["default"];return i.accept(a["default"].parse(e))}var o=i(8)["default"];t.__esModule=!0,t.parse=n;var s=i(14),a=o(s),r=i(2),c=o(r),l=i(15),u=o(l),p=i(16),d=o(p),h=i(12);t.parser=a["default"];var m={};h.extend(m,d,c["default"])},function(e,t,i){"use strict";function n(){}function o(e,t,i){if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new u["default"]("You must pass a string or Handlebars AST to Handlebars.precompile. You passed "+e);t=t||{},"data"in t||(t.data=!0),t.compat&&(t.useDepths=!0);var n=i.parse(e,t),o=(new i.Compiler).compile(n,t);return(new i.JavaScriptCompiler).compile(o,t)}function s(e,t,i){function n(){var t=i.parse(e,s),n=(new i.Compiler).compile(t,s),o=(new i.JavaScriptCompiler).compile(n,s,void 0,!0);return i.template(o)}function o(e,t){return a||(a=n()),a.call(this,e,t)}var s=void 0===arguments[1]?{}:arguments[1];if(null==e||"string"!=typeof e&&"Program"!==e.type)throw new u["default"]("You must pass a string or Handlebars AST to Handlebars.compile. You passed "+e);"data"in s||(s.data=!0),s.compat&&(s.useDepths=!0);var a=void 0;return o._setup=function(e){
return a||(a=n()),a._setup(e)},o._child=function(e,t,i,o){return a||(a=n()),a._child(e,t,i,o)},o}function a(e,t){if(e===t)return!0;if(p.isArray(e)&&p.isArray(t)&&e.length===t.length){for(var i=0;i<e.length;i++)if(!a(e[i],t[i]))return!1;return!0}}function r(e){if(!e.path.parts){var t=e.path;e.path=new h["default"].PathExpression(!1,0,[t.original+""],t.original+"",t.loc)}}var c=i(8)["default"];t.__esModule=!0,t.Compiler=n,t.precompile=o,t.compile=s;var l=i(11),u=c(l),p=i(12),d=i(2),h=c(d),m=[].slice;n.prototype={"compiler":n,"equals":function(e){var t=this.opcodes.length;if(e.opcodes.length!==t)return!1;for(var i=0;t>i;i++){var n=this.opcodes[i],o=e.opcodes[i];if(n.opcode!==o.opcode||!a(n.args,o.args))return!1}t=this.children.length;for(var i=0;t>i;i++)if(!this.children[i].equals(e.children[i]))return!1;return!0},"guid":0,"compile":function(e,t){this.sourceNode=[],this.opcodes=[],this.children=[],this.options=t,this.stringParams=t.stringParams,this.trackIds=t.trackIds,t.blockParams=t.blockParams||[];var i=t.knownHelpers;if(t.knownHelpers={"helperMissing":!0,"blockHelperMissing":!0,"each":!0,"if":!0,"unless":!0,"with":!0,"log":!0,"lookup":!0},i)for(var n in i)n in i&&(t.knownHelpers[n]=i[n]);return this.accept(e)},"compileProgram":function(e){var t=new this.compiler,i=t.compile(e,this.options),n=this.guid++;return this.usePartial=this.usePartial||i.usePartial,this.children[n]=i,this.useDepths=this.useDepths||i.useDepths,n},"accept":function(e){this.sourceNode.unshift(e);var t=this[e.type](e);return this.sourceNode.shift(),t},"Program":function(e){this.options.blockParams.unshift(e.blockParams);for(var t=e.body,i=t.length,n=0;i>n;n++)this.accept(t[n]);return this.options.blockParams.shift(),this.isSimple=1===i,this.blockParams=e.blockParams?e.blockParams.length:0,this},"BlockStatement":function(e){r(e);var t=e.program,i=e.inverse;t=t&&this.compileProgram(t),i=i&&this.compileProgram(i);var n=this.classifySexpr(e);"helper"===n?this.helperSexpr(e,t,i):"simple"===n?(this.simpleSexpr(e),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("blockValue",e.path.original)):(this.ambiguousSexpr(e,t,i),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.opcode("emptyHash"),this.opcode("ambiguousBlockValue")),this.opcode("append")},"PartialStatement":function(e){this.usePartial=!0;var t=e.params;if(t.length>1)throw new u["default"]("Unsupported number of partial arguments: "+t.length,e);t.length||t.push({"type":"PathExpression","parts":[],"depth":0});var i=e.name.original,n="SubExpression"===e.name.type;n&&this.accept(e.name),this.setupFullMustacheParams(e,void 0,void 0,!0);var o=e.indent||"";this.options.preventIndent&&o&&(this.opcode("appendContent",o),o=""),this.opcode("invokePartial",n,i,o),this.opcode("append")},"MustacheStatement":function(e){this.SubExpression(e),e.escaped&&!this.options.noEscape?this.opcode("appendEscaped"):this.opcode("append")},"ContentStatement":function(e){e.value&&this.opcode("appendContent",e.value)},"CommentStatement":function(){},"SubExpression":function(e){r(e);var t=this.classifySexpr(e);"simple"===t?this.simpleSexpr(e):"helper"===t?this.helperSexpr(e):this.ambiguousSexpr(e)},"ambiguousSexpr":function(e,t,i){var n=e.path,o=n.parts[0],s=null!=t||null!=i;this.opcode("getContext",n.depth),this.opcode("pushProgram",t),this.opcode("pushProgram",i),this.accept(n),this.opcode("invokeAmbiguous",o,s)},"simpleSexpr":function(e){this.accept(e.path),this.opcode("resolvePossibleLambda")},"helperSexpr":function(e,t,i){var n=this.setupFullMustacheParams(e,t,i),o=e.path,s=o.parts[0];if(this.options.knownHelpers[s])this.opcode("invokeKnownHelper",n.length,s);else{if(this.options.knownHelpersOnly)throw new u["default"]("You specified knownHelpersOnly, but used the unknown helper "+s,e);o.falsy=!0,this.accept(o),this.opcode("invokeHelper",n.length,o.original,h["default"].helpers.simpleId(o))}},"PathExpression":function(e){this.addDepth(e.depth),this.opcode("getContext",e.depth);var t=e.parts[0],i=h["default"].helpers.scopedId(e),n=!e.depth&&!i&&this.blockParamIndex(t);n?this.opcode("lookupBlockParam",n,e.parts):t?e.data?(this.options.data=!0,this.opcode("lookupData",e.depth,e.parts)):this.opcode("lookupOnContext",e.parts,e.falsy,i):this.opcode("pushContext")},"StringLiteral":function(e){this.opcode("pushString",e.value)},"NumberLiteral":function(e){this.opcode("pushLiteral",e.value)},"BooleanLiteral":function(e){this.opcode("pushLiteral",e.value)},"UndefinedLiteral":function(){this.opcode("pushLiteral","undefined")},"NullLiteral":function(){this.opcode("pushLiteral","null")},"Hash":function(e){var t=e.pairs,i=0,n=t.length;for(this.opcode("pushHash");n>i;i++)this.pushParam(t[i].value);for(;i--;)this.opcode("assignToHash",t[i].key);this.opcode("popHash")},"opcode":function(e){this.opcodes.push({"opcode":e,"args":m.call(arguments,1),"loc":this.sourceNode[0].loc})},"addDepth":function(e){e&&(this.useDepths=!0)},"classifySexpr":function(e){var t=h["default"].helpers.simpleId(e.path),i=t&&!!this.blockParamIndex(e.path.parts[0]),n=!i&&h["default"].helpers.helperExpression(e),o=!i&&(n||t);if(o&&!n){var s=e.path.parts[0],a=this.options;a.knownHelpers[s]?n=!0:a.knownHelpersOnly&&(o=!1)}return n?"helper":o?"ambiguous":"simple"},"pushParams":function(e){for(var t=0,i=e.length;i>t;t++)this.pushParam(e[t])},"pushParam":function(e){var t=null!=e.value?e.value:e.original||"";if(this.stringParams)t.replace&&(t=t.replace(/^(\.?\.\/)*/g,"").replace(/\//g,".")),e.depth&&this.addDepth(e.depth),this.opcode("getContext",e.depth||0),this.opcode("pushStringParam",t,e.type),"SubExpression"===e.type&&this.accept(e);else{if(this.trackIds){var i=void 0;if(!e.parts||h["default"].helpers.scopedId(e)||e.depth||(i=this.blockParamIndex(e.parts[0])),i){var n=e.parts.slice(1).join(".");this.opcode("pushId","BlockParam",i,n)}else t=e.original||t,t.replace&&(t=t.replace(/^\.\//g,"").replace(/^\.$/g,"")),this.opcode("pushId",e.type,t)}this.accept(e)}},"setupFullMustacheParams":function(e,t,i,n){var o=e.params;return this.pushParams(o),this.opcode("pushProgram",t),this.opcode("pushProgram",i),e.hash?this.accept(e.hash):this.opcode("emptyHash",n),o},"blockParamIndex":function(e){for(var t=0,i=this.options.blockParams.length;i>t;t++){var n=this.options.blockParams[t],o=n&&p.indexOf(n,e);if(n&&o>=0)return[t,o]}}}},function(e,t,i){"use strict";function n(e){this.value=e}function o(){}function s(e,t,i,n){var o=t.popStack(),s=0,a=i.length;for(e&&a--;a>s;s++)o=t.nameLookup(o,i[s],n);return e?[t.aliasable("this.strict"),"(",o,", ",t.quotedString(i[s]),")"]:o}var a=i(8)["default"];t.__esModule=!0;var r=i(9),c=i(11),l=a(c),u=i(12),p=i(17),d=a(p);o.prototype={"nameLookup":function(e,t){return o.isValidJavaScriptVariableName(t)?[e,".",t]:[e,"['",t,"']"]},"depthedLookup":function(e){return[this.aliasable("this.lookup"),'(depths, "',e,'")']},"compilerInfo":function(){var e=r.COMPILER_REVISION,t=r.REVISION_CHANGES[e];return[e,t]},"appendToBuffer":function(e,t,i){return u.isArray(e)||(e=[e]),e=this.source.wrap(e,t),this.environment.isSimple?["return ",e,";"]:i?["buffer += ",e,";"]:(e.appendToBuffer=!0,e)},"initializeBuffer":function(){return this.quotedString("")},"compile":function(e,t,i,n){this.environment=e,this.options=t,this.stringParams=this.options.stringParams,this.trackIds=this.options.trackIds,this.precompile=!n,this.name=this.environment.name,this.isChild=!!i,this.context=i||{"programs":[],"environments":[]},this.preamble(),this.stackSlot=0,this.stackVars=[],this.aliases={},this.registers={"list":[]},this.hashes=[],this.compileStack=[],this.inlineStack=[],this.blockParams=[],this.compileChildren(e,t),this.useDepths=this.useDepths||e.useDepths||this.options.compat,this.useBlockParams=this.useBlockParams||e.useBlockParams;var o=e.opcodes,s=void 0,a=void 0,r=void 0,c=void 0;for(r=0,c=o.length;c>r;r++)s=o[r],this.source.currentLocation=s.loc,a=a||s.loc,this[s.opcode].apply(this,s.args);if(this.source.currentLocation=a,this.pushSource(""),this.stackSlot||this.inlineStack.length||this.compileStack.length)throw new l["default"]("Compile completed with content left on stack");var u=this.createFunctionContext(n);if(this.isChild)return u;var p={"compiler":this.compilerInfo(),"main":u},d=this.context.programs;for(r=0,c=d.length;c>r;r++)d[r]&&(p[r]=d[r]);return this.environment.usePartial&&(p.usePartial=!0),this.options.data&&(p.useData=!0),this.useDepths&&(p.useDepths=!0),this.useBlockParams&&(p.useBlockParams=!0),this.options.compat&&(p.compat=!0),n?p.compilerOptions=this.options:(p.compiler=JSON.stringify(p.compiler),this.source.currentLocation={"start":{"line":1,"column":0}},p=this.objectLiteral(p),t.srcName?(p=p.toStringWithSourceMap({"file":t.destName}),p.map=p.map&&p.map.toString()):p=p.toString()),p},"preamble":function(){this.lastContext=0,this.source=new d["default"](this.options.srcName)},"createFunctionContext":function(e){var t="",i=this.stackVars.concat(this.registers.list);i.length>0&&(t+=", "+i.join(", "));var n=0;for(var o in this.aliases){var s=this.aliases[o];this.aliases.hasOwnProperty(o)&&s.children&&s.referenceCount>1&&(t+=", alias"+ ++n+"="+o,s.children[0]="alias"+n)}var a=["depth0","helpers","partials","data"];(this.useBlockParams||this.useDepths)&&a.push("blockParams"),this.useDepths&&a.push("depths");var r=this.mergeSource(t);return e?(a.push(r),Function.apply(this,a)):this.source.wrap(["function(",a.join(","),") {\n  ",r,"}"])},"mergeSource":function(e){var t=this.environment.isSimple,i=!this.forceBuffer,n=void 0,o=void 0,s=void 0,a=void 0;return this.source.each(function(e){e.appendToBuffer?(s?e.prepend("  + "):s=e,a=e):(s&&(o?s.prepend("buffer += "):n=!0,a.add(";"),s=a=void 0),o=!0,t||(i=!1))}),i?s?(s.prepend("return "),a.add(";")):o||this.source.push('return "";'):(e+=", buffer = "+(n?"":this.initializeBuffer()),s?(s.prepend("return buffer + "),a.add(";")):this.source.push("return buffer;")),e&&this.source.prepend("var "+e.substring(2)+(n?"":";\n")),this.source.merge()},"blockValue":function(e){var t=this.aliasable("helpers.blockHelperMissing"),i=[this.contextName(0)];this.setupHelperArgs(e,0,i);var n=this.popStack();i.splice(1,0,n),this.push(this.source.functionCall(t,"call",i))},"ambiguousBlockValue":function(){var e=this.aliasable("helpers.blockHelperMissing"),t=[this.contextName(0)];this.setupHelperArgs("",0,t,!0),this.flushInline();var i=this.topStack();t.splice(1,0,i),this.pushSource(["if (!",this.lastHelper,") { ",i," = ",this.source.functionCall(e,"call",t),"}"])},"appendContent":function(e){this.pendingContent?e=this.pendingContent+e:this.pendingLocation=this.source.currentLocation,this.pendingContent=e},"append":function(){if(this.isInline())this.replaceStack(function(e){return[" != null ? ",e,' : ""']}),this.pushSource(this.appendToBuffer(this.popStack()));else{var e=this.popStack();this.pushSource(["if (",e," != null) { ",this.appendToBuffer(e,void 0,!0)," }"]),this.environment.isSimple&&this.pushSource(["else { ",this.appendToBuffer("''",void 0,!0)," }"])}},"appendEscaped":function(){this.pushSource(this.appendToBuffer([this.aliasable("this.escapeExpression"),"(",this.popStack(),")"]))},"getContext":function(e){this.lastContext=e},"pushContext":function(){this.pushStackLiteral(this.contextName(this.lastContext))},"lookupOnContext":function(e,t,i){var n=0;i||!this.options.compat||this.lastContext?this.pushContext():this.push(this.depthedLookup(e[n++])),this.resolvePath("context",e,n,t)},"lookupBlockParam":function(e,t){this.useBlockParams=!0,this.push(["blockParams[",e[0],"][",e[1],"]"]),this.resolvePath("context",t,1)},"lookupData":function(e,t){e?this.pushStackLiteral("this.data(data, "+e+")"):this.pushStackLiteral("data"),this.resolvePath("data",t,0,!0)},"resolvePath":function(e,t,i,n){var o=this;if(this.options.strict||this.options.assumeObjects)return void this.push(s(this.options.strict,this,t,e));for(var a=t.length;a>i;i++)this.replaceStack(function(s){var a=o.nameLookup(s,t[i],e);return n?[" && ",a]:[" != null ? ",a," : ",s]})},"resolvePossibleLambda":function(){this.push([this.aliasable("this.lambda"),"(",this.popStack(),", ",this.contextName(0),")"])},"pushStringParam":function(e,t){this.pushContext(),this.pushString(t),"SubExpression"!==t&&("string"==typeof e?this.pushString(e):this.pushStackLiteral(e))},"emptyHash":function(e){this.trackIds&&this.push("{}"),this.stringParams&&(this.push("{}"),this.push("{}")),this.pushStackLiteral(e?"undefined":"{}")},"pushHash":function(){this.hash&&this.hashes.push(this.hash),this.hash={"values":[],"types":[],"contexts":[],"ids":[]}},"popHash":function(){var e=this.hash;this.hash=this.hashes.pop(),this.trackIds&&this.push(this.objectLiteral(e.ids)),this.stringParams&&(this.push(this.objectLiteral(e.contexts)),this.push(this.objectLiteral(e.types))),this.push(this.objectLiteral(e.values))},"pushString":function(e){this.pushStackLiteral(this.quotedString(e))},"pushLiteral":function(e){this.pushStackLiteral(e)},"pushProgram":function(e){null!=e?this.pushStackLiteral(this.programExpression(e)):this.pushStackLiteral(null)},"invokeHelper":function(e,t,i){var n=this.popStack(),o=this.setupHelper(e,t),s=i?[o.name," || "]:"",a=["("].concat(s,n);this.options.strict||a.push(" || ",this.aliasable("helpers.helperMissing")),a.push(")"),this.push(this.source.functionCall(a,"call",o.callParams))},"invokeKnownHelper":function(e,t){var i=this.setupHelper(e,t);this.push(this.source.functionCall(i.name,"call",i.callParams))},"invokeAmbiguous":function(e,t){this.useRegister("helper");var i=this.popStack();this.emptyHash();var n=this.setupHelper(0,e,t),o=this.lastHelper=this.nameLookup("helpers",e,"helper"),s=["(","(helper = ",o," || ",i,")"];this.options.strict||(s[0]="(helper = ",s.push(" != null ? helper : ",this.aliasable("helpers.helperMissing"))),this.push(["(",s,n.paramsInit?["),(",n.paramsInit]:[],"),","(typeof helper === ",this.aliasable('"function"')," ? ",this.source.functionCall("helper","call",n.callParams)," : helper))"])},"invokePartial":function(e,t,i){var n=[],o=this.setupParams(t,1,n,!1);e&&(t=this.popStack(),delete o.name),i&&(o.indent=JSON.stringify(i)),o.helpers="helpers",o.partials="partials",e?n.unshift(t):n.unshift(this.nameLookup("partials",t,"partial")),this.options.compat&&(o.depths="depths"),o=this.objectLiteral(o),n.push(o),this.push(this.source.functionCall("this.invokePartial","",n))},"assignToHash":function(e){var t=this.popStack(),i=void 0,n=void 0,o=void 0;this.trackIds&&(o=this.popStack()),this.stringParams&&(n=this.popStack(),i=this.popStack());var s=this.hash;i&&(s.contexts[e]=i),n&&(s.types[e]=n),o&&(s.ids[e]=o),s.values[e]=t},"pushId":function(e,t,i){"BlockParam"===e?this.pushStackLiteral("blockParams["+t[0]+"].path["+t[1]+"]"+(i?" + "+JSON.stringify("."+i):"")):"PathExpression"===e?this.pushString(t):"SubExpression"===e?this.pushStackLiteral("true"):this.pushStackLiteral("null")},"compiler":o,"compileChildren":function(e,t){for(var i=e.children,n=void 0,o=void 0,s=0,a=i.length;a>s;s++){n=i[s],o=new this.compiler;var r=this.matchExistingProgram(n);null==r?(this.context.programs.push(""),r=this.context.programs.length,n.index=r,n.name="program"+r,this.context.programs[r]=o.compile(n,t,this.context,!this.precompile),this.context.environments[r]=n,this.useDepths=this.useDepths||o.useDepths,this.useBlockParams=this.useBlockParams||o.useBlockParams):(n.index=r,n.name="program"+r,this.useDepths=this.useDepths||n.useDepths,this.useBlockParams=this.useBlockParams||n.useBlockParams)}},"matchExistingProgram":function(e){for(var t=0,i=this.context.environments.length;i>t;t++){var n=this.context.environments[t];if(n&&n.equals(e))return t}},"programExpression":function(e){var t=this.environment.children[e],i=[t.index,"data",t.blockParams];return(this.useBlockParams||this.useDepths)&&i.push("blockParams"),this.useDepths&&i.push("depths"),"this.program("+i.join(", ")+")"},"useRegister":function(e){this.registers[e]||(this.registers[e]=!0,this.registers.list.push(e))},"push":function(e){return e instanceof n||(e=this.source.wrap(e)),this.inlineStack.push(e),e},"pushStackLiteral":function(e){this.push(new n(e))},"pushSource":function(e){this.pendingContent&&(this.source.push(this.appendToBuffer(this.source.quotedString(this.pendingContent),this.pendingLocation)),this.pendingContent=void 0),e&&this.source.push(e)},"replaceStack":function(e){var t=["("],i=void 0,o=void 0,s=void 0;if(!this.isInline())throw new l["default"]("replaceStack on non-inline");var a=this.popStack(!0);if(a instanceof n)i=[a.value],t=["(",i],s=!0;else{o=!0;var r=this.incrStack();t=["((",this.push(r)," = ",a,")"],i=this.topStack()}var c=e.call(this,i);s||this.popStack(),o&&this.stackSlot--,this.push(t.concat(c,")"))},"incrStack":function(){return this.stackSlot++,this.stackSlot>this.stackVars.length&&this.stackVars.push("stack"+this.stackSlot),this.topStackName()},"topStackName":function(){return"stack"+this.stackSlot},"flushInline":function(){var e=this.inlineStack;this.inlineStack=[];for(var t=0,i=e.length;i>t;t++){var o=e[t];if(o instanceof n)this.compileStack.push(o);else{var s=this.incrStack();this.pushSource([s," = ",o,";"]),this.compileStack.push(s)}}},"isInline":function(){return this.inlineStack.length},"popStack":function(e){var t=this.isInline(),i=(t?this.inlineStack:this.compileStack).pop();if(!e&&i instanceof n)return i.value;if(!t){if(!this.stackSlot)throw new l["default"]("Invalid stack pop");this.stackSlot--}return i},"topStack":function(){var e=this.isInline()?this.inlineStack:this.compileStack,t=e[e.length-1];return t instanceof n?t.value:t},"contextName":function(e){return this.useDepths&&e?"depths["+e+"]":"depth"+e},"quotedString":function(e){return this.source.quotedString(e)},"objectLiteral":function(e){return this.source.objectLiteral(e)},"aliasable":function(e){var t=this.aliases[e];return t?(t.referenceCount++,t):(t=this.aliases[e]=this.source.wrap(e),t.aliasable=!0,t.referenceCount=1,t)},"setupHelper":function(e,t,i){var n=[],o=this.setupHelperArgs(t,e,n,i),s=this.nameLookup("helpers",t,"helper");return{"params":n,"paramsInit":o,"name":s,"callParams":[this.contextName(0)].concat(n)}},"setupParams":function(e,t,i){var n={},o=[],s=[],a=[],r=void 0;n.name=this.quotedString(e),n.hash=this.popStack(),this.trackIds&&(n.hashIds=this.popStack()),this.stringParams&&(n.hashTypes=this.popStack(),n.hashContexts=this.popStack());var c=this.popStack(),l=this.popStack();(l||c)&&(n.fn=l||"this.noop",n.inverse=c||"this.noop");for(var u=t;u--;)r=this.popStack(),i[u]=r,this.trackIds&&(a[u]=this.popStack()),this.stringParams&&(s[u]=this.popStack(),o[u]=this.popStack());return this.trackIds&&(n.ids=this.source.generateArray(a)),this.stringParams&&(n.types=this.source.generateArray(s),n.contexts=this.source.generateArray(o)),this.options.data&&(n.data="data"),this.useBlockParams&&(n.blockParams="blockParams"),n},"setupHelperArgs":function(e,t,i,n){var o=this.setupParams(e,t,i,!0);return o=this.objectLiteral(o),n?(this.useRegister("options"),i.push("options"),["options=",o]):(i.push(o),"")}},function(){for(var e="break else new var case finally return void catch for switch while continue function this with default if throw delete in try do instanceof typeof abstract enum int short boolean export interface static byte extends long super char final native synchronized class float package throws const goto private transient debugger implements protected volatile double import public let yield await null true false".split(" "),t=o.RESERVED_WORDS={},i=0,n=e.length;n>i;i++)t[e[i]]=!0}(),o.isValidJavaScriptVariableName=function(e){return!o.RESERVED_WORDS[e]&&/^[a-zA-Z_$][0-9a-zA-Z_$]*$/.test(e)},t["default"]=o,e.exports=t["default"]},function(e,t,i){"use strict";function n(){this.parents=[]}var o=i(8)["default"];t.__esModule=!0;var s=i(11),a=o(s),r=i(2),c=o(r);n.prototype={"constructor":n,"mutating":!1,"acceptKey":function(e,t){var i=this.accept(e[t]);if(this.mutating){if(i&&(!i.type||!c["default"][i.type]))throw new a["default"]('Unexpected node type "'+i.type+'" found when accepting '+t+" on "+e.type);e[t]=i}},"acceptRequired":function(e,t){if(this.acceptKey(e,t),!e[t])throw new a["default"](e.type+" requires "+t)},"acceptArray":function(e){for(var t=0,i=e.length;i>t;t++)this.acceptKey(e,t),e[t]||(e.splice(t,1),t--,i--)},"accept":function(e){if(e){this.current&&this.parents.unshift(this.current),this.current=e;var t=this[e.type](e);return this.current=this.parents.shift(),!this.mutating||t?t:t!==!1?e:void 0}},"Program":function(e){this.acceptArray(e.body)},"MustacheStatement":function(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")},"BlockStatement":function(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash"),this.acceptKey(e,"program"),this.acceptKey(e,"inverse")},"PartialStatement":function(e){this.acceptRequired(e,"name"),this.acceptArray(e.params),this.acceptKey(e,"hash")},"ContentStatement":function(){},"CommentStatement":function(){},"SubExpression":function(e){this.acceptRequired(e,"path"),this.acceptArray(e.params),this.acceptKey(e,"hash")},"PathExpression":function(){},"StringLiteral":function(){},"NumberLiteral":function(){},"BooleanLiteral":function(){},"UndefinedLiteral":function(){},"NullLiteral":function(){},"Hash":function(e){this.acceptArray(e.pairs)},"HashPair":function(e){this.acceptRequired(e,"value")}},t["default"]=n,e.exports=t["default"]},function(e,t,i){(function(i){"use strict";t.__esModule=!0,t["default"]=function(e){var t="undefined"!=typeof i?i:window,n=t.Handlebars;e.noConflict=function(){t.Handlebars===e&&(t.Handlebars=n)}},e.exports=t["default"]}).call(t,function(){return this}())},function(e,t,i){"use strict";t["default"]=function(e){return e&&e.__esModule?e:{"default":e}},t.__esModule=!0},function(e,t,i){"use strict";function n(e,t){this.helpers=e||{},this.partials=t||{},o(this)}function o(e){e.registerHelper("helperMissing",function(){if(1!==arguments.length)throw new u["default"]('Missing helper: "'+arguments[arguments.length-1].name+'"')}),e.registerHelper("blockHelperMissing",function(t,i){var n=i.inverse,o=i.fn;if(t===!0)return o(this);if(t===!1||null==t)return n(this);if(m(t))return t.length>0?(i.ids&&(i.ids=[i.name]),e.helpers.each(t,i)):n(this);if(i.data&&i.ids){var a=s(i.data);a.contextPath=c.appendContextPath(i.data.contextPath,i.name),i={"data":a}}return o(t,i)}),e.registerHelper("each",function(e,t){function i(t,i,o){l&&(l.key=t,l.index=i,l.first=0===i,l.last=!!o,p&&(l.contextPath=p+t)),r+=n(e[t],{"data":l,"blockParams":c.blockParams([e[t],t],[p+t,null])})}if(!t)throw new u["default"]("Must pass iterator to #each");var n=t.fn,o=t.inverse,a=0,r="",l=void 0,p=void 0;if(t.data&&t.ids&&(p=c.appendContextPath(t.data.contextPath,t.ids[0])+"."),f(e)&&(e=e.call(this)),t.data&&(l=s(t.data)),e&&"object"==typeof e)if(m(e))for(var d=e.length;d>a;a++)i(a,a,a===e.length-1);else{var h=void 0;for(var g in e)e.hasOwnProperty(g)&&(h&&i(h,a-1),h=g,a++);h&&i(h,a-1,!0)}return 0===a&&(r=o(this)),r}),e.registerHelper("if",function(e,t){return f(e)&&(e=e.call(this)),!t.hash.includeZero&&!e||c.isEmpty(e)?t.inverse(this):t.fn(this)}),e.registerHelper("unless",function(t,i){return e.helpers["if"].call(this,t,{"fn":i.inverse,"inverse":i.fn,"hash":i.hash})}),e.registerHelper("with",function(e,t){f(e)&&(e=e.call(this));var i=t.fn;if(c.isEmpty(e))return t.inverse(this);if(t.data&&t.ids){var n=s(t.data);n.contextPath=c.appendContextPath(t.data.contextPath,t.ids[0]),t={"data":n}}return i(e,t)}),e.registerHelper("log",function(t,i){var n=i.data&&null!=i.data.level?parseInt(i.data.level,10):1;e.log(n,t)}),e.registerHelper("lookup",function(e,t){return e&&e[t]})}function s(e){var t=c.extend({},e);return t._parent=e,t}var a=i(8)["default"];t.__esModule=!0,t.HandlebarsEnvironment=n,t.createFrame=s;var r=i(12),c=a(r),l=i(11),u=a(l),p="3.0.1";t.VERSION=p;var d=6;t.COMPILER_REVISION=d;var h={"1":"<= 1.0.rc.2","2":"== 1.0.0-rc.3","3":"== 1.0.0-rc.4","4":"== 1.x.x","5":"== 2.0.0-alpha.x","6":">= 2.0.0-beta.1"};t.REVISION_CHANGES=h;var m=c.isArray,f=c.isFunction,g=c.toString,b="[object Object]";n.prototype={"constructor":n,"logger":v,"log":w,"registerHelper":function(e,t){if(g.call(e)===b){if(t)throw new u["default"]("Arg not supported with multiple helpers");c.extend(this.helpers,e)}else this.helpers[e]=t},"unregisterHelper":function(e){delete this.helpers[e]},"registerPartial":function(e,t){if(g.call(e)===b)c.extend(this.partials,e);else{if("undefined"==typeof t)throw new u["default"]("Attempting to register a partial as undefined");this.partials[e]=t}},"unregisterPartial":function(e){delete this.partials[e]}};var v={"methodMap":{"0":"debug","1":"info","2":"warn","3":"error"},"DEBUG":0,"INFO":1,"WARN":2,"ERROR":3,"level":1,"log":function(e,t){if("undefined"!=typeof console&&v.level<=e){var i=v.methodMap[e];(console[i]||console.log).call(console,t)}}};t.logger=v;var w=v.log;t.log=w},function(e,t,i){"use strict";function n(e){this.string=e}t.__esModule=!0,n.prototype.toString=n.prototype.toHTML=function(){return""+this.string},t["default"]=n,e.exports=t["default"]},function(e,t,i){"use strict";function n(e,t){var i=t&&t.loc,s=void 0,a=void 0;i&&(s=i.start.line,a=i.start.column,e+=" - "+s+":"+a);for(var r=Error.prototype.constructor.call(this,e),c=0;c<o.length;c++)this[o[c]]=r[o[c]];Error.captureStackTrace&&Error.captureStackTrace(this,n),i&&(this.lineNumber=s,this.column=a)}t.__esModule=!0;var o=["description","fileName","lineNumber","message","name","number","stack"];n.prototype=new Error,t["default"]=n,e.exports=t["default"]},function(e,t,i){"use strict";function n(e){return u[e]}function o(e){for(var t=1;t<arguments.length;t++)for(var i in arguments[t])Object.prototype.hasOwnProperty.call(arguments[t],i)&&(e[i]=arguments[t][i]);return e}function s(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]===t)return i;return-1}function a(e){if("string"!=typeof e){if(e&&e.toHTML)return e.toHTML();if(null==e)return"";if(!e)return e+"";e=""+e}return d.test(e)?e.replace(p,n):e}function r(e){return e||0===e?f(e)&&0===e.length?!0:!1:!0}function c(e,t){return e.path=t,e}function l(e,t){return(e?e+".":"")+t}t.__esModule=!0,t.extend=o,t.indexOf=s,t.escapeExpression=a,t.isEmpty=r,t.blockParams=c,t.appendContextPath=l;var u={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},p=/[&<>"'`]/g,d=/[&<>"'`]/,h=Object.prototype.toString;t.toString=h;var m=function(e){return"function"==typeof e};m(/x/)&&(t.isFunction=m=function(e){return"function"==typeof e&&"[object Function]"===h.call(e)});var m;t.isFunction=m;var f=Array.isArray||function(e){return e&&"object"==typeof e?"[object Array]"===h.call(e):!1};t.isArray=f},function(e,t,i){"use strict";function n(e){var t=e&&e[0]||1,i=f.COMPILER_REVISION;if(t!==i){if(i>t){var n=f.REVISION_CHANGES[i],o=f.REVISION_CHANGES[t];throw new m["default"]("Template was precompiled with an older version of Handlebars than the current runtime. Please update your precompiler to a newer version ("+n+") or downgrade your runtime to an older version ("+o+").")}throw new m["default"]("Template was precompiled with a newer version of Handlebars than the current runtime. Please update your runtime to a newer version ("+e[1]+").")}}function o(e,t){function i(i,n,o){o.hash&&(n=d.extend({},n,o.hash)),i=t.VM.resolvePartial.call(this,i,n,o);var s=t.VM.invokePartial.call(this,i,n,o);if(null==s&&t.compile&&(o.partials[o.name]=t.compile(i,e.compilerOptions,t),s=o.partials[o.name](n,o)),null!=s){if(o.indent){for(var a=s.split("\n"),r=0,c=a.length;c>r&&(a[r]||r+1!==c);r++)a[r]=o.indent+a[r];s=a.join("\n")}return s}throw new m["default"]("The partial "+o.name+" could not be compiled when running in runtime-only mode")}function n(t){var i=void 0===arguments[1]?{}:arguments[1],s=i.data;n._setup(i),!i.partial&&e.useData&&(s=l(t,s));var a=void 0,r=e.useBlockParams?[]:void 0;return e.useDepths&&(a=i.depths?[t].concat(i.depths):[t]),e.main.call(o,t,o.helpers,o.partials,s,r,a)}if(!t)throw new m["default"]("No environment passed to template");if(!e||!e.main)throw new m["default"]("Unknown template object: "+typeof e);t.VM.checkRevision(e.compiler);var o={"strict":function(e,t){if(!(t in e))throw new m["default"]('"'+t+'" not defined in '+e);return e[t]},"lookup":function(e,t){for(var i=e.length,n=0;i>n;n++)if(e[n]&&null!=e[n][t])return e[n][t]},"lambda":function(e,t){return"function"==typeof e?e.call(t):e},"escapeExpression":d.escapeExpression,"invokePartial":i,"fn":function(t){return e[t]},"programs":[],"program":function(e,t,i,n,o){var a=this.programs[e],r=this.fn(e);return t||o||n||i?a=s(this,e,r,t,i,n,o):a||(a=this.programs[e]=s(this,e,r)),a},"data":function(e,t){for(;e&&t--;)e=e._parent;return e},"merge":function(e,t){var i=e||t;return e&&t&&e!==t&&(i=d.extend({},t,e)),i},"noop":t.VM.noop,"compilerInfo":e.compiler};return n.isTop=!0,n._setup=function(i){i.partial?(o.helpers=i.helpers,o.partials=i.partials):(o.helpers=o.merge(i.helpers,t.helpers),e.usePartial&&(o.partials=o.merge(i.partials,t.partials)))},n._child=function(t,i,n,a){if(e.useBlockParams&&!n)throw new m["default"]("must pass block params");if(e.useDepths&&!a)throw new m["default"]("must pass parent depths");return s(o,t,e[t],i,0,n,a)},n}function s(e,t,i,n,o,s,a){function r(t){var o=void 0===arguments[1]?{}:arguments[1];return i.call(e,t,e.helpers,e.partials,o.data||n,s&&[o.blockParams].concat(s),a&&[t].concat(a))}return r.program=t,r.depth=a?a.length:0,r.blockParams=o||0,r}function a(e,t,i){return e?e.call||i.name||(i.name=e,e=i.partials[e]):e=i.partials[i.name],e}function r(e,t,i){if(i.partial=!0,void 0===e)throw new m["default"]("The partial "+i.name+" could not be found");return e instanceof Function?e(t,i):void 0}function c(){return""}function l(e,t){return t&&"root"in t||(t=t?f.createFrame(t):{},t.root=e),t}var u=i(8)["default"];t.__esModule=!0,t.checkRevision=n,t.template=o,t.wrapProgram=s,t.resolvePartial=a,t.invokePartial=r,t.noop=c;var p=i(12),d=u(p),h=i(11),m=u(h),f=i(9)},function(e,t,i){"use strict";t.__esModule=!0;var n=function(){function e(){this.yy={}}var t={"trace":function(){},"yy":{},"symbols_":{"error":2,"root":3,"program":4,"EOF":5,"program_repetition0":6,"statement":7,"mustache":8,"block":9,"rawBlock":10,"partial":11,"content":12,"COMMENT":13,"CONTENT":14,"openRawBlock":15,"END_RAW_BLOCK":16,"OPEN_RAW_BLOCK":17,"helperName":18,"openRawBlock_repetition0":19,"openRawBlock_option0":20,"CLOSE_RAW_BLOCK":21,"openBlock":22,"block_option0":23,"closeBlock":24,"openInverse":25,"block_option1":26,"OPEN_BLOCK":27,"openBlock_repetition0":28,"openBlock_option0":29,"openBlock_option1":30,"CLOSE":31,"OPEN_INVERSE":32,"openInverse_repetition0":33,"openInverse_option0":34,"openInverse_option1":35,"openInverseChain":36,"OPEN_INVERSE_CHAIN":37,"openInverseChain_repetition0":38,"openInverseChain_option0":39,"openInverseChain_option1":40,"inverseAndProgram":41,"INVERSE":42,"inverseChain":43,"inverseChain_option0":44,"OPEN_ENDBLOCK":45,"OPEN":46,"mustache_repetition0":47,"mustache_option0":48,"OPEN_UNESCAPED":49,"mustache_repetition1":50,"mustache_option1":51,"CLOSE_UNESCAPED":52,"OPEN_PARTIAL":53,"partialName":54,"partial_repetition0":55,"partial_option0":56,"param":57,"sexpr":58,"OPEN_SEXPR":59,"sexpr_repetition0":60,"sexpr_option0":61,"CLOSE_SEXPR":62,"hash":63,"hash_repetition_plus0":64,"hashSegment":65,"ID":66,"EQUALS":67,"blockParams":68,"OPEN_BLOCK_PARAMS":69,"blockParams_repetition_plus0":70,"CLOSE_BLOCK_PARAMS":71,"path":72,"dataName":73,"STRING":74,"NUMBER":75,"BOOLEAN":76,"UNDEFINED":77,"NULL":78,"DATA":79,"pathSegments":80,"SEP":81,"$accept":0,"$end":1},"terminals_":{"2":"error","5":"EOF","13":"COMMENT","14":"CONTENT","16":"END_RAW_BLOCK","17":"OPEN_RAW_BLOCK","21":"CLOSE_RAW_BLOCK","27":"OPEN_BLOCK","31":"CLOSE","32":"OPEN_INVERSE","37":"OPEN_INVERSE_CHAIN","42":"INVERSE","45":"OPEN_ENDBLOCK","46":"OPEN","49":"OPEN_UNESCAPED","52":"CLOSE_UNESCAPED","53":"OPEN_PARTIAL","59":"OPEN_SEXPR","62":"CLOSE_SEXPR","66":"ID","67":"EQUALS","69":"OPEN_BLOCK_PARAMS","71":"CLOSE_BLOCK_PARAMS","74":"STRING",
"75":"NUMBER","76":"BOOLEAN","77":"UNDEFINED","78":"NULL","79":"DATA","81":"SEP"},"productions_":[0,[3,2],[4,1],[7,1],[7,1],[7,1],[7,1],[7,1],[7,1],[12,1],[10,3],[15,5],[9,4],[9,4],[22,6],[25,6],[36,6],[41,2],[43,3],[43,1],[24,3],[8,5],[8,5],[11,5],[57,1],[57,1],[58,5],[63,1],[65,3],[68,3],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[18,1],[54,1],[54,1],[73,2],[72,1],[80,3],[80,1],[6,0],[6,2],[19,0],[19,2],[20,0],[20,1],[23,0],[23,1],[26,0],[26,1],[28,0],[28,2],[29,0],[29,1],[30,0],[30,1],[33,0],[33,2],[34,0],[34,1],[35,0],[35,1],[38,0],[38,2],[39,0],[39,1],[40,0],[40,1],[44,0],[44,1],[47,0],[47,2],[48,0],[48,1],[50,0],[50,2],[51,0],[51,1],[55,0],[55,2],[56,0],[56,1],[60,0],[60,2],[61,0],[61,1],[64,1],[64,2],[70,1],[70,2]],"performAction":function(e,t,i,n,o,s,a){var r=s.length-1;switch(o){case 1:return s[r-1];case 2:this.$=new n.Program(s[r],null,{},n.locInfo(this._$));break;case 3:this.$=s[r];break;case 4:this.$=s[r];break;case 5:this.$=s[r];break;case 6:this.$=s[r];break;case 7:this.$=s[r];break;case 8:this.$=new n.CommentStatement(n.stripComment(s[r]),n.stripFlags(s[r],s[r]),n.locInfo(this._$));break;case 9:this.$=new n.ContentStatement(s[r],n.locInfo(this._$));break;case 10:this.$=n.prepareRawBlock(s[r-2],s[r-1],s[r],this._$);break;case 11:this.$={"path":s[r-3],"params":s[r-2],"hash":s[r-1]};break;case 12:this.$=n.prepareBlock(s[r-3],s[r-2],s[r-1],s[r],!1,this._$);break;case 13:this.$=n.prepareBlock(s[r-3],s[r-2],s[r-1],s[r],!0,this._$);break;case 14:this.$={"path":s[r-4],"params":s[r-3],"hash":s[r-2],"blockParams":s[r-1],"strip":n.stripFlags(s[r-5],s[r])};break;case 15:this.$={"path":s[r-4],"params":s[r-3],"hash":s[r-2],"blockParams":s[r-1],"strip":n.stripFlags(s[r-5],s[r])};break;case 16:this.$={"path":s[r-4],"params":s[r-3],"hash":s[r-2],"blockParams":s[r-1],"strip":n.stripFlags(s[r-5],s[r])};break;case 17:this.$={"strip":n.stripFlags(s[r-1],s[r-1]),"program":s[r]};break;case 18:var c=n.prepareBlock(s[r-2],s[r-1],s[r],s[r],!1,this._$),l=new n.Program([c],null,{},n.locInfo(this._$));l.chained=!0,this.$={"strip":s[r-2].strip,"program":l,"chain":!0};break;case 19:this.$=s[r];break;case 20:this.$={"path":s[r-1],"strip":n.stripFlags(s[r-2],s[r])};break;case 21:this.$=n.prepareMustache(s[r-3],s[r-2],s[r-1],s[r-4],n.stripFlags(s[r-4],s[r]),this._$);break;case 22:this.$=n.prepareMustache(s[r-3],s[r-2],s[r-1],s[r-4],n.stripFlags(s[r-4],s[r]),this._$);break;case 23:this.$=new n.PartialStatement(s[r-3],s[r-2],s[r-1],n.stripFlags(s[r-4],s[r]),n.locInfo(this._$));break;case 24:this.$=s[r];break;case 25:this.$=s[r];break;case 26:this.$=new n.SubExpression(s[r-3],s[r-2],s[r-1],n.locInfo(this._$));break;case 27:this.$=new n.Hash(s[r],n.locInfo(this._$));break;case 28:this.$=new n.HashPair(n.id(s[r-2]),s[r],n.locInfo(this._$));break;case 29:this.$=n.id(s[r-1]);break;case 30:this.$=s[r];break;case 31:this.$=s[r];break;case 32:this.$=new n.StringLiteral(s[r],n.locInfo(this._$));break;case 33:this.$=new n.NumberLiteral(s[r],n.locInfo(this._$));break;case 34:this.$=new n.BooleanLiteral(s[r],n.locInfo(this._$));break;case 35:this.$=new n.UndefinedLiteral(n.locInfo(this._$));break;case 36:this.$=new n.NullLiteral(n.locInfo(this._$));break;case 37:this.$=s[r];break;case 38:this.$=s[r];break;case 39:this.$=n.preparePath(!0,s[r],this._$);break;case 40:this.$=n.preparePath(!1,s[r],this._$);break;case 41:s[r-2].push({"part":n.id(s[r]),"original":s[r],"separator":s[r-1]}),this.$=s[r-2];break;case 42:this.$=[{"part":n.id(s[r]),"original":s[r]}];break;case 43:this.$=[];break;case 44:s[r-1].push(s[r]);break;case 45:this.$=[];break;case 46:s[r-1].push(s[r]);break;case 53:this.$=[];break;case 54:s[r-1].push(s[r]);break;case 59:this.$=[];break;case 60:s[r-1].push(s[r]);break;case 65:this.$=[];break;case 66:s[r-1].push(s[r]);break;case 73:this.$=[];break;case 74:s[r-1].push(s[r]);break;case 77:this.$=[];break;case 78:s[r-1].push(s[r]);break;case 81:this.$=[];break;case 82:s[r-1].push(s[r]);break;case 85:this.$=[];break;case 86:s[r-1].push(s[r]);break;case 89:this.$=[s[r]];break;case 90:s[r-1].push(s[r]);break;case 91:this.$=[s[r]];break;case 92:s[r-1].push(s[r])}},"table":[{"3":1,"4":2,"5":[2,43],"6":3,"13":[2,43],"14":[2,43],"17":[2,43],"27":[2,43],"32":[2,43],"46":[2,43],"49":[2,43],"53":[2,43]},{"1":[3]},{"5":[1,4]},{"5":[2,2],"7":5,"8":6,"9":7,"10":8,"11":9,"12":10,"13":[1,11],"14":[1,18],"15":16,"17":[1,21],"22":14,"25":15,"27":[1,19],"32":[1,20],"37":[2,2],"42":[2,2],"45":[2,2],"46":[1,12],"49":[1,13],"53":[1,17]},{"1":[2,1]},{"5":[2,44],"13":[2,44],"14":[2,44],"17":[2,44],"27":[2,44],"32":[2,44],"37":[2,44],"42":[2,44],"45":[2,44],"46":[2,44],"49":[2,44],"53":[2,44]},{"5":[2,3],"13":[2,3],"14":[2,3],"17":[2,3],"27":[2,3],"32":[2,3],"37":[2,3],"42":[2,3],"45":[2,3],"46":[2,3],"49":[2,3],"53":[2,3]},{"5":[2,4],"13":[2,4],"14":[2,4],"17":[2,4],"27":[2,4],"32":[2,4],"37":[2,4],"42":[2,4],"45":[2,4],"46":[2,4],"49":[2,4],"53":[2,4]},{"5":[2,5],"13":[2,5],"14":[2,5],"17":[2,5],"27":[2,5],"32":[2,5],"37":[2,5],"42":[2,5],"45":[2,5],"46":[2,5],"49":[2,5],"53":[2,5]},{"5":[2,6],"13":[2,6],"14":[2,6],"17":[2,6],"27":[2,6],"32":[2,6],"37":[2,6],"42":[2,6],"45":[2,6],"46":[2,6],"49":[2,6],"53":[2,6]},{"5":[2,7],"13":[2,7],"14":[2,7],"17":[2,7],"27":[2,7],"32":[2,7],"37":[2,7],"42":[2,7],"45":[2,7],"46":[2,7],"49":[2,7],"53":[2,7]},{"5":[2,8],"13":[2,8],"14":[2,8],"17":[2,8],"27":[2,8],"32":[2,8],"37":[2,8],"42":[2,8],"45":[2,8],"46":[2,8],"49":[2,8],"53":[2,8]},{"18":22,"66":[1,32],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"18":33,"66":[1,32],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"4":34,"6":3,"13":[2,43],"14":[2,43],"17":[2,43],"27":[2,43],"32":[2,43],"37":[2,43],"42":[2,43],"45":[2,43],"46":[2,43],"49":[2,43],"53":[2,43]},{"4":35,"6":3,"13":[2,43],"14":[2,43],"17":[2,43],"27":[2,43],"32":[2,43],"42":[2,43],"45":[2,43],"46":[2,43],"49":[2,43],"53":[2,43]},{"12":36,"14":[1,18]},{"18":38,"54":37,"58":39,"59":[1,40],"66":[1,32],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"5":[2,9],"13":[2,9],"14":[2,9],"16":[2,9],"17":[2,9],"27":[2,9],"32":[2,9],"37":[2,9],"42":[2,9],"45":[2,9],"46":[2,9],"49":[2,9],"53":[2,9]},{"18":41,"66":[1,32],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"18":42,"66":[1,32],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"18":43,"66":[1,32],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"31":[2,73],"47":44,"59":[2,73],"66":[2,73],"74":[2,73],"75":[2,73],"76":[2,73],"77":[2,73],"78":[2,73],"79":[2,73]},{"21":[2,30],"31":[2,30],"52":[2,30],"59":[2,30],"62":[2,30],"66":[2,30],"69":[2,30],"74":[2,30],"75":[2,30],"76":[2,30],"77":[2,30],"78":[2,30],"79":[2,30]},{"21":[2,31],"31":[2,31],"52":[2,31],"59":[2,31],"62":[2,31],"66":[2,31],"69":[2,31],"74":[2,31],"75":[2,31],"76":[2,31],"77":[2,31],"78":[2,31],"79":[2,31]},{"21":[2,32],"31":[2,32],"52":[2,32],"59":[2,32],"62":[2,32],"66":[2,32],"69":[2,32],"74":[2,32],"75":[2,32],"76":[2,32],"77":[2,32],"78":[2,32],"79":[2,32]},{"21":[2,33],"31":[2,33],"52":[2,33],"59":[2,33],"62":[2,33],"66":[2,33],"69":[2,33],"74":[2,33],"75":[2,33],"76":[2,33],"77":[2,33],"78":[2,33],"79":[2,33]},{"21":[2,34],"31":[2,34],"52":[2,34],"59":[2,34],"62":[2,34],"66":[2,34],"69":[2,34],"74":[2,34],"75":[2,34],"76":[2,34],"77":[2,34],"78":[2,34],"79":[2,34]},{"21":[2,35],"31":[2,35],"52":[2,35],"59":[2,35],"62":[2,35],"66":[2,35],"69":[2,35],"74":[2,35],"75":[2,35],"76":[2,35],"77":[2,35],"78":[2,35],"79":[2,35]},{"21":[2,36],"31":[2,36],"52":[2,36],"59":[2,36],"62":[2,36],"66":[2,36],"69":[2,36],"74":[2,36],"75":[2,36],"76":[2,36],"77":[2,36],"78":[2,36],"79":[2,36]},{"21":[2,40],"31":[2,40],"52":[2,40],"59":[2,40],"62":[2,40],"66":[2,40],"69":[2,40],"74":[2,40],"75":[2,40],"76":[2,40],"77":[2,40],"78":[2,40],"79":[2,40],"81":[1,45]},{"66":[1,32],"80":46},{"21":[2,42],"31":[2,42],"52":[2,42],"59":[2,42],"62":[2,42],"66":[2,42],"69":[2,42],"74":[2,42],"75":[2,42],"76":[2,42],"77":[2,42],"78":[2,42],"79":[2,42],"81":[2,42]},{"50":47,"52":[2,77],"59":[2,77],"66":[2,77],"74":[2,77],"75":[2,77],"76":[2,77],"77":[2,77],"78":[2,77],"79":[2,77]},{"23":48,"36":50,"37":[1,52],"41":51,"42":[1,53],"43":49,"45":[2,49]},{"26":54,"41":55,"42":[1,53],"45":[2,51]},{"16":[1,56]},{"31":[2,81],"55":57,"59":[2,81],"66":[2,81],"74":[2,81],"75":[2,81],"76":[2,81],"77":[2,81],"78":[2,81],"79":[2,81]},{"31":[2,37],"59":[2,37],"66":[2,37],"74":[2,37],"75":[2,37],"76":[2,37],"77":[2,37],"78":[2,37],"79":[2,37]},{"31":[2,38],"59":[2,38],"66":[2,38],"74":[2,38],"75":[2,38],"76":[2,38],"77":[2,38],"78":[2,38],"79":[2,38]},{"18":58,"66":[1,32],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"28":59,"31":[2,53],"59":[2,53],"66":[2,53],"69":[2,53],"74":[2,53],"75":[2,53],"76":[2,53],"77":[2,53],"78":[2,53],"79":[2,53]},{"31":[2,59],"33":60,"59":[2,59],"66":[2,59],"69":[2,59],"74":[2,59],"75":[2,59],"76":[2,59],"77":[2,59],"78":[2,59],"79":[2,59]},{"19":61,"21":[2,45],"59":[2,45],"66":[2,45],"74":[2,45],"75":[2,45],"76":[2,45],"77":[2,45],"78":[2,45],"79":[2,45]},{"18":65,"31":[2,75],"48":62,"57":63,"58":66,"59":[1,40],"63":64,"64":67,"65":68,"66":[1,69],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"66":[1,70]},{"21":[2,39],"31":[2,39],"52":[2,39],"59":[2,39],"62":[2,39],"66":[2,39],"69":[2,39],"74":[2,39],"75":[2,39],"76":[2,39],"77":[2,39],"78":[2,39],"79":[2,39],"81":[1,45]},{"18":65,"51":71,"52":[2,79],"57":72,"58":66,"59":[1,40],"63":73,"64":67,"65":68,"66":[1,69],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"24":74,"45":[1,75]},{"45":[2,50]},{"4":76,"6":3,"13":[2,43],"14":[2,43],"17":[2,43],"27":[2,43],"32":[2,43],"37":[2,43],"42":[2,43],"45":[2,43],"46":[2,43],"49":[2,43],"53":[2,43]},{"45":[2,19]},{"18":77,"66":[1,32],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"4":78,"6":3,"13":[2,43],"14":[2,43],"17":[2,43],"27":[2,43],"32":[2,43],"45":[2,43],"46":[2,43],"49":[2,43],"53":[2,43]},{"24":79,"45":[1,75]},{"45":[2,52]},{"5":[2,10],"13":[2,10],"14":[2,10],"17":[2,10],"27":[2,10],"32":[2,10],"37":[2,10],"42":[2,10],"45":[2,10],"46":[2,10],"49":[2,10],"53":[2,10]},{"18":65,"31":[2,83],"56":80,"57":81,"58":66,"59":[1,40],"63":82,"64":67,"65":68,"66":[1,69],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"59":[2,85],"60":83,"62":[2,85],"66":[2,85],"74":[2,85],"75":[2,85],"76":[2,85],"77":[2,85],"78":[2,85],"79":[2,85]},{"18":65,"29":84,"31":[2,55],"57":85,"58":66,"59":[1,40],"63":86,"64":67,"65":68,"66":[1,69],"69":[2,55],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"18":65,"31":[2,61],"34":87,"57":88,"58":66,"59":[1,40],"63":89,"64":67,"65":68,"66":[1,69],"69":[2,61],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"18":65,"20":90,"21":[2,47],"57":91,"58":66,"59":[1,40],"63":92,"64":67,"65":68,"66":[1,69],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"31":[1,93]},{"31":[2,74],"59":[2,74],"66":[2,74],"74":[2,74],"75":[2,74],"76":[2,74],"77":[2,74],"78":[2,74],"79":[2,74]},{"31":[2,76]},{"21":[2,24],"31":[2,24],"52":[2,24],"59":[2,24],"62":[2,24],"66":[2,24],"69":[2,24],"74":[2,24],"75":[2,24],"76":[2,24],"77":[2,24],"78":[2,24],"79":[2,24]},{"21":[2,25],"31":[2,25],"52":[2,25],"59":[2,25],"62":[2,25],"66":[2,25],"69":[2,25],"74":[2,25],"75":[2,25],"76":[2,25],"77":[2,25],"78":[2,25],"79":[2,25]},{"21":[2,27],"31":[2,27],"52":[2,27],"62":[2,27],"65":94,"66":[1,95],"69":[2,27]},{"21":[2,89],"31":[2,89],"52":[2,89],"62":[2,89],"66":[2,89],"69":[2,89]},{"21":[2,42],"31":[2,42],"52":[2,42],"59":[2,42],"62":[2,42],"66":[2,42],"67":[1,96],"69":[2,42],"74":[2,42],"75":[2,42],"76":[2,42],"77":[2,42],"78":[2,42],"79":[2,42],"81":[2,42]},{"21":[2,41],"31":[2,41],"52":[2,41],"59":[2,41],"62":[2,41],"66":[2,41],"69":[2,41],"74":[2,41],"75":[2,41],"76":[2,41],"77":[2,41],"78":[2,41],"79":[2,41],"81":[2,41]},{"52":[1,97]},{"52":[2,78],"59":[2,78],"66":[2,78],"74":[2,78],"75":[2,78],"76":[2,78],"77":[2,78],"78":[2,78],"79":[2,78]},{"52":[2,80]},{"5":[2,12],"13":[2,12],"14":[2,12],"17":[2,12],"27":[2,12],"32":[2,12],"37":[2,12],"42":[2,12],"45":[2,12],"46":[2,12],"49":[2,12],"53":[2,12]},{"18":98,"66":[1,32],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"36":50,"37":[1,52],"41":51,"42":[1,53],"43":100,"44":99,"45":[2,71]},{"31":[2,65],"38":101,"59":[2,65],"66":[2,65],"69":[2,65],"74":[2,65],"75":[2,65],"76":[2,65],"77":[2,65],"78":[2,65],"79":[2,65]},{"45":[2,17]},{"5":[2,13],"13":[2,13],"14":[2,13],"17":[2,13],"27":[2,13],"32":[2,13],"37":[2,13],"42":[2,13],"45":[2,13],"46":[2,13],"49":[2,13],"53":[2,13]},{"31":[1,102]},{"31":[2,82],"59":[2,82],"66":[2,82],"74":[2,82],"75":[2,82],"76":[2,82],"77":[2,82],"78":[2,82],"79":[2,82]},{"31":[2,84]},{"18":65,"57":104,"58":66,"59":[1,40],"61":103,"62":[2,87],"63":105,"64":67,"65":68,"66":[1,69],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"30":106,"31":[2,57],"68":107,"69":[1,108]},{"31":[2,54],"59":[2,54],"66":[2,54],"69":[2,54],"74":[2,54],"75":[2,54],"76":[2,54],"77":[2,54],"78":[2,54],"79":[2,54]},{"31":[2,56],"69":[2,56]},{"31":[2,63],"35":109,"68":110,"69":[1,108]},{"31":[2,60],"59":[2,60],"66":[2,60],"69":[2,60],"74":[2,60],"75":[2,60],"76":[2,60],"77":[2,60],"78":[2,60],"79":[2,60]},{"31":[2,62],"69":[2,62]},{"21":[1,111]},{"21":[2,46],"59":[2,46],"66":[2,46],"74":[2,46],"75":[2,46],"76":[2,46],"77":[2,46],"78":[2,46],"79":[2,46]},{"21":[2,48]},{"5":[2,21],"13":[2,21],"14":[2,21],"17":[2,21],"27":[2,21],"32":[2,21],"37":[2,21],"42":[2,21],"45":[2,21],"46":[2,21],"49":[2,21],"53":[2,21]},{"21":[2,90],"31":[2,90],"52":[2,90],"62":[2,90],"66":[2,90],"69":[2,90]},{"67":[1,96]},{"18":65,"57":112,"58":66,"59":[1,40],"66":[1,32],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"5":[2,22],"13":[2,22],"14":[2,22],"17":[2,22],"27":[2,22],"32":[2,22],"37":[2,22],"42":[2,22],"45":[2,22],"46":[2,22],"49":[2,22],"53":[2,22]},{"31":[1,113]},{"45":[2,18]},{"45":[2,72]},{"18":65,"31":[2,67],"39":114,"57":115,"58":66,"59":[1,40],"63":116,"64":67,"65":68,"66":[1,69],"69":[2,67],"72":23,"73":24,"74":[1,25],"75":[1,26],"76":[1,27],"77":[1,28],"78":[1,29],"79":[1,31],"80":30},{"5":[2,23],"13":[2,23],"14":[2,23],"17":[2,23],"27":[2,23],"32":[2,23],"37":[2,23],"42":[2,23],"45":[2,23],"46":[2,23],"49":[2,23],"53":[2,23]},{"62":[1,117]},{"59":[2,86],"62":[2,86],"66":[2,86],"74":[2,86],"75":[2,86],"76":[2,86],"77":[2,86],"78":[2,86],"79":[2,86]},{"62":[2,88]},{"31":[1,118]},{"31":[2,58]},{"66":[1,120],"70":119},{"31":[1,121]},{"31":[2,64]},{"14":[2,11]},{"21":[2,28],"31":[2,28],"52":[2,28],"62":[2,28],"66":[2,28],"69":[2,28]},{"5":[2,20],"13":[2,20],"14":[2,20],"17":[2,20],"27":[2,20],"32":[2,20],"37":[2,20],"42":[2,20],"45":[2,20],"46":[2,20],"49":[2,20],"53":[2,20]},{"31":[2,69],"40":122,"68":123,"69":[1,108]},{"31":[2,66],"59":[2,66],"66":[2,66],"69":[2,66],"74":[2,66],"75":[2,66],"76":[2,66],"77":[2,66],"78":[2,66],"79":[2,66]},{"31":[2,68],"69":[2,68]},{"21":[2,26],"31":[2,26],"52":[2,26],"59":[2,26],"62":[2,26],"66":[2,26],"69":[2,26],"74":[2,26],"75":[2,26],"76":[2,26],"77":[2,26],"78":[2,26],"79":[2,26]},{"13":[2,14],"14":[2,14],"17":[2,14],"27":[2,14],"32":[2,14],"37":[2,14],"42":[2,14],"45":[2,14],"46":[2,14],"49":[2,14],"53":[2,14]},{"66":[1,125],"71":[1,124]},{"66":[2,91],"71":[2,91]},{"13":[2,15],"14":[2,15],"17":[2,15],"27":[2,15],"32":[2,15],"42":[2,15],"45":[2,15],"46":[2,15],"49":[2,15],"53":[2,15]},{"31":[1,126]},{"31":[2,70]},{"31":[2,29]},{"66":[2,92],"71":[2,92]},{"13":[2,16],"14":[2,16],"17":[2,16],"27":[2,16],"32":[2,16],"37":[2,16],"42":[2,16],"45":[2,16],"46":[2,16],"49":[2,16],"53":[2,16]}],"defaultActions":{"4":[2,1],"49":[2,50],"51":[2,19],"55":[2,52],"64":[2,76],"73":[2,80],"78":[2,17],"82":[2,84],"92":[2,48],"99":[2,18],"100":[2,72],"105":[2,88],"107":[2,58],"110":[2,64],"111":[2,11],"123":[2,70],"124":[2,29]},"parseError":function(e,t){throw new Error(e)},"parse":function(e){function t(){var e;return e=i.lexer.lex()||1,"number"!=typeof e&&(e=i.symbols_[e]||e),e}var i=this,n=[0],o=[null],s=[],a=this.table,r="",c=0,l=0,u=0;this.lexer.setInput(e),this.lexer.yy=this.yy,this.yy.lexer=this.lexer,this.yy.parser=this,"undefined"==typeof this.lexer.yylloc&&(this.lexer.yylloc={});var p=this.lexer.yylloc;s.push(p);var d=this.lexer.options&&this.lexer.options.ranges;"function"==typeof this.yy.parseError&&(this.parseError=this.yy.parseError);for(var h,m,f,g,b,v,w,y,x,_={};;){if(f=n[n.length-1],this.defaultActions[f]?g=this.defaultActions[f]:((null===h||"undefined"==typeof h)&&(h=t()),g=a[f]&&a[f][h]),"undefined"==typeof g||!g.length||!g[0]){var k="";if(!u){x=[];for(v in a[f])this.terminals_[v]&&v>2&&x.push("'"+this.terminals_[v]+"'");k=this.lexer.showPosition?"Parse error on line "+(c+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+x.join(", ")+", got '"+(this.terminals_[h]||h)+"'":"Parse error on line "+(c+1)+": Unexpected "+(1==h?"end of input":"'"+(this.terminals_[h]||h)+"'"),this.parseError(k,{"text":this.lexer.match,"token":this.terminals_[h]||h,"line":this.lexer.yylineno,"loc":p,"expected":x})}}if(g[0]instanceof Array&&g.length>1)throw new Error("Parse Error: multiple actions possible at state: "+f+", token: "+h);switch(g[0]){case 1:n.push(h),o.push(this.lexer.yytext),s.push(this.lexer.yylloc),n.push(g[1]),h=null,m?(h=m,m=null):(l=this.lexer.yyleng,r=this.lexer.yytext,c=this.lexer.yylineno,p=this.lexer.yylloc,u>0&&u--);break;case 2:if(w=this.productions_[g[1]][1],_.$=o[o.length-w],_._$={"first_line":s[s.length-(w||1)].first_line,"last_line":s[s.length-1].last_line,"first_column":s[s.length-(w||1)].first_column,"last_column":s[s.length-1].last_column},d&&(_._$.range=[s[s.length-(w||1)].range[0],s[s.length-1].range[1]]),b=this.performAction.call(_,r,l,c,this.yy,g[1],o,s),"undefined"!=typeof b)return b;w&&(n=n.slice(0,-1*w*2),o=o.slice(0,-1*w),s=s.slice(0,-1*w)),n.push(this.productions_[g[1]][0]),o.push(_.$),s.push(_._$),y=a[n[n.length-2]][n[n.length-1]],n.push(y);break;case 3:return!0}}return!0}},i=function(){var e={"EOF":1,"parseError":function(e,t){if(!this.yy.parser)throw new Error(e);this.yy.parser.parseError(e,t)},"setInput":function(e){return this._input=e,this._more=this._less=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match="",this.conditionStack=["INITIAL"],this.yylloc={"first_line":1,"first_column":0,"last_line":1,"last_column":0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},"input":function(){var e=this._input[0];this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e;var t=e.match(/(?:\r\n?|\n).*/g);return t?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},"unput":function(e){var t=e.length,i=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t-1),this.offset-=t;var n=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),i.length-1&&(this.yylineno-=i.length-1);var o=this.yylloc.range;return this.yylloc={"first_line":this.yylloc.first_line,"last_line":this.yylineno+1,"first_column":this.yylloc.first_column,"last_column":i?(i.length===n.length?this.yylloc.first_column:0)+n[n.length-i.length].length-i[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[o[0],o[0]+this.yyleng-t]),this},"more":function(){return this._more=!0,this},"less":function(e){this.unput(this.match.slice(e))},"pastInput":function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?"...":"")+e.substr(-20).replace(/\n/g,"")},"upcomingInput":function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?"...":"")).replace(/\n/g,"")},"showPosition":function(){var e=this.pastInput(),t=new Array(e.length+1).join("-");return e+this.upcomingInput()+"\n"+t+"^"},"next":function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,i,n,o;this._more||(this.yytext="",this.match="");for(var s=this._currentRules(),a=0;a<s.length&&(i=this._input.match(this.rules[s[a]]),!i||t&&!(i[0].length>t[0].length)||(t=i,n=a,this.options.flex));a++);return t?(o=t[0].match(/(?:\r\n?|\n).*/g),o&&(this.yylineno+=o.length),this.yylloc={"first_line":this.yylloc.last_line,"last_line":this.yylineno+1,"first_column":this.yylloc.last_column,"last_column":o?o[o.length-1].length-o[o.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length},this.yytext+=t[0],this.match+=t[0],this.matches=t,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._input=this._input.slice(t[0].length),this.matched+=t[0],e=this.performAction.call(this,this.yy,this,s[n],this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),e?e:void 0):""===this._input?this.EOF:this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{"text":"","token":null,"line":this.yylineno})},"lex":function(){var e=this.next();return"undefined"!=typeof e?e:this.lex()},"begin":function(e){this.conditionStack.push(e)},"popState":function(){return this.conditionStack.pop()},"_currentRules":function(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},"topState":function(){return this.conditionStack[this.conditionStack.length-2]},"pushState":function(e){this.begin(e)}};return e.options={},e.performAction=function(e,t,i,n){function o(e,i){return t.yytext=t.yytext.substr(e,t.yyleng-i)}switch(i){case 0:if("\\\\"===t.yytext.slice(-2)?(o(0,1),this.begin("mu")):"\\"===t.yytext.slice(-1)?(o(0,1),this.begin("emu")):this.begin("mu"),t.yytext)return 14;break;case 1:return 14;case 2:return this.popState(),14;case 3:return t.yytext=t.yytext.substr(5,t.yyleng-9),this.popState(),16;case 4:return 14;case 5:return this.popState(),13;case 6:return 59;case 7:return 62;case 8:return 17;case 9:return this.popState(),this.begin("raw"),21;case 10:return 53;case 11:return 27;case 12:return 45;case 13:return this.popState(),42;case 14:return this.popState(),42;case 15:return 32;case 16:return 37;case 17:return 49;case 18:return 46;case 19:this.unput(t.yytext),this.popState(),this.begin("com");break;case 20:return this.popState(),13;case 21:return 46;case 22:return 67;case 23:return 66;case 24:return 66;case 25:return 81;case 26:break;case 27:return this.popState(),52;case 28:return this.popState(),31;case 29:return t.yytext=o(1,2).replace(/\\"/g,'"'),74;case 30:return t.yytext=o(1,2).replace(/\\'/g,"'"),74;case 31:return 79;case 32:return 76;case 33:return 76;case 34:return 77;case 35:return 78;case 36:return 75;case 37:return 69;case 38:return 71;case 39:return 66;case 40:return 66;case 41:return"INVALID";case 42:return 5}},e.rules=[/^(?:[^\x00]*?(?=(\{\{)))/,/^(?:[^\x00]+)/,/^(?:[^\x00]{2,}?(?=(\{\{|\\\{\{|\\\\\{\{|$)))/,/^(?:\{\{\{\{\/[^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=[=}\s\/.])\}\}\}\})/,/^(?:[^\x00]*?(?=(\{\{\{\{\/)))/,/^(?:[\s\S]*?--(~)?\}\})/,/^(?:\()/,/^(?:\))/,/^(?:\{\{\{\{)/,/^(?:\}\}\}\})/,/^(?:\{\{(~)?>)/,/^(?:\{\{(~)?#)/,/^(?:\{\{(~)?\/)/,/^(?:\{\{(~)?\^\s*(~)?\}\})/,/^(?:\{\{(~)?\s*else\s*(~)?\}\})/,/^(?:\{\{(~)?\^)/,/^(?:\{\{(~)?\s*else\b)/,/^(?:\{\{(~)?\{)/,/^(?:\{\{(~)?&)/,/^(?:\{\{(~)?!--)/,/^(?:\{\{(~)?![\s\S]*?\}\})/,/^(?:\{\{(~)?)/,/^(?:=)/,/^(?:\.\.)/,/^(?:\.(?=([=~}\s\/.)|])))/,/^(?:[\/.])/,/^(?:\s+)/,/^(?:\}(~)?\}\})/,/^(?:(~)?\}\})/,/^(?:"(\\["]|[^"])*")/,/^(?:'(\\[']|[^'])*')/,/^(?:@)/,/^(?:true(?=([~}\s)])))/,/^(?:false(?=([~}\s)])))/,/^(?:undefined(?=([~}\s)])))/,/^(?:null(?=([~}\s)])))/,/^(?:-?[0-9]+(?:\.[0-9]+)?(?=([~}\s)])))/,/^(?:as\s+\|)/,/^(?:\|)/,/^(?:([^\s!"#%-,\.\/;->@\[-\^`\{-~]+(?=([=~}\s\/.)|]))))/,/^(?:\[[^\]]*\])/,/^(?:.)/,/^(?:$)/],e.conditions={"mu":{"rules":[6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42],"inclusive":!1},"emu":{"rules":[2],"inclusive":!1},"com":{"rules":[5],"inclusive":!1},"raw":{"rules":[3,4],"inclusive":!1},"INITIAL":{"rules":[0,1,42],"inclusive":!0}},e}();return t.lexer=i,e.prototype=t,t.Parser=e,new e}();t["default"]=n,e.exports=t["default"]},function(e,t,i){"use strict";function n(){}function o(e,t,i){void 0===t&&(t=e.length);var n=e[t-1],o=e[t-2];return n?"ContentStatement"===n.type?(o||!i?/\r?\n\s*?$/:/(^|\r?\n)\s*?$/).test(n.original):void 0:i}function s(e,t,i){void 0===t&&(t=-1);var n=e[t+1],o=e[t+2];return n?"ContentStatement"===n.type?(o||!i?/^\s*?\r?\n/:/^\s*?(\r?\n|$)/).test(n.original):void 0:i}function a(e,t,i){var n=e[null==t?0:t+1];if(n&&"ContentStatement"===n.type&&(i||!n.rightStripped)){var o=n.value;n.value=n.value.replace(i?/^\s+/:/^[ \t]*\r?\n?/,""),n.rightStripped=n.value!==o}}function r(e,t,i){var n=e[null==t?e.length-1:t-1];if(n&&"ContentStatement"===n.type&&(i||!n.leftStripped)){var o=n.value;return n.value=n.value.replace(i?/\s+$/:/[ \t]+$/,""),n.leftStripped=n.value!==o,n.leftStripped}}var c=i(8)["default"];t.__esModule=!0;var l=i(6),u=c(l);n.prototype=new u["default"],n.prototype.Program=function(e){var t=!this.isRootSeen;this.isRootSeen=!0;for(var i=e.body,n=0,c=i.length;c>n;n++){var l=i[n],u=this.accept(l);if(u){var p=o(i,n,t),d=s(i,n,t),h=u.openStandalone&&p,m=u.closeStandalone&&d,f=u.inlineStandalone&&p&&d;u.close&&a(i,n,!0),u.open&&r(i,n,!0),f&&(a(i,n),r(i,n)&&"PartialStatement"===l.type&&(l.indent=/([ \t]+$)/.exec(i[n-1].original)[1])),h&&(a((l.program||l.inverse).body),r(i,n)),m&&(a(i,n),r((l.inverse||l.program).body))}}return e},n.prototype.BlockStatement=function(e){this.accept(e.program),this.accept(e.inverse);var t=e.program||e.inverse,i=e.program&&e.inverse,n=i,c=i;if(i&&i.chained)for(n=i.body[0].program;c.chained;)c=c.body[c.body.length-1].program;var l={"open":e.openStrip.open,"close":e.closeStrip.close,"openStandalone":s(t.body),"closeStandalone":o((n||t).body)};if(e.openStrip.close&&a(t.body,null,!0),i){var u=e.inverseStrip;u.open&&r(t.body,null,!0),u.close&&a(n.body,null,!0),e.closeStrip.open&&r(c.body,null,!0),o(t.body)&&s(n.body)&&(r(t.body),a(n.body))}else e.closeStrip.open&&r(t.body,null,!0);return l},n.prototype.MustacheStatement=function(e){return e.strip},n.prototype.PartialStatement=n.prototype.CommentStatement=function(e){var t=e.strip||{};return{"inlineStandalone":!0,"open":t.open,"close":t.close}},t["default"]=n,e.exports=t["default"]},function(e,t,i){"use strict";function n(e,t){this.source=e,this.start={"line":t.first_line,"column":t.first_column},this.end={"line":t.last_line,"column":t.last_column}}function o(e){return/^\[.*\]$/.test(e)?e.substr(1,e.length-2):e}function s(e,t){return{"open":"~"===e.charAt(2),"close":"~"===t.charAt(t.length-3)}}function a(e){return e.replace(/^\{\{~?\!-?-?/,"").replace(/-?-?~?\}\}$/,"")}function r(e,t,i){i=this.locInfo(i);for(var n=e?"@":"",o=[],s=0,a="",r=0,c=t.length;c>r;r++){var l=t[r].part,u=t[r].original!==l;if(n+=(t[r].separator||"")+l,u||".."!==l&&"."!==l&&"this"!==l)o.push(l);else{if(o.length>0)throw new h["default"]("Invalid path: "+n,{"loc":i});".."===l&&(s++,a+="../")}}return new this.PathExpression(e,s,o,n,i)}function c(e,t,i,n,o,s){var a=n.charAt(3)||n.charAt(2),r="{"!==a&&"&"!==a;return new this.MustacheStatement(e,t,i,r,o,this.locInfo(s))}function l(e,t,i,n){if(e.path.original!==i){var o={"loc":e.path.loc};throw new h["default"](e.path.original+" doesn't match "+i,o)}n=this.locInfo(n);var s=new this.Program([t],null,{},n);return new this.BlockStatement(e.path,e.params,e.hash,s,void 0,{},{},{},n)}function u(e,t,i,n,o,s){if(n&&n.path&&e.path.original!==n.path.original){var a={"loc":e.path.loc};throw new h["default"](e.path.original+" doesn't match "+n.path.original,a)}t.blockParams=e.blockParams;var r=void 0,c=void 0;return i&&(i.chain&&(i.program.body[0].closeStrip=n.strip),c=i.strip,r=i.program),o&&(o=r,r=t,t=o),new this.BlockStatement(e.path,e.params,e.hash,t,r,e.strip,c,n&&n.strip,this.locInfo(s))}var p=i(8)["default"];t.__esModule=!0,t.SourceLocation=n,t.id=o,t.stripFlags=s,t.stripComment=a,t.preparePath=r,t.prepareMustache=c,t.prepareRawBlock=l,t.prepareBlock=u;var d=i(11),h=p(d)},function(e,t,i){"use strict";function n(e,t,i){if(s.isArray(e)){for(var n=[],o=0,a=e.length;a>o;o++)n.push(t.wrap(e[o],i));return n}return"boolean"==typeof e||"number"==typeof e?e+"":e}function o(e){this.srcFile=e,this.source=[]}t.__esModule=!0;var s=i(12),a=void 0;try{}catch(r){}a||(a=function(e,t,i,n){this.src="",n&&this.add(n)},a.prototype={"add":function(e){s.isArray(e)&&(e=e.join("")),this.src+=e},"prepend":function(e){s.isArray(e)&&(e=e.join("")),this.src=e+this.src},"toStringWithSourceMap":function(){return{"code":this.toString()}},"toString":function(){return this.src}}),o.prototype={"prepend":function(e,t){this.source.unshift(this.wrap(e,t))},"push":function(e,t){this.source.push(this.wrap(e,t))},"merge":function(){var e=this.empty();return this.each(function(t){e.add(["  ",t,"\n"])}),e},"each":function(e){for(var t=0,i=this.source.length;i>t;t++)e(this.source[t])},"empty":function(){var e=void 0===arguments[0]?this.currentLocation||{"start":{}}:arguments[0];return new a(e.start.line,e.start.column,this.srcFile)},"wrap":function(e){var t=void 0===arguments[1]?this.currentLocation||{"start":{}}:arguments[1];return e instanceof a?e:(e=n(e,this,t),new a(t.start.line,t.start.column,this.srcFile,e))},"functionCall":function(e,t,i){return i=this.generateList(i),this.wrap([e,t?"."+t+"(":"(",i,")"])},"quotedString":function(e){return'"'+(e+"").replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")+'"'},"objectLiteral":function(e){var t=[];for(var i in e)if(e.hasOwnProperty(i)){var o=n(e[i],this);"undefined"!==o&&t.push([this.quotedString(i),":",o])}var s=this.generateList(t);return s.prepend("{"),s.add("}"),s},"generateList":function(e,t){for(var i=this.empty(t),o=0,s=e.length;s>o;o++)o&&i.add(","),i.add(n(e[o],this,t));return i},"generateArray":function(e,t){var i=this.generateList(e,t);return i.prepend("["),i.add("]"),i}},t["default"]=o,e.exports=t["default"]}])}),csui.define("csui/lib/i18nprecompile",["module","csui/lib/handlebars","csui/lib/underscore"],function(e,t,i){function n(e,o,s){return s=s||{},o=o||{},e&&"program"===e.type&&e.statements&&(i(e.statements).forEach(function(i,a){var r="<!-- i18n error -->";if("mustache"===i.type&&i.id&&"$"===i.id.original){if(i.params.length&&i.params[0].string){var c=i.params[0].string;r=o[c]||(s.originalKeyFallback?c:r)}e.statements[a]=new t.AST.ContentNode(r)}else i.program&&(i.program=n(i.program,o,s))}),e.inverse&&n(e.inverse,o,s)),e}return function(e,i,o){o=o||{};var s,a;return s=t.parse(e),i!==!1&&(s=n(s,i,o)),a=(new t.Compiler).compile(s,o),(new t.JavaScriptCompiler).compile(a,o)}}),csui.define("hbs",["module","require","csui/lib/handlebars","csui/lib/underscore","csui/lib/i18nprecompile"],function(e,t,i,n,o){var s,a,r=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],c=function(){throw new Error("Environment unsupported.")},l=[],u="w+",p="hbs",d="@hbs",h="/styles/",m="/demo-build/styles/",f="template/helpers/",g="template/i18n/",b="screen.build.css";i.registerHelper("$",function(){}),"undefined"!=typeof window&&window.navigator&&window.document&&!window.navigator.userAgent.match(/Node.js/)?(a=function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;
for(t=0;3>t;t++){i=r[t];try{e=new ActiveXObject(i)}catch(n){}if(e){r=[i];break}}if(!e)throw new Error("getXhr(): XMLHttpRequest not available");return e},c=function(e,t){var i=a();i.open("GET",e,!0),i.onreadystatechange=function(e){4===i.readyState&&t(i.responseText)},i.send(null)}):"undefined"!=typeof process&&process.versions&&process.versions.node?(s=require.nodeRequire("fs"),c=function(e,t){var i=s.readFileSync(e,"utf8")||"";i=i.replace(/^\uFEFF/,""),t(i)}):"undefined"!=typeof java&&"undefined"!=typeof java.io&&(c=function(e,t){for(var i,n=new java.io.File(e),o=new java.io.FileReader(n),s=new java.io.BufferedReader(o),a="";null!==(i=s.readLine());)a+=new String(i)+"\n";s.close(),t(a)});var v={},w=function(e,t){v[e]?t(v[e]):c(e,function(i){v[e]=i,t.call(this,i)})},y=[],x={};return result={"get":function(){return i},"write":function(e,t,i){if(t+d in l){var n=l[t+d];i.asModule(e+"!"+t,n)}},"version":"0.4.0","load":function(e,a,r,v){function _(e,t){return n(e).forEach(function(e){e&&e.type&&"partial"===e.type&&t.push(e.partialName.name),e&&e.program&&e.program.statements&&_(e.program.statements,t),e&&e.program&&e.program.inverse&&e.program.inverse.statements&&_(e.program.inverse.statements,t)}),t}function k(e){var t=[];return e&&e.statements&&(t=_(e.statements,[])),n(t).unique()}function C(e){var t,i,n;if(e&&e.statements&&(t=e.statements[0],t&&"comment"===t.type))try{return i=t.comment.replace(new RegExp("^[\\s]+|[\\s]+$","g"),""),n=JSON.parse(i),i}catch(o){return"{}"}return"{}"}function S(e){if(!e)return[];var t,i=[e[0]],n=e[0];for(t=1;t<e.length;++t)e.hasOwnProperty(t)&&(n+="."+e[t],i.push(n));return i}function V(e,t,o,s){o=o?o+".":"";var a="";return n(e).forEach(function(e){var r,c,l;if(e&&e.type&&"mustache"===e.type){if(!e.params||!e.params.length){r=S(e.id.parts);for(c in r)r[c]&&(a=r[c]||a,t.push(o+r[c]));t.push(o+e.id.string)}var u=["this",".","..","./..","../..","../../.."];e.params&&"undefined"==typeof i.helpers[e.id.string]&&n(e.params).forEach(function(c){(n(u).contains(c.original)||c instanceof i.AST.StringNode||c instanceof i.AST.IntegerNode||c instanceof i.AST.BooleanNode)&&s.push(e.id.string),r=S(c.parts);for(var l in r)r[l]&&(a=r[l]||a,s.push(e.id.string),t.push(o+r[l]))})}e&&e.mustache&&V([e.mustache],t,o+a,s),e&&e.program&&e.program.statements&&(l=V([e.mustache],[],"",s)[0]||"",e.program.inverse&&e.program.inverse.statements&&V(e.program.inverse.statements,t,o+a+(l?o+a?"."+l:l:""),s),V(e.program.statements,t,o+a+(l?o+a?"."+l:l:""),s))}),t}function T(e){var t=[],i=[];e&&e.statements&&(t=V(e.statements,[],void 0,i));var o=["helperMissing","blockHelperMissing","each","if","unless","with"];return{"vars":n(t).chain().unique().map(function(e){return""===e?".":e.length&&"."===e[e.length-1]?e.substr(0,e.length-1)+"[]":e}).value(),"helpers":n(i).chain().unique().map(function(e){return n(o).contains(e)?void 0:e}).compact().value()}}function M(p){c(A,function(c){var d,g,w,_=i.parse(c),S=k(_),V=C(_),M=T(_),B=M.vars,I=M.helpers||[],O=S.join("', 'hbs!").replace(/_/g,"/"),R=v.hbs&&v.hbs.disableHelpers?"":function(){var e,t=[],i=v.hbs&&v.hbs.helperPathCallback?v.hbs.helperPathCallback:function(e){return(v.hbs&&v.hbs.helperDirectory?v.hbs.helperDirectory:f)+e};for(e=0;e<I.length;e++)t[e]="'"+i(I[e],A)+"'";return t}().join(","),F="",j="",L="";if(O&&(O=",'hbs!"+O+"'"),R&&(R=","+R),"{}"!==V)try{d=JSON.parse(V),d&&d.styles&&(y=n.union(y,d.styles),require.isBrowser&&!v.isBuild?(g=document.head||document.getElementsByTagName("head")[0],n(d.styles).forEach(function(e){x[e]||(w=document.createElement("link"),w.href=v.baseUrl+h+e+".css",w.media="all",w.rel="stylesheet",w.type="text/css",g.appendChild(w),x[e]=w)})):v.isBuild&&!function(){var e=require.nodeRequire("fs"),t=n(d.styles).map(function(e){return x[e]?"":(x[e]=!0,"@import url("+e+".css);\n")}).join("\n");e.open(__dirname+m+b,u,"0666",function(i,n){e.writeSync(n,t,null,encoding="utf8"),e.close(n)}),u="a"}())}catch(D){"undefined"!=typeof console&&console.log("error injecting styles")}v.isBuild||v.serverRender||(F="<!-- START - "+e+" -->",j="<!-- END - "+e+" -->",L="t.meta = "+V+";\nt.helpers = "+JSON.stringify(I)+";\nt.deps = "+JSON.stringify(S)+";\nt.vars = "+JSON.stringify(B)+";\n");var N=E?!1:n.extend(p,v.localeMapping),q=v.hbs||{},$=n.extend(q.compileOptions||{},{"originalKeyFallback":q.originalKeyFallback}),H=o(c,N,$);c="/* START_TEMPLATE */\ndefine(['module','hbs','csui/lib/handlebars'"+O+R+"], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template("+H+");\nHandlebars.registerPartial('"+e.replace(/\//g,"_")+"', t);\n"+L+"return t;\n});\n/* END_TEMPLATE */\n",v.isBuild&&(l[P]=c),v.isBuild||(c+="\r\n//# sourceURL="+A);for(var U in S)S.hasOwnProperty(U)&&(S[U]="hbs!"+S[U].replace(/_/g,"/"));v.isBuild?(r.fromText(e,c),a([e],function(e){r(e)})):t(S,function(){r.fromText(c),a([e],function(e){r(e)})}),v.removeCombined&&s.unlinkSync(A)})}var A,P=e+d,E=v.hbs&&v.hbs.disableI18n,B=v.hbs&&v.hbs.templateExtension===!1;if(A=B?a.toUrl(e):a.toUrl(e+"."+(v.hbs&&v.hbs.templateExtension?v.hbs.templateExtension:p)),E)M(!1);else{var I=(v.hbs&&v.hbs.i18nDirectory?v.hbs.i18nDirectory:g)+(v.locale||"en_us")+".json";try{w(a.toUrl(I),function(e){M(JSON.parse(e))})}catch(O){if(v.hbs)throw O;console.warn("hbs: Error reading "+I+", disabling i18n. Ignore this if you're using jam, otherwise check your i18n configuration.\n"),v.hbs={"disableI18n":!0},M(!1)}}}},result}),csui.define("hbs!xecmpf/widgets/integration/folderbrowse/impl/full.page.workspace",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<iframe id="xecm-full-page-frame" width="100%" height="100%" src="'+this.escapeExpression((o=null!=(o=t.fullPageWorkspaceUrl||(null!=e?e.fullPageWorkspaceUrl:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"fullPageWorkspaceUrl","hash":{}}):o))+'" />\r\n '}});return i.registerPartial("xecmpf_widgets_integration_folderbrowse_impl_full.page.workspace",n),n}),csui.define("xecmpf/widgets/integration/folderbrowse/full.page.workspace.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","hbs!xecmpf/widgets/integration/folderbrowse/impl/full.page.workspace","css!xecmpf/widgets/integration/folderbrowse/impl/folderbrowse"],function(e,t,i,n,o){"use strict";var s=n.ItemView.extend({"className":"xecm-full-page-workspace","constructor":function(e){e=e||{},n.ItemView.prototype.constructor.apply(this,arguments)},"template":o,"templateHelpers":function(){return{"fullPageWorkspaceUrl":this.options.fullPageWorkspaceUrl}}});return s}),csui.define("xecmpf/widgets/integration/folderbrowse/search.results/search.results.view",["module","csui/lib/underscore","csui/lib/jquery","csui/widgets/search.results/search.results.view","i18n!xecmpf/widgets/integration/folderbrowse/impl/nls/localized.strings","css!xecmpf/widgets/integration/folderbrowse/impl/folderbrowse"],function(e,t,i,n,o){"use strict";var s=n.extend({"constructor":function(e){e=e||{},e=t.extend(e,e.data),n.prototype.constructor.call(this,e),this.listenTo(this,"go:back",function(){history.back()})}});return s}),csui.define("hbs!xecmpf/widgets/integration/folderbrowse/modaldialog/impl/modal.dialog",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<div class="binf-modal-dialog binf-modal-lg">\r\n  <div class="binf-modal-content">\r\n    <div class="xecm-modal-header">\r\n      <div title="'+this.escapeExpression((o=null!=(o=t.closeToolTip||(null!=e?e.closeToolTip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"closeToolTip","hash":{}}):o))+'"\r\n          class="cs-close icon-tileCollapse icon-pagewidget-collapse csui-acc-focusable-active"></div>\r\n    </div>\r\n    <div class="binf-modal-body"></div>\r\n  </div>\r\n</div>'}});return i.registerPartial("xecmpf_widgets_integration_folderbrowse_modaldialog_impl_modal.dialog",n),n}),csui.define("css!xecmpf/widgets/integration/folderbrowse/modaldialog/impl/modal.dialog",[],function(){}),csui.define("xecmpf/widgets/integration/folderbrowse/modaldialog/modal.dialog.view",["csui/controls/dialog/dialog.view","hbs!xecmpf/widgets/integration/folderbrowse/modaldialog/impl/modal.dialog","i18n!xecmpf/widgets/integration/folderbrowse/impl/nls/localized.strings","css!xecmpf/widgets/integration/folderbrowse/modaldialog/impl/modal.dialog"],function(e,t,i){var n=e.extend({"template":t,"templateHelpers":function(){return{"closeToolTip":i.CloseToolTip}}});return n}),csui.define("xecmpf/utils/commands/nls/localized.strings",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/utils/commands/nls/root/localized.strings",{"DetachPageLeavingWarning":"If you leave the page now, pending items will not be detached.","DetachBusAtts":"Detaching {0} business objects","DetachingOneBusAtt":"Detaching business object","DetachBusAttsNoneMessage":"No business objects detached.","DetachOneBusAttSuccessMessage":"1 business object succeeded to detach.","DetachSomeBusAttsSuccessMessage":"{0} business objects succeeded to detach.","DetachManyBusAttsSuccessMessage":"{0} business objects succeeded to detach.","DetachOneBusAttFailMessage":"1 business object failed to detach.","DetachSomeBusAttsFailMessage":"{0} business objects failed to detach.","DetachManyBusAttsFailMessage2":"{2} business objects failed to detach.","DetachSomeBusAttsFailMessage2":"{2} business objects failed to detach.","DetachingSomeBusAtts":"Detaching {0} business objets","DetachBusAttsCommandConfirmDialogTitle":"Detach","DetachBusAttsCommandConfirmDialogSingleMessage":"Do you want to detach {0}?","DetachBusAttsCommandConfirmDialogMultipleMessage":"Do you want to detach {0} items?","CommandDoneVerbDetached":"detached","CommandNameDetach":"Detach Business Attachment","AttachPageLeavingWarning":"If you leave the page now, pending items will not be detached.","AttachBusAtts":"Attaching {0} business objects","AttachingOneBusAtt":"Attaching business object","AttachBusAttsNoneMessage":"No business objects attached.","AttachOneBusAttSuccessMessage":"1 business object succeeded to attach.","AttachSomeBusAttsSuccessMessage":"{0} business objects succeeded to attach.","AttachManyBusAttsSuccessMessage":"{0} business objects succeeded to attach.","AttachOneBusAttFailMessage":"1 business object failed to attach.","AttachSomeBusAttsFailMessage":"{0} business objects failed to attach.","AttachManyBusAttsFailMessage":"{0} business objects failed to attach.","AttachManyBusAttsFailMessage2":"{2} business objects failed to attach.","AttachSomeBusAttsFailMessage2":"{2} business objects failed to attach.","AttachingSomeBusAtts":"attaching {0} business objets","AttachBusAttsCommandConfirmDialogTitle":"Attach","AttachBusAttsCommandConfirmDialogSingleMessage":"Do you want to attach {0}?","AttachBusAttsCommandConfirmDialogMultipleMessage":"Do you want to attach {0} items?","AttachBusAttsCommandConfirmDialogHtml":"<span class='msgIcon WarningIcon'><%- message %></span>","CommandDoneVerbAttached":"attached","CommandNameAttach":"Attach Business Attachment","CommandNameOpenSapObject":"Open Sap Object","CommandNameGoToWorkspace":"Go To Workspace","GoToWorkpsaceHistory":"Go To Workspace History","OpenFullPageWorkpsace":"Open Full Page Wokspace","SearchWorkspace":"Search From Here","SearchBackTooltip":"Go Back to '{0}'","CollapsePageOverlay":"Close","BOAttachmentCreate":{"name":"Add business attachment","verb":"attach","doneVerb":"attached","addButtonLabel":"Attach","pageLeavingWarning":"If you leave the page now, pending items will not be attached.","successMessages":{"formatForNone":"No business attachments attached.","formatForOne":"1 business attachment succeeded to attach.","formatForMultiple":"{0} business attachments succeeded to attach."},"errorMessages":{"formatForOne":"1 business attachment failed to attach.","formatForMultiple":"{0} business attachments failed to attach."},"progressBarMessages":{"oneFileTitle":"Attaching business attachment","multiFilePending":"Attaching {0} business attachments","multiFileFailure":"{2} business attachments failed to attach."}},"backButtonToolTip":"Go back","CommandSnapshot":"Snapshot","snapshotCreated":"Snapshot created","snapshotCreatedWithName":"Snapshot '{0}' created","snapshotFailed":"Snapshot creation failed","CommandDoneVerbCreated":"created","Refresh":"Events refreshed.","RefreshError":"Error while refreshing.","AuthenticationError":"Authentication failed"}),csui.define("xecmpf/utils/commands/folderbrowse/go.to.workspace.history",["module","csui/lib/jquery","csui/lib/underscore","csui/models/command","csui/lib/backbone","i18n!xecmpf/utils/commands/nls/localized.strings"],function(e,t,i,n,o,s){var a,r=[location.href],c=n.extend({"defaults":{"signature":"WorkspaceHistory","name":s.GoToWorkpsaceHistory},"enabled":function(t,n){var s=i.extend({"enabled":!1},e.config());return a||(a=!0,window.addEventListener("popstate",function(){r.length>1&&r[r.length-2]===location.href&&r.pop()}),o.history.on("navigate",function(){r.push(location.href)})),s.enabled&&r.length>1},"execute":function(e,i){return history.back(),t.Deferred().resolve().promise()}});return c}),csui.define("xecmpf/utils/commands/folderbrowse/search.container",["module","require","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/models/command","i18n!xecmpf/utils/commands/nls/localized.strings"],function(e,t,i,n,o,s,a){var r=s.extend({"defaults":{"signature":"SearchFromHere","name":a.SearchWorkspace},"enabled":function(t,n){var o=i.extend({"enabled":!1},e.config());return o.enabled},"execute":function(t,s){var r=i.extend({"pageWidget":!1},e.config()),c=this,l=n.Deferred();return csui.require(["xecmpf/widgets/integration/folderbrowse/search.box.view","xecmpf/controls/search.textbox/search.textbox.view","csui/widgets/search.results/search.results.view","csui/utils/contexts/factories/node","csui/utils/contexts/factories/next.node","csui/utils/contexts/factories/search.query.factory",this.get("commands")],function(e,u,p,d,h,m,f){var g=t.originatingView.$el.find(".csui-search-button");g.find("div.csui-searchbox-holder").length||g.append("<div class='csui-searchbox-holder'></div>");var b=new o.Region({"el":s.el?s.el:g.find("div.csui-searchbox-holder")}),v=t.originatingView&&t.originatingView.context?t.originatingView.context:s&&s.context,w=v?v.getModel(d):null,y=w?w.get("id"):0,x=t.originatingView&&t.originatingView.options&&t.originatingView.options.workspaceContext&&t.originatingView.options.workspaceContext.wkspid&&t.originatingView.options.workspaceContext.wkspid.get("id")?t.originatingView.options.workspaceContext.wkspid.get("id"):0;r.pageWidget||delete v._factories.searchQuery;var _=!1,k=0===x?e:u;if(_=0===x?!1:!0,c.searchBoxView=new k({"context":v,"originatingView":t.originatingView,"data":{"nodeId":0===x?y:x}}),c.originatingViewElement=t.originatingView.$el,c.listenTo(c.searchBoxView,"hide:searchbar",function(){c.searchBoxView.destroy(),c.originatingViewElement.find("a.csui-toolitem").show(),c.originatingViewElement.find("a.csui-toolitem").focus()}),c.listenTo(c.searchBoxView,"show",function(){setTimeout(function(){var e=_?".xecmpf-input":".csui-input";c.originatingViewElement.find(e).focus()},25)}),t.originatingView.$el.find(".csui-search-button > a.csui-toolitem").hide(),b.show(c.searchBoxView),(!r.pageWidget||_)&&t.originatingView){var C,S,V,T=v.getModel(m);_?(C=c.searchBoxView,S=c.searchBoxView,V="search:results"):(C=t.originatingView,S=T,V="change"),C.listenToOnce(S,V,function(){delete v._factories.searchResults;var e,s=new p({"container":t.container,"originatingView":t.originatingView,"context":v,"commands":f,"enableBackButton":!0,"backButtonToolTip":i.str.sformat(a.SearchBackTooltip,t.container.get("name"))}),r=c.originatingViewElement.parent();r.find(".cs-search-results-wrapper").remove(),r.append("<div class='cs-search-results-wrapper'></div>"),c.$csSearchResults=n(r.find(".cs-search-results-wrapper")[0]),c.$csSearchResults.hide(),s.render(),_?s.collection.fetch():v.fetch(),o.triggerMethodOn(s,"before:show"),c.$csSearchResults.append(s.el),_?c.originatingViewElement.hide():c.originatingViewElement.hide("blind",{"direction":"left","complete":function(){c.$csSearchResults.show("blind",{"direction":"right","complete":function(){o.triggerMethodOn(s,"show")}},100)}},100),e=function(){c.$csSearchResults.hide("blind",{"direction":"right","complete":function(){c.originatingViewElement.show("blind",{"direction":"left","complete":function(){delete v._factories.searchResults,t.originatingView.triggerMethod("dom:refresh")}},100),s.destroy(),c.$csSearchResults.remove()}},100)},c._nextNode=v.getModel(h),c.listenToOnce(c._nextNode,"change:id",i.bind(e,c)),c.listenToOnce(s,"go:back",i.bind(e,c))})}l.resolve()},function(e){l.reject(e)}),l.promise()}});return r}),csui.define("xecmpf/utils/commands/folderbrowse/open.full.page.workspace",["module","require","csui/lib/jquery","csui/lib/underscore","csui/models/command","csui/utils/contexts/factories/connector","csui/utils/url","csui/dialogs/modal.alert/modal.alert","i18n!xecmpf/utils/commands/nls/localized.strings"],function(e,t,i,n,o,s,a,r,c){var l=o.extend({"defaults":{"signature":"WorkspacePage","name":c.OpenFullPageWorkpsace,"scope":"single"},"enabled":function(t,i){var o=n.extend({"enabled":!1},e.config());return o.enabled&&!!t.container},"execute":function(t,o){var r=this,c=n.extend({"fullPageOverlay":!1},e.config()),l=i.Deferred(),u=t.originatingView?t.originatingView.context:o&&o.context,p="xecm",d=u.getObject(s),h=d&&d.connection&&d.connection.url?d.connection.url.replace("/api/v1",""):"",m=window,f=!!t&&!!t.data&&!!t.data.applyTheme,g=f?i(m.document).find("head > link[data-csui-theme-overrides]").attr("href"):void 0,b=a.combine(h,p,"nodes",t.container.get("id")),v=new XMLHttpRequest,w=new a(h).getAbsolute();if(c.fullPageOverlay)csui.require(["xecmpf/widgets/integration/folderbrowse/modaldialog/modal.dialog.view","xecmpf/widgets/integration/folderbrowse/full.page.workspace.view"],function(e,i){r.authenticate(v,h,d),v.onreadystatechange=function(){if(v.readyState===XMLHttpRequest.DONE&&200===v.status){b=a.appendQuery(b,"pageOverlay=true");var n=new i({"fullPageWorkspaceUrl":b}),o=new e({"title":t.container.get("name"),"className":"xecm-modal-dialog","iconRight":"icon-tileCollapse","view":n});if(o.show(),m.addEventListener("message",function(e){e.origin&&new RegExp(e.origin,"i").test(new a(h).getOrigin())&&e.data&&("closeDialog"===e.data.status?o.$el.find(".cs-close").click():"showDialogHeader"===e.data.status?o.$el.find(".xecm-modal-header").show():"hideDialogHeader"===e.data.status&&o.$el.find(".xecm-modal-header").hide())}),f){var s=function(e){e.origin&&new RegExp(e.origin,"i").test(new a(h).getOrigin())&&e.data&&"ok"===e.data.status&&(e.source.postMessage({"themePath":g},w),m.removeEventListener("message",s,!1))};m.addEventListener("message",s)}}},l.resolve()},function(e){l.reject(e)});else{var y=m.open("");this.authenticate(v,h,d),v.onreadystatechange=function(){4===v.readyState&&(y.location.href=b,f&&m.addEventListener("message",function(e){e.origin&&new RegExp(e.origin,"i").test(new a(h).getOrigin())&&e.data&&"ok"===e.data.status&&y.postMessage({"themePath":g},w)})),l.resolve()}}return l.promise()},"authenticate":function(e,t,i){if(i.connection.session&&i.connection.session.ticket)this.authenticateworkspace(e,t,i);else if(i.connection.credentials){var n=this,o=new XMLHttpRequest;o.onreadystatechange=function(){if(4===o.readyState)try{if(200!==o.status)throw new Error(o.status+" "+o.statusText);var s=o.getResponseHeader("content-type");if(!/^application\/json/i.test(s))throw new Error("Unsupported content type: "+s);var a=JSON.parse(o.responseText);i.connection.session=a,n.authenticateworkspace(e,t,i)}catch(r){console.error(r)}},o.open("POST",i.connection.url+"/auth",!0),o.setRequestHeader("Accept","application/json"),o.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),o.send("username="+encodeURIComponent(i.connection.credentials.username)+"&password="+encodeURIComponent(i.connection.credentials.password))}else r.showError(c.AuthenticationError)},"authenticateworkspace":function(e,t,i){e.open("GET",t+"/xecmauth",!0),e.setRequestHeader("OTCSTicket",i.connection.session.ticket),e.withCredentials=!0,e.send(null)}});return l}),csui.define("xecmpf/utils/commands/workspaces/workspace.delete",["module","require","csui/lib/underscore","csui/lib/jquery","csui/utils/commandhelper","conws/utils/commands/delete","csui/integration/folderbrowser/commands/go.to.node.history","csui/utils/commands/confirmable","csui/controls/globalmessage/globalmessage"],function(e,t,i,n,o,s,a,r,c){"use strict";var l=e.config();i.defaults(l,{"extSystemViewModes":["folderBrowse","fullPage"],"extSystemEl":"#widgetWMainWindow"});var u=new a,p=s.prototype._executeDelete,d=s.extend({"_executeDelete":function(e,t){t||(t={});var s=this.get("viewMode")||l.viewMode,a=this.get("openFullPageWorkspaceEnabled"),d=this.get("goToNodeHistoryEnabled"),h=this.get("fullPageOverlayEnabled");i.extend(e,{"viewMode":s&&(s.mode?s.mode:s),"wkspId":this.get("id")||l.id});var m=o.getJustOneNode(e);if(t.originatingView=e.originatingView,-1===l.extSystemViewModes.indexOf(e.viewMode)||!m||m.get("id")!==e.wkspId)return p.apply(this,arguments);i.extend(e,{"busObjectId":this.get("busObjectId")||l.busObjectId,"busObjectType":this.get("busObjectType")||l.busObjectType,"extSystemId":this.get("extSystemId")||l.extSystemId});var f=n.Deferred(),g=e.data||{},b=e.context||t.context,v=null!=g.showProgressDialog?g.showProgressDialog:!0;return r.execute.call(this,e,t).done(function(t){v&&c.hideFileUploadProgress(),csui.require(["xecmpf/widgets/workspaces/workspaces.widget"],function(t){u.clearHistory(b);var i={"deletecallback":!0,"workspaceNodeId":0,"busObjectId":e.busObjectId,"busObjectType":e.busObjectType,"extSystemId":e.extSystemId,"folderBrowserWidget":{"commands":{"open.full.page.workspace":{"enabled":a,"fullPageOverlay":h},"go.to.node.history":{"enabled":d}}},"viewMode":{"mode":e.viewMode}},n=new t({"context":b,"data":i});"fullPage"===e.viewMode?window.top.postMessage(JSON.stringify(i),"*"):n.show({"placeholder":l.extSystemEl})}),f.resolve(t)}).fail(function(e){f.reject(e)}),f.promise()}});return s.prototype=d.prototype,d}),csui.define("xecmpf/utils/commands/boattachments/boattachments.create",["module","require","csui/lib/underscore","csui/lib/jquery","csui/utils/url","csui/utils/commandhelper","csui/utils/command.error","csui/utils/commands/multiple.items","csui/models/command","i18n!xecmpf/utils/commands/nls/localized.strings"],function(e,t,i,n,o,s,a,r,c,l){"use strict";var u=i.extend({"nodesSelectionType":"savedQuery"},e.config()),p=c.extend({});i.extend(p.prototype,r);var d,h,m=p.extend({"defaults":{"signature":"BOAttachmentsCreate","command_key":["BOAttachmentsCreate"],"name":l.BOAttachmentCreate.name,"verb":l.BOAttachmentCreate.verb,"doneVerb":l.BOAttachmentCreate.doneVerb,"pageLeavingWarning":l.BOAttachmentCreate.pageLeavingWarning,"scope":"multiple","successMessages":{"formatForNone":l.BOAttachmentCreate.successMessages.formatForNone,"formatForOne":l.BOAttachmentCreate.successMessages.formatForOne,"formatForTwo":l.BOAttachmentCreate.successMessages.formatForMultiple,"formatForFive":l.BOAttachmentCreate.successMessages.formatForMultiple},"errorMessages":{"formatForNone":l.BOAttachmentCreate.successMessages.formatForNone,"formatForOne":l.BOAttachmentCreate.errorMessages.formatForOne,"formatForTwo":l.BOAttachmentCreate.errorMessages.formatForMultiple,"formatForFive":l.BOAttachmentCreate.errorMessages.formatForMultiple}},"enabled":function(e){if(e.data&&e.data.enabledAttach){var t=s.getAtLeastOneNode(e);return!!t.length}return!!e.collection&&!!e.collection.businessObjectActions&&!!e.collection.businessObjectActions.data&&i.has(e.collection.businessObjectActions.data,this.defaults.signature)},"execute":function(e,t){var o=n.Deferred();e.suppressFailMessage=!0,e.suppressSuccessMessage=!0,e.context=e.context||t&&t.context,t=i.extend(t,e.data,{"collection":e.collection});var a=s.getAtLeastOneNode(e);return a.length&&e.originatingView?(e.originatingView.triggerMethod("set:picker:result",{"nodes":a.models}),o.resolve(),e.originatingView.triggerMethod("close")):(e.nodesSelectionType=e.nodesSelectionType||t&&t.nodesSelectionType||u.nodesSelectionType,csui.require(["csui/controls/globalmessage/globalmessage","xecmpf/widgets/boattachments/impl/boattachment.model"],function(){d=arguments[0],h=arguments[1],this._selectNodes(e,t).then(function(i){this._showProgressbarAndPerformActions(i.nodes,e,t).then(o.resolve,o.reject)}.bind(this),function(e){e&&!e.cancelled&&d.showMessage("error",e),o.reject()})}.bind(this),o.reject)),o},"_selectNodes":function(e,t){var o=n.Deferred(),s=this;return csui.require(["csui/dialogs/node.picker/node.picker","xecmpf/controls/savedquery.node.picker/savedquery.node.picker.view","csui/controls/toolbar/toolitems.factory"],function(t,n,a){var r="savedQuery"===e.nodesSelectionType?new n(i.extend({"title":l.BOAttachmentCreate.name,"enableBackButton":!0,"backButtonToolTip":l.backButtonToolTip,"toolbarItems":{"otherToolbar":new a({"main":[{"signature":s.get("signature"),"name":l.BOAttachmentCreate.addButtonLabel,"commandData":{"enabledAttach":!0}}]},{"maxItemsShown":1,"dropDownText":l.ToolbarItemMore,"dropDownIcon":"icon icon-toolbar-more","addGroupSeparators":!1}),"inlineToolbar":!1}},i.omit(e,"collection","toolbarItems"))):new t(i.extend({"selectMultiple":!0,"selectableTypes":[],"unselectableTypes":[],"showAllTypes":!0,"dialogTitle":l.BOAttachmentCreate.name,"selectButtonLabel":l.selectButtonLabel}));r.show().then(o.resolve,o.reject)},o.reject),o},"_showProgressbarAndPerformActions":function(e,t,o){var s=n.Deferred();return csui.require(["csui/models/fileuploads"],function(n){var a=i.map(e,function(e){return{"name":e.get("name"),"state":"pending","count":0,"total":1,"node":e}}),r=new n(a),c=i.defaults({"nodes":r,"suppressMultipleFailMessage":!0},t);r.each(function(e){e.node=e.get("node"),e.unset("node",{"silent":!0})}),d.showFileUploadProgress(r,{"oneFileTitle":l.BOAttachmentCreate.progressBarMessages.oneFileTitle,"oneFileSuccess":l.BOAttachmentCreate.successMessages.formatForOne,"multiFileSuccess":l.BOAttachmentCreate.successMessages.formatForMultiple,"oneFilePending":l.BOAttachmentCreate.progressBarMessages.oneFileTitle,"multiFilePending":l.BOAttachmentCreate.progressBarMessages.multiFilePending,"oneFileFailure":l.BOAttachmentCreate.errorMessages.formatForOne,"multiFileFailure":l.BOAttachmentCreate.progressBarMessages.multiFileFailure,"someFileSuccess":l.BOAttachmentCreate.successMessages.formatForMultiple,"someFilePending":l.BOAttachmentCreate.progressBarMessages.multiFilePending,"someFileFailure":l.BOAttachmentCreate.progressBarMessages.multiFileFailure,"enableCancel":!1}),this._performActions(c,o).then(function(){d.hideFileUploadProgress(),s.resolve.apply(s,arguments)}.bind(this),s.reject)}.bind(this),s.reject),s},"_performAction":function(e,t){var i=e.node,s=i.connector;return n.ajax(s.extendAjaxOptions({"url":o.combine(s.connection.url.replace("/v1","/v2"),"businessobjects",t.extId,t.boType,t.boid,"businessattachments",i.get("id")),"type":"POST","data":{"expand":"properties{original_id,ancestors,parent_id,reserved_user_id,createdby,modifiedby}"},"success":function(i,n,o){var a=new h(i.results[0],{"connector":s,"parse":!0});a.isLocallyCreated=!0,t.collection.add(a,{"at":0}),e.deferred.resolve(e)},"error":function(t,n,o){var s=t?new a(t,i):t;e.deferred.reject(e,s)},"complete":function(t,i){e.set("count",1)}}))}});return m}),csui.define("xecmpf/widgets/eac/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/eac/impl/nls/root/lang",{"dialogTitle":"Event Action Center","selectAllLabel":"Select All","applyButtonLabel":"Apply","emptyListText":"No Events found.","ToolbarItemBack":"Back","ToolbarItemRefresh":"Refresh","finishButtonLabel":"Finish","addRuleHeaderLabel":"Add Rule","ToolbarItemFilter":"Filter","eventPlanNameLabel":"Change in employee location","addActionPlan":"Add action plan","actionPlan":"Action plan","columnEventName":"Event Name","columnSystemName":"System Name","columnActionPlan":"Action Plan","sourceLabel":"Source","editButtonLabel":"Edit","rulesLabel":"Rules","editAllButtonLabel":"Edit all","runAs":"Run as","processMode":"Process mode","noRulesDefined":"No Rules Defined","noActionDefined":"No Action Defined","noRecordsFound":"No Records found","actionsRequired":"Actions are required","resultfromPrevAct":"Result from previous Action","listViewPageEventLabel":"Event","editActionPlan":"Edit Action Plan","addNew":"Add new Action plan","action":"Action Plan","addActionSummaryPageActionPlanLabel":"Action Plan","addActionSummaryPageBusinessApplication":"Business application","addActionSummaryPageEvent":"Event","backButtonLabel":"Back","nextButtonLabel":"Next","listViewPageAddActionPlan":"+ Add Action plan","listViewPageViewActionPlan":" Action plan","addActionSummaryPageRulesLabel":"Rules","actionPlanLabel":"Action Label","editRuleHeaderLabel":"Edit Rules","addActionPlanLabel":"Add Action Plan","editActionPlanLabel":"Edit Action Plan","saveActionPlanLabel":"Save Action Plan","updateActionPlanLabel":"Update Action Plan","addRuleDialogTitle":"Add Rule ","bussapplicatoin":"Business application","ruleLabel":"Rule","conditionLabel":"Condition","warningMsgondeletionOfLast1Rule":"Atleast 1 empty rule is mandatory","warningMsgondeletionOfLast1Action":"Atleast 1 Action is mandatory","confirmDeleteMsg":"Are you sure you want to delete the Action?","conjunctionAndLabel":"And","conjunctionOrLabel":"Or","operatorEqualtoLabel":"Equal to","operatorNotequaltoLabel":"Not equal to","synchronouslyProcessLabel":"Synchronously","csObjLabel":"Content Server object","evtPropLabel":"Event property","prevActLabel":"Result from previous action","actionLabel":"Action"}),csui.define("xecmpf/models/eac/eac.eventlist.columns.definitions",["i18n!xecmpf/widgets/eac/impl/nls/lang"],function(e){var t={"event_name":{"hidden":!1,"key":"event_name","name":e.documentTypeLabel,"type":-1,"type_name":"String","sort":!0},"namespace":{"key":"namespace","name":e.documentNameLabel,"type":-2,"type_name":"String"},"action_plan":{"key":"action_plan","name":e.documentStatusLabel,"type":-1,"type_name":"String"}};return t}),csui.define("xecmpf/models/eac/eventactionplans.model",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/utils/url","csui/models/mixins/connectable/connectable.mixin","csui/models/mixins/expandable/expandable.mixin","csui/models/browsable/client-side.mixin","csui/models/columns","xecmpf/models/eac/eac.eventlist.columns.definitions"],function(e,t,i,n,o,s,a,r,c){var l=i.Model.extend({"idAttribute":"","constructor":function(e,t){t||(t={}),i.Model.prototype.constructor.apply(this,arguments)},"parse":function(e){return e&&(e.has_action_plan="false",e.action_plans&&(e.has_action_plan=(!!e.action_plans.length).toString())),e}}),u=i.Collection.extend({"model":l,"constructor":function(e,t){this.options=t||{},i.Collection.prototype.constructor.apply(this,arguments),this.makeConnectable(t).makeClientSideBrowsable(t),this.columns=new r,this.columns.reset(this.getColumnModels())},"url":function(){var e=this.connector.connection.url.replace("/v1","/v2");return e=n.combine(e,"eventactioncenter","actionplan")},"getColumnModels":function(){var t=c,i=e.keys(t),n=e.reduce(i,function(i,n){var o=t[n];return o&&i.push(e.extend({"column_key":n},o)),i},[]);return n},"parse":function(e){for(var t=e.results.data,i=0;i<t.length;i++)t[i].action_plan_count&&parseInt(t[i].action_plan_count)>0&&(t[i].enableActionPlanCount=!0),t[i].eventIndexCount=i;return t}});return o.mixin(u.prototype),a.mixin(u.prototype),u}),csui.define("xecmpf/utils/commands/eac/eac.refresh",["csui/lib/underscore","i18n!xecmpf/utils/commands/nls/localized.strings","csui/utils/commandhelper","csui/utils/commands/node","csui/utils/command.error","xecmpf/models/eac/eventactionplans.model","csui/controls/globalmessage/globalmessage"],function(e,t,i,n,o,s,a){
"use strict";var r=n.extend({"defaults":{"signature":"EACRefresh","command_key":["EACRefresh"]},"enabled":function(e,t){return!0},"execute":function(i,n){i.suppressSuccessMessage=!0,i.suppressFailMessage=!0,this.eacCollection&&(this.eacCollection=null),this.eacCollection=new s(void 0,e.extend({},i.collection.options));var o=this.eacCollection.fetch();return o.done(function(){i.collection.reset(this.eacCollection.models),a.showMessage("success",t.Refresh)}.bind(this)),o.done().fail(function(){a.showMessage("error",t.RefreshError)}),o}});return r}),csui.define("xecmpf/utils/commands/eac/eac.back",["require","csui/lib/jquery","csui/utils/base","csui/lib/underscore","i18n!csui/utils/commands/nls/localized.strings","csui/utils/commandhelper","csui/utils/commands/node","csui/utils/command.error"],function(e,t,i,n,o,s,a,r){"use strict";var c=a.extend({"defaults":{"signature":"EACBack","command_key":["EACBack"]},"enabled":function(e,t){return!0},"execute":function(e,t){}});return c}),csui.define("xecmpf/utils/commands/open.eventaction",["require","csui/lib/jquery","csui/models/command","csui/utils/commandhelper"],function(e,t,i,n){"use strict";var o=i.extend({"defaults":{"signature":"OpenEventActionPage","command_key":["default","open"],"scope":"single"},"execute":function(e,i){var o=t.Deferred();csui.require(["csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/next.node","csui/utils/contexts/factories/node"],function(t,s,a,r){var c=e.context||i&&i.context,l=c.getModel(a),u=(c.getModel(r),n.getJustOneNode(e));return e.nodes.models[0].attributes&&898===e.nodes.models[0].attributes.type&&l.set("id",u.get("id")),o.resolve(),o.promise()})}});return o}),csui.define("xecmpf/utils/eventaction.defaultaction",[],function(){"use strict";return[{"equals":{"type":[898]},"signature":"OpenEventActionPage","sequence":25}]}),csui.define("xecmpf/widgets/boattachments/impl/boattachment.table/commands/snapshot",["csui/lib/jquery","csui/lib/underscore","csui/models/command","csui/utils/commandhelper","i18n!xecmpf/utils/commands/nls/localized.strings"],function(e,t,i,n,o){var s=i.extend({"defaults":{"signature":"Snapshot","name":o.CommandSnapshot,"scope":"multiple","doneVerb":o.CommandDoneVerbCreated},"enabled":function(e){return e&&e.container&&e.nodes&&e.nodes.length>0},"execute":function(i,n){i.suppressSuccessMessage=!0,i.suppressFailMessage=!0;var s=e.Deferred(),a=i.container;return csui.require(["csui/utils/url","csui/utils/base","csui/models/node/node.model","csui/utils/contexts/factories/node","csui/utils/contexts/factories/children","csui/utils/contexts/factories/children2","csui/controls/globalmessage/globalmessage","csui/widgets/nodestable/nodestable.view","csui/utils/contexts/factories/next.node","csui/behaviors/default.action/default.action.behavior"],function(r,c,l,u,p,d,h,m,f,g){var b=new FormData,v=JSON.stringify(i.nodes.map(function(e){return e.get("id")})).replace("[","{").replace("]","}"),w=c.formatISODateTime(new Date((new Date).getTime())),y=i.collection.options.data.snapshot||{},x=i.collection.options.data.foldername||y.folderNamePrefix||"";x=x.trim()+" "+w.substring(0,w.indexOf(".")).replace(/T/g," ").replace(/:/g,"."),b.append("body",JSON.stringify(t.extend({},{"snapshot_parent_name":y.parentFolderName,"snapshot_name":x,"bus_attach_ids":v})));var _=r.combine(a.connector.connection.url.replace("/v1","/v2"),"nodes",a.get("id"),"snapshots"),k=a.connector.extendAjaxOptions({"type":"POST","url":_,"data":b,"contentType":!1,"processData":!1}),C=i.context||n.context;e.ajax(k).done(function(e,n,r){m.useV2RestApi&&(p=d);var c=C.getModel(u),b=C.getCollection(p),v=Math.abs(e.results[0].data.properties.parent_id),w=new l(e.results[0].data.properties,{"connector":a.connector});c.get("id")===v?(w.isLocallyCreated=!0,b.add(w,{"at":0}),s.resolve()):(c=b.findWhere({"id":v}),c?c.fetch().always(s.resolve):s.resolve());var y={"context":i.context,"nextNodeModelFactory":f,"link_url":g.getDefaultActionNodeUrl(w),"targetFolder":w},x=t.str.sformat(o.snapshotCreatedWithName,w.attributes.name);h.showMessage("success_with_link",x,void 0,y)}).fail(function(e,t,i){var n=e.responseJSON&&new c.Error(e.responseJSON).error;h.showMessage("error",o.snapshotFailed,n),s.reject()})}),s.promise()}});return s}),csui.define("xecmpf/utils/commands/collapse.page.overlay",["module","csui/lib/underscore","csui/lib/jquery","csui/models/command","i18n!xecmpf/utils/commands/nls/localized.strings"],function(e,t,i,n,o){var s=n.extend({"defaults":{"signature":"CollapsePageOverlay","name":o.CollapsePageOverlay},"enabled":function(i,n){var o=t.extend({"enabled":!1},e.config());return o.enabled},"execute":function(e,t){var n=window.opener?window.opener:window!==window.parent?window.parent:void 0;n&&n.postMessage({"status":"closeDialog"},"*");var o=i.Deferred();return o.promise()}});return s}),csui.define("xecmpf/widgets/integration/folderbrowse/toolbaritems",["i18n!xecmpf/widgets/integration/folderbrowse/impl/nls/localized.strings","css!xecmpf/widgets/integration/folderbrowse/impl/folderbrowse"],function(e){var t={"leftToolbar":[{"signature":"WorkspaceHistory","name":e.BackButtonToolItem,"icon":"icon arrow_back "}],"rightToolbar":[{"signature":"SearchFromHere","name":e.SearchToolItem,"icon":"icon xecmpf-icon-search","group":"main","className":"csui-search-button"},{"signature":"WorkspacePage","name":e.PageWidgetToolItem,"icon":"icon csui-icon-open-full-page","group":"main","options":{"hAlign":"right"},"commandData":{"applyTheme":!0}}]};return t}),csui.define("csui-ext",["module","csui/lib/underscore"],function(e,t){"use strict";function i(e,t){e(Array.prototype.slice.call(t))}function n(e,t){s.ignoreRequireErrors?(console.error(e),console.warn('Loading extensions of "'+name+'" failed:',e.requireModules),t([])):t.error(e)}function o(e,o,a,r,c){var l=[],u=t.filter(a,function(e){var i=e.indexOf("/");return 0>i||t.contains(s.modulePrefixesToRetry,e.substring(0,i))?!0:void l.push(e)});return u.length&&l.length?(console.error(c),console.warn('Loading extensions of "'+o+'" failed:',c.requireModules),console.warn("Dropping extensions:",l),console.warn("Retrying extensions:",u),e(u,function(){i(r,arguments)},function(e){n(e,r)}),!0):void 0}var s=t.defaults({},e.config(),{"ignoreRequireErrors":!1,"modulePrefixesToRetry":["csui","classifications","esoc","wiki","workflow","webreports"]});return{"load":function(e,s,a,r){if(r.isBuild)a();else{var c=r.config[e]||{},l=c.extensions;l?(t.isArray(l)||(l=Array.prototype.concat.apply([],t.values(l))),l.length?s(l,function(){i(a,arguments)},function(t){o(s,e,l,a,t)||n(t,a)}):a([])):a()}}}}),csui.define("xecmpf/widgets/header/impl/previewpane/impl/previewpane.list.keyboard.behavior",["module","csui/lib/underscore","csui/lib/jquery","csui/utils/log","csui/lib/marionette"],function(e,t,i,n,o){"use strict";var s={"none":-1,"list":1},a=o.Behavior.extend({"constructor":function(e,i){o.Behavior.prototype.constructor.apply(this,arguments),i.keyboardBehavior=this,this.tabableElements=[];var n=this;this.listenTo(i,"show",function(){n.refreshTabableElements(i)}),this.listenTo(i,"click:item",function(e){var t=i.selectedIndex,n=i.selectedIndexElem(t);n&&n.prop("tabindex","-1"),i.currentTabPosition=s.list,i.selectedIndex=i.collection.indexOf(e.model)}),t.extend(i,{"_focusList":function(){return(this.selectedIndex<0||void 0===this.selectedIndex)&&(this.selectedIndex=this.getSelectedIndex()),this.currentTabPosition=s.list,this.getSelectedItem().$el},"_setFocus":function(){return this._focusList()},"_listIsInFocus":function(){var e,t=!1;for(e=0;e<this.collection.length;e++){var i=this.selectedIndexElem(e);if(i&&i.is(":focus")){t=!0;break}}return t},"_checkFocusAndSetCurrentTabPosition":function(){this._listIsInFocus()?this.currentTabPosition=s.list:this.currentTabPosition=s.none},"_setFirstAndLastFocusable":function(){this.getSelectedItem()&&this.getSelectedItem().$el.prop("tabindex","0")},"currentlyFocusedElement":function(e){return this._checkFocusAndSetCurrentTabPosition(),this._setFirstAndLastFocusable(),e&&e.shiftKey?this._focusList():this.currentTabPosition===s.list?this._focusList():this._setFocus()},"_resetFocusedListElem":function(){var e,t;e=this.selectedIndex,t=this.selectedIndexElem(e),t&&t.prop("tabindex","-1"),e=this.getSelectedIndex(),t=this.selectedIndexElem(e),t&&(t.prop("tabindex","0"),this.selectedIndex=e)},"_moveTo":function(e,i,n){e.preventDefault(),e.stopPropagation(),setTimeout(t.bind(function(){n&&n.prop("tabindex","-1"),i.prop("tabindex","0"),i.focus()},this),50)},"onKeyInView":function(e){if(this._checkFocusAndSetCurrentTabPosition(),9===e.keyCode)e.shiftKey&&setTimeout(t.bind(function(){this._resetFocusedListElem()},this),50);else if(32===e.keyCode||13===e.keyCode)this.currentTabPosition===s.list&&(e.preventDefault(),e.stopPropagation(),this.selectAt(this.selectedIndex));else if(27===e.keyCode&&this.previewPane){this.previewPane.hide();var i=this.previewPane.parent.$el.find("button");i&&i.focus()}},"onKeyDown":function(e){if(this.config.debug===!0&&console.log("preview-behavior: onKeydown - keyCode:"+e.which),this._checkFocusAndSetCurrentTabPosition(),this.currentTabPosition!==s.list)return void this.onKeyInView(e);var t=this.selectedIndex;(0>t||void 0===t)&&(t=this.getSelectedIndex());var i=this.selectedIndexElem(t);switch(e.which){case 33:this._moveTo(e,this._selectFirst(),i);break;case 34:this._moveTo(e,this._selectLast(),i);break;case 38:this._moveTo(e,this._selectPrevious(),i);break;case 40:this._moveTo(e,this._selectNext(),i);break;default:return void this.onKeyInView(e)}},"_selectFirst":function(){return this.selectedIndex=0,this.selectedIndexElem(this.selectedIndex)},"_selectLast":function(){return this.selectedIndex=this.collection.length-1,this.selectedIndexElem(this.selectedIndex)},"_selectNext":function(){return(this.selectedIndex<0||void 0===this.selectedIndex)&&(this.selectedIndex=this.getSelectedIndex()),this.selectedIndex<this.collection.length-1&&this.selectedIndex++,this.selectedIndexElem(this.selectedIndex)},"_selectPrevious":function(){return(this.selectedIndex<0||void 0===this.selectedIndex)&&(this.selectedIndex=this.getSelectedIndex()),this.selectedIndex>0&&this.selectedIndex--,this.selectedIndexElem(this.selectedIndex)},"selectAt":function(e){if(!(e>=this.collection.length||0>e)){var t=this.selectedIndexElem(e);t&&t.click()}}})},"refreshTabableElements":function(e){n.debug("PreviewPaneListKeyboardBehavior::refreshTabableElements "+e.constructor.name)&&console.log(n.last),this.view.currentTabPosition=s.none,this.view.selectedIndex=-1}});return a}),csui.define("xecmpf/widgets/header/impl/previewpane/impl/previewpane.list.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/list/simplelist.view","csui/controls/node-type.icon/node-type.icon.view","xecmpf/widgets/header/impl/previewpane/impl/previewpane.list.keyboard.behavior","csui/dialogs/modal.alert/modal.alert"],function(e,t,i,n,o,s,a,r){var c=o.extend({"constructor":function(e){o.prototype.constructor.apply(this,arguments)},"behaviors":{"PreviewPaneListKeyboardBehavior":{"behaviorClass":a}},"events":{"keydown":"onKeyDown"},"initialize":function(e){e||(e={}),this.enableIcon=e.enableIcon,this.enableDescription=e.enableDescription,this.previewPane=e.previewPane,this.config=e.config,this.listenTo(this,"childview:render",this.onRenderItem),this.listenTo(this,"childview:before:destroy",this.onBeforeDestroyItem),this.listenTo(this,"click:item",this.onClickListItem)},"childViewOptions":function(e){return{"templateHelpers":function(){return{"enableIcon":this.enableIcon,"enableDescription":this.enableDescription,"name":e.get("name")}}.bind(this)}},"onClickListItem":function(e){var t=e.model.get("displayUrl"),i=e.model.get("displayUrlError");if(i)r.showError(i);else if(t){var n=window.open(t,"_blank");n.focus()}},"onRenderItem":function(e){if(e._nodeIconView=new s({"el":e.$(".csui-type-icon").get(0),"node":e.model}),e._nodeIconView.render(),this.options&&e.model&&e.model.attributes&&e.model.attributes.name&&this.options.enableDescription){var t='<div class="SLITitleDiv"><div class="SLITitle"><span title="'+e.model.attributes.name+'">'+e.model.attributes.name+'</span></div><div class="SLIDescription"><span title="'+e.model.attributes.classification_name+'">'+e.model.attributes.classification_name+"</span></div></div>";e.$(".list-item-title").replaceWith(t)}var i=e.model.get("displayUrl");if(i){var n=e.$el[0];n.href=i}},"onBeforeDestroyItem":function(e){e._nodeIconView&&e._nodeIconView.destroy()}});return c}),csui.define("hbs!xecmpf/widgets/header/impl/previewpane/impl/previewpane",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'\r\n<div class="binf-panel-body xecmpf-preview-body"></div>\r\n\r\n<div class="binf-panel-footer xecmpf-preview-footer">'+this.escapeExpression((o=null!=(o=t.info||(null!=e?e.info:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"info","hash":{}}):o))+"</div>\r\n"}});return i.registerPartial("xecmpf_widgets_header_impl_previewpane_impl_previewpane",n),n}),csui.define("css!xecmpf/widgets/header/impl/previewpane/impl/previewpane",[],function(){}),csui.define("xecmpf/widgets/header/impl/previewpane/previewpane.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/base","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","xecmpf/widgets/header/impl/previewpane/impl/previewpane.list.view","hbs!xecmpf/widgets/header/impl/previewpane/impl/previewpane","i18n","css!xecmpf/widgets/header/impl/previewpane/impl/previewpane"],function(e,t,i,n,o,s,a,r,c){var l=i.LayoutView.extend({"className":"xecmpf-preview binf-panel binf-panel-default","constructor":function(n){if(i.LayoutView.prototype.constructor.call(this,n),n||(n={}),this.config=n.config,this.config){this.parent=n.parent,this.config.readonly=!0,this.docsCollection=n.collection,this.headerTitle=n.headerTitle,this.footerInfoText=n.info,this.direction=c.settings.rtl?"left":"right",n.parent.$el.binf_popover({"content":this.$el,"placement":"auto "+this.direction,"trigger":"manual","container":"body","html":!0,"title":n.headerTitle});var o=this.parent.$el.data("binf.popover"),s=o.tip();n.customPopoverClass?"":n.customPopoverClass;s.addClass("xecmpf-previewpane-popover").addClass(n.customPopoverClass),n&&n.headerColor&&(this.config.debug===!0&&console.log("add headerColor "+n.headerColor+" to "+s.find(".binf-popover-title")),s.find(".binf-popover-title").addClass(n.headerColor)),this.parent.$el.unbind("click").bind("click",t.proxy(function(){this.config.debug===!0&&console.log("Preview : Keyboard enter item"),this.show();var t=0,i=e.str.sformat("div a:nth-child({0})",t+1),n=this.docsListView.$(i);n[0].focus()},this)),this.parent.$el.unbind("mouseenter").bind("mouseenter",t.proxy(function(){this.config.debug===!0&&console.log("Preview : Mouseenter item"),this.show()},this)),this.parent.$el.unbind("keydown").bind("keydown",t.proxy(function(){(13===event.keyCode||32===event.keyCode)&&this.show(),27===event.keyCode&&this.isRendered&&this._delayedHide()},this)),this.toggle=0,this.parent.$el.on("touchend",t.proxy(function(){this.config.debug===!0&&console.log("Preview : touchend item"),this.$el.is(":visible")||(this.toggle=0),0===this.toggle?this.show():1===this.toggle&&this._delayedHide()},this)),this.parent.$el.unbind("mouseleave").bind("mouseleave",t.proxy(function(){this.config.debug===!0&&console.log("Preview : Mouseleave item"),this._delayedHide()},this)),s.unbind("mouseenter").bind("mouseenter",t.proxy(function(){this.config.debug===!0&&console.log("Preview : Mouseenter binf-popover"),this.show()},this)),s.unbind("keydown").bind("keydown",t.proxy(function(e){27===e.keyCode&&this._delayedHide()},this)),s.unbind("mouseleave").bind("mouseleave",t.proxy(function(){this.config.debug===!0&&console.log("Preview : Mouseleave binf-popover"),this._delayedHide()},this)),this.propagateEventsToRegions(),this.listenTo(this,"dom:refresh",function(){this.options.parent.$el.binf_popover("show")})}},"template":r,"regions":{"contentRegion":".xecmpf-preview-body","footerRegion":".xecmpf-preview-footer"},"templateHelpers":function(){return{"title":this.headerTitle,"info":this.footerInfoText}},"behaviors":{"PerfectScrolling":{"behaviorClass":o,"contentParent":".xecmpf-preview-body","suppressScrollX":!0}},"onBeforeDestroy":function(e){this.config&&this.parent.$el.binf_popover("destroy")},"show":function(){if(this.config){if(this.config.debug===!0&&console.log("Preview : Preparing show"),this.hideTimeout&&(clearTimeout(this.hideTimeout),this.config.debug===!0&&console.log("Preview : Cleared hide timeout"),this.hideTimeout=null),this.$el.is(":visible"))return void(this.config.debug===!0&&console.log("Preview : Already visible"));this.showCancelled=!1,this.$el.hide(),this.render(),this.docsListView&&this.docsListView.destroy(),this.docsListView=new a({"collection":this.docsCollection,"enableIcon":this.options.enableIcon,"enableDescription":this.options.enableDescription,"previewPane":this,"config":this.config}),this.listenTo(this.docsListView,"before:DefaultAction",function(e){e.cancelDefaultAction=this.options.cancelDefaultAction}),this.showCancelled?this.config.debug===!0&&console.log("Preview : Show was cancelled"):(this.config.debug===!0&&console.log("Preview : Showing"),this.contentRegion.show(this.docsListView,{"render":!0}),this.$el.show(),this.triggerMethod("before:show",this),this.toggle=1,this.options.parent.$el.binf_popover("show"),this.triggerMethod("show",this),this.config.debug===!0&&(console.log("Viewport height: "+t(window).height()),console.log("document height: "+t(document).height()),console.log("body     height: "+t("body").height()),console.log("binf-popover  height: "+this.$el.height()),console.log("list     height: "+this.$el.find(".xecmpf-preview-body").height())))}},"hide":function(){this.config.debug===!0&&console.log("Preview : Going to hide"),this.config&&!this.config.debugNoHide?(this.config.debug===!0&&console.log("Preview : Hidden"),this.toggle=0,this.options.parent.$el.binf_popover("hide"),this.hideTimeout=null):this.config.debug===!0&&console.log("Preview : Leaving visible"),this.showCancelled=!0,this.hideTimeout=null},"_delayedHide":function(){this.config.debug===!0&&console.log("Preview : Setting hide timeout"),this.hideTimeout=window.setTimeout(t.proxy(this.hide,this),200)},"onShow":function(){this.$(".cs-simplelist.binf-panel").css("height",this.$(".binf-panel-body.xecmpf-preview-body").height()),this.footerInfoText||t(this.regions.footerRegion).hide()}});return e.extend(l.prototype,s),l}),csui.define("hbs!xecmpf/widgets/header/impl/completenesscheck/impl/completenesscheckitem",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'  <span class="csui-icon '+this.escapeExpression((o=null!=(o=t.icon||(null!=e?e.icon:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"icon","hash":{}}):o))+'"></span>\r\n  <button class="count binf-btn binf-btn-default xecmpf-docscount-without-text">'+this.escapeExpression((o=null!=(o=t.docsCount||(null!=e?e.docsCount:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"docsCount","hash":{}}):o))+'</button>\r\n  <button class="count binf-btn binf-btn-default xecmpf-docscount-with-text">'+this.escapeExpression((o=null!=(o=t.docsCountWithText||(null!=e?e.docsCountWithText:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"docsCountWithText","hash":{}}):o))+"</button>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,null!=e?e.docsCount:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:""}});return i.registerPartial("xecmpf_widgets_header_impl_completenesscheck_impl_completenesscheckitem",n),n}),csui.define("hbs!xecmpf/widgets/header/impl/completenesscheck/impl/completenesscheck",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){return'  <div class="missing-docs-check"></div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return null!=(o=t.unless.call(e,null!=e?e.hideMissingDocsCheck:e,{"name":"unless","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:""}});return i.registerPartial("xecmpf_widgets_header_impl_completenesscheck_impl_completenesscheck",n),n}),csui.define("xecmpf/widgets/header/impl/completenesscheck/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/header/impl/completenesscheck/impl/nls/root/lang",{"missingDocsTitle":"Missing documents","dialogTitle":"Reports","recentReportName":"Last 10 added documents","addedReportName":"Documents you added","missingReportName":"{0} missing","emptyMessage":"No documents to display"}),csui.define("css!xecmpf/widgets/header/impl/completenesscheck/impl/completenesscheck",[],function(){}),csui.define("xecmpf/widgets/header/impl/completenesscheck/completenesscheck.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","conws/models/workspacecontext/workspacecontext.factory","xecmpf/widgets/header/impl/completenesscheck/impl/missingdocuments.factory","csui-ext!xecmpf/widgets/header/completenesscheck/completenesscheck.factory","xecmpf/widgets/header/impl/previewpane/previewpane.view","hbs!xecmpf/widgets/header/impl/completenesscheck/impl/completenesscheckitem","hbs!xecmpf/widgets/header/impl/completenesscheck/impl/completenesscheck","i18n!xecmpf/widgets/header/impl/completenesscheck/impl/nls/lang","css!xecmpf/widgets/header/impl/completenesscheck/impl/completenesscheck"],function(e,t,i,n,o,s,a,r,c,l,u){var p="selfserviceOutdatedCollection",d="selfserviceQueuedCollection",h=n.ItemView.extend({"className":"docs-check-list-item","constructor":function(e){e||(e={}),n.ItemView.prototype.constructor.apply(this,arguments),this.listenTo(this.options.collection,"change",this.render),this.options&&this.options.preview&&(this.previewPane=new r({"parent":this,"context":this.options.workspaceContext,"config":this.options.preview,"collection":this.options.collection,"headerTitle":this.options.title,"enableIcon":this.options.enableIcon,"headerColor":e.headerColor,"enableDescription":e.enableDescription,"info":this.options.info,"cancelDefaultAction":this.options.cancelDefaultAction,"customPopoverClass":this.options.customPopoverClass}))},"template":c,"templateHelpers":function(){return{"icon":this.options.icon,"docsCount":this.options.collection.length,"docsCountWithText":e.str.sformat(this.options.label,this.options.collection.length)}},"onBeforeDestroy":function(){this.previewPane&&(this.previewPane.destroy(),delete this.previewPane)}}),m=n.LayoutView.extend({"className":"xecmpf-completenesscheck","constructor":function(e){e||(e={}),n.LayoutView.prototype.constructor.apply(this,arguments),e.workspaceContext||(e.workspaceContext=e.context.getObject(o)),e.workspaceContext.setWorkspaceSpecific(s),this.missingDocsCollection=e.hideMissingDocsCheck?void 0:e.workspaceContext.getCollection(s)},"template":l,"onRender":function(){this.showCompletenessCheck({"collection":this.missingDocsCollection,"title":u.missingDocsTitle,"label":u.missingReportName,"icon":"missing-icon","index":0,"enableIcon":!1,"region":this.missingDocsRegion,"enableDescription":!1,"cancelDefaultAction":!0,"customPopoverClass":"xecmpf-missing-docs-check"}),this.showExternalViews(this.options)},"regions":{"missingDocsRegion":".missing-docs-check"},"showCompletenessCheck":function(e){e.collection&&(e.collection.fetched===!0&&e.collection.length>0&&this._showCompletenessCheck(e),this.listenToOnce(e.collection,"sync",function(){e.collection.length>0&&(e.collection.fetched=!0,this._showCompletenessCheck(e))}))},"_showCompletenessCheck":function(e){if(this.showRegion=!0,!e.region){var t=this.regionManager.completenesscheck_view0,i=this.regionManager.completenesscheck_view1;if(t&&0===e.index||i&&1===e.index)this.showRegion=!1;else{var n="completenesscheck_view"+e.index;this.addRegion(n),e.region=this.regionManager[n]}}this.showRegion&&e.region.show(new h({"workspaceContext":this.options.workspaceContext,"collection":e.collection,"preview":{"debug":!1},"title":e.title,"label":e.label,"icon":e.icon,"headerColor":e.headerColor,"enableIcon":e.enableIcon,"enableDescription":e.enableDescription,"cancelDefaultAction":e.cancelDefaultAction,"customPopoverClass":e.customPopoverClass}))},"showExternalViews":function(t){if(a&&a.length>0){var i,n=this;e.each(a,function(e,s){t.hideOutdatedDocsCheck&&e.prototype.propertyPrefix===p||t.hideInProcessDocsCheck&&e.prototype.propertyPrefix===d||(t.workspaceContext||(t.workspaceContext=t.context.getObject(o)),t.workspaceContext.setWorkspaceSpecific(e),i=t.workspaceContext.getCollection(e),n.showCompletenessCheck({"collection":i,"title":i.options.name,"label":i.options.label?i.options.label:i.options.name,"icon":i.options.iconClass,"headerColor":i.options.headerColor,"enableIcon":i.options.enableIcon,"enableDescription":i.options.enableDescription,"index":s,"cancelDefaultAction":i.options.cancelDefaultAction,"customPopoverClass":i.options.customPopoverClass}))})}},"addRegion":function(e){this.regionManager||(this.regionManager={});var i=this,o=t(this.el);o.append(t("<div></div>").attr({"class":e}));var s=n.Region.buildRegion(o.find("."+e),n.Region);s.getEl=function(e){return i.$(e)},this.regionManager[e]=s}});return m}),csui.define("xecmpf/widgets/header/headertoolbaritems",["module","csui/lib/underscore","csui/controls/toolbar/toolitems.factory","csui/controls/toolbar/toolitem.model","conws/widgets/header/impl/favorite.icon.view","conws/widgets/header/impl/commenting.icon.view","xecmpf/widgets/header/impl/completenesscheck/completenesscheck.view","i18n!csui/controls/tabletoolbar/impl/nls/localized.strings","i18n!xecmpf/utils/commands/nls/localized.strings","csui-ext!xecmpf/widgets/header/headertoolbaritems"],function(e,t,i,n,o,s,a,r,c,l){var u={"rightToolbar":new i({"main":[{"signature":"SearchFromHere","name":c.SearchWorkspace,"icon":"icon xecmpf-icon-search","className":"csui-search-button","index":1},{"signature":"Comment","name":r.ToolbarItemComment,"icon":"icon icon-socialComment","enabled":!0,"className":"esoc-socialactions-comment","customView":!0,"viewClass":s,"commandData":{"useContainer":!0},"index":5},{"signature":"Favorite2","enabled":!0,"viewClass":o,"customView":!0,"commandData":{"useContainer":!0},"index":6}],"completeness":[{"signature":"CompletenessCheck","enabled":!0,"viewClass":a,"customView":!0,"commandData":{"useContainer":!0},"index":2}]})};return l&&t.each(l,function(e){t.each(e,function(e,i){var o=u[i];o&&t.each(e,function(e){e=new n(e),o.addItem(e)})})}),u.rightToolbar.collection.comparator=function(e){return e.get("index")},u.rightToolbar.collection.sort(),u}),csui.define("xecmpf/widgets/header/commonheadertoolbaritems",["i18n!xecmpf/utils/commands/nls/localized.strings"],function(e){var t={"rightToolbar":[{"signature":"CollapsePageOverlay","name":e.CollapsePageOverlay,"icon":"icon xecmpf-collapse-icon","className":"xecmpf-collapse","index":7,"group":"main"}]};return t}),csui.define("xecmpf/widgets/boattachments/impl/boattachment.table/tablecell/createdby.view",["csui/lib/underscore","csui/controls/table/cells/cell/cell.view","csui/controls/table/cells/cell.registry","csui/utils/base"],function(e,t,i,n){"use strict";var o=t.extend({"className":"csui-truncate","getValueText":function(){return o.getValue(this.model,this.options.column)}},{"getValue":function(t,i){var o,s=i.name,a=t.get(s+"_expand")||t.get(s)||"";return o=e.isObject(a)?n.formatMemberName(a):t.get(s+"_formatted")||a.toString()},"getModelExpand":function(e){return{"properties":[e.column.name]}}});return i.registerByDataType(14,o),i.registerByDataType(19,o),i.registerByColumnKey("createdby",o),o}),csui.define("xecmpf/widgets/boattachments/impl/boattachment.table/tablecell/modifiedby.view",["csui/lib/underscore","csui/controls/table/cells/cell/cell.view","csui/controls/table/cells/cell.registry","csui/utils/base"],function(e,t,i,n){"use strict";var o=t.extend({"className":"csui-truncate","getValueText":function(){return o.getValue(this.model,this.options.column)}},{"getValue":function(t,i){var o,s=i.name,a=t.get(s+"_expand")||t.get(s)||"";return o=e.isObject(a)?n.formatMemberName(a):t.get(s+"_formatted")||a.toString()},"getModelExpand":function(e){return{"properties":[e.column.name]}}});return i.registerByDataType(14,o),i.registerByDataType(19,o),i.registerByColumnKey("modifiedby",o),o}),csui.define("hbs!xecmpf/widgets/eac/impl/carousel.nav/carousel.nav",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,n&&n.last,{"name":"if","hash":{},"fn":this.program(2,n,0),"inverse":this.program(4,n,0),"data":n}))?o:""},"2":function(e,t,i,n){return'<div class="carousel-nav-dot"></div>\r\n'},"4":function(e,t,i,n){return'<div class="carousel-nav-dot"></div>\r\n<div class="carousel-nav-dash"></div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return null!=(o=t.each.call(e,null!=e?e.items:e,{"name":"each","hash":{},"fn":this.program(1,n,0),"inverse":this.noop,"data":n}))?o:""},"useData":!0});return i.registerPartial("xecmpf_widgets_eac_impl_carousel.nav_carousel.nav",n),n}),csui.define("css!xecmpf/widgets/eac/impl/carousel.nav/carousel.nav",[],function(){}),csui.define("xecmpf/widgets/eac/impl/carousel.nav/carousel.nav.view",["csui/lib/jquery","csui/lib/marionette","hbs!xecmpf/widgets/eac/impl/carousel.nav/carousel.nav","css!xecmpf/widgets/eac/impl/carousel.nav/carousel.nav"],function(e,t,i){"use strict";var n=t.ItemView.extend({"className":"carousel-nav","template":i,"constructor":function(e){e||(e={}),t.ItemView.prototype.constructor.apply(this,arguments),this.count=e.count,this.active=e.active},"ui":{"navDots":">.carousel-nav-dot"},"templateHelpers":function(){return{"items":new Array(this.count)}},"onRender":function(){void 0!==this.active&&e(this.ui.navDots[this.active]).addClass("active")},"onBack":function(){this.active>0&&(this.ui.navDots.removeClass("active"),e(this.ui.navDots[--this.active]).addClass("active"))},"onNext":function(){this.active||(this.active=0),this.active<this.count-1&&(this.ui.navDots.removeClass("active"),e(this.ui.navDots[++this.active]).addClass("active"))}});return n}),csui.define("xecmpf/models/eac/eac.planproperties.model",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/models/mixins/connectable/connectable.mixin","csui/models/mixins/fetchable/fetchable.mixin","csui/utils/url"],function(e,t,i,n,o,s){var a=i.Model.extend({"constructor":function(e,t){this.options=t||{},i.Model.prototype.constructor.apply(this,arguments),this.makeConnectable(t)},"parse":function(e){return e}});n.mixin(a.prototype);var r=i.Collection.extend({"model":a,"constructor":function(e,t){this.options=t||{},i.Collection.prototype.constructor.apply(this,arguments),this.makeConnectable(t).makeFetchable(t)},"url":function(){var e=this.connector.connection.url.replace("v1","v2");return e=s.combine(e,"eventactioncenter","eventproperties"),e+this.queryParamsToString(this.options.query)},"parse":function(e){return e.results.data},"queryParamsToString":function(i){var n="";return e.isEmpty(i)||(n="?"+t.param(i)),n.replace(/%5B%5D/g,"")}});return n.mixin(r.prototype),o.mixin(r.prototype),r}),csui.define("xecmpf/models/eac/eac.planproperties.factory",["csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","xecmpf/models/eac/eac.planproperties.model"],function(e,t,i,n,o){var s=i.extend({"propertyPrefix":"EACPlanPropertiesCollection","constructor":function(s,a){i.prototype.constructor.apply(this,arguments);var r=this.options.EACPlanPropertiesCollection||{};if(!(r instanceof t.Collection)){var c,l;a.eventModel.get?(c=a.eventModel.get("namespace"),
l=a.eventModel.get("event_name")):(c=a.eventModel.attributes.namespace,l=a.eventModel.attributes.event_name),r=new o(r.models,e.extend({"connector":s.getModel(n),"query":{"event_name":l,"system_name":c},"autofetch":!0},r.options))}this.property=r},"fetch":function(e){return this.property.fetch(e)}});return s}),csui.define("xecmpf/widgets/eac/impl/actionplan/add/rule.form.model",["csui/lib/underscore","csui/models/form","xecmpf/models/eac/eac.planproperties.factory","i18n!xecmpf/widgets/eac/impl/nls/lang"],function(e,t,i,n){var o=t.extend({"constructor":function(e,i){this.options=i||(i={}),e||(e={"data":{},"schema":{"properties":{}},"options":{"fields":{}}}),this.conjunction="",this.operand="",this.operator="",this.position="",this.value="",this.options.rules&&(this.conjunction=this.options.rules.conjunction,this.operand=this.options.rules.operand,this.operator=this.options.rules.operator,this.position=this.options.rules.position,this.value=this.options.rules.value),t.prototype.constructor.call(this,e,i)},"initialize":function(t,n){if(e.isEmpty(t.data)){var o,s;n.eventModel.get?(o=n.eventModel.get("namespace"),s=n.eventModel.get("event_name")):(o=n.eventModel.attributes.namespace,s=n.eventModel.attributes.event_name);var a=n.context.getCollection(i,{"eventModel":n.eventModel,"attributes":{"namespace":o,"event_name":s}});a.planProperties?this._setAttributes(a.planProperties):(this.listenToOnce(a,"sync",function(){a.planProperties=a.map(function(e){return e.get("name")}),this._setAttributes(a.planProperties)}),a.fetch())}},"_setAttributes":function(e){var t=this;this.set({"data":{"from":this.operand,"operator":this.operator,"to":this.value,"conjunction":this.conjunction},"schema":{"properties":{"from":{"enum":e,"required":!0,"type":"string"},"operator":{"enum":["Equal to","Not equal to"],"required":!0,"type":"string"},"to":{"minLength":1,"maxLength":248,"required":!0,"type":"string"},"conjunction":{"enum":["And","Or"],"required":!1,"type":"string"}}},"options":{"fields":{"from":{"label":"","type":"select","events":{"change":function(){t.setValue(this.path,this.getValue())}}},"operator":{"label":"","type":"select","optionLabels":[n.operatorEqualtoLabel,n.operatorNotequaltoLabel],"events":{"change":function(){t.setValue(this.path,this.getValue())}}},"to":{"label":"","type":"text","events":{"change":function(){setTimeout(function(){t.setValue(this.path,this.getValue())}.bind(this),0)}}},"conjunction":{"label":"","type":"select","optionLabels":[n.conjunctionAndLabel,n.conjunctionOrLabel],"events":{"change":function(e){t.setValue(this.path,this.getValue()),t.options.selectCallback&&"function"==typeof t.options.selectCallback&&t.options.selectCallback(e,t)}}}}}})}});return o}),csui.define("hbs!xecmpf/widgets/eac/impl/emptyruleslist/impl/emptyrules.list.item",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<div class="xecmpf-eac-rules">\r\n    <span class="xecmpf-eac-rules-empty">'+this.escapeExpression((o=null!=(o=t.emptyRules||(null!=e?e.emptyRules:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"emptyRules","hash":{}}):o))+"</span>\r\n</div>\r\n"}});return i.registerPartial("xecmpf_widgets_eac_impl_emptyruleslist_impl_emptyrules.list.item",n),n}),csui.define("css!xecmpf/widgets/eac/impl/eac",[],function(){}),csui.define("xecmpf/widgets/eac/impl/emptyruleslist/emptyrules.list.item.view",["csui/lib/marionette","hbs!xecmpf/widgets/eac/impl/emptyruleslist/impl/emptyrules.list.item","i18n!xecmpf/widgets/eac/impl/nls/lang","css!xecmpf/widgets/eac/impl/eac"],function(e,t,i){var n=e.ItemView.extend({"template":t,"templateHelpers":function(){return{"emptyRules":this.options.noRules?i.noRulesDefined:""}},"constructor":function(t){this.options=t,e.ItemView.prototype.constructor.call(this,t)}});return n}),csui.define("hbs!xecmpf/widgets/eac/impl/actionplan/add/rule",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return"\r\n<div class='eac-rules-list'>\r\n"+(null!=(o=t["if"].call(e,null!=e?e.noRules:e,{"name":"if","hash":{},"fn":this.program(2,n,0),"inverse":this.program(4,n,0)}))?o:"")+"</div>\r\n\r\n"},"2":function(e,t,i,n){var o;return"  <span class='eac-rules-list-norules'>"+this.escapeExpression((o=null!=(o=t.noRulesDef||(null!=e?e.noRulesDef:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"noRulesDef","hash":{}}):o))+"</span>\r\n"},"4":function(e,t,i,n){var o;return"  <span class='eac-rules-list-name'>"+this.escapeExpression((o=null!=(o=t.ruleName||(null!=e?e.ruleName:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"ruleName","hash":{}}):o))+"</span>\r\n  <span class='eac-rules-list-operator'>"+this.escapeExpression((o=null!=(o=t.operator||(null!=e?e.operator:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"operator","hash":{}}):o))+"</span>\r\n  <span class='eac-rules-list-value' title="+this.escapeExpression((o=null!=(o=t.value||(null!=e?e.value:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"value","hash":{}}):o))+">"+this.escapeExpression((o=null!=(o=t.value||(null!=e?e.value:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"value","hash":{}}):o))+"</span>\r\n"},"6":function(e,t,i,n){var o;return"\r\n<div class='eac-rule-header'>\r\n  <h5 class='eac-rule-title'>"+this.escapeExpression((o=null!=(o=t.conditionLabel||(null!=e?e.conditionLabel:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"conditionLabel","hash":{}}):o))+" "+this.escapeExpression((o=null!=(o=t.sequence||(null!=e?e.sequence:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"sequence","hash":{}}):o))+'</h5>\r\n  <button class=\'xecmpf-eac-rule-delete csui-icon eac-delete-icon\' aria-hidden="true"></button>\r\n</div>\r\n<div class="xecmpf-eac-rule-form"></div>\r\n\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,null!=e?e.summary:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(6,n,0)}))?o:""}});return i.registerPartial("xecmpf_widgets_eac_impl_actionplan_add_rule",n),n}),csui.define("hbs!xecmpf/widgets/eac/impl/actionplan/add/rules",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'\r\n<h2 class="xecmpf-eac-rules-header">'+this.escapeExpression((o=null!=(o=t.rulesLabel||(null!=e?e.rulesLabel:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"rulesLabel","hash":{}}):o))+'</h2>\r\n<div class="xecmpf-eac-rules-container"></div>\r\n\r\n'},"3":function(e,t,i,n){return'<div class="csui-perfect-scrolling xecmpf-eac-rules-form">\r\n    <div class="xecmpf-eac-rules-container"></div>\r\n</div>\r\n\r\n\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,null!=e?e.summary:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(3,n,0)}))?o:""}});return i.registerPartial("xecmpf_widgets_eac_impl_actionplan_add_rules",n),n}),csui.define("xecmpf/widgets/eac/impl/actionplan/add/rules.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/utils/contexts/factories/connector","csui/controls/form/form.view","csui/controls/progressblocker/blocker","xecmpf/widgets/eac/impl/actionplan/add/rule.form.model","xecmpf/widgets/eac/impl/emptyruleslist/emptyrules.list.item.view","csui/controls/tile/behaviors/perfect.scrolling.behavior","hbs!xecmpf/widgets/eac/impl/actionplan/add/rule","hbs!xecmpf/widgets/eac/impl/actionplan/add/rules","csui/controls/globalmessage/globalmessage","i18n!xecmpf/widgets/eac/impl/nls/lang","csui/utils/deepClone/deepClone"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h){var m=n.LayoutView.extend({"className":"xecmpf-eac-rule","template":u,"templateHelpers":function(){return{"summary":this.options.summary,"ruleName":this.model.attributes.formModel.attributes.data.from,"operator":this.model.attributes.formModel.attributes.data.operator,"value":this.model.attributes.formModel.attributes.data.to,"noRules":this.options.noRules,"noRulesDef":h.noRulesDefined,"conditionLabel":h.conditionLabel}},"initialize":function(e){e.summary||(this.formView=new s({"context":this.options.context,"layoutMode":"singleCol","mode":"create","model":this.model.get("formModel")}),a.imbue(this.formView))},"regions":{"ruleForm":".xecmpf-eac-rule-form"},"events":{"click .xecmpf-eac-rule-delete":"_deleteRule","click .xecmpf-eac-rule-copy":"_copyRule"},"_deleteRule":function(){if(this._parent.collection.length>1){var e=this._parent;this.model.destroy();var t;e.collection.forEach(function(e,i){t=++i,e.set("sequence",t),e.get("formModel").options.sq=t}),e.collection.models[t-1].attributes.formModel.attributes.data.conjunction="",e.render()}else d.showMessage("warning",h.warningMsgondeletionOfLast1Rule)},"onRender":function(){if(this.formView){this.showChildView("ruleForm",this.formView),this.formView.blockActions();var e=this;this.listenTo(this.formView,"render",function(){e.formView.unblockActions()})}},"getSubmitData":function(){return""!==this.formView.getValues().from&&""!==this.formView.getValues().operator&&""!==this.formView.getValues().to?this.formView.getValues():void 0}}),f=n.CompositeView.extend({"className":"xecmpf-eac-rules","template":p,"templateHelpers":function(){return{"summary":this.options.summary,"rulesLabel":h.rulesLabel}},"region":{"rulesRegion":".xecmpf-eac-rules-container"},"behaviors":{"PerfectScrolling":{"behaviorClass":l,"contentParent":".xecmpf-eac-rules-form","suppressScrollX":!0,"scrollXMarginOffset":15}},"initialize":function(e){var t,n=this;if(!e.collection)if(this.collection=new i.Collection,e.eventModel.fromEdit){var o,s=this.options.eventModel.get("rules");if(0===s.length)t=new i.Model({"sequence":1,"formModel":new r(void 0,{"context":this.options.context,"eventModel":this.options.eventModel,"sq":1,"selectCallback":function(e,t){n.actionPlanSelected(e,t)}})}),this.collection.add(t);else for(o=0;o<s.length;o++)t=new i.Model({"sequence":o+1,"formModel":new r(void 0,{"context":this.options.context,"eventModel":this.options.eventModel,"sq":o+1,"rules":s[o],"selectCallback":function(e,t){n.actionPlanSelected(e,t)}})}),this.collection.add(t)}else t=new i.Model({"sequence":1,"formModel":new r(void 0,{"context":this.options.context,"eventModel":this.options.eventModel,"sq":1,"selectCallback":function(e,t){n.actionPlanSelected(e,t)}})}),this.collection.add(t);this.listenTo(this,"changeCong",function(e,t){this.collection&&this.collection.length===t.options.sq&&this.addNewRule()})},"actionPlanSelected":function(e,t){""!==t.attributes.data.conjunction&&this.trigger("changeCong",e,t)},"emptyView":c,"emptyViewOptions":function(){return this.options},"addNewRule":function(){var t=!0,n=this;if(e.map(this.children._views,function(e){if(e.formView&&!e.formView.validate()){t=!1;var n=new i.Model({"id":null,"name":"<None>"});e.formView.form.childrenByPropertyId.conjunction.fieldView.setValue(n)}}),t){var o=new i.Model({"sequence":this.collection.length+1,"formModel":new r(void 0,{"context":this.options.context,"eventModel":this.options.eventModel,"sq":this.collection.length+1,"selectCallback":function(e,t){n.actionPlanSelected(e,t)}})});this.collection.add(o)}},"childViewContainer":".xecmpf-eac-rules-container","childView":m,"childViewOptions":function(){return{"context":this.options.context,"eventModel":this.options.eventModel,"summary":this.options.summary,"noRules":this.options.noRules}},"getSummaryData":function(){return this.collection},"getSubmitData":function(){return e.map(this.children._views,function(e){return e.getSubmitData()})}});return f}),csui.define("xecmpf/models/eac/eac.defaultplans.model",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/models/mixins/connectable/connectable.mixin","csui/models/mixins/fetchable/fetchable.mixin","csui/utils/url"],function(e,t,i,n,o,s){var a=i.Model.extend({"constructor":function(e,t){t||(t={}),i.Model.prototype.constructor.apply(this,arguments),this.makeConnectable(t)},"parse":function(e){return e}});n.mixin(a.prototype);var r=i.Collection.extend({"model":a,"constructor":function(e,t){this.options=t||{},i.Collection.prototype.constructor.apply(this,arguments),this.makeConnectable(t).makeFetchable(t)},"url":function(){var e=this.connector.connection.url.replace("v1","v2");return e=s.combine(e,"eventactioncenter","actions"),e+this.queryParamsToString(this.options.query)},"parse":function(e){return e.results.actions},"queryParamsToString":function(i){var n="";return e.isEmpty(i)||(n="?"+t.param(i)),n.replace(/%5B%5D/g,"")}});return n.mixin(r.prototype),o.mixin(r.prototype),r}),csui.define("xecmpf/models/eac/eac.defaultplans.factory",["csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","xecmpf/models/eac/eac.defaultplans.model"],function(e,t,i,n,o){var s=i.extend({"propertyPrefix":"EACDefaultPlansCollection","constructor":function(s,a){i.prototype.constructor.apply(this,arguments);var r=this.options.EACDefaultPlansCollection||{};r instanceof t.Collection||(r=new o(r.models,e.extend({"connector":s.getModel(n),"autofetch":!0},r.options))),this.property=r},"fetch":function(e){return this.property.fetch(e)}});return s}),csui.define("xecmpf/widgets/eac/impl/actionplan/add/action.form.model",["csui/lib/jquery","csui/lib/backbone","csui/models/form","xecmpf/models/eac/eac.defaultplans.factory","xecmpf/models/eac/eac.planproperties.factory","i18n!xecmpf/widgets/eac/impl/nls/lang"],function(e,t,i,n,o,s){var a=i.extend({"constructor":function(e,t){this.options=t||(t={}),e||(e={"data":{},"schema":{"properties":{}},"options":{"fields":{}}}),this.action_key="",this.options.actions?(this.action_name=this.options.actions.action_name,this.action_key=this.options.actions.action_key):e&&e.data&&e.data.action&&(this.action_key=e.data.action),i.prototype.constructor.call(this,e,t)},"initialize":function(t,i){var s,a,r=[],c=i.context.getCollection(n);i.eventModel.get?(s=i.eventModel.get("namespace"),a=i.eventModel.get("event_name")):(s=i.eventModel.attributes.namespace,a=i.eventModel.attributes.event_name);var l=i.context.getCollection(o,{"eventModel":i.eventModel,"attributes":{"namespace":s,"event_name":a}});c.fetched||r.push(c.fetch()),l.planProperties||r.push(l.fetch()),e.when.apply(e,r).done(function(){l.planProperties=l.map(function(e){return e.get("name")}),t&&t.data&&t.data.action?this.set(t):this._setAttributes(c,l.planProperties)}.bind(this))},"_setAttributes":function(e,t){var i=this,n={"data":{"action":i.action_key},"schema":{"type":"object","properties":{"action":{"type":"string","required":!0}}},"options":{"fields":{"action":{"type":"select","events":{"change":function(){i.setValue(this.path,this.getValue())}}}}}},o=[],a=[],r="",c="";this.options.actions&&(r=this.options.actions,c=this.options.actions.attribute_mappings);for(var l=0;l<e.models.length;l++){var u=e.models[l].get("action_key");if(o.push(u),a.push(e.models[l].get("action_name")),e.models[l].get("actions_attributes").length>0){var p=n.schema;p.properties[u+"_fields"]={"properties":{},"dependencies":"action"};var d=p.properties[u+"_fields"].properties,h=n.options;h.fields[u+"_fields"]={"fields":{},"dependencies":{"action":u}};for(var m=h.fields[u+"_fields"].fields,f=n.data[u+"_fields"]={},g=0;g<e.models[l].get("actions_attributes").length;g++){var b=e.models[l].attributes.actions_attributes[g].key,v="",w="",y="Result from previous action";this.options.actions&&g<=this.options.actions.attribute_mappings.length-1&&(v=this.options.actions.attribute_mappings[g].mapping_method,w=this.options.actions.attribute_mappings[g].mapping_data),"Content Server Object"===v?v="csObj":"Event Property"===v?v="evtProp":"Result from previous Action"===v&&(v="prevAct"),d[b]={"properties":{"source":{"type":"string","enum":["csObj","evtProp","prevAct"]},"properties_label":{"dependencies":"source","type":"string","readonly":!0},"csObj_field":{"dependencies":"source","type":"string","required":!0},"evtProp_field":{"dependencies":"source","type":"string","required":!0,"enum":t},"prevAct_field":{"dependencies":"source","type":"string","required":!0,"readonly":!0}}},m[b]={"fields":{"source":{"type":"select","label":s.sourceLabel,"optionLabels":[s.csObjLabel,s.evtPropLabel,s.prevActLabel]},"properties_label":{"label":e.models[l].get("actions_attributes")[g].name,"type":"text","dependencies":{"source":""}},"csObj_field":{"type":"otcs_node_picker","label":e.models[l].get("actions_attributes")[g].name,"type_control":{"parameters":{"startLocations":["csui/dialogs/node.picker/start.locations/current.location","csui/dialogs/node.picker/start.locations/enterprise.volume","csui/dialogs/node.picker/start.locations/personal.volume","csui/dialogs/node.picker/start.locations/favorites","csui/dialogs/node.picker/start.locations/recent.containers","csui/dialogs/node.picker/start.locations/category.volume","csui/dialogs/node.picker/start.locations/perspective.assets.volume","recman/dialogs/node.picker/start.locations/classifications.volume"]}},"dependencies":{"source":"csObj"}},"evtProp_field":{"type":"select","label":e.models[l].get("actions_attributes")[g].name,"dependencies":{"source":"evtProp"}},"prevAct_field":{"label":e.models[l].get("actions_attributes")[g].name,"type":"text","dependencies":{"source":"prevAct"}}}},f[b]={"source":v,"properties_label":" ","csObj_field":w,"evtProp_field":w,"prevAct_field":y}}}}n.schema.properties.action["enum"]=o,n.options.fields.action.optionLabels=a,this.set(n)}});return a}),csui.define("hbs!xecmpf/widgets/eac/impl/actionplan/add/action",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,null!=e?e.actionName:e,{"name":"if","hash":{},"fn":this.program(2,n,0),"inverse":this.noop}))?o:""},"2":function(e,t,i,n){var o;return"<div class='eac-actions-list'>0"+this.escapeExpression((o=null!=(o=t.sequence||(null!=e?e.sequence:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"sequence","hash":{}}):o))+" "+this.escapeExpression((o=null!=(o=t.actionName||(null!=e?e.actionName:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"actionName","hash":{}}):o))+"</div>\r\n"},"4":function(e,t,i,n){var o;return"\r\n<div class='eac-action-header'>\r\n  <h5 class='eac-action-title'>"+this.escapeExpression((o=null!=(o=t.actionLabel||(null!=e?e.actionLabel:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"actionLabel","hash":{}}):o))+" "+this.escapeExpression((o=null!=(o=t.sequence||(null!=e?e.sequence:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"sequence","hash":{}}):o))+'</h5>\r\n  <button class="xecmpf-eac-action-delete csui-icon eac-delete-icon" aria-hidden="true"></button>\r\n  <button class=\'xecmpf-eac-action-copy csui-icon eac-copy-icon\' aria-hidden="true"></button>\r\n</div>\r\n<div class="xecmpf-eac-action-form"></div>\r\n\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,null!=e?e.summary:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(4,n,0)}))?o:""}});return i.registerPartial("xecmpf_widgets_eac_impl_actionplan_add_action",n),n}),csui.define("hbs!xecmpf/widgets/eac/impl/actionplan/add/actions",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'\r\n<h2 class="xecmpf-eac-actions-header">'+this.escapeExpression((o=null!=(o=t.actionslabel||(null!=e?e.actionslabel:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"actionslabel","hash":{}}):o))+'</h2>\r\n<div class="xecmpf-eac-actions-container"></div>\r\n\r\n'},"3":function(e,t,i,n){return'\r\n<div class="csui-perfect-scrolling xecmpf-eac-actions-form">\r\n    <div class="xecmpf-eac-actions-container"></div>\r\n    <div class="xecmpf-eac-actions-new-add">\r\n      <span class="carousel-nav-dash"></span>\r\n      <span class="csui-icon eac-add-icon" aria-hidden="true"></span>\r\n      <span class="carousel-nav-dash"></span>\r\n    </div>\r\n</div>\r\n\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,null!=e?e.summary:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(3,n,0)}))?o:""}});return i.registerPartial("xecmpf_widgets_eac_impl_actionplan_add_actions",n),n}),csui.define("xecmpf/widgets/eac/impl/actionplan/add/actions.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/utils/contexts/factories/connector","csui/controls/form/form.view","xecmpf/widgets/eac/impl/actionplan/add/action.form.model","csui/controls/progressblocker/blocker","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/controls/globalmessage/globalmessage","hbs!xecmpf/widgets/eac/impl/actionplan/add/action","hbs!xecmpf/widgets/eac/impl/actionplan/add/actions","i18n!xecmpf/widgets/eac/impl/nls/lang"],function(e,t,i,n,o,s,a,r,c,l,u,p,d){var h=n.LayoutView.extend({"className":"xecm-eac-action","template":u,"templateHelpers":function(){var e,t,i;return this.model.attributes.formModel.attributes.data.action&&(e=this.model.attributes.formModel.attributes.data.action.lastIndexOf("."),t=this.model.attributes.formModel.attributes.data.action.slice(e+1),i=t),{"summary":this.options.summary,"actionName":i,"actionLabel":d.actionLabel}},"initialize":function(){this.options.summary||(this.formView=new s({"context":this.options.context,"layoutMode":"singleCol","mode":"create","model":this.model.get("formModel")}),r.imbue(this.formView))},"regions":{"actionForm":".xecmpf-eac-action-form"},"events":{"click .xecmpf-eac-action-delete":"_deleteAction","click .xecmpf-eac-action-copy":"_copyAction"},"_deleteAction":function(){if(this._parent.collection.length>1){var e=this._parent;this.model.destroy(),e.collection.forEach(function(e,t){e.set("sequence",++t)}),e.render()}else l.showMessage("warning",d.warningMsgondeletionOfLast1Action)},"_copyAction":function(){var t=e.deepClone(this.model.get("formModel").attributes),n=new i.Model({"sequence":this.model.collection.length+1,"formModel":new a(t,{"context":this.options.context,"eventModel":this.options.eventModel})});this.model.collection.add(n)},"onRender":function(){if(this.formView){this.showChildView("actionForm",this.formView),this.formView.blockActions();var e=this;this.listenTo(this.formView,"render",function(){e.formView.unblockActions()})}},"getSubmitData":function(){return this.formView.getValues()}}),m=n.CompositeView.extend({"className":"xecmpf-eac-actions","template":p,"templateHelpers":function(){return{"summary":this.options.summary,"actionslabel":d.addActionSummaryPageActionPlanLabel}},"regions":{"actionsRegion":".xecmpf-eac-actions-container"},"behaviors":{"PerfectScrolling":{"behaviorClass":c,"contentParent":".xecmpf-eac-actions-form","suppressScrollX":!0,"scrollXMarginOffset":15}},"initialize":function(e){if(!e.collection){this.collection=new i.Collection;var t;if(e.eventModel.fromEdit){var n,o=this.options.eventModel.get("actions");for(n=0;n<o.length;n++)t=new i.Model({"sequence":n+1,"formModel":new a(void 0,{"context":this.options.context,"eventModel":this.options.eventModel,"actions":o[n]})}),this.collection.add(t)}else t=new i.Model({"sequence":1,"formModel":new a(void 0,{"context":this.options.context,"eventModel":this.options.eventModel})}),this.collection.add(t)}},"events":{"click .xecmpf-eac-actions-new-add":"addNewAction"},"addNewAction":function(){var t=!0;if(e.map(this.children._views,function(e){e.formView.validate()||(t=!1)}),t){var n=new i.Model({"sequence":this.collection.length+1,"formModel":new a(void 0,{"context":this.options.context,"eventModel":this.options.eventModel})});this.collection.add(n)}},"childViewContainer":".xecmpf-eac-actions-container","childView":h,"childViewOptions":function(){return{"context":this.options.context,"eventModel":this.options.eventModel,"summary":this.options.summary}},"getSummaryData":function(){return this.collection},"getSubmitData":function(){return e.map(this.children._views,function(e){return e.getSubmitData()})}});return m}),csui.define("xecmpf/widgets/eac/impl/actionplan/add/summary.form.model",["csui/models/form","i18n!xecmpf/widgets/eac/impl/nls/lang"],function(e,t){var i=e.extend({"constructor":function(t,i){this.options=i||(i={}),t||(t={"schema":{"properties":{}},"options":{"fields":{}},"date":{}}),e.prototype.constructor.call(this,t,i)},"initialize":function(e,t){this._setAttributes()},"_setAttributes":function(){var e=this,i="",n="";this.options.eventModel&&this.options.eventModel.attributes&&this.options.eventModel.attributes.process_mode&&(n=this.options.eventModel.attributes.process_mode),this.options.eventModel&&this.options.eventModel.attributes&&this.options.eventModel.attributes.run_as_key&&(i=this.options.eventModel.attributes.run_as_key),this.set({"schema":{"properties":{"run_as":{"required":!0,"type":"otcs_user_picker"},"process_mode":{"enum":["Synchronously"],"required":!0,"type":"string"}}},"options":{"fields":{"run_as":{"label":t.runAs,"type":"otcs_user_picker","events":{"change":function(){e.setValue(this.path,this.getValue())}}},"process_mode":{"label":t.processMode,"type":"select","optionLabels":[t.synchronouslyProcessLabel],"events":{"change":function(){e.setValue(this.path,this.getValue())}}}}},"data":{"run_as":i,"process_mode":n}})}});return i}),csui.define("hbs!xecmpf/widgets/eac/impl/actionplan/add/summary",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<div class=\'csui-perfect-scrolling xecmpf-eac-summary-view\'>\r\n    <div class="xecmpf-eac-summary-bo-form">\r\n        <span class="xecmpf-eac-summary-bussapp">'+this.escapeExpression((o=null!=(o=t.bussapp||(null!=e?e.bussapp:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"bussapp","hash":{}}):o))+'</span>\r\n        <span class="xecmpf-eac-summary-namespace">'+this.escapeExpression((o=null!=(o=t.namespace||(null!=e?e.namespace:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"namespace","hash":{}}):o))+'</span>\r\n    </div>\r\n    <div class="xecmpf-eac-summary-rules"></div>\r\n    <div class="xecmpf-eac-summary-actions"></div>\r\n    <div class="xecmpf-eac-summary-form"></div>\r\n</div>'}});return i.registerPartial("xecmpf_widgets_eac_impl_actionplan_add_summary",n),n}),csui.define("xecmpf/widgets/eac/impl/actionplan/add/summary.view",["csui/lib/backbone","csui/lib/marionette","csui/controls/form/form.view","xecmpf/widgets/eac/impl/actionplan/add/summary.form.model","xecmpf/widgets/eac/impl/actionplan/add/rules.view","xecmpf/widgets/eac/impl/actionplan/add/actions.view","xecmpf/widgets/eac/impl/emptyruleslist/emptyrules.list.item.view","csui/controls/tile/behaviors/perfect.scrolling.behavior","hbs!xecmpf/widgets/eac/impl/actionplan/add/summary","i18n!xecmpf/widgets/eac/impl/nls/lang"],function(e,t,i,n,o,s,a,r,c,l){var u=t.LayoutView.extend({"className":"xecmpf-eac-summary","template":c,"templateHelpers":function(){return{"bussapp":l.bussapplicatoin,"namespace":this.options.eventModel.get?this.options.eventModel.get("namespace"):this.options.eventModel.attributes.namespace}},"regions":{"rules":".xecmpf-eac-summary-rules","actions":".xecmpf-eac-summary-actions","form":".xecmpf-eac-summary-form"},"behaviors":{"PerfectScrolling":{"behaviorClass":r,"contentParent":".xecmpf-eac-summary-view","suppressScrollX":!0,"scrollXMarginOffset":15}},"initialize":function(e){},"onRender":function(){var e=!1;1===this.options.data.rules.length?(""===this.options.data.rules.models[0].attributes.formModel.get("data").from||""===this.options.data.rules.models[0].attributes.formModel.get("data").operator||""===this.options.data.rules.models[0].attributes.formModel.get("data").to)&&(e=!0):0===this.options.data.rules.length&&(e=!0),this.rulesSummaryView=new o({"summary":!0,"noRules":e,"collection":this.options.data.rules}),this.actionsSummaryView=new s({"summary":!0,"collection":this.options.data.actions});var t=new n(void 0,{"context":this.options.context,"eventModel":this.options.eventModel});this.formView=new i({"context":this.options.context,"mode":"create","model":t}),this.showChildView("rules",this.rulesSummaryView),this.showChildView("actions",this.actionsSummaryView),this.showChildView("form",this.formView)},"getSubmitData":function(){return this.formView.getValues()}});return u}),csui.define("hbs!xecmpf/widgets/eac/impl/actionplan/add/actionplan.add",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div class="xecmpf-eac-actionplan-add-nav"></div>\r\n<div class="xecmpf-eac-actionplan-add-content"></div>'}});return i.registerPartial("xecmpf_widgets_eac_impl_actionplan_add_actionplan.add",n),n}),csui.define("css!xecmpf/widgets/eac/impl/actionplan/add/actionplan.add",[],function(){}),csui.define("xecmpf/widgets/eac/impl/actionplan/add/actionplan.add.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/contexts/factories/connector","xecmpf/widgets/eac/impl/carousel.nav/carousel.nav.view","xecmpf/widgets/eac/impl/actionplan/add/rules.view","xecmpf/widgets/eac/impl/actionplan/add/actions.view","xecmpf/widgets/eac/impl/actionplan/add/summary.view","csui/controls/globalmessage/globalmessage","csui/controls/tile/behaviors/perfect.scrolling.behavior","hbs!xecmpf/widgets/eac/impl/actionplan/add/actionplan.add","csui/behaviors/keyboard.navigation/tabkey.behavior","i18n!xecmpf/widgets/eac/impl/nls/lang","css!xecmpf/widgets/eac/impl/actionplan/add/actionplan.add"],function(e,t,i,n,o,s,a,r,c,l,u,p,d){function h(t,i){var n=i[t];return e.isFunction(n)?n.call(this):n}var m=i.LayoutView.extend({"className":"xecmpf-eac-actionplan-add","template":u,"steps":[{"key":"rules","viewClass":s,"label":d.addRuleDialogTitle,"updateLabel":d.editRuleHeaderLabel,"buttons":["eac-actionplan-add-next-btn"]},{"key":"actions","viewClass":a,"label":d.addActionPlanLabel,"updateLabel":d.editActionPlanLabel,"buttons":["eac-actionplan-add-back-btn","eac-actionplan-add-next-btn"]},{"key":"summary","viewClass":r,"label":d.saveActionPlanLabel,"updateLabel":d.updateActionPlanLabel,"viewOptions":function(){var e=this.steps.reduce(function(e,t){return t.view&&!t.view.isDestroyed&&(e[t.key]=h.call(t.view,"getSummaryData",t.view)),e},{});return{"data":e}},"buttons":["eac-actionplan-add-back-btn","eac-actionplan-add-finish-btn"]}],"initialize":function(e){this.active=0,this.navView=new o({"count":this.steps.length,"active":this.active}),this.step=this.steps[this.active],e.btnOptions.activeButtons=this.step.buttons,e.btnOptions.genInfo=this.generalInfo(e)},"behaviors":{"TabKeyRegion":{"behaviorClass":p}},"generalInfo":function(e){var t,i={};return e.eventModel.attributes?t=e.eventModel.attributes:e.currentModel.attributes&&(t=e.currentModel.attributes,e.eventModel.attributes={"namespace":e.currentModel.attributes.namespace,"event_name":e.currentModel.attributes.event_name}),i.event_id=t.event_id,i.namespace=t.namespace,i.event_name=t.event_name,i.rule_id=t.rule_id,i.plan_id=t.plan_id,i},"regions":{"nav":".xecmpf-eac-actionplan-add-nav","content":".xecmpf-eac-actionplan-add-content"},"onBack":function(e,t){this.active>0&&(this.step=this.steps[--this.active],e.activeButtons=this.step.buttons,this._showContentView(t),this.navView.triggerMethod("back"))},"onNext":function(t,i){var n=!0;this.active<this.steps.length-1&&("actions"===this.step.key&&e.map(this.step.view.children._views,function(e){e.formView.validate()||(n=!1)}),"rules"===this.step.key&&e.map(this.step.view.children._views,function(e){e.formView.model.get("data").to&&e.formView.model.get("data").from&&e.formView.model.get("data").operator?n=!0:e.formView.model.get("data").to||e.formView.model.get("data").from||e.formView.model.get("data").operator?(n=!1,e.formView.validate()):n=!0}),n&&(this.step=this.steps[++this.active],
t.activeButtons=this.step.buttons,this._showContentView(i),this.navView.triggerMethod("next")))},"onFinish":function(e,i){var o=!0;if("summary"===this.step.key&&(this.step.view.formView.validate()||(o=!1)),o){var s=this.steps.reduce(function(e,t){return t.view&&!t.view.isDestroyed&&(e[t.key]=h.call(t.view,"getSubmitData",t.view),"rules"===t.key&&void 0===e[t.key][0]&&(e[t.key]=void 0)),e},{});s.gen_information=e.genInfo;var a=new FormData,r=JSON.stringify(s);a.append("action_plan_items",r);var l=this.options.context.getObject(n),u=l.connection.url.replace("/v1","/v2")+"/eventactioncenter/actionplan",p=this;t.ajax(l.extendAjaxOptions({"type":"PUT","url":u,"data":a,"processData":!1,"contentType":!1,"success":function(e){if(p.trigger("sync"),200===e.results.statusCode&&e.results.ok){p.trigger("refreshEACListPage");var t=c.showMessage("success",e.results.msg);setTimeout(function(){t.doClose()},3e3)}},"error":function(e,t,i){p.trigger("error"),p.trigger("refreshEACListPage");var n=e.responseJSON?e.responseJSON.errorDetail?e.responseJSON.errorDetail:e.responseJSON.error:"Server Error: Unable to perform the action",o=c.showMessage("error",n);setTimeout(function(){o.doClose()},3e3)}}))}},"_showContentView":function(t){(!this.step.view||this.step.view.isDestroyed)&&(this.step.view=new this.step.viewClass(e.extend({"context":this.options.context,"eventModel":this.options.eventModel,"headerView":t},h.call(this,"viewOptions",this.step)))),this.showChildView("content",this.step.view,{"preventDestroy":!0}),t&&t.options&&t.options.headers&&(t.options.fromEdit?t.options.headers[0]={"label":this.step.updateLabel,"class":"eac-dialog-header"}:t.options.headers[0]={"label":this.step.label,"class":"eac-dialog-header"},t.render())},"onRender":function(){this.showChildView("nav",this.navView),this._showContentView()},"onAfterShow":function(){this.step.view.triggerMethod("dom:refresh")},"onBeforeDestroy":function(){this.navView.destroy(),this.steps.forEach(function(e){e.view&&e.view.destroy()})}});return m}),csui.define("hbs!xecmpf/widgets/eac/impl/previewpane/impl/previewpane.header.view",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){return'        <button class="csui-icon xecmpf-eac-popover-back-icon" aria-hidden="true" id="xecmpf-eac-popover-back"></button>\r\n'},"3":function(e,t,i,n){return'        <button class="csui-icon xecmpf-eac-popover-next-icon" aria-hidden="true" id="xecmpf-eac-popover-next"></button>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o,s;return'\r\n    <div class="xecmpf-eac-popover-backbutton">\r\n'+(null!=(o=t["if"].call(e,null!=e?e.enableBackButton:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:"")+'    </div>\r\n\r\n<div class="eac-header">\r\n    <span class="xecmpf-eac-popover-headerName">'+this.escapeExpression((s=null!=(s=t.headerTypeName||(null!=e?e.headerTypeName:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"headerTypeName","hash":{}}):s))+" "+this.escapeExpression((s=null!=(s=t.index||(null!=e?e.index:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"index","hash":{}}):s))+'</span>\r\n    <span class="xecmpf-eac-popover-plan">'+this.escapeExpression((s=null!=(s=t.planName||(null!=e?e.planName:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"planName","hash":{}}):s))+'</span>\r\n</div>\r\n\r\n    <div class="xecmpf-eac-popover-nextbutton">\r\n'+(null!=(o=t["if"].call(e,null!=e?e.enableNextButton:e,{"name":"if","hash":{},"fn":this.program(3,n,0),"inverse":this.noop}))?o:"")+"    </div>\r\n\r\n"}});return i.registerPartial("xecmpf_widgets_eac_impl_previewpane_impl_previewpane.header.view",n),n}),csui.define("xecmpf/widgets/eac/impl/previewpane/previewpane.header.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","hbs!xecmpf/widgets/eac/impl/previewpane/impl/previewpane.header.view","i18n!xecmpf/widgets/eac/impl/nls/lang","css!xecmpf/widgets/eac/impl/eac"],function(e,t,i,n,o,s,a){var r=n.ItemView.extend({"className":"xecmpf-eac-binf-popover-header-view","constructor":function(e){e||(e={}),this.options=e,n.ItemView.prototype.constructor.call(this,e),this.model=new i.Model({"headerTypeName":this.options.headerTypeName,"planName":this.options.planName,"enableBackButton":this.options.enableBackButton,"enableNextButton":this.options.enableNextButton,"index":this.options.index})},"template":s,"templateHelpers":function(){return{"headerTypeName":this.model.get("headerTypeName"),"planName":this.model.get("planName"),"enableBackButton":this.model.get("enableBackButton"),"enableNextButton":this.model.get("enableNextButton"),"index":this.model.get("index")}},"onBeforeDestroy":function(){this._nodeIconView&&this._nodeIconView.destroy()}});return e.extend(r.prototype,o),r}),csui.define("hbs!xecmpf/widgets/eac/impl/previewpane/impl/previewpane.footer.view",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return"<!--<div id='xecmpf-eac-popover-footer' class='xecmpf-eac-popover-footer'>-->\r\n    <button class='xecmpf-eac-popover-footer-class'>"+this.escapeExpression((o=null!=(o=t.edit||(null!=e?e.edit:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"edit","hash":{}}):o))+"</button>\r\n<!--</div>-->"}});return i.registerPartial("xecmpf_widgets_eac_impl_previewpane_impl_previewpane.footer.view",n),n}),csui.define("xecmpf/widgets/eac/impl/previewpane/previewpane.footer.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/mixins/view.events.propagation/view.events.propagation.mixin","hbs!xecmpf/widgets/eac/impl/previewpane/impl/previewpane.footer.view","i18n!xecmpf/widgets/eac/impl/nls/lang","css!xecmpf/widgets/eac/impl/eac"],function(e,t,i,n,o,s,a){var r=n.ItemView.extend({"className":"xecmpf-eac-binf-popover-footer-view","events":{"click #xecmpf-eac-popover-footer":"openEditDialogue"},"constructor":function(e){e||(e={}),this.options=e,n.ItemView.prototype.constructor.call(this,e)},"template":s,"templateHelpers":function(){return{"edit":this.options.editButtonName||a.editButtonLabel}},"onBeforeDestroy":function(){this._nodeIconView&&this._nodeIconView.destroy()}});return e.extend(r.prototype,o),r}),csui.define("hbs!xecmpf/widgets/eac/impl/previewpane/impl/previewpane.list.item",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'    <div class="xecmpf-eac-rules">\r\n'+(null!=(o=t["if"].call(e,null!=e?e.noRules:e,{"name":"if","hash":{},"fn":this.program(2,n,0),"inverse":this.program(4,n,0)}))?o:"")+"        \r\n    </div>\r\n"},"2":function(e,t,i,n){var o;return'            <span class="xecmpf-eac-rules-empty">'+this.escapeExpression((o=null!=(o=t.emptyRules||(null!=e?e.emptyRules:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"emptyRules","hash":{}}):o))+"</span>\r\n"},"4":function(e,t,i,n){var o;return'            <span class="xecmpf-eac-rules-key">'+this.escapeExpression((o=null!=(o=t.operand||(null!=e?e.operand:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"operand","hash":{}}):o))+'</span>\r\n            <span class="xecmpf-eac-rules-operator">'+this.escapeExpression((o=null!=(o=t.operator||(null!=e?e.operator:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"operator","hash":{}}):o))+'</span> &nbsp;&nbsp;\r\n            <span class="xecmpf-eac-rules-value">'+this.escapeExpression((o=null!=(o=t.value||(null!=e?e.value:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"value","hash":{}}):o))+'</span>\r\n            <!--<span class="xecmpf-eac-rules-conjection">'+this.escapeExpression((o=null!=(o=t.conjunction||(null!=e?e.conjunction:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"conjunction","hash":{}}):o))+"</span>-->\r\n"},"6":function(e,t,i,n){var o,s;return'    <div class="xecmpf-eac-actions">\r\n'+(null!=(o=t["if"].call(e,null!=e?e.actionscount:e,{"name":"if","hash":{},"fn":this.program(7,n,0),"inverse":this.noop}))?o:"")+'        \r\n        <span class="xecmpf-eac-actions-name">0'+this.escapeExpression((s=null!=(s=t.position||(null!=e?e.position:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"position","hash":{}}):s))+" "+this.escapeExpression((s=null!=(s=t.action_name||(null!=e?e.action_name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"action_name","hash":{}}):s))+"</span>\r\n    </div>\r\n"},"7":function(e,t,i,n){var o;return null!=(o=t.each.call(e,null!=e?e.actionscount:e,{"name":"each","hash":{},"fn":this.program(8,n,0),"inverse":this.noop}))?o:""},"8":function(e,t,i,n){return'                <span class="xecmpf-eac-actions-id">'+this.escapeExpression(this.lambda(e,e))+"</span>\r\n"},"10":function(e,t,i,n){var o;return'    <div class="xecmpf-eac-actplan-run">\r\n        <span class="xecmpf-eac-actplan-runas">'+this.escapeExpression((o=null!=(o=t.runAsHeader||(null!=e?e.runAsHeader:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"runAsHeader","hash":{}}):o))+'</span>\r\n        <span class="xecmpf-eac-actplan-user">'+this.escapeExpression((o=null!=(o=t.runAsUser||(null!=e?e.runAsUser:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"runAsUser","hash":{}}):o))+'</span>\r\n    </div>\r\n    <div class="xecmpf-eac-actplan-process">\r\n        <span class="xecmpf-eac-actplan-mode">'+this.escapeExpression((o=null!=(o=t.processHeader||(null!=e?e.processHeader:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"processHeader","hash":{}}):o))+'</span>\r\n        <span class="xecmpf-eac-actplan-value">'+this.escapeExpression((o=null!=(o=t.processMode||(null!=e?e.processMode:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"processMode","hash":{}}):o))+"</span>\r\n    </div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return(null!=(o=t["if"].call(e,null!=e?e.isRulesView:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:"")+(null!=(o=t["if"].call(e,null!=e?e.isActionPlanView:e,{"name":"if","hash":{},"fn":this.program(6,n,0),"inverse":this.noop}))?o:"")+"\r\n"+(null!=(o=t["if"].call(e,null!=e?e.isactPlanRunView:e,{"name":"if","hash":{},"fn":this.program(10,n,0),"inverse":this.noop}))?o:"")}});return i.registerPartial("xecmpf_widgets_eac_impl_previewpane_impl_previewpane.list.item",n),n}),csui.define("xecmpf/widgets/eac/impl/previewpane/previewpane.list.item.view",["csui/lib/marionette","hbs!xecmpf/widgets/eac/impl/previewpane/impl/previewpane.list.item","i18n!xecmpf/widgets/eac/impl/nls/lang","css!xecmpf/widgets/eac/impl/eac"],function(e,t,i){var n=e.ItemView.extend({"tagName":"div","template":t,"templateHelpers":function(){var e=this;return{"isRulesView":e.options.rulesView,"isActionPlanView":e.options.actionsView,"runAsHeader":e.options.runAsHeader,"runAsUser":e.options.runAsUser,"processHeader":e.options.processHeader,"processMode":e.options.processMode,"isactPlanRunView":e.options.isactPlanRunView,"noRules":e.options.noRules?e.options.noRules:!1,"emptyRules":i.noRulesDefined,"action_name":this.options.model.get("action_name")}},"constructor":function(t){if(t||(t={}),this.options=t,this.options.actionsView){var i=this.options.model.get("action_key").lastIndexOf("."),n=this.options.model.get("action_key").slice(i+1);this.options.model.attributes.action_name=n}e.ItemView.prototype.constructor.call(this,t)}});return n}),csui.define("xecmpf/widgets/eac/impl/previewpane/previewpane.list.view",["csui/lib/backbone","csui/lib/marionette","xecmpf/widgets/eac/impl/emptyruleslist/emptyrules.list.item.view","xecmpf/widgets/eac/impl/previewpane/previewpane.list.item.view"],function(e,t,i,n){var o=t.CollectionView.extend({"emptyView":i,"emptyViewOptions":function(){return this.options},"childView":n,"childViewOptions":function(){return this.options},"constructor":function(i){i||(i={}),this.options=i,this.options.rulesView&&0===this.options.collection.length&&(this.options.noRules=!0),this.options.collection||(this.options.collection=new e.Collection({"runAsHeader":this.options.runAsHeader,"runAsUser":this.options.runAsUser,"processHeader":this.options.processHeader,"processMode":this.options.processMode,"isactPlanRunView":this.options.actPlanRunView})),t.CollectionView.prototype.constructor.call(this,i)}});return o}),csui.define("hbs!xecmpf/widgets/eac/impl/previewpane/impl/previewpane.layout.view",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<div class="xecmpf-eac-popover-header"></div>\r\n<div class="xecmpf-eac-navigation-controller"></div>\r\n<div class="csui-perfect-scrolling xecmpf-eac-popover-content-all">\r\n    <div class="xecmpf-eac-rules-header">'+this.escapeExpression((o=null!=(o=t.rule||(null!=e?e.rule:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"rule","hash":{}}):o))+'</div>    \r\n    <div class="xecmpf-eac-rules-region"></div>\r\n\r\n    <div class="xecmpf-eac-actionplan-header">'+this.escapeExpression((o=null!=(o=t.actionPlanLabel||(null!=e?e.actionPlanLabel:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"actionPlanLabel","hash":{}}):o))+'</div>\r\n    <div class="xecmpf-eac-action-region"></div>\r\n\r\n    <div class="xecmpf-eac-popover-runas">\r\n    </div>\r\n</div>\r\n<div class="xecmpf-eac-popover-footer"></div>\r\n'}});return i.registerPartial("xecmpf_widgets_eac_impl_previewpane_impl_previewpane.layout.view",n),n}),csui.define("xecmpf/widgets/eac/impl/previewpane/previewpane.layout.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/utils/url","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/utils/contexts/factories/connector","xecmpf/widgets/eac/impl/previewpane/previewpane.header.view","xecmpf/widgets/eac/impl/previewpane/previewpane.footer.view","xecmpf/widgets/eac/impl/carousel.nav/carousel.nav.view","xecmpf/widgets/eac/impl/previewpane/previewpane.list.view","hbs!xecmpf/widgets/eac/impl/previewpane/impl/previewpane.layout.view","csui/behaviors/keyboard.navigation/tabkey.behavior","i18n!xecmpf/widgets/eac/impl/nls/lang"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h){var m=n.LayoutView.extend({"className":"xecmpf-eac-binf-popover-layout-view","template":p,"events":{"click #xecmpf-eac-popover-back":"navigateToPreviousView","click #xecmpf-eac-popover-next":"navigateToNextView","click .xecmpf-eac-popover-footer":"openEditAllActionPlan"},"regions":{"headerRegion":".xecmpf-eac-popover-header","rulesRegion":".xecmpf-eac-rules-region","actionRegion":".xecmpf-eac-action-region","runasRegion":".xecmpf-eac-popover-runas","footerRegion":".xecmpf-eac-popover-footer","navigationRegion":".xecmpf-eac-navigation-controller"},"constructor":function(e){e||(e={}),n.LayoutView.prototype.constructor.apply(this,arguments),this.currIndex=0,this.actionplan=this.options.model.get("action_plans"),this.actionplan.eventname=this.options.model.get("event_name"),this.actionplan.namespace=this.options.model.get("namespace"),this.actionplan.eventid=this.options.model.get("event_id"),this.actionplan.systemname=this.options.model.get("business_application"),this.updateLayoutView(this.currIndex,!1)},"templateHelpers":function(){return{"rule":h.rulesLabel,"actionPlanLabel":h.columnActionPlan}},"behaviors":{"PerfectScrolling":{"behaviorClass":s,"contentParent":".xecmpf-eac-popover-content-all","suppressScrollX":!0,"scrollYMarginOffset":15},"TabKeyRegion":{"behaviorClass":d}},"updateLayoutView":function(e,t){this.headerView(e,t),this.contentView(e,t),this.navCouroselView(e,t),this.footerView(t)},"navigateToNextView":function(){this.updateLayoutView(this.currIndex+1,!0),this.currIndex=this.currIndex+1},"navigateToPreviousView":function(){this.updateLayoutView(this.currIndex-1,!0),this.currIndex=this.currIndex-1},"openEditAllActionPlan":function(e){e.currIndex=this.currIndex,this.trigger("PopoverLayoutEidtAll",e)},"headerView":function(e,t){this.headerRegionViewObject&&t&&this.headerRegionViewObject.destroy(),e+=1;var i=!1,n=!1,o=this.model.attributes.action_plans.length;e===o?(i=1===o?!1:!0,n=!1):1===e?(i=!1,n=!0):(i=!0,n=!0),this.headerRegionViewObject=new r({"headerTypeName":h.actionPlan,"planName":this.actionplan.eventname,"index":e,"enableBackButton":i,"enableNextButton":n}),t&&this.headerRegion.show(this.headerRegionViewObject)},"contentView":function(e,t){this.rulesView&&this.actionsView&&this.actPlanRunasView&&t&&(this.rulesView.destroy(),this.actionsView.destroy(),this.actPlanRunasView.destroy());var n=this.actionplan,o=n[e].rules,s=n[e].actions;this.rulesView=new u({"collection":new i.Collection(o),"rulesView":!0}),this.actionsView=new u({"collection":new i.Collection(s),"actionsView":!0}),this.actPlanRunasView=new u({"runAsHeader":h.runAs,"runAsUser":n[e].run_as_value,"processHeader":h.processMode,"processMode":n[e].process_mode,"isactPlanRunView":!0}),t&&(this.rulesRegion.show(this.rulesView),this.actionRegion.show(this.actionsView),this.runasRegion.show(this.actPlanRunasView))},"footerView":function(e){this.footerRegionViewObject&&e&&this.footerRegionViewObject.destroy(),this.footerRegionViewObject=new c({"enableButton":!0,"editButtonName":h.editAllButtonLabel}),e&&this.footerRegion.show(this.footerRegionViewObject)},"navCouroselView":function(e,t){this.navigationViewObject&&t&&this.navigationViewObject.destroy();var i=this.model.attributes.action_plans.length,n=e;i>1&&(this.navigationViewObject=new l({"count":i,"active":n})),t&&this.navigationRegion.show(this.navigationViewObject)},"_onDomRefresh":function(){this.$el.is(":visible")&&(this.runasRegion||this.rulesRegion||this.actionRegion)&&(this.rulesRegion.triggerMethod("dom:refresh",this.rulesRegion),this.actionRegion.triggerMethod("dom:refresh",this.actionRegion),this.runasRegion.triggerMethod("dom:refresh",this.runasRegion))},"onRender":function(){this.headerRegion.show(this.headerRegionViewObject),this.footerRegion.show(this.footerRegionViewObject),this.navigationViewObject&&this.navigationRegion.show(this.navigationViewObject),this.runasRegion.show(this.actPlanRunasView),this.rulesRegion.show(this.rulesView),this.actionRegion.show(this.actionsView)}});return m}),csui.define("hbs!xecmpf/widgets/eac/impl/previewpane/impl/previewpane",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div class="binf-panel-body xecmpf-eac-preview-body"></div>'}});return i.registerPartial("xecmpf_widgets_eac_impl_previewpane_impl_previewpane",n),n}),csui.define("xecmpf/widgets/eac/impl/previewpane/previewpane.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/behaviors/keyboard.navigation/tabkey.behavior","xecmpf/widgets/eac/impl/previewpane/previewpane.layout.view","hbs!xecmpf/widgets/eac/impl/previewpane/impl/previewpane","css!xecmpf/widgets/eac/impl/eac"],function(e,t,i,n,o,s,a,r){var c=i.LayoutView.extend({"class":"xecmpf-eac-preview binf-panel binf-panel-default","constructor":function(e){if(i.LayoutView.prototype.constructor.apply(this,arguments),e||(e={}),this.config=e.config,this.currElemClassName=e.currElemClassName,this.previewPane=this.options.parent.$el.find("."+this.currElemClassName),this.config){this.parent=e.parent,this.config.readonly=!0,this.previewCollection=e.model,this.headerTitle=e.headerTitle,this.footerInfoText=e.info,this.previewPane.binf_popover({"content":this.$el,"placement":"auto left","trigger":"manual","container":"body","html":!0});var n=this.previewPane.data("binf.popover"),o=n.tip();o.addClass("xecmpf-eac-previewpane-popover"),this.previewPane.unbind("click").bind("click",t.proxy(function(){this.show()},this)),this.previewPane.unbind("keydown").bind("keydown",t.proxy(function(){27===event.keyCode&&this.isRendered&&this.destroy()},this)),o.unbind("click").bind("click",t.proxy(function(){this.show()},this)),o.unbind("keydown").bind("keydown",t.proxy(function(e){27===e.keyCode&&this.destroy()},this)),o.unbind("mouseenter").bind("mouseenter",t.proxy(function(){this.show()},this)),o.unbind("mouseleave").bind("mouseleave",t.proxy(function(){this.isDestroyed||this.destroy()},this)),this.propagateEventsToRegions(),this.listenTo(this,"dom:refresh",function(){this.previewPane.binf_popover("show")})}},"template":r,"regions":{"contentRegion":".xecmpf-eac-preview-body","footRegion":".xecmpf-eac-preview-footer"},"behaviors":{"TabKeyRegion":{"behaviorClass":s}},"onBeforeDestroy":function(){this.previewPane.binf_popover("destroy")},"show":function(){this.hideTimeout&&(clearTimeout(this.hideTimeout),this.hideTimeout=null),this.$el.is(":visible")||(this.showCancelled=!1,this.$el.hide(),this.render(),this.eacPopoverLayoutView&&this.eacPopoverLayoutView.destroy(),this.eacPopoverLayoutView=new a({"parent":this,"model":this.previewCollection}),this.listenTo(this.eacPopoverLayoutView,"PopoverLayoutEidtAll",function(e){this.trigger("PopoverLayoutEidtAll",e)}),this.showCancelled||(this.contentRegion.show(this.eacPopoverLayoutView,{"render":!0}),this.$el.show(),this.triggerMethod("before:show",this),this.toggle=1,this.previewPane.binf_popover("show"),this.triggerMethod("show",this)))},"hide":function(){this.toggle=0,this.previewPane.binf_popover("hide"),this.hideTimeout=null,this.showCancelled=!0,this.hideTimeout=null},"_delayedHide":function(){this.hideTimeout=window.setTimeout(t.proxy(this.hide,this),200)}});return e.extend(c.prototype,n),c}),csui.define("hbs!xecmpf/widgets/eac/impl/editall/impl/edit.actionplans.view",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return"\r\n<span class='eac-edit-actionpaln-label'>"+this.escapeExpression((o=null!=(o=t.actplanLabel||(null!=e?e.actplanLabel:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"actplanLabel","hash":{}}):o))+" 0"+this.escapeExpression((o=null!=(o=t.index||(null!=e?e.index:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"index","hash":{}}):o))+"</span>\r\n<span class='eac-edit-eventname'>"+this.escapeExpression((o=null!=(o=t.eventname||(null!=e?e.eventname:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"eventname","hash":{}}):o))+"</span>\r\n<button class='csui-icon eac-delete-icon'></button>\r\n<button class='csui-icon eac-edit-icon'></button>\r\n<hr />\r\n\r\n"}});return i.registerPartial("xecmpf_widgets_eac_impl_editall_impl_edit.actionplans.view",n),n}),csui.define("xecmpf/widgets/eac/impl/editall/edit.actionplans.view",["csui/lib/underscore","csui/lib/backbone","csui/lib/jquery","csui/lib/marionette","csui/utils/url","csui/utils/contexts/factories/connector","csui/utils/contexts/factories/node","csui/controls/globalmessage/globalmessage","csui/dialogs/modal.alert/modal.alert","xecmpf/models/eac/eventactionplans.model","hbs!xecmpf/widgets/eac/impl/editall/impl/edit.actionplans.view","i18n!xecmpf/widgets/eac/impl/nls/lang","css!xecmpf/widgets/eac/impl/eac"],function(e,t,i,n,o,s,a,r,c,l,u,p){var d=n.ItemView.extend({"className":"eac-edit-actions","template":u,"templateHelpers":function(){return{"actplanLabel":p.action,"index":this._index+1}},"events":{"click .eac-delete-icon":"deleteActionPlan","click .eac-edit-icon":"editActionPlan"},"constructor":function(e){e||(e={}),this.options=e,n.ItemView.prototype.constructor.call(this,e),this.options.collection&&(this.actionplancount=this.options.collection.models.length,this.models=this.options.collection.models)},"deleteActionPlan":function(t){var n=this;c.confirmInformation(p.confirmDeleteMsg).done(function(){t.stopPropagation(),t.preventDefault(),t.selectedModel=n.model;var c=n.options.context.getObject(s,n.options),u=c.connection.url.replace("/v1","/v2");u=o.combine(u,"eventactioncenter","actionplan"),u=u+"?rule_id="+t.selectedModel.attributes.rule_id+"&plan_id="+t.selectedModel.attributes.plan_id,n.trigger("request"),i.ajax(c.extendAjaxOptions({"type":"DELETE","url":u,"processData":!1,"contentType":!1,"success":function(t){r.showMessage("success",t.results.msg);var i,o=n._parent;n.model.destroy(),0===o.collection.length?o._parentLayoutView().destroy():o.render(),n.options.parentView&&(i=n.options.parentView.options.context.getModel(a,n.options.parentView.options),n.options.parentView.options.collection=new l([],e.extend({"connector":i.connector,"node":i})),n.options.parentView.options.collection.fetch(),n.listenTo(n.options.parentView.options.collection,"sync",function(){n.options.tableView.collection=n.options.parentView.options.collection,n.options.tableView.triggerMethod("dom:refresh"),n.options.parentView._removeAll()}))},"error":function(e){n.trigger("error");var t=e.responseJSON?e.responseJSON.errorDetail?e.responseJSON.errorDetail:e.responseJSON.error:"Server Error: Unable to perform the action";r.showMessage("error",t)}}))})},"editActionPlan":function(e){e.stopPropagation(),e.preventDefault(),e.selectedModel=this.model,e.selectedModel.attributes.namespace=this.options.namespace,e.selectedModel.attributes.event_name=this.options.eventname,e.selectedModel.attributes.system_name=this.model.get("systemname"),e.selectedModel.fromEdit=!0,this._parent.trigger("openEditDialog",e)}});return d}),csui.define("xecmpf/widgets/eac/impl/editall/edit.actionplan.list.view",["csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/controls/tile/behaviors/perfect.scrolling.behavior","xecmpf/widgets/eac/impl/editall/edit.actionplans.view"],function(e,t,i,n,o){var s=i.CollectionView.extend({"className":"csui-perfect-scrolling eac-edit-actionplans-view","behaviors":{"PerfectScrolling":{"behaviorClass":n,"contentParent":this.$el,"suppressScrollX":!0,"scrollXMarginOffset":15}},"childView":o,"childViewOptions":function(){return this.options},"constructor":function(e){e||(e={}),this.options=e,this.listenTo(this,"deleteActionPlanInEditDialog",function(){this.trigger("deleteActionPlanInEditDialog2")}),this.listenTo(this,"openEditDialog",function(e){this.trigger("openEditDialog2",e)}),i.CollectionView.prototype.constructor.call(this,e)}});return s}),csui.define("hbs!xecmpf/controls/table/cells/impl/actionplan",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'    <a href="" class = "action-plan-edit"> '+this.escapeExpression((o=null!=(o=t.count||(null!=e?e.count:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"count","hash":{}}):o))+" "+this.escapeExpression((o=null!=(o=t.actionPlan||(null!=e?e.actionPlan:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"actionPlan","hash":{}}):o))+"</a>\r\n"},"3":function(e,t,i,n){var o;return'    <button class="action-plan-add">'+this.escapeExpression((o=null!=(o=t.addActionPlan||(null!=e?e.addActionPlan:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"addActionPlan","hash":{}}):o))+"</button>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return"<div>\r\n"+(null!=(o=t["if"].call(e,null!=e?e.count:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(3,n,0)}))?o:"")+"</div>"}});return i.registerPartial("xecmpf_controls_table_cells_impl_actionplan",n),n}),csui.define("css!xecmpf/controls/table/cells/impl/actionplan",[],function(){}),csui.define("xecmpf/controls/table/cells/eac.actionplan.view",["csui/lib/underscore","csui/lib/backbone","csui/controls/table/cells/templated/templated.view","csui/controls/table/cells/cell.registry","csui/utils/contexts/factories/node","csui/controls/dialog/dialog.view","xecmpf/widgets/eac/impl/actionplan/add/actionplan.add.view","csui/controls/dialog/impl/header.view","xecmpf/widgets/eac/impl/previewpane/previewpane.view","xecmpf/widgets/eac/impl/editall/edit.actionplan.list.view","xecmpf/models/eac/eventactionplans.model","hbs!xecmpf/controls/table/cells/impl/actionplan","i18n!xecmpf/widgets/eac/impl/nls/lang","css!xecmpf/controls/table/cells/impl/actionplan"],function(e,t,i,n,o,s,a,r,c,l,u,p,d){var h=i.extend({"template":p,"className":"csui-nowrap","triggers":{"click .action-plan-add":"click:ActionPlanAdd"},"events":{"click .action-plan-edit":"editActionPlan"},"getValueData":function(){var e=this.model,t=e.get("action_plans").length;return{"count":t,"actionPlan":d.actionPlan,"addActionPlan":d.addActionPlan}},"onClickActionPlanAdd":function(){this.showActionPlanAddDialog(this.model)},"showActionPlanAddDialog":function(t){function i(e,t){t.ok&&e.options.buttons.forEach(function(i){var n=-1!==t.activeButtons.indexOf(i.id);e.updateButton(i.id,{"hidden":!n,"disabled":!n})})}var n,c={"ok":!0,"activeButtons":[]};n=t.fromEdit?d.editRuleHeaderLabel:d.addRuleDialogTitle;var l=new a({"context":this.options.context,"eventModel":t,"btnOptions":c,"currentModel":this.options.model}),p=[{"label":n,"class":"eac-dialog-header"},{"class":"eac-header-divider"},{"label":this.options.model.get("event_name"),"class":"eac-dialog-sub-heading"}],h={"headers":p,"iconRight":"cs-icon-cross","dialogCloseAria":"Close dialog","dialogCloseButtonTooltip":"Close","expandedHeader":!0,"fromEdit":t.fromEdit?t.fromEdit:!1},m=new r(h),f=new s({"id":"xecmpf-eac-actionplan-add-dialog","className":"xecmpf-eac-actionplan-add-dialog","headerView":m,"largeSize":!1,"view":l,"buttons":[{"id":"eac-actionplan-add-back-btn","label":d.backButtonLabel,"toolTip":d.backButtonLabel,"click":function(){l.triggerMethod("back",c,m),i(f,c)}},{"id":"eac-actionplan-add-next-btn","label":d.nextButtonLabel,"toolTip":d.nextButtonLabel,"click":function(){l.triggerMethod("next",c,m),i(f,c)}},{"id":"eac-actionplan-add-finish-btn","label":d.finishButtonLabel,"toolTip":d.finishButtonLabel,"click":function(){l.triggerMethod("finish",c,m),i(f,c)}}]});this.listenTo(f,"before:hide",function(){l.destroy()});var g=this;this.listenTo(l,"refreshEACListPage",function(){if(f.destroy(),g.triggerMethod("refreshEACListPage"),g.options&&g.options.tableView){var t=g.options.tableView.options.parentView,i=t.options.context.getModel(o,t.options);t.options.collection=new u([],e.extend({"connector":i.connector,"node":i})),t.options.collection.fetch(),this.listenTo(t.options.collection,"sync",function(){g.options.tableView.collection=t.options.collection,g.options.tableView.triggerMethod("dom:refresh"),t._removeAll()})}}),f.show(),i(f,c),this.editDialog&&this.editDialog.destroy()},"editActionPlan":function(e){e.preventDefault(),e.stopPropagation();var t=this;t.previewpane&&t.previewpane.destroy(),t.previewpane=new c({"parent":t,"currElemClassName":e.currentTarget.className,"model":t.options.model,"config":!0}),this.listenTo(t.previewpane,"PopoverLayoutEidtAll",function(e){t.PopoverLayoutEidtAll(),t.previewpane.hide()}),t.previewpane.show()},"PopoverLayoutEidtAll":function(){var i,n;this.options&&this.options.tableView&&(i=this.options.tableView.options.parentView,n=this.options.tableView);var o=new l({"context":this.options.context,"collection":new t.Collection(this.options.model.attributes.action_plans),"eventname":this.options.model.get("event_name"),"namespace":this.options.model.get("namespace"),"parentView":i,"tableView":n});this.listenTo(o,"openEditDialog2",function(e){this.openEditDialog(e),this.editDialog.destroy()}),this.editDialog=new s({"className":"eac-edit-actionplan-view","midSize":!0,"medSize":!0,"headers":[{"label":d.editActionPlan,"class":"eac-edit-actionplan-label"},{"class":"eac-edit-header-divider"},{"label":this.options.model.get("event_name"),"class":"eac-eventname"}],"view":o,"buttons":[{"id":"add-new","label":d.addNew,"default":!0,"disabled":!1,"click":e.bind(this.showActionPlanAddDialog,this)}]}),this.editDialog.show()},"openEditDialog":function(e){this.showActionPlanAddDialog(e.selectedModel)}},{"hasFixedWidth":!0,"columnClassName":"xecmpf-table-cell-action-plan"
});return n.registerByColumnKey("action_plan",h),h}),csui.define("xecmpf/controls/bosearch/searchform/impl/footer.view",["csui/lib/marionette","csui/behaviors/keyboard.navigation/tabable.region.behavior"],function(e,t){var i=e.ItemView.extend({"tagName":"button","className":"binf-btn","template":!1,"triggers":{"click":"click"},"behaviors":{"TabableRegion":{"behaviorClass":t}},"constructor":function(t){e.View.prototype.constructor.apply(this,arguments)},"isTabable":function(){return this.$el.is(":not(:disabled)")&&this.$el.is(":not(:hidden)")},"currentlyFocusedElement":function(){return-1===this.$el.prop("tabindex")&&this.$el.prop("tabindex",0),this.$el},"onRender":function(){var e=this.$el,t=this.model.attributes;e.text(t.label),e.addClass(t["default"]?"binf-btn-primary":"binf-btn-default"),t.toolTip&&e.attr("title",t.toolTip),t.separate&&e.addClass("cs-separate"),this.updateButton(t)},"updateButton":function(e){var t=this.$el;e||(e={}),void 0!==e.hidden&&(e.hidden?t.addClass("binf-hidden"):t.removeClass("binf-hidden")),void 0!==e.disabled&&t.prop("disabled",e.disabled)}}),n=e.CollectionView.extend({"childView":i,"constructor":function(t){e.CollectionView.prototype.constructor.apply(this,arguments)},"onDomRefresh":function(){this.children.each(function(e){e.trigger("dom:refresh")})},"getButtons":function(){return this.children.toArray()},"updateButton":function(e,t){var n=this.collection.get(e);n?this.children.findByModel(n).updateButton(t):i.updateButton(this.$('[data-cs-id="'+e+'"]'),t)}});return n}),csui.define("xecmpf/controls/bosearch/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/controls/bosearch/impl/nls/root/lang",{"boSearchFormTitle":"Search {0}","boSearchFormButtonSearch":"Search","boSearchFormButtonCancel":"Cancel","boResultListButtonAttach":"Attach","noBusinessObjectsFound":"No business objects found.","resultListBannerMessage":"Search for {0}","resultListRefineMessage":"More results are available but result limit has been reached. Refine your search.","zeroSearchFields":"No search fields configured in the business application","labelBusinessObjectId":"ID","ERR_COLUMNS_CHANGED":"Configuration has changed during your search. Close the search and start a new one.","errorGettingSearchForm":"Error getting form for business object search.","errorSearchingBusinessObjects":"Error searching for business objects."}),csui.define("hbs!xecmpf/controls/bosearch/searchform/impl/bosearchform",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<div class="conws-bosearchform-body csui-content-without-footer">\r\n  <div class="conws-bosearchheader">\r\n    <div class="conws-bosearchheader-title" title="'+this.escapeExpression((o=null!=(o=t.search_form_title||(null!=e?e.search_form_title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"search_form_title","hash":{}}):o))+'">'+this.escapeExpression((o=null!=(o=t.search_form_title||(null!=e?e.search_form_title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"search_form_title","hash":{}}):o))+'</div>\r\n    <div class="conws-spacer"></div>\r\n  </div>\r\n  <div class="conws-bosearchfields">\r\n  </div>\r\n  <div style="display:none;" class="conws-bosearchfields-zero" title="'+this.escapeExpression((o=null!=(o=t.zero_fields_title||(null!=e?e.zero_fields_title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"zero_fields_title","hash":{}}):o))+'">\r\n      "'+this.escapeExpression((o=null!=(o=t.zero_fields_title||(null!=e?e.zero_fields_title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"zero_fields_title","hash":{}}):o))+'"\r\n  </div>\r\n</div>\r\n<div class="conws-bosearchform-footer binf-modal-footer">\r\n</div>\r\n<div class="conws-right-shadow"></div>\r\n'}});return i.registerPartial("xecmpf_controls_bosearch_searchform_impl_bosearchform",n),n}),csui.define("xecmpf/controls/bosearch/searchform/bosearchform.view",["require","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/base","csui/utils/log","csui/controls/form/form.view","csui/utils/contexts/factories/connector","csui/dialogs/modal.alert/modal.alert","xecmpf/controls/bosearch/searchform/impl/footer.view","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/tab.panel/behaviors/tab.contents.keyboard.behavior","xecmpf/controls/bosearch/searchform/bosearchform.model","i18n!xecmpf/controls/bosearch/impl/nls/lang","hbs!xecmpf/controls/bosearch/searchform/impl/bosearchform"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g,b){var v=r.extend({"events":{"keydown":"onKeyDown"},"behaviors":{"TabableRegionBehavior":{"behaviorClass":h},"TabContentKeyboardBehavior":{"behaviorClass":m},"PerfectScrolling":{"behaviorClass":p,"suppressScrollX":!0}},"defaults":{"tabContentAccSelectors":"a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), iframe, object, embed, *[tabindex], *[cstabindex], *[contenteditable]"},"onKeyDown":function(e){if(9===e.keyCode||32===e.keyCode||13===e.keyCode){var t=this.onKeyInView(e);t&&(e.preventDefault(),e.stopPropagation(),t.prop("tabindex","0"),t.focus())}},"onDomRefresh":function(){this.trigger("refresh:tabable:elements")},"constructor":function(e){i.defaults(e,this.defaults),e.searchTabContentForTabableElements=!0,r.prototype.constructor.apply(this,arguments)}}),w=o.LayoutView.extend({"events":{"keydown":"onKeyDown"},"className":"conws-bosearchform","template":b,"triggers":{"click .binf-btn.search":"bosearchform:search","click .binf-btn.cancel":"bosearchform:cancel"},"regions":{"searchFields":".conws-bosearchfields","footer":".binf-modal-footer"},"ui":{"footer":".binf-modal-footer"},"constructor":function(e){i.defaults(e,this.defaults),o.LayoutView.prototype.constructor.call(this,e),this.propagateEventsToRegions(),this.listenTo(this,"bosearchform:search",this._triggerSearch),this.listenTo(this,"bosearchform:cancel",this._triggerCancel),this.listenTo(this.model,"change:bo_type_name",this._updateTitle),this.searchFormModel=new f({"id":this.model.get("bo_type_id"),"name":this.model.get("bo_type_name")},{"connector":this.options.context.getObject(c)}),this.listenTo(this.searchFormModel,"change:name",function(){this.model.set("bo_type_name",this.searchFormModel.get("name"))}),this.listenTo(this.searchFormModel,"change",function(){this.model.set("bus_att_metadata_mapping",this.searchFormModel.get("bus_att_metadata_mapping"))}),this.listenTo(this.searchFormModel,"error",function(e,t,i){var n=t&&new s.Error(t).message||g.errorGettingSearchForm;a.error("Fetching the search forms failed: {0}",n)&&console.error(a.last),l.showError(n)}),this.listenTo(this.searchFormModel,"sync",function(){var e=this.searchFormModel.get("data");t.isEmptyObject(e)?(this._updateFormFieldsZero(!0),this.focusOnSearchButton()):(this._updateFormFieldsZero(!1),this.listenToOnce(this.searchForm,"render",function(){this.focusOnFirstFormField()}))})},"templateHelpers":function(){return{"search_form_title":this._getTitle(),"search_button_text":g.boSearchFormButtonSearch,"cancel_button_text":g.boSearchFormButtonCancel,"zero_fields_title":g.zeroSearchFields}},"onKeyDown":function(e){13===e.keyCode&&e.ctrlKey&&this.searchForm.$el.has(e.originalEvent.srcElement).length>0&&this.focusOnSearchButton()},"_getTitle":function(){return i.str.sformat(g.boSearchFormTitle,this.model.get("bo_type_name"))},"_updateTitle":function(){var e=this.$el.find(".conws-bosearchheader-title"),t=this._getTitle();e.text(t),e.attr({"title":t})},"_updateFormFieldsZero":function(e){var t=this.$el.find(".conws-bosearchfields"),i=this.$el.find(".conws-bosearchfields-zero");e?(t.css({"display":"none"}),i.css({"display":""})):(t.css({"display":""}),i.css({"display":"none"}))},"focusOnSearchButton":function(){var e=this.footerView.getButtons();e&&e[0]&&e[0].$el.focus()},"focusOnFirstFormField":function(){var e=this.searchFields.$el.find(".alpaca-container-item-first input");e&&e.focus()},"onRender":function(){this.searchForm=new v({"model":this.searchFormModel,"mode":"create","layoutMode":"singleCol"}),this.searchForm.model.fetch();var e=[{"default":!0,"label":g.boSearchFormButtonSearch,"click":i.bind(this._triggerSearch,this)},{"label":g.boSearchFormButtonCancel,"click":i.bind(this._triggerCancel,this)}];this.footerView=new u({"collection":new n.Collection(e)}),this.listenTo(this.footerView,"childview:click",this.onClickButton),this.searchFields.show(this.searchForm),this.footer.show(this.footerView);var t=this.footerView.getButtons();t&&t[0]&&t[0].$el.addClass("search"),t&&t[1]&&t[1].$el.addClass("cancel")},"onClickButton":function(e){var t=e.model.attributes;t.click&&t.click()},"_triggerSearch":function(){a.debug("trigger bosearch:search")&&console.log(a.last);var e=this.searchForm.getValues(),t={"data":this.searchFormModel.get("data"),"options":this.searchFormModel.get("options"),"schema":this.searchFormModel.get("schema")};this.model.trigger("bosearch:search",{"searchParams":e,"searchForms":t})},"_triggerCancel":function(){a.debug("trigger bosearch:cancel")&&console.log(a.last),this.model.trigger("bosearch:cancel")}});return i.extend(w.prototype,d),w}),csui.define("xecmpf/controls/bosearch/resultlist/boresult.collection",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/utils/base","csui/utils/log","csui/models/mixins/resource/resource.mixin","csui/models/browsable/browsable.mixin","i18n!xecmpf/controls/bosearch/impl/nls/lang"],function(e,t,i,n,o,s,a,r){function c(e,i,n){return t.object(t.map(t.pairs(e),function(e){return t.iteratee(i,n)(e)}))}function l(e,t,i){var n=Math.max(e||0,t&&t.length||0,i||0,w);return n=Math.min(n,60)}function u(e,t,i){var n=e>w?.53:.6,s=(g-v)/(b*n),a=e/s;return o.debug("csui_average {0}",s)&&console.log(o.last),Math.min(a,.8)}var p=i.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0},"constructor":function(e,t){i.Model.prototype.constructor.apply(this,arguments)}}),d=i.Collection.extend({"model":p,"comparator":"sequence","constructor":function(e,t){i.Collection.prototype.constructor.apply(this,arguments)}}),h=i.Model.extend({"idAttribute":"column_key","constructor":function(e,t){i.Model.prototype.constructor.apply(this,arguments)}}),m=i.Collection.extend({"model":h,"constructor":function(e,t){i.Collection.prototype.constructor.apply(this,arguments)}}),f=i.Model.extend({"constructor":function(e,t){i.Model.prototype.constructor.apply(this,arguments)},"get":function(){return i.Model.prototype.get.apply(this,arguments)}}),g=120,b=14,v=32,w=4,y=i.Collection.extend({"model":f,"constructor":function(e,t){i.Collection.prototype.constructor.apply(this,arguments),this.makeResource(t),this.makeBrowsable(t),this.boSearchModel=t.boSearchModel,this.searchParams=t.searchParams,this.labelToKey={},this.nameToKey={},this.columns=new m,this.tableColumns=new d,this.totalCount=0,this.skipCount=0,this.topCount=t.pageSize||100,this.maxCount=t.maxRowCount,this.options=t}},{"ERR_COLUMNS_CHANGED":"ERR_COLUMNS_CHANGED"});s.mixin(y.prototype),a.mixin(y.prototype);var x=t.defaults({},y.prototype);return t.extend(y.prototype,{"fetch":function(t){var i=t&&t.reset;return this.searchParams&&(i||void 0===this.maxCount||this.length<this.maxCount)?(i&&(t.url=this.url(t)),x.fetch.apply(this,arguments)):e.Deferred().resolve().promise()},"url":function(i){var o="businessobjects",s=i&&i.reset?0:this.skipCount||0,a=t.omit(t.defaults({"bo_type_id":this.boSearchModel.get("bo_type_id"),"limit":this.topCount,"page":this.topCount?Math.floor(s/this.topCount)+1:void 0},c(this.searchParams,function(e){return["where_"+e[0],e[1]]},this)),function(e){return null===e||""===e}),r=o+"?"+e.param(a),l=this.connector.connection.url,u=n.Url.combine(l&&l.replace("/v1","/v2")||l,r);return u},"parse":function(i,n){function s(e,t){var i;if(t){for(var n=0,o=0;o<t.length;o++){var s=t[o];n+=void 0!==e[s.fieldName]?1:0}0===n&&(i="incompatible")}return i}function a(e,t){var i;if(t)for(var n=0;n<t.length;n++){var o=t[n],s=e[n];if(!s||s.fieldName!==o.fieldName)return"incompatible";(s.fieldLabel!==o.fieldLabel||s.position!==o.position||s.length!==o.length)&&(i="significant")}return i}delete this.errorMessage;var r=[];if(this.searchParams&&i&&i.results){var p,d=i.results.column_descriptions,h=e.isEmptyObject(this.searchParams)||e.isEmptyObject(d)?"significant":s(this.searchParams,d),m="incompatible"!==h;if(m&&!n.reset&&this.columnDescriptions&&(p=a(this.columnDescriptions,d),m="incompatible"!==p),m){d&&d.length||(d=[{"fieldLabel":"Business Object ID","fieldName":"businessObjectId","keyField":"","length":15,"position":1}]);var f=t.extend({},this.searchParams),g=t.extend({},this.searchForms),b={};if(n.reset||!this.columnDescriptions||"significant"===h||"significant"===p){var v,w,x=[],_={},k={},C=0,S=0;t.each(d,function(e,i){var n="conws_col_"+i,o=0;if(g&&g.options&&g.options.fields&&g.options.fields[e.fieldName]&&g.options.fields[e.fieldName].optionLabels&&g.schema&&g.schema.properties&&g.schema.properties[e.fieldName]&&g.schema.properties[e.fieldName]["enum"]&&g.options.fields[e.fieldName].optionLabels.length===g.schema.properties[e.fieldName]["enum"].length){var s=g.options.fields[e.fieldName].optionLabels,a=g.schema.properties[e.fieldName]["enum"],r=b[n]={};t.each(s,function(e,t){r[a[t]]=e,e.length>o&&(o=e.length)},this)}var c=t.extend({"align":"left","name":e.fieldLabel,"persona":"","sort":!0,"type":-1,"width_weight":0},e,{"correctedLength":l(e.length,e.fieldLabel,o),"column_key":n});c.correctedLength&&(C+=c.correctedLength,S+=1,(void 0===v||c.correctedLength<v)&&(v=c.correctedLength),(void 0===w||c.correctedLength>w)&&(w=c.correctedLength)),x.push(c),_[c.fieldLabel]=c.column_key,k[c.fieldName]=c.column_key},this);var V,T,M=t.map(x,function(e){var t=e.column_key,i=e.position+1;return void 0!==i&&(void 0===T||T>i)&&(T=i,V=t),V||(V=t),{"key":t,"sequence":i}});if(S>1&&v&&v>0&&w&&w>v){var A=C/S,P=u(v,A,w),E=A*P,B=E>v?(P*A-v)/(1-P):0,I=0,O=0,R=0;o.debug("minFactor {0}",P)&&console.log(o.last),A+=B,t.each(x,function(e,t){e.correctedLength=e.correctedLength?e.correctedLength+B:A;var i=e.correctedLength/A;o.debug("widthFactor {0}",i)&&console.log(o.last),M[t].widthFactor=i,I+=i,i>=O&&(O=i,R=t)},this),o.debug("widthFactorSum {0}",I)&&console.log(o.last);var F=S-I;o.debug("widthFactorRest {0}",F)&&console.log(o.last),0!==F&&(O+=F,I+=F,M[R].widthFactor=O,o.debug("widthFactorSum {0}",I)&&console.log(o.last))}this.orderByDefaultKey=V,this.mappedValues=b,this.labelToKey=_,this.nameToKey=k,this.columns.reset(x,{"silent":!0}),this.tableColumns.reset(M),this.columnDescriptions=i.results.column_descriptions}if(this.searchedParams=f,this.searchedForms=g,i.results.result_rows)for(var j=void 0===this.maxCount?this.topCount:Math.min(this.topCount,this.maxCount-this.length),L=0;j>L&&!(L>=i.results.result_rows.length);L++){var D=i.results.result_rows[L],N=t.extend(c(D,function(e){var t=this.labelToKey[e[0]]||this.nameToKey[e[0]]||e[0],i=this.mappedValues[t],n=i&&i[e[1]]||e[1];return[t,n]},this),{"id":D.rowId});r.push(N)}this.totalCount=i&&i.paging&&i.paging.total_count,n.reset&&(this.skipCount=0),this.maxRowsExceeded=i&&i.results&&i.results.max_rows_exceeded}else this.errorMessage=y.ERR_COLUMNS_CHANGED}return r}}),y}),csui.define("xecmpf/controls/bosearch/resultlist/botable.view",["require","csui/lib/jquery","csui/lib/underscore","csui/utils/log","csui/lib/backbone","csui/lib/marionette","csui/controls/table/table.view","csui/lib/jquery.dataTables.tableTools/js/dataTables.tableTools","xecmpf/controls/bosearch/resultlist/boresult.collection","i18n!xecmpf/controls/bosearch/impl/nls/lang"],function(e,t,i,n,o,s,a,r,c,l){function u(e){var t=this.options||{},n=t[e];return i.isFunction(n)?t[e].call(this.view):n}var p=s.Behavior.extend({"defaults":{"content":null,"contentParent":null,"fetchMoreItemsThreshold":95},"constructor":function(e,t){s.Behavior.prototype.constructor.apply(this,arguments),t.infiniteScrollingBehavior=this,this.listenTo(t,"render",this._bindScrollingEvents),this.listenTo(t,"before:destroy",this._unbindScrollingEvents)},"_scrollToPosition":function(e,n){var o=u.call(this,"contentParent"),s=this._contentParent.height(),a=u.call(this,"content"),r=a?this.view.$(a):o?this._contentParent.children().first():this.view.$el,c=i.reduce(r,function(e,i){return e+t(i).height()},0);if(s>c)e=0;else if("middle"===n?e-=s/2:"bottom"===n&&(e-=s),e=Math.floor(e),0>e)e=0;else{var l=u.call(this,"fetchMoreItemsThreshold"),p=Math.floor((c-s)*(l/100));e>=p&&(e=p-1)}this._contentParent.scrollTop(e)},"scrollTop":function(e){this._scrollToPosition(e,"top")},"scrollMiddle":function(e){this._scrollToPosition(e,"middle")},"scrollBottom":function(e){this._scrollToPosition(e,"bottom")},"_bindScrollingEvents":function(){this._unbindScrollingEvents();var e=u.call(this,"contentParent");this._contentParent=e?this.view.$(e):this.view.$el,this._contentParent.on("scroll."+this.view.cid,i.bind(this._checkScrollPosition,this))},"_checkScrollPosition":function(){var e=u.call(this,"contentParent"),n=u.call(this,"content"),o=n?this.view.$(n):e?this._contentParent.children().first():this.view.$el,s=u.call(this,"fetchMoreItemsThreshold"),a=i.reduce(o,function(e,i){return e+t(i).height()},0),r=a-this._contentParent.height(),c=this._contentParent.scrollTop(),l=100*c/r;this.view.lastScrollPosition=c,l>=s&&this._checkScrollPositionFetch()},"_checkScrollPositionFetch":function(){var e=this.view.collection;if(e.length<e.totalCount&&!e.fetching&&e.skipCount<e.length){n.debug("fetching from {0}",e.length)&&console.log(n.last);var t=e.skipCount;e.setSkip(e.length,!1);var o=u.call(this,"contentParent");this.$(".ps-scrollbar-y-rail").mouseup(),e.fetch({"reset":!1,"remove":!1,"merge":!1,"silent":!0,"success":i.bind(function(){e.errorMessage&&e.errorMessage===c.ERR_COLUMNS_CHANGED?(e.setSkip(t,!1),this.view.lastScrollPosition>0&&this.view.$(o).scrollTop(this.view.lastScrollPosition-1)):this.view.render()},this)})}},"_unbindScrollingEvents":function(){this._contentParent&&this._contentParent.off("scroll."+this.view.cid)}}),d=a.extend({"events":{"keydown":"onKeyDown"},"behaviors":i.defaults({"InfiniteScrolling":{"behaviorClass":p,"contentParent":"tbody","content":"tbody>tr:visible","fetchMoreItemsThreshold":100}},a.prototype.behaviors),"constructor":function(){a.prototype.constructor.apply(this,arguments),this.listenTo(this,"clicked:cell",this._clickedCell),this.options.disableItemsWithWorkspace&&this.listenTo(this,"tableRowRendered",this._disableRow),this.listenTo(this.collection,"request",function(e,t,i){i.reset&&delete this.lastScrollPosition})},"_disableRow":function(e){var i=e.target,n=e.node;if(n.get("has_workspace")){var o=t(i);o.addClass("conws-boresulttable-disabled-row"),o.off("pointerenter"),o.off("pointerleave"),o.find("td").not(".csui-table-cell-_toggledetails").off("click")}},"onKeyDown":function(e){if(this.options&&"single"===this.options.selectRows&&(32===e.keyCode||13===e.keyCode)){var t=e.target.classList.contains("csui-table-cell-_toggledetails");t||(e.preventDefault(),e.stopPropagation(),e.target.click())}},"_clickedCell":function(e){if(!this.ignoreSelectEvents){var t={"model":e.model,"target":this.table.row(e.rowIndex).node()};this.lastSelectedRow=t,this.trigger("row:selected",t)}},"setSelection":function(e,n){function o(){return this.tableTools||(this.tableTools=r.fnGetInstance(this.table.table().node()))}function s(e){this.table&&e&&i.each(e,function(e){var t=this.collection.get(e),i=this.collection.indexOf(t),s=o.call(this),a=this.table.row(i).node();n?s.fnSelect(a):s.fnDeselect(a)},this)}if(this.ignoreSelectEvents=!0,n=n||void 0===n,s.call(this,e),delete this.lastSelectedRow,this.table&&e&&e.length>0&&n){var a=e[0],c=this.collection.get(a),l=this.collection.indexOf(c),u=this.table.row(l).node();this.lastSelectedRow={"model":c,"target":t(u)}}if(this.lastSelectedRow&&this.infiniteScrollingBehavior){var p=this.lastSelectedRow.target.position().top+this.lastSelectedRow.target.height()/2;this.infiniteScrollingBehavior.scrollMiddle(p)}delete this.ignoreSelectEvents},"clearSelection":function(){this.ignoreSelectEvents=!0,delete this.lastSelectedRow,this.clearChildrenSelection(),void 0!==this.lastScrollPosition&&this.infiniteScrollingBehavior&&this.infiniteScrollingBehavior.scrollTop(this.lastScrollPosition),delete this.ignoreSelectEvents}});return d}),csui.define("hbs!xecmpf/controls/bosearch/resultlist/impl/boresultlist",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'      <div class="conws-boresultbanner-container">\r\n        <div class="conws-boresultbanner">'+this.escapeExpression((o=null!=(o=t.banner_message||(null!=e?e.banner_message:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"banner_message","hash":{}}):o))+"</div>\r\n      </div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o,s;return'<div class="conws-boresultlist-body">\r\n  <div class="conws-boresulttable">\r\n'+(null!=(o=t["if"].call(e,null!=e?e.banner_message:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:"")+'  </div>\r\n  <div class="conws-boresultfooter">\r\n    <div class="conws-boresultfooter-message-container  binf-modal-footer">\r\n      <div class="conws-boresultfooter-message">'+this.escapeExpression((s=null!=(s=t.footer_message||(null!=e?e.footer_message:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"footer_message","hash":{}}):s))+'</div>\r\n    </div>\r\n    <div class="conws-boresultfooter-attach-container  binf-modal-footer">\r\n      <button type="button" disabled class="binf-btn binf-btn-default attach">'+this.escapeExpression((s=null!=(s=t.attach_button_text||(null!=e?e.attach_button_text:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"attach_button_text","hash":{}}):s))+"</button>\r\n    </div>\r\n  </div>\r\n</div>\r\n"}});return i.registerPartial("xecmpf_controls_bosearch_resultlist_impl_boresultlist",n),n}),csui.define("xecmpf/controls/bosearch/resultlist/boresultlist.view",["require","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/base","csui/utils/log","csui/utils/contexts/factories/connector","csui/dialogs/modal.alert/modal.alert","xecmpf/controls/bosearch/resultlist/botable.view","xecmpf/controls/bosearch/resultlist/boresult.collection","hbs!xecmpf/controls/bosearch/resultlist/impl/boresultlist","i18n!xecmpf/controls/bosearch/impl/nls/lang"],function(e,t,i,n,o,s,a,r,c,l,u,p,d){var h=o.LayoutView.extend({"className":"conws-boresultlist","template":p,"regions":{"tableRegion":".conws-boresulttable"},"triggers":{"click .binf-btn.attach":"attach:clicked"},"constructor":function(e){e||(e={}),o.LayoutView.prototype.constructor.call(this,e),this.listenTo(this.model,"change:bo_type_name",this._updateBanner),this.listenTo(this.model,"bosearch:search",this._triggerSearch),this.listenTo(this,"attach:clicked",this._triggerAttach)},"_triggerSearch":function(e){this.collection||(this.collection=new u(void 0,{"connector":this.options.context.getObject(r),"boSearchModel":this.options.model,"autoreset":!0}),this.render(),this.listenTo(this.collection,"sync",this._updateFooter),this.listenTo(this.collection,"sync",this._showSyncError),this.listenTo(this.collection,"error",this._showSearchError)),this.collection.searchParams=e?e.searchParams:void 0,this.collection.searchForms=e?e.searchForms:void 0;var t=this;this.collection.fetch({"reset":!0}).then(function(){var e=t.resultTable.currentlyFocusedElement();e&&e.focus()});var i=this.model.get("bus_att_metadata_mapping");if(this.options.multipleSelect&&!i){var n=this.$el.find(".conws-boresultfooter>.conws-boresultfooter-attach-container");if(n){n.css({"display":"block"});var o=n.children();o&&(o[0].disabled=!0)}this.$el.addClass("conws-with-attachbtn")}},"_selectedRow":function(e){a.debug("trigger reference:clicked")&&console.log(a.last),this.listenToOnce(this.model,"reference:selected",function(){t(e.target).mouseleave()}),this.model.trigger("boresult:select",{"selectedItems":[e.model]})},"_enableAttachBtn":function(e){if(e.nodes.length>0){var t=this.resultTable.getSelectedChildren();if(t.length>0){var i=this.$el.find(".conws-boresultfooter .binf-btn.binf-btn-default.attach");i&&(i[0].disabled=!1)}}},"_disableAttachBtn":function(e){if(e.nodes.length>0){var t=this.resultTable.getSelectedChildren();if(0===t.length){var i=this.$el.find(".conws-boresultfooter .binf-btn.binf-btn-default.attach");i&&(i[0].disabled=!0)}}},"templateHelpers":function(){return{"banner_message":this._getBannerMessage(),"footer_message":this._getFooterMessage(),"attach_button_text":d.boResultListButtonAttach}},"_updateBanner":function(){var e=this._getBannerMessage();e&&this.$el.find(".conws-boresultbanner").text(this._getBannerMessage())},"_getBannerMessage":function(){return this.collection?void 0:i.str.sformat(d.resultListBannerMessage,this.model.get("bo_type_name"))},"_updateFooter":function(){var e=this._getFooterMessage();e?(this.$el.find(".conws-boresultfooter-message").text(e),this.$el.addClass("conws-with-footer")):this.$el.removeClass("conws-with-footer")},"_getFooterMessage":function(){return this.collection&&this.collection.maxRowsExceeded?d.resultListRefineMessage:void 0},"_showSyncError":function(){this.collection.errorMessage&&this.collection.errorMessage===u.ERR_COLUMNS_CHANGED&&c.showError(d[this.collection.errorMessage]||this.collection.errorMessage)},"_showSearchError":function(e,t,i){var n=t&&new s.Error(t).message||d.errorSearchingBusinessObjects;a.error("Searching for business objects failed: {0}",n)&&console.error(a.last),c.showError(n)},"_triggerAttach":function(){a.debug("trigger boresult:select")&&console.log(a.last),this.model.trigger("boresult:select",{"selectedItems":this.resultTable.getSelectedChildren()})},"onRender":function(){if(this._updateFooter(),this.collection){var e="single",t=!1,i=this.model.get("bus_att_metadata_mapping");this.options.multipleSelect&&!i&&(e="multiple",t=!0);var n=!0;void 0!==this.options.enableSorting&&(n=this.options.enableSorting),this.resultTable=new l({"context":this.options.context,"connector":this.options.context.getObject(r),"collection":this.collection,"columns":this.collection.columns,"tableColumns":this.collection.tableColumns,"selectRows":e,"selectColumn":t,"enableSorting":n,"nameEdit":!1,"haveDetailsRowExpandCollapseColumn":!0,"disableItemsWithWorkspace":this.options.disableItemsWithWorkspace,"tableTexts":{"zeroRecords":d.noBusinessObjectsFound}}),!this.options.multipleSelect||i?this.listenTo(this.resultTable,"row:selected",this._selectedRow):(this.listenTo(this.resultTable,"tableRowSelected",this._enableAttachBtn),this.listenTo(this.resultTable,"tableRowUnselected",this._disableAttachBtn)),this.tableRegion.show(this.resultTable)}else this.resultTable&&(this.stopListening(this.resultTable),delete this.resultTable)}});return h}),csui.define("hbs!xecmpf/controls/bosearch/impl/bosearch",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<div class="conws-bosearch-wrapper">\r\n  <div class="conws-bosearch-panel">\r\n    <div class="conws-bosearch-title">\r\n      '+this.escapeExpression((o=null!=(o=t.bosearch_title||(null!=e?e.bosearch_title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"bosearch_title","hash":{}}):o))+'\r\n    </div>\r\n    <div class="conws-bosearch-form">\r\n    </div>\r\n    <div class="conws-bosearch-result">\r\n    </div>\r\n  </div>\r\n</div>\r\n'}});return i.registerPartial("xecmpf_controls_bosearch_impl_bosearch",n),n}),csui.define("css!xecmpf/controls/bosearch/impl/bosearch",[],function(){}),csui.define("xecmpf/controls/bosearch/bosearch.view",["require","csui/lib/jquery","csui/lib/underscore","csui/lib/marionette","csui/widgets/metadata/metadata.view","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","xecmpf/controls/bosearch/searchform/bosearchform.view","xecmpf/controls/bosearch/resultlist/boresultlist.view","hbs!xecmpf/controls/bosearch/impl/bosearch","css!xecmpf/controls/bosearch/impl/bosearch"],function(e,t,i,n,o,s,a,r,c){var l=n.LayoutView.extend({"className":"conws-bosearch csui-metadata-overlay","template":c,"regions":{"searchRegion":".conws-bosearch-form","resultRegion":".conws-bosearch-result"},"constructor":function(e){n.LayoutView.prototype.constructor.apply(this,arguments),this.propagateEventsToRegions(),this.listenTo(this.model,"reference:search",this._referenceSearchOpen)},"templateHelpers":function(){return{"bosearch_title":this.options.title}},"onRender":function(){this.searchView=new a({"model":this.model,"context":this.options.context}),this.resultView=new r({"model":this.model,"context":this.options.context,"multipleSelect":this.options.multipleSelect,"enableSorting":!1,"disableItemsWithWorkspace":this.options.disableItemsWithWorkspace}),this.options.title&&this.$el.addClass("display-title"),this.searchRegion.show(this.searchView),this.resultRegion.show(this.resultView)},"_referenceSearchOpen":function(){var e=this;if(e.searchView&&e.searchView.searchForm){e.searchView.searchForm.$el.hide();var t=e.searchView.searchForm.model.get("id"),n=e.searchView.model.get("bo_type_id");t!==n&&e.resultView&&e.resultView.collection&&(delete e.resultView.collection,e.resultView.render()),e.searchView.searchForm.model.set({"id":n,"name":e.searchView.model.get("bo_type_name")}),e.searchView.searchForm.model.fetch({"reset":!0,"silent":!0}).then(function(){if(e.resultView&&e.resultView.collection&&e.resultView.collection.searchedParams){var t=e.searchView.searchForm.model.get("data"),n=i.keys(t),o=e.resultView.collection.searchedParams,s=n.length,a=i.keys(o).length,r=i.reduce(t,function(e,t,i){return i in o?e+1:e},0);if(r>0&&r>=n.length/2||s===a){if(i.extend(t,i.pick(o,n)),e.resultView.resultTable){var c=e.model.get("row_id");c&&e.resultView.resultTable.collection.get(c)?e.resultView.resultTable.setSelection([c]):e.resultView.resultTable.clearSelection()}}else{var l=e.resultView.collection;delete e.resultView.collection,l&&(l.stopListening(),e.resultView.stopListening(l)),e.resultView.render()}}e.searchView.searchForm.render(),e.searchView.searchForm.$el.show()},function(){e.searchView.searchForm.$el.show()})}}});return i.extend(l.prototype,s),l}),csui.define("xecmpf/controls/bosearch/bosearch.dialog.controller",["require","csui/lib/jquery","csui/lib/underscore","csui/lib/marionette","xecmpf/controls/bosearch/bosearch.view"],function(e,t,i,n,o){var s=n.Controller.extend({"constructor":function(e){n.Controller.prototype.constructor.apply(this,arguments),this.listenTo(this.options.boSearchModel,"reference:search",this._referenceSearchOpen),this.listenTo(this.options.boSearchModel,"boresult:select",this._boresultSelect),this.listenTo(this.options.boSearchModel,"reference:selected",this._referenceSelected),this.listenTo(this.options.boSearchModel,"reference:rejected",this._referenceRejected),this.listenTo(this.options.boSearchModel,"bosearch:cancel",this._referenceSearchCanceled)},"_transitionEnd":i.once(function(){var e,t={"transition":"transitionend","WebkitTransition":"webkitTransitionEnd","MozTransition":"transitionend","OTransition":"oTransitionEnd otransitionend"},i=document.createElement("div");for(e in t)if("undefined"!=typeof i.style[e])return t[e]}),"_referenceSearchOpen":function(){this._showSearchView()},"_boresultSelect":function(){this._showModalContent()},"_referenceSelected":function(){this._hideSearchView()},"_referenceRejected":function(){this._hideModalContent()},"_referenceSearchCanceled":function(){this._showModalContent(),this._hideSearchView()},"_hideSearchView":function(){"workspace_reference_edit"===this.options.mode&&this.bosearchview.$el.parent().removeClass("cs-item-action-metadata"),
"business_attachment_add"===this.options.mode&&this.bosearchview.$el.parent().removeClass("cs-item-action-metadata"),this.modalcontent.removeClass("conws-bosearch-showing"),this.bosearchview.$el.detach()},"_showModalContent":function(){"workspace_reference_create"===this.options.mode&&(this.modalcontent.find(">.binf-modal-header .cs-close").show(),this.modalcontent.find(">.binf-modal-body").show(),this.modalcontent.find(">.binf-modal-footer").show()),"workspace_reference_edit"===this.options.mode&&(this.modalcontent.find(">.metadata-content-wrapper").show(),this.modalcontent.find(">.metadata-wrapper .metadata-sidebar .cs-content").show(),this.modalcontent.find(">.metadata-wrapper .metadata-content .metadata-content-wrapper").show()),"business_attachment_add"===this.options.mode&&(this.modalcontent.find(">.metadata-content-wrapper").show(),this.modalcontent.find(">.metadata-wrapper .metadata-sidebar .cs-content").show(),this.modalcontent.find(">.metadata-wrapper .metadata-content .metadata-content-wrapper").show())},"_hideModalContent":function(){"workspace_reference_create"===this.options.mode&&(this.modalcontent.find(">.binf-modal-header .cs-close").hide(),this.modalcontent.find(">.binf-modal-body").hide(),this.modalcontent.find(">.binf-modal-footer").hide()),"workspace_reference_edit"===this.options.mode&&(this.modalcontent.find(">.metadata-content-wrapper").hide(),this.modalcontent.find(">.metadata-wrapper .metadata-sidebar .cs-content").hide(),this.modalcontent.find(">.metadata-wrapper .metadata-content .metadata-content-wrapper").hide()),"business_attachment_add"===this.options.mode&&(this.modalcontent.find(">.metadata-content-wrapper").hide(),this.modalcontent.find(">.metadata-wrapper .metadata-sidebar .cs-content").hide(),this.modalcontent.find(">.metadata-wrapper .metadata-content .metadata-content-wrapper").hide())},"_showSearchView":function(){this.options||{};this.modalcontent=t(this.options.htmlPlace),this.modalcontent.addClass("conws-bosearch-beforeshow"),this.bosearchview||(this.bosearchview=new o({"model":this.options.boSearchModel,"context":this.options.context,"multipleSelect":this.options.multipleSelect,"disableItemsWithWorkspace":this.options.disableItemsWithWorkspace,"title":this.options.title}),this.bosearchview.render(),this.bosearchview.$el.addClass(this.options.mode),"workspace_reference_create"===this.options.mode&&this.bosearchview.$el.addClass("csui-content-without-header"),"workspace_reference_edit"===this.options.mode&&(this.bosearchview.$el.addClass("csui-content-without-header"),this.bosearchview.$el.find(">*").addClass("binf-modal-content")),"business_attachment_add"===this.options.mode&&(this.bosearchview.$el.addClass("csui-content-without-header"),this.bosearchview.$el.find(">*").addClass("binf-modal-content"))),this.modalcontent.append(this.bosearchview.$el),"workspace_reference_edit"===this.options.mode&&this.bosearchview.$el.parent().addClass("cs-item-action-metadata"),"business_attachment_add"===this.options.mode&&this.bosearchview.$el.parent().addClass("cs-item-action-metadata"),this.bosearchview.$el.position(),this.bosearchview.triggerMethod("dom:refresh");var e=this;this.bosearchview.$el.one(this._transitionEnd(),function(){e.modalcontent.removeClass("conws-bosearch-animating"),e.modalcontent.addClass("conws-bosearch-showing"),e._hideModalContent()}),this.modalcontent.addClass("conws-bosearch-animating"),this.modalcontent.removeClass("conws-bosearch-beforeshow")}});return s}),csui.define("hbs!xecmpf/controls/property.panels/reference/impl/reference.panel",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'    <div class="conws-reference-override-note">'+this.escapeExpression((o=null!=(o=t.override_note||(null!=e?e.override_note:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"override_note","hash":{}}):o))+"</div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o,s;return'<div class="conws-reference-panel binf-row alpaca-field">\r\n  <div class="alpaca-container-label">\r\n    <h3>'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"title","hash":{}}):s))+'</h3>\r\n  </div>\r\n  <div class="conws-reference-initial">\r\n  </div>\r\n  <div class="conws-reference-replace">\r\n  </div>\r\n'+(null!=(o=t["if"].call(e,null!=e?e.change_reference:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:"")+"</div>\r\n"}});return i.registerPartial("xecmpf_controls_property.panels_reference_impl_reference.panel",n),n}),csui.define("hbs!xecmpf/controls/property.panels/reference/impl/reference.panel-initial",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'  <div class="conws-label-search">'+this.escapeExpression((o=null!=(o=t.search_button_label||(null!=e?e.search_button_label:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"search_button_label","hash":{}}):o))+'</div>\r\n  <button type="button" class="binf-btn binf-btn-default search">'+this.escapeExpression((o=null!=(o=t.search_button_title||(null!=e?e.search_button_title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"search_button_title","hash":{}}):o))+"</button>\r\n"},"3":function(e,t,i,n){var o;return'  <div  class="conws-reference-override-note">'+this.escapeExpression((o=null!=(o=t.cannot_complete_business_reference||(null!=e?e.cannot_complete_business_reference:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"cannot_complete_business_reference","hash":{}}):o))+"</div>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,null!=e?e.complete_reference:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(3,n,0)}))?o:""}});return i.registerPartial("xecmpf_controls_property.panels_reference_impl_reference.panel-initial",n),n}),csui.define("hbs!xecmpf/controls/property.panels/reference/impl/reference.panel-replace",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o,s;return'  <div class="conws-reference-buttons">\r\n    <div class="conws-label-buttons">'+this.escapeExpression((s=null!=(s=t.reference_buttons_label||(null!=e?e.reference_buttons_label:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"reference_buttons_label","hash":{}}):s))+"</div>\r\n"+(null!=(o=t["if"].call(e,null!=e?e.allow_remove_reference:e,{"name":"if","hash":{},"fn":this.program(2,n,0),"inverse":this.noop}))?o:"")+'    <button type="button" class="binf-btn binf-btn-default replace">'+this.escapeExpression((s=null!=(s=t.replace_button_title||(null!=e?e.replace_button_title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"replace_button_title","hash":{}}):s))+"</button>\r\n  </div>\r\n"},"2":function(e,t,i,n){var o;return'      <button type="button" class="binf-btn binf-btn-default remove">'+this.escapeExpression((o=null!=(o=t.remove_button_title||(null!=e?e.remove_button_title:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"remove_button_title","hash":{}}):o))+"</button>\r\n"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<div class="conws-reference-metadata"></div>\r\n'+(null!=(o=t["if"].call(e,null!=e?e.change_reference:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:"")}});return i.registerPartial("xecmpf_controls_property.panels_reference_impl_reference.panel-replace",n),n}),csui.define("css!xecmpf/controls/property.panels/reference/impl/reference.panel",[],function(){}),csui.define("xecmpf/controls/property.panels/reference/impl/reference.panel.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/lib/alpaca/js/alpaca","csui/utils/log","csui/controls/form/form.view","csui/utils/base","csui/dialogs/modal.alert/modal.alert","xecmpf/controls/bosearch/bosearch.model","xecmpf/controls/bosearch/bosearch.dialog.controller","csui/behaviors/keyboard.navigation/tabable.region.behavior","hbs!xecmpf/controls/property.panels/reference/impl/reference.panel","hbs!xecmpf/controls/property.panels/reference/impl/reference.panel-initial","hbs!xecmpf/controls/property.panels/reference/impl/reference.panel-replace","i18n!xecmpf/controls/property.panels/reference/impl/nls/lang","css!xecmpf/controls/property.panels/reference/impl/reference.panel"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f){"use strict";var g=n.ItemView.extend({"className":"conws-reference reference-initial","template":h,"constructor":function(e){n.ItemView.prototype.constructor.apply(this,arguments)},"ui":{"searchButton":".binf-btn.search"},"triggers":{"click .binf-btn.search":"referencetab:search"},"templateHelpers":function(){var t=this.options.actionContext.workspaceReference,i=t&&t.get("bo_type_name"),n=t&&t.get("ext_system_name");return{"search_button_label":e.str.sformat(f.referenceSearchButtonLabel,i,n),"search_button_title":f.referenceSearchButtonTitle,"complete_reference":t.get("complete_reference"),"cannot_complete_business_reference":f.cannotCompleteBusinessReference}}}),b=n.LayoutView.extend({"className":"conws-reference reference-replace","template":m,"constructor":function(e){n.LayoutView.prototype.constructor.apply(this,arguments)},"ui":{"replaceButton":".binf-btn.replace"},"triggers":{"click .binf-btn.remove":"referencetab:remove","click .binf-btn.replace":"referencetab:replace"},"regions":{"metadataRegion":".conws-reference-metadata"},"templateHelpers":function(){var t=this.options.actionContext.workspaceReference,i=t&&t.get("bo_type_name"),n=t&&t.get("ext_system_name");return{"allow_remove_reference":"workspace_reference_create"===this.options.actionContext.mode,"remove_button_title":f.referenceRemoveButtonTitle,"replace_button_title":f.referenceReplaceButtonTitle,"reference_buttons_label":e.str.sformat(f.referenceSearchButtonLabel,i,n),"change_reference":t.get("change_reference")}},"onRender":function(){var e,t,n;"workspace_reference_create"===this.options.actionContext.mode&&(e=this.options.actionContext.workspaceReference.get("data")||{},t=this.options.actionContext.workspaceReference.get("options")||{},n=this.options.actionContext.workspaceReference.get("schema")||{}),"workspace_reference_edit"===this.options.actionContext.mode&&(e={"BOID":this.options.actionContext.workspaceReference.get("bo_id")},t={"fields":{"BOID":{}}},n={"properties":{"BOID":{"readonly":!0,"required":!1,"title":f.businessObjectIdLabel,"type":"string"}}}),e&&t&&n&&(this.formModel=new i.Model({"data":e,"options":t,"schema":n}),this.metdataForm=new a({"model":this.formModel,"context":this.options.context}),this.metadataRegion.show(this.metdataForm))}}),v=n.LayoutView.extend({"className":"conws-reference reference-panel cs-form cs-form-create","template":d,"regions":{"initialRegion":".conws-reference-initial","replaceRegion":".conws-reference-replace"},"behaviors":{"TabableRegion":{"behaviorClass":p}},"constructor":function(t){n.LayoutView.prototype.constructor.apply(this,arguments),this.options.actionContext.referencePanelView&&this.options.actionContext.referencePanelView.destroy(),this.options.actionContext.referencePanelView=this;var i,o;if("create"===this.options.mode){this.options.actionContext.mode="workspace_reference_create",i=this.options.metadataView;var a=t&&t.fetchedModels,p=a&&a.formCollection,d=p&&p.options,h=d&&d.metadataAddItemController,m=h&&h.dialog;o=m&&m.$(".binf-modal-content")}else"update"===this.options.mode&&(this.options.actionContext.mode="workspace_reference_edit",i=this.options.metadataView&&this.options.metadataView.options.metadataNavigationView?this.options.metadataView.options.metadataNavigationView:this.options.metadataView,o=".cs-properties-wrapper>.cs-metadata");i!==this.options.actionContext.viewContext&&(delete this.options.actionContext.boSearchModel,delete this.options.actionContext.boSearchDialogController,this.options.actionContext.viewContext=i);var g=this.options.actionContext.workspaceReference;this.options.actionContext.boSearchModel?this.options.actionContext.boSearchModel.set({"bo_type_id":g.get("bo_type_id"),"bo_type_name":g.get("bo_type_name"),"row_id":g.get("row_id")}):this.options.actionContext.boSearchModel=new l({"bo_type_id":g.get("bo_type_id"),"bo_type_name":g.get("bo_type_name"),"row_id":g.get("row_id")}),this.options.actionContext.boSearchDialogController?(this.options.actionContext.boSearchDialogController.options.mode=this.options.actionContext.mode,this.options.actionContext.boSearchDialogController.options.htmlPlace=o):this.options.actionContext.boSearchDialogController=new u({"mode":this.options.actionContext.mode,"context":this.options.context,"htmlPlace":o,"boSearchModel":this.options.actionContext.boSearchModel,"disableItemsWithWorkspace":!0}),this.listenTo(this.options.actionContext.boSearchModel,"boresult:select",this._replaceReference),this.listenTo(this.options.actionContext.boSearchModel,"bosearch:cancel",this._cancelSearch),this.listenTo(this.options.actionContext.boSearchModel,"change:bo_type_name",e.bind(function(){this.options.actionContext.workspaceReference.set("by_type_name",this.options.actionContext.boSearchModel.get("bo_type_name")),this.render()},this)),this.listenTo(this.options.actionContext.workspaceReference,"error",function(e,t,i){var n=t&&new r.Error(t).message||f.errorUpdatingWorkspaceReference;s.error("Updating the workspace reference failed: {0}",n)&&console.error(s.last),c.showError(n)}),this.listenTo(t.originatingView,"render:forms",this._formsRendered),"workspace_reference_create"===this.options.actionContext.mode&&(this.options.actionContext.scrollToPanel=!0,this.options.actionContext.focusButton=!0)},"onDestroy":function(){this===this.options.actionContext.referencePanelView&&delete this.options.actionContext.referencePanelView},"templateHelpers":function(){return{"title":f.referenceTabTitle,"override_note":f.referencePanelOverrideNote,"change_reference":this.options.actionContext.workspaceReference.get("change_reference")}},"currentlyFocusedElement":function(){var e;return e=this.options.actionContext.workspaceReference.get("bo_id")?this.replaceView&&this.replaceView.ui.replaceButton:this.initialView&&this.initialView.ui.searchButton,e&&e.attr&&e.prop?(s.debug("currently focused element of {0} count {1} class {2}",this.cid,e?e.length:"no el",e.attr("class"))&&console.log(s.last),e):void 0},"onRender":function(){this.options.actionContext.workspaceReference.get("bo_id")?(delete this.initialView,this.replaceView=new b(this.options),this.listenTo(this.replaceView,"referencetab:remove",this._removeReference),this.listenTo(this.replaceView,"referencetab:replace",this._triggerSearch),this.replaceRegion.show(this.replaceView)):(delete this.replaceView,this.initialView=new g(this.options),this.listenTo(this.initialView,"referencetab:search",this._triggerSearch),this.initialRegion.show(this.initialView))},"_triggerSearch":function(){s.debug("trigger reference:search")&&console.log(s.last),this.options.actionContext.boSearchModel.trigger("reference:search")},"_removeReference":function(){s.debug("clear reference")&&console.log(s.last),this._refetchForms({"data":void 0,"options":{},"schema":{},"bo_id":void 0,"row_id":void 0})},"_cancelSearch":function(){this._focusButton({"cancelSearch":!0})},"_replaceReference":function(t){if(s.debug("set reference")&&console.log(s.last),t&&t.selectedItems&&t.selectedItems.length>0&&t.selectedItems[0]){var i=t.selectedItems[0],n={},o={},a={},r=i.collection,c=r.columns,l=r.tableColumns,u=l.toArray().sort(function(e,t){return e.get("sequence")-t.get("sequence")});e.each(u,function(e){var t=e.get("key"),s=c.get(t),r=s.get("fieldName");n[r]=i.get(t),o[r]={},a[r]={"readonly":!0,"required":!1,"title":s.get("fieldLabel"),"type":"string"}}),this._refetchForms({"data":n,"options":{"fields":o},"schema":{"properties":a},"bo_id":i.get("businessObjectId"),"row_id":i.get("id")},"select")}else this.render(),this.options.actionContext.boSearchModel.trigger("reference:selected"),this._scrollToPanel(),this._focusButton()},"_getAllValues":function(){var t={},i=this.options&&this.options.metadataView;if(i){t={"name":i.metadataHeaderView.getNameValue(),"type":i.options.model.get("type"),"parent_id":i.options.model.get("parent_id")};var n=i.metadataPropertiesView.getFormsValues();e.extend(t,n)}return t},"_refetchForms":function(e,t){var i=this,n=this.options.actionContext.workspaceReference,o=e.bo_id,s=this.options.actionContext,a=this.options.originatingView,r=this.options.fetchedModels;if("workspace_reference_create"===s.mode){var c=r.formCollection;o?(c.bo_type_id=n.get("bo_type_id"),c.bo_id=o):(delete c.bo_type_id,delete c.bo_id),c.formsValues=this._getAllValues(),c.formsSchema=c.serverForms,r.fetch().then(function(){n.set(e),"select"===t&&a.once("render:forms",function(){i.options.actionContext.boSearchModel.trigger("reference:selected")}),s.scrollToPanel=!0,s.focusButton=!0},function(){"select"===t&&i.options.actionContext.boSearchModel.trigger("reference:rejected")})}else if("workspace_reference_edit"===s.mode){var l=n.get("bo_id"),u=this.options.node;n.save({"bo_id":o},{"wait":!0}).then(function(){u.fetch().then(function(){r.fetch().then(function(){n.set(e),"select"===t&&a.once("render:forms",function(){i.options.actionContext.boSearchModel.trigger("reference:selected")}),s.scrollToPanel=!0,s.focusButton=!0},function(){n.set("bo_id",l),"select"===t&&i.options.actionContext.boSearchModel.trigger("reference:rejected")})},function(){n.set("bo_id",l),"select"===t&&i.options.actionContext.boSearchModel.trigger("reference:rejected")})},function(){n.set("bo_id",l),"select"===t&&i.options.actionContext.boSearchModel.trigger("reference:rejected")})}else n.set(e),this.render(),"select"===t&&i.options.actionContext.boSearchModel.trigger("reference:selected"),this._scrollToPanel(),this._focusButton()},"_scrollToPanel":function(){var e=this.options&&this.options.originatingView,t=e&&e.tabLinks;if(t){var i;t.children.each(function(e){"conws-reference"===e.model.id&&(i=e)}),i&&i.activate()}},"_focusButton":function(e){var i=this.options&&this.options.metadataView,n=i&&i.metadataHeaderView,o=n&&n.metadataItemNameView;if(!o||o.readonly||o.model&&o.model.get("name")||e&&e.cancelSearch){if(this.options.actionContext.workspaceReference.get("bo_id")){var s;this.replaceView&&(s=t(this.replaceView.ui.replaceButton),s.focus())}else this.initialView&&(s=t(this.initialView.ui.searchButton),s.focus());var a=this.options.originatingView,r=a.$el.find("div[id='conws-reference']");if(r&&r.length>0){var c=r[0].offsetTop;if(s&&s.length>0){var l=s[0].offsetTop,u=s.height(),p=a.tabContent.$el.height();if(l+u>c+p){var d=Math.max(a.getOption("extraScrollTopOffset")||0,5),h=l+u-p+d;a.tabContent.$el.animate({"scrollTop":h},300)}}}}else o.setEditModeFocus()},"_formsRendered":function(){this.options.actionContext.scrollToPanel&&(delete this.options.actionContext.scrollToPanel,this._scrollToPanel()),this.options.actionContext.focusButton&&(delete this.options.actionContext.focusButton,this._focusButton())},"validate":function(){return!0},"getValues":function(){return{"bo_id":this.options.actionContext.workspaceReference.get("bo_id"),"bo_type_id":this.options.actionContext.workspaceReference.get("bo_type_id")}},"hideNotRequired":function(e){return!0}});return v}),csui.define("xecmpf/widgets/boattachments/impl/boattachments.factory",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/node","xecmpf/widgets/boattachments/impl/boattachments.model","xecmpf/models/boattachmentcontext/attachmentcontext.busobjinfo.factory"],function(e,t,i,n,o,s,a,r){var c=o.extend({"propertyPrefix":"boAttachments","constructor":function(i,r){o.prototype.constructor.apply(this,arguments);var c=this.options.boAttachments||{};c instanceof n.Collection||(this.property=new a(c.models,t.extend({"context":i,"node":i.getModel(s,r)},c.options,e.config().options,{"autoreset":!0},r)))},"fetch":function(e){return this.property.fetch(e)}});return c}),csui.define("xecmpf/widgets/boattachments/impl/boattachment.table/toolbaritems",["module","csui/controls/toolbar/toolitem.model","csui/controls/toolbar/toolitems.factory","i18n!xecmpf/widgets/boattachments/impl/nls/lang","i18n!csui/controls/tabletoolbar/impl/nls/localized.strings"],function(e,t,i,n,o){var s={"tableHeaderToolbar":new i({"main":[{"signature":"Snapshot","name":n.CommandSnapshot}]},{"maxItemsShown":15,"dropDownIcon":"icon icon-toolbar-more"})};return s}),csui.define("xecmpf/widgets/boattachments/impl/boattachment.table/boattachments.columns",["csui/lib/backbone","i18n!xecmpf/widgets/boattachments/impl/nls/lang"],function(e,t){var i=e.Model.extend({"defaults":{"key":null,"sequence":0}}),n=e.Collection.extend({"model":i,"comparator":"sequence","getColumnKeys":function(){return this.pluck("key")},"deepClone":function(){return new n(this.map(function(e){return e.attributes}))}}),o=new n([{"key":"type","permanentColumn":!0,"sequence":10},{"key":"name","permanentColumn":!0,"sequence":20},{"key":"parent_id","title":t.parent_id,"permanentColumn":!0,"sequence":30},{"key":"reserved","sequence":40,"noTitleInHeader":!0,"permanentColumn":!0},{"key":"modify_date","permanentColumn":!0,"sequence":50},{"key":"version","sequence":60},{"key":"size","sequence":70},{"key":"create_date","sequence":80},{"key":"createdby","sequence":90},{"key":"modifiedby","sequence":100},{"key":"favorite","sequence":910,"noTitleInHeader":!0,"permanentColumn":!0}]);return o}),csui.define("hbs!xecmpf/widgets/boattachments/impl/boattachment.table/boattachmentstable",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div class="xecmpf-boattachmentstable">\r\n    <div id="botabletoolbar" class="csui-rowselection-toolbar"></div>\r\n    <div id="botableview"></div>\r\n    <div id="bopaginationview"></div>\r\n</div>'}});return i.registerPartial("xecmpf_widgets_boattachments_impl_boattachment.table_boattachmentstable",n),n}),csui.define("css!xecmpf/widgets/boattachments/impl/boattachment.table/boattachmentstable",[],function(){}),csui.define("xecmpf/widgets/boattachments/impl/boattachment.table/boattachmentstable.view",["module","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/base","csui/behaviors/default.action/default.action.behavior","csui/behaviors/table.rowselection.toolbar/table.rowselection.toolbar.behavior","csui/utils/contexts/factories/connector","csui/controls/table/table.view","csui/controls/pagination/nodespagination.view","csui/dialogs/modal.alert/modal.alert","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/utils/commands","csui/controls/table/rows/description/description.view","xecmpf/widgets/boattachments/impl/boattachment.table/toolbaritems","xecmpf/widgets/boattachments/impl/boattachment.table/boattachments.columns","i18n!xecmpf/widgets/boattachments/impl/nls/lang","hbs!xecmpf/widgets/boattachments/impl/boattachment.table/boattachmentstable","css!xecmpf/widgets/boattachments/impl/boattachment.table/boattachmentstable"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g,b,v){var w=e.config();i.defaults(w,{"defaultPageSize":30,"orderBy":{"sortColumn":"{name}","sortOrder":"asc"}});var y=o.LayoutView.extend({"className":"xecmpf-boattachments-table","template":v,"regions":{"toolbarRegion":".csui-rowselection-toolbar","tableRegion":"#botableview","paginationRegion":"#bopaginationview"},"behaviors":{"DefaultAction":{"behaviorClass":a},"TableRowSelectionToolbar":{"behaviorClass":r}},"constructor":function(e){e||(e={}),i.defaults(e,{"data":{},"pageSize":w.defaultPageSize,"toolbarItems":f,"toolbarItemsMasks":{"toolbars":{}}}),i.defaults(e.data,{"pageSize":w.defaultPageSize,"orderBy":w.orderBy}),this.context=e.context,this.collection=e.collection,o.LayoutView.prototype.constructor.apply(this,arguments),this.propagateEventsToRegions()},"initialize":function(e){this.setTableView(),this.setPagination(),e.collection&&(this.collection.fetched=!1)},"setTableView":function(){this.columns=this.collection.columns,this.connector=this.collection.node&&this.collection.node.connector||this.context.getObject(c);var e=[""];i.each(this.columns.models,function(t){t.get("sort")===!0&&-1===t.get("type")&&e.push(t.get("column_key"))});var t=g.clone();this.tableView=new l({"context":this.options.context,"haveDetailsRowExpandCollapseColumn":!0,"descriptionRowView":m,"descriptionRowViewOptions":{"firstColumnIndex":2,"lastColumnIndex":2,"showDescriptions":!0,"collapsedHeightIsOneLine":!0},"connector":this.connector,"collection":this.collection,"columns":this.columns,"tableColumns":t,"columnsWithSearch":e,"selectColumn":!0,"pageSize":this.options.data.pageSize,"orderBy":this.collection.options.boAttachments.attributes.sortExpanded||this.collection.orderBy,"nameEdit":!1,"tableTexts":{"zeroRecords":b.noAttachmentsFound},"maxColumnsDisplayed":10}),this.listenTo(this.tableView,"execute:defaultAction",function(e){var t={"node":e};this.trigger("before:defaultAction",t),t.cancel||this.defaultActionController.executeAction(e,{"context":this.options.context,"originatingView":this}).done(function(){this.trigger("executed:defaultAction",t)}.bind(this))})},"setPagination":function(){this.paginationView=new u({"collection":this.collection,"pageSize":this.options.data.pageSize})},"onRender":function(){this.collection.fetch({"reload":!0}),this.tableRegion.show(this.tableView),this.paginationRegion.show(this.paginationView)},"onBeforeShow":function(){for(var e=this._parent;!e.headerView;)e=e._parent;this._renderTitleIconWaterMark(e)},"_renderTitleIconWaterMark":function(e){var i=e.headerView&&e.headerView.$el.find(".tile-type-image img")[0];i&&t(i).after('<span class="csui-icon xecmpf-icon-boattachment-overlay" title="'+b.businessAttachments+'"></span>')}});return i.extend(y.prototype,d),y}),csui.define("hbs!xecmpf/widgets/boattachments/impl/boattitem",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'              <span class="xecmpf-value">'+this.escapeExpression(this.lambda(null!=(o=null!=e?e.title:e)?o.value:o,e))+"</span>\r\n"+(null!=(o=t["if"].call(e,null!=e?e.reserved_by:e,{"name":"if","hash":{},"fn":this.program(2,n,0),"inverse":this.noop}))?o:"")+(null!=(o=t["if"].call(e,null!=e?e.reserved_by_other:e,{"name":"if","hash":{},"fn":this.program(4,n,0),"inverse":this.noop}))?o:"")},"2":function(e,t,i,n){var o;return'                  <span class="csui-icon icon-reserved_self" title="'+this.escapeExpression((o=null!=(o=t.reserved_by||(null!=e?e.reserved_by:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"reserved_by","hash":{}}):o))+'"></span>\r\n'},"4":function(e,t,i,n){var o;return'                  <span class="csui-icon icon-reserved_other" title="'+this.escapeExpression((o=null!=(o=t.reserved_by_other||(null!=e?e.reserved_by_other:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"reserved_by_other","hash":{}}):o))+'"></span>\r\n'},"6":function(e,t,i,n){var o;return'            <span class="xecmpf-label">'+this.escapeExpression(this.lambda(null!=(o=null!=e?e.title:e)?o.label:o,e))+"</span>\r\n"},"8":function(e,t,i,n){return'            <!-- add element to get proper distance to description -->\r\n            <div class="xecmpf-description-spacer"></div>\r\n'},"10":function(e,t,i,n){var o;return'          <div class="xecmpf-right">\r\n'+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.topRight:e)?o.value:o,{"name":"if","hash":{},"fn":this.program(11,n,0),"inverse":this.noop}))?o:"")+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.topRight:e)?o.label:o,{"name":"if","hash":{},"fn":this.program(14,n,0),"inverse":this.noop}))?o:"")+"          </div>\r\n"},"11":function(e,t,i,n){var o;return'              <span class="xecmpf-value">'+this.escapeExpression(this.lambda(null!=(o=null!=e?e.topRight:e)?o.value:o,e))+"</span>\r\n"+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.topRight:e)?o.label:o,{"name":"if","hash":{},"fn":this.program(12,n,0),"inverse":this.noop}))?o:"")},"12":function(e,t,i,n){return'                <!-- add element to get proper distance to value -->\r\n                <div class="xecmpf-spacer"></div>\r\n'},"14":function(e,t,i,n){var o;return'              <span class="xecmpf-label">'+this.escapeExpression(this.lambda(null!=(o=null!=e?e.topRight:e)?o.label:o,e))+"</span>\r\n"},"16":function(e,t,i,n){var o;return'          <div class="xecmpf-body">'+this.escapeExpression(this.lambda(null!=(o=null!=e?e.description:e)?o.value:o,e))+"</div>\r\n"},"18":function(e,t,i,n){var o;return'          <div class="xecmpf-left">\r\n'+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.bottomLeft:e)?o.label:o,{"name":"if","hash":{},"fn":this.program(19,n,0),"inverse":this.noop}))?o:"")+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.bottomLeft:e)?o.value:o,{"name":"if","hash":{},"fn":this.program(21,n,0),"inverse":this.noop}))?o:"")+"          </div>\r\n"},"19":function(e,t,i,n){var o;return'              <span class="xecmpf-label">'+this.escapeExpression(this.lambda(null!=(o=null!=e?e.bottomLeft:e)?o.label:o,e))+"</span>\r\n"+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.bottomLeft:e)?o.value:o,{"name":"if","hash":{},"fn":this.program(12,n,0),"inverse":this.noop}))?o:"")},"21":function(e,t,i,n){var o;return'              <span class="xecmpf-value">'+this.escapeExpression(this.lambda(null!=(o=null!=e?e.bottomLeft:e)?o.value:o,e))+"</span>\r\n"},"23":function(e,t,i,n){var o;return'          <div class="xecmpf-right">\r\n'+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.bottomRight:e)?o.label:o,{"name":"if","hash":{},"fn":this.program(24,n,0),"inverse":this.noop}))?o:"")+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.bottomRight:e)?o.value:o,{"name":"if","hash":{},"fn":this.program(26,n,0),"inverse":this.noop}))?o:"")+"          </div>\r\n"},"24":function(e,t,i,n){var o;return'              <span class="xecmpf-label">'+this.escapeExpression(this.lambda(null!=(o=null!=e?e.bottomRight:e)?o.label:o,e))+"</span>\r\n"+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.bottomRight:e)?o.value:o,{"name":"if","hash":{},"fn":this.program(12,n,0),"inverse":this.noop}))?o:"")},"26":function(e,t,i,n){var o;return'              <span class="xecmpf-value">'+this.escapeExpression(this.lambda(null!=(o=null!=e?e.bottomRight:e)?o.value:o,e))+"</span>\r\n"},"28":function(e,t,i,n){return'  <div class="xecmpf-attachmentitem-divider"></div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o,s;return'<div class="xecmpf-attachmentitem-action-area">\r\n  <a class="xecmpf-nostyle" href="'+this.escapeExpression((s=null!=(s=t.defaultActionUrl||(null!=e?e.defaultActionUrl:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"defaultActionUrl","hash":{}}):s))+'">\r\n    <div class="xecmpf-attachmentitem-border">\r\n        <div class="xecmpf-attachmentitem-top">\r\n            <span class="csui-type-icon '+this.escapeExpression((s=null!=(s=t.icon||(null!=e?e.icon:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"icon","hash":{}}):s))+'" aria-hidden="true"></span>\r\n            <div class="xecmpf-title xecmpf-left">\r\n'+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.title:e)?o.value:o,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:"")+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.title:e)?o.label:o,{"name":"if","hash":{},"fn":this.program(6,n,0),"inverse":this.noop}))?o:"")+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.description:e)?o.value:o,{"name":"if","hash":{},"fn":this.program(8,n,0),"inverse":this.noop}))?o:"")+"        </div>\r\n\r\n"+(null!=(o=t["if"].call(e,null!=e?e.topRight:e,{"name":"if","hash":{},"fn":this.program(10,n,0),"inverse":this.noop}))?o:"")+'      </div>\r\n\r\n      <div class="xecmpf-attachmentitem-center">\r\n'+(null!=(o=t["if"].call(e,null!=(o=null!=e?e.description:e)?o.value:o,{
"name":"if","hash":{},"fn":this.program(16,n,0),"inverse":this.noop}))?o:"")+'      </div>\r\n\r\n      <div class="xecmpf-attachmentitem-bottom">\r\n'+(null!=(o=t["if"].call(e,null!=e?e.bottomLeft:e,{"name":"if","hash":{},"fn":this.program(18,n,0),"inverse":this.noop}))?o:"")+(null!=(o=t["if"].call(e,null!=e?e.bottomRight:e,{"name":"if","hash":{},"fn":this.program(23,n,0),"inverse":this.noop}))?o:"")+"      </div>\r\n    </div>\r\n  </a>\r\n</div>\r\n\r\n"+(null!=(o=t["if"].call(e,null!=e?e.notLastItem:e,{"name":"if","hash":{},"fn":this.program(28,n,0),"inverse":this.noop}))?o:"")}});return i.registerPartial("xecmpf_widgets_boattachments_impl_boattitem",n),n}),csui.define("css!xecmpf/widgets/boattachments/impl/boattitem",[],function(){}),csui.define("xecmpf/widgets/boattachments/impl/boattitem.view",["module","csui/lib/underscore","csui/lib/marionette","csui/lib/jquery","csui/behaviors/default.action/default.action.behavior","csui/utils/base","csui/lib/numeral","csui/utils/contexts/factories/user","xecmpf/widgets/boattachments/impl/boattachmentutil","i18n!xecmpf/widgets/boattachments/impl/nls/lang","hbs!xecmpf/widgets/boattachments/impl/boattitem","css!xecmpf/widgets/boattachments/impl/boattitem"],function(e,t,i,n,o,s,a,r,c,l,u){var p=i.ItemView.extend({"behaviors":{"DefaultAction":{"behaviorClass":o}},"constructor":function(e){i.ItemView.prototype.constructor.apply(this,arguments),this.user=this.options.context.getModel(r)},"triggers":{"click .xecmpf-attachmentitem-border":"click:item"},"onClickItem":function(){this.triggerMethod("execute:defaultAction",this.model)},"className":"xecmpf-attachmentitem-object clearfix","template":u,"_checkValue":function(e){return t.isUndefined(e.value)||t.isNull(e.value)?!1:!0},"_convValueToString":function(e){return!t.isString(e.value)&&(e.value=e.value+""),e},"serializeData":function(){var e=this._getObject(this.options.data||{}),t={};if(e.title&&(t.title=e.title),e.description&&(t.description=e.description),e.topRight&&this._checkValue(e.topRight)&&(t.topRight=this._convValueToString(e.topRight)),e.bottomLeft&&this._checkValue(e.bottomLeft)&&(t.bottomLeft=this._convValueToString(e.bottomLeft)),e.bottomRight&&this._checkValue(e.bottomRight)&&(t.bottomRight=this._convValueToString(e.bottomRight)),t.title||(t.title={"value":this.model.get("name")}),t.name||(t.name=this.model.get("name")),t.id||(t.id=this.model.get("id")),t.defaultActionUrl=o.getDefaultActionNodeUrl(this.model),this.model.get("id")!==this.model.collection.models[this.model.collection.models.length-1].get("id")&&(t.notLastItem=!0),this.model.get("reserved_user_id")){var i=l.reservedBy.replace("%1",this.model.get("reserved_user_id_expand").name_formatted);this.user.get("id")===this.model.get("reserved_user_id")?t.reserved_by=i:t.reserved_by_other=i}return t},"templateHelpers":function(e){return e},"_getObject":function(e){return t.reduce(e,function(e,t,i){if("object"!=typeof t)t=this.self._getValue(t);else if("object"==typeof t)if("value"===i||"label"===i){var n=s.getClosestLocalizedString(t);t=this.self._getValue(n)}else t=this.self._getObject(t);return e[i]=t,e},{},{"self":this})},"_getValue":function(e){for(var t,i,n,o,s,a=/{([^:}]+)(:([^}]+))?}/g,r=e;t=a.exec(e);)n=t[0],i=t[1],s=t[3],this.model.collection.columns.models&&(o=this._formatPlaceholder(i,s,this.model.attributes,this.model.collection.columns.models)),r=r.replace(n,o);return r},"_formatPlaceholder":function(e,i,n,o){var r,c,l,u="_expand",p=e;switch(c=t.find(o,function(t){return t.get("column_key")===e}),l=c&&c.get("type")||void 0,e=n[e+u]?e+u:e,r=t.isUndefined(n[e])?"":n[e],l){case-7:("modify_date"===e||"modified"===e)&&(r=n.modified||n.modify_date),r=s.formatDate(r);break;case 5:r=n[e+"_formatted"],(null===r||void 0===r)&&(r="");break;case 2:case 14:"size"===e||"modifiedby"===e||"createdby"===e?r=n[e+"_formatted"]:-1===e.indexOf(u,this.length-u.length)||"User"!==n[e].type_name&&"Group"!==n[e].type_name||(r=s.formatMemberName(r));default:"currency"===i&&(r=a(r).format()),"object"==typeof r&&(r=n[p]||"")}return r}});return p}),csui.define("xecmpf/widgets/boattachments/impl/headertoolbaritems",["csui/controls/toolbar/toolitems.factory","i18n!xecmpf/widgets/boattachments/impl/nls/lang"],function(e,t){var i={"AddToolbar":new e({"main":[{"signature":"BOAttachmentsCreate","name":t.addBusinessAttachment,"icon":"icon icon-toolbarAdd"}]},{"maxItemsShown":1,"dropDownIcon":"icon icon-toolbar-more"})};return i}),csui.define("hbs!xecmpf/controls/dialogheader/impl/dialogheader",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'  <div class="cs-close" title="'+this.escapeExpression((o=null!=(o=t.dialogCloseButtonTooltip||(null!=e?e.dialogCloseButtonTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"dialogCloseButtonTooltip","hash":{}}):o))+'">\r\n    <div class="icon circular '+this.escapeExpression((o=null!=(o=t.iconRight||(null!=e?e.iconRight:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"iconRight","hash":{}}):o))+'" tabindex="0" aria-label="'+this.escapeExpression((o=null!=(o=t.ariaDialogClose||(null!=e?e.ariaDialogClose:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"ariaDialogClose","hash":{}}):o))+'"\r\n         role="button"></div>\r\n  </div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<div class="left-section"></div>\r\n<div class="center-section"></div>\r\n<div class="right-section"></div>\r\n\r\n'+(null!=(o=t["if"].call(e,null!=e?e.hideDialogClose:e,{"name":"if","hash":{},"fn":this.noop,"inverse":this.program(1,n,0)}))?o:"")}});return i.registerPartial("xecmpf_controls_dialogheader_impl_dialogheader",n),n}),csui.define("xecmpf/controls/dialogheader/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/controls/dialogheader/impl/nls/root/lang",{"dialogCloseButtonTooltip":"Close","ariaDialogClose":"Close dialog"}),csui.define("css!xecmpf/controls/dialogheader/impl/dialogheader",[],function(){}),csui.define("xecmpf/controls/dialogheader/dialogheader.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/behaviors/keyboard.navigation/tabable.region.behavior","hbs!xecmpf/controls/dialogheader/impl/dialogheader","i18n!xecmpf/controls/dialogheader/impl/nls/lang","css!xecmpf/controls/dialogheader/impl/dialogheader"],function(e,t,i,n,o,s,a){var r=n.LayoutView.extend({"className":"xecmpf-header","template":s,"behaviors":{"TabableRegion":{"behaviorClass":o}},"regions":{"LeftRegion":".left-section","CenterRegion":".center-section","RightRegion":".right-section"},"events":{"keydown":"onKeyInView"},"templateHelpers":function(){return{"iconRight":this.options.iconRight?this.options.iconRight:"cs-icon-cross","dialogCloseButtonTooltip":a.dialogCloseButtonTooltip,"ariaDialogClose":a.ariaDialogClose,"hideDialogClose":this.options.hideDialogClose?this.options.hideDialogClose:!1}},"constructor":function(e){n.LayoutView.prototype.constructor.apply(this,arguments)},"onRender":function(){var e=this.options.leftView,t=this.options.centerView,i=this.options.rightView;e&&this.LeftRegion.show(e),t&&this.CenterRegion.show(t),i&&this.RightRegion.show(i)},"isTabable":function(){return this.$("*[tabindex]").length>0},"currentlyFocusedElement":function(e){var i=this.$("*[tabindex]");return i.length&&i.prop("tabindex",0),t(e&&e.shiftKey?i[i.length-1]:i[0])},"onLastTabElement":function(e,t){return e&&t.target===this.$("*[tabindex]")[0]},"onKeyInView":function(e){var i=e.keyCode;(13===i||32===i)&&t(e.target).click()}});return r}),csui.define("hbs!xecmpf/controls/headertoolbar/impl/headertoolbar",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div class="filter-toolbar"></div>\r\n<div class="add-toolbar"></div>\r\n<div class="other-toolbar"></div>'}});return i.registerPartial("xecmpf_controls_headertoolbar_impl_headertoolbar",n),n}),csui.define("css!xecmpf/controls/headertoolbar/impl/headertoolbar",[],function(){}),csui.define("xecmpf/controls/headertoolbar/headertoolbar.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/controls/toolbar/toolitems.filtered.model","csui/controls/toolbar/toolbar.view","csui/controls/toolbar/toolbar.command.controller","hbs!xecmpf/controls/headertoolbar/impl/headertoolbar","css!xecmpf/controls/headertoolbar/impl/headertoolbar"],function(e,t,i,n,o,s,a,r){var c=n.LayoutView.extend({"className":"xecmpf-header-toolbar","template":r,"regions":{"FilterToolbarRegion":".filter-toolbar","AddToolbarRegion":".add-toolbar","OtherToolbarRegion":".other-toolbar"},"constructor":function(e){this.commands=e.commands,this.commandController=e.commandController?e.commandController:new a({"commands":this.commands}),this.originatingView=e.originatingView?e.originatingView:this,this.context=e.context,this.nodes=e.selectedNodes,this.container=e.container,this.collection=e.collection,this.addableTypes=e.addableTypes,this.toolbarNames=["Filter","Add","Other"],this.toolbarItems=e.toolbarItems||[],n.LayoutView.prototype.constructor.apply(this,arguments)},"initialize":function(t){var i={"context":this.context,"nodes":this.selectedNodes,"container":this.container,"collection":this.collection,"originatingView":this.originatingView,"data":{"addableTypes":this.addableTypes}};e.each(this.toolbarNames,function(t){var n=t+"Toolbar",a=this.toolbarItems[n];if(a){e.any(a.collection.models,function(e){return"disabled"===e.attributes.signature?(a.collection.remove(e),!0):void 0});var r=new o(a,{"status":i,"commands":this.commandController.commands}),c=new s(e.extend({"collection":r,"toolbarName":t,"originatingView":this.originatingView},a.options));this[t+"ToolbarView"]=c,this.listenTo(c,"childview:toolitem:action",this._toolbarItemClicked)}},this)},"onRender":function(){e.each(this.toolbarNames,function(e){this[e+"ToolbarView"]&&this[e+"ToolbarRegion"].show(this[e+"ToolbarView"])},this)},"_toolbarItemClicked":function(e,t){this.options.toolItemView=e,this.commandController.toolitemClicked(t.toolItem,this.options)}});return c}),csui.define("hbs!xecmpf/controls/title/impl/title",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'  <div class="tile-type-icon">\r\n    <span class="icon title-icon '+this.escapeExpression((o=null!=(o=t.icon||(null!=e?e.icon:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"icon","hash":{}}):o))+'" aria-hidden="true"></span>\r\n  </div>\r\n'},"3":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,null!=e?e.imageUrl:e,{"name":"if","hash":{},"fn":this.program(4,n,0),"inverse":this.noop}))?o:""},"4":function(e,t,i,n){var o;return'    <div class="tile-type-image '+this.escapeExpression((o=null!=(o=t.imageClass||(null!=e?e.imageClass:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"imageClass","hash":{}}):o))+'">\r\n      <span class="tile-type-icon tile-type-icon-img">\r\n        <img src="'+this.escapeExpression((o=null!=(o=t.imageUrl||(null!=e?e.imageUrl:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"imageUrl","hash":{}}):o))+'" alt="" aria-hidden="true">\r\n      </span>\r\n    </div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o,s;return(null!=(o=t["if"].call(e,null!=e?e.icon:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(3,n,0)}))?o:"")+'\r\n<div class="title-name">\r\n  <h4 class="title-name-block" title="'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"title","hash":{}}):s))+'">'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"title","hash":{}}):s))+"</h4>\r\n</div>\r\n"}});return i.registerPartial("xecmpf_controls_title_impl_title",n),n}),csui.define("css!xecmpf/controls/title/impl/title",[],function(){}),csui.define("xecmpf/controls/title/title.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","hbs!xecmpf/controls/title/impl/title","css!xecmpf/controls/title/impl/title"],function(e,t,i,n,o){var s=n.ItemView.extend({"className":"title-wrapper","template":o,"templateHelpers":function(){return{"icon":this.options.icon,"imageUrl":this.options.imageUrl,"imageClass":this.options.imageClass,"title":this.options.title}},"constructor":function(){n.ItemView.prototype.constructor.apply(this,arguments)}});return s}),csui.define("css!xecmpf/widgets/boattachments/impl/boattachments",[],function(){}),csui.define("xecmpf/widgets/boattachments/boattachments.view",["csui/lib/marionette","module","csui/lib/underscore","csui/lib/backbone","csui/lib/jquery","csui/utils/base","csui/controls/list/list.view","csui/utils/nodesprites","csui/behaviors/limiting/limiting.behavior","csui/behaviors/expanding/expanding.behavior","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/controls/list/behaviors/list.view.keyboard.behavior","csui/controls/tile/behaviors/infinite.scrolling.behavior","csui/utils/contexts/factories/node","csui/controls/progressblocker/blocker","csui/dialogs/modal.alert/modal.alert","csui/utils/log","csui/controls/node-type.icon/node-type.icon.view","csui/utils/commands","xecmpf/widgets/boattachments/impl/boattachments.factory","xecmpf/widgets/boattachments/impl/boattachment.table/boattachmentstable.view","xecmpf/widgets/boattachments/impl/boattitem.view","xecmpf/models/boattachmentcontext/attachmentcontext.factory","xecmpf/widgets/boattachments/impl/boattachmentutil","csui/utils/nodesprites","xecmpf/models/boattachmentcontext/attachmentcontext.busobjinfo.factory","xecmpf/widgets/boattachments/impl/headertoolbaritems","xecmpf/controls/dialogheader/dialogheader.view","xecmpf/controls/headertoolbar/headertoolbar.view","xecmpf/controls/title/title.view","i18n!xecmpf/widgets/boattachments/impl/nls/lang","css!xecmpf/widgets/boattachments/impl/boattachments"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g,b,v,w,y,x,_,k,C,S,V,T,M,A,P,E){var B=t.config(),I=a.extend({"constructor":function(e){if(this.viewClassName="xecmpf-businessattachments",!e||!e.context)throw new Error("Context required to create AttachmentsView");if(e.businessAttachmentContext||(e.businessAttachmentContext=e.context.getObject(_,e.data),e.businessAttachmentContext.setAttachmentSpecific(w)),e.data||(e.data={}),e.data.businessattachment||(e.data.businessattachment={}),i.defaults(e.data.businessattachment.properties,{"busObjectId":"","busObjectType":"","extSystemId":""}),this.busobjinfo=e.businessAttachmentContext.getModel(S,{"data":e.data.businessattachment.properties,"attributes":e.data.businessattachment.properties}),a.prototype.constructor.apply(this,arguments),this.options.blockingParentView?m.delegate(this,this.options.blockingParentView):m.imbue(this),this.options.data.pageSize=B.defaultPageSize||30,this.configOptionsData=i.clone(e.data),this.lastFilterValue="",this.limit=0,this.listenTo(this.collection,"sync",this._renderBusinessAttachmentTitleIcon),this.listenTo(this.collection,"error",this._renderBusinessAttachmentTitleIcon),this.nodeModel=this.getContext().getObject(h,e.context.options),this.listenTo(this.nodeModel,"change:id",this._reset),this.listenTo(this.collection,"request",this.blockActions).listenTo(this.collection,"sync",function(){this.messageOnError=void 0,this.unblockActions.apply(this,arguments)}).listenTo(this.collection,"destroy",this.unblockActions).listenTo(this.collection,"error",function(){this.unblockActions.apply(this,arguments),this.messageOnError?(f.showError(this.messageOnError),this.messageOnError=void 0):f.showError(arguments[1].responseJSON.error)}),this.listenTo(this.collection,"request",this.destroyEmptyView),this.options&&this.options.data&&this.options.data.collapsedView&&this.options.data.collapsedView.orderBy)if(i.isString(this.options.data.collapsedView.orderBy))g.error(P.errorOrderByMustNotBeString)&&console.log(g.last),f.showError(P.errorOrderByMustNotBeString);else if(this.options.data.collapsedView.orderBy.sortColumn){var t=/{([^:}]+)(:([^}]+))?}/g,n=t.exec(this.options.data.collapsedView.orderBy.sortColumn);n||(g.error(P.errorOrderByMissingBraces)&&console.log(g.last),f.showError(P.errorOrderByMissingBraces))}if(this.options&&this.options.data&&this.options.data.collapsedView){var o=[],s=this;["title","description","topRight","bottomLeft","bottomRight"].forEach(function(e){s.options.data.collapsedView[e]&&s.options.data.collapsedView[e].format&&o.push(e)}),o.length>0&&f.showError(i.str.sformat(P.errorFieldFormatTagUnrecognized,o.join(", ")))}},"getContext":function(){return this.options.businessAttachmentContext},"initialize":function(){this.collection=this.completeCollection},"onRender":function(){this._resetInfiniteScrolling(),a.prototype.onRender.call(this)},"onClickHeader":function(e){this.triggerMethod("expand")},"_resetInfiniteScrolling":function(){this.collection.setLimit(0,this.options.data.pageSize,!1)},"templateHelpers":function(){return{"title":this._getTitle(),"imageUrl":this._getTitleIcon().src,"imageClass":"xecmpf-attachmentstitleicon","searchPlaceholder":this._getSearchPlaceholder()}},"childEvents":{"render":"onRenderItem","before:destroy":"onBeforeDestroyItem"},"className":function(){var e=this.viewClassName,t=i.result(a.prototype,"className");return t&&(e=e+" "+t),e},"_reset":function(){this.collection&&this.collection.resetLimit(),this.ui.searchInput&&""!==this.ui.searchInput.val()&&(this.collection&&this.collection.clearFilter(!1),this.ui.searchInput.val("")),this.ui.searchInput&&this.ui.searchInput.is(":visible")&&this.searchClicked(new CustomEvent(""))},"dialogClassName":"xecmpf-businessattachments","behaviors":{"LimitedList":{"behaviorClass":c,"limit":function(){return this.limit},"completeCollection":function(){return this.getContext().getCollection(w,{"attributes":this._getCollectionAttributes(),"options":{"data":this.options.data,"query":this._getCollectionUrlQuery()}})}},"ExpandableList":{"behaviorClass":l,"expandedView":y,"expandedViewOptions":function(){return{"titleBarIcon":this._getTitleIcon(),"data":i.clone(this.configOptionsData),"commands":v,"collection":this._getExpandedViewCollection(!0)}},"dialogClassName":function(){return this.dialogClassName},"headerView":function(){return this._getHeaderView()}},"InfiniteScrolling":{"behaviorClass":d,"content":".binf-list-group","contentParent":".tile-content","fetchMoreItemsThreshold":80},"TabableRegion":{"behaviorClass":u},"ListViewKeyboardBehavior":{"behaviorClass":p}},"_getExpandedViewCollection":function(e){return e&&(this.expandViewCollection=this.completeCollection?this.completeCollection.clone():this.collection.clone(),this.expandViewCollection.businessObjectActions=this.completeCollection.businessObjectActions||this.collection.businessObjectActions,this.expandViewCollection.columns=this.completeCollection.columns||this.collection.columns,this.listenTo(this.expandViewCollection,{"add":function(e){this.collection.add(e,{"at":0})}})),this.expandViewCollection},"filterChanged":function(e){e&&"keyup"===e.type&&27===e.keyCode&&this.searchClicked();var t=this.ui.searchInput.val();this.lastFilterValue!==t&&(this.lastFilterValue=t,this.filterTimeout&&clearTimeout(this.filterTimeout),this.filterTimeout=setTimeout(function(e){e.filterTimeout=void 0,e._resetInfiniteScrolling(),e.collection.reset();var i;e._getFilterPropertyName&&(i=e._getFilterPropertyName());var n={};n[i||"name"]=t,e.collection.setFilter(n,{"fetch":!1})&&(e.messageOnError=P.errorFilteringFailed,e.collection.fetch())},1e3,this))},"_getTitleIcon":function(){var e={"src":"data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw==","cssClass":void 0};return this.busobjinfo.get("titleIcon")?(e.src=this.busobjinfo.get("titleIcon"),e.cssClass="csui-icon"):e.cssClass="xecmpf-attachmentstitleicondefault "+r.findClass("equals","type",848),e},"_renderBusinessAttachmentTitleIcon":function(){var e=this.$el.find(".tile-type-image")[0],t=e&&this.$el.find(".tile-type-image").find("img")[0];if(t){var i=this._getTitleIcon();o(t).attr("src")!==i.src&&o(t).attr("src",i.src),i.cssClass&&o(t).attr("class")!==i.cssClass&&o(t).attr("class",i.cssClass),o(t).attr("alt",""),o(t).after('<span class="csui-icon xecmpf-icon-boattachment-overlay" title="'+P.businessAttachments+'"></span>')}},"_getTitle":function(){var e=P.dialogTitle;return this.options.data.title&&(e=s.getClosestLocalizedString(this.options.data.title,P.dialogTitle)),e},"_getHeaderView":function(){var e=new M({"commands":v,"originatingView":this,"containerEl":".xecmpf-businessattachments .binf-modal-dialog .binf-modal-content","context":this.getContext(),"collection":this._getExpandedViewCollection(!1),"toolbarItems":V,"data":{"extId":this.busobjinfo.get("extSystemId"),"boType":this.busobjinfo.get("busObjectType"),"boid":this.busobjinfo.get("busObjectKey")}}),t=this._getTitleIcon(),i=new A({"imageUrl":t.src,"imageClass":t.cssClass,"title":this._getTitle()}),n=new T({"iconRight":"icon-tileCollapse","leftView":e,"centerView":i});return n},"_getSearchPlaceholder":function(){return P.searchPlaceholder.replace("%1",this._getTitle())},"childView":x,"childViewOptions":function(){return i.defaults(this.options.data,{"collapsedView":{"title":{"value":"{name}"}}}),i.defaults(this.options.data.collapsedView.title,{"value":"{name}"}),(i.isEmpty(this.options.data.collapsedView.title)||i.isEmpty(this.options.data.collapsedView.title.value))&&(this.options.data.collapsedView.title={"value":"{name}"}),{"context":this.options.context,"data":this.options.data.collapsedView}},"emptyViewOptions":{"templateHelpers":function(){var e=this._parent.busobjinfo.invalidConfigurationShown?this._parent.busobjinfo.invalidErrorMessage:"";return{"text":this._parent._getNoResultsPlaceholder()+e}}},"_getCollectionAttributes":function(){var e=this.options.data.busObjectId&&this.options.data||this.options.data&&this.options.data.businessattachment&&this.options.data.businessattachment.properties||{};return{"busObjectType":e&&e.busObjectType,"extSystemId":e&&e.extSystemId,"busObjectId":e&&e.busObjectId,"sortExpanded":this.options.data.expandedView&&k.orderByAsString(this.options.data.expandedView.orderBy)||this._getDefaultSortOrder()||void 0,"sortCollapsed":this.options.data.collapsedView&&k.orderByAsString(this.options.data.collapsedView.orderBy)||this._getDefaultSortOrder()||void 0}},"_getDefaultSortOrder":function(){return this._getFilterPropertyName()?this._getFilterPropertyName()+" asc":void 0},"_getCollectionUrlQuery":function(){var e,t=this.options,i={};return t.data.collapsedView&&(e=k.orderByAsString(t.data.collapsedView.orderBy)),e||(e=this._getDefaultSortOrder()),e&&(i.sort=e),i},"_getFirstPlaceholder":function(e){for(var t,i,n,o,s=/{([^:}]+)(:([^}]+))?}/g;t=s.exec(e);)if(n=t[0],i=t[1]){o=t;break}return o},"_getFilterPropertyName":function(){var e;if(this.options&&this.options.data&&this.options.data.collapsedView&&this.options.data.collapsedView.title&&this.options.data.collapsedView.title.value){var t=this._getFirstPlaceholder(this.options.data.collapsedView.title.value);t&&(e=t[1])}return e},"getElementByIndex":function(e){if(isNaN(e)||0>e)return null;var t=this.$(i.str.sformat(".xecmpf-attachmentitem-object:nth-child({0}) .xecmpf-attachmentitem-border",e+1));return this.$(t[0])},"_getNoResultsPlaceholder":function(){var e=this.options.data&&this.options.data.collapsedView&&this.options.data.collapsedView.noResultsPlaceholder;return e=e?s.getClosestLocalizedString(e,P.noResultsPlaceholder):P.noResultsPlaceholder},"collectionEvents":{"reset":"onCollectionSync"},"onCollectionSync":function(){this.synced=!0},"isEmpty":function(){return this.synced&&0===this.collection.models.length},"onRenderItem":function(e){e._nodeIconView=new b({"el":e.$(".csui-type-icon").get(0),"node":e.model}),e._nodeIconView.render()},"onBeforeDestroyItem":function(e){e._nodeIconView&&e._nodeIconView.destroy()}});return I}),csui.define("css!xecmpf/widgets/workspaces/controls/tile/impl/tile",[],function(){}),csui.define("xecmpf/widgets/workspaces/controls/tile/tile.view",["module","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/log","csui/utils/base","csui/controls/tile/tile.view","css!xecmpf/widgets/workspaces/controls/tile/impl/tile"],function(e,t,i,n,o,s,a,r){var c=r.extend({"constructor":function(e){r.prototype.constructor.apply(this,arguments)}});return c}),csui.define("xecmpf/widgets/workspaces/factories/workspace.factory",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","xecmpf/widgets/workspaces/models/workspace.collection","csui/utils/contexts/factories/connector","csui/utils/commands"],function(e,t,i,n,o,s,a){"use strict";var r=n.extend({"propertyPrefix":"workspaces","constructor":function(e,r){r||(r={}),n.prototype.constructor.apply(this,arguments);var c=this.options.workspaces||{};c instanceof i.Collection||(c=new o(c.models,t.extend({},this.options.workspaces,{"autoreset":!0,"commands":a.getAllSignatures(),"includeActions":!1,"connector":e.getObject(s)}))),this.property=c},"fetch":function(e){return this.property.fetch(e)}});return r}),csui.define("xecmpf/widgets/workspaces/factories/workspace.types.factory",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","xecmpf/widgets/workspaces/models/workspace.types.collection","csui/utils/contexts/factories/connector"],function(e,t,i,n,o,s){var a=n.extend({"propertyPrefix":"workspaceTypes","constructor":function(e,t){n.prototype.constructor.apply(this,arguments);var i=new o(void 0,{"autoreset":!0,"config":this.options.workspaceTypes,"connector":e.getObject(s)});this.property=i},"fetch":function(e){return this.property.fetch(e)}});return a}),csui.define("xecmpf/widgets/workspaces/controls/workspaces.table/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/workspaces/controls/workspaces.table/impl/nls/root/lang",{"NodeTableNoFilteredItems":"There are no early workspaces to display.","createNew":"Create new","createNewTooltip":"Create business workspace"}),csui.define("xecmpf/widgets/workspaces/controls/workspaces.table/tabletoolbar.view",["module","require","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/log","csui/utils/base","csui/controls/toolbar/toolitem.model","csui/controls/toolbar/toolitems.filtered.model","csui/controls/toolbar/toolbar.view","csui/utils/commands","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/controls/tabletoolbar/tabletoolbar.view","csui/utils/url","xecmpf/widgets/workspaces/factories/workspace.types.factory","i18n!xecmpf/widgets/workspaces/controls/workspaces.table/impl/nls/lang"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g){"use strict";var b=u.extend({"cssPrefix":"binf-","ui":{"dropdown":".binf-dropdown-toggle"},"events":{"click @ui.dropdown":"adjustDropdown"},"_makeDropDown":function(){var e='<a href="#" class="'+this.cssPrefix+'dropdown-toggle csui-acc-focusable"  data-binf-toggle="dropdown" aria-expanded="true"';return e+=this.options.dropDownText?' title="'+this.options.dropDownText+'">':">",this.options.dropDownIcon?e+='<span class="'+this.options.dropDownIcon+'"></span>':this.options.dropDownText&&(e+=this.options.dropDownText),e+="<span class='toolbarlabel'>"+g.createNew+"</span></a>"},"adjustDropdown":function(e){if(this.collection.length<=1){this.$el.find("."+this.cssPrefix+"dropdown-menu").css("display","none");var t={"toolItem":this.collection.at(0)};this.children.first().triggerMethod("before:toolitem:action",t),this.children.first().triggerMethod("toolitem:action",t)}}}),v=h.extend({"constructor":function(e){s.LayoutView.prototype.constructor.apply(this,arguments),this.context=this.options.context,this.commands=this.options.commands||p,this.toolbarNames=["add"];var t=this.options.toolbarItems.addToolbar,i=this.addToolbarView=new b(n.extend({"collection":new l(t,{"status":{},"commands":this.commands,"delayedActions":!1}),"toolbarName":"add"},t.options));this.listenTo(i,"childview:toolitem:action",function(e,t){this.trigger("toolbarItem:clicked",t.toolItem.attributes.commandData)}).listenTo(i,"dom:refresh",function(){this.triggerMethod("refresh:tabindexes")}),this._updateAddToolbar(),this.propagateEventsToRegions()},"updateForSelectedChildren":function(e){},"_addMenuItems":function(e,t){t.models.forEach(function(t){n.isEmpty(t.get("templates"))||n.each(t.get("templates"),function(i){var n=new c({"signature":"AddConnectedWorkspace","name":i.name,"group":"conws","commandData":{"wksp_type_name":t.get("wksp_type_name"),"wksp_type_id":t.get("wksp_type_id"),"template":i,"type":i.subType,"rm_enabled":t.get("rm_enabled")}});e.push(n)})})},"onBeforeShow":function(){this.$el.find("li").remove(),this.options.toolbarItems.addToolbar.reset(this.toolbarItems)},"_updateAddToolbar":function(){this.toolbarItems=[],this.workspaceTypesCollection=this.options.context.getCollection(f,{"busObjectType":this.options.data.busObjectType,"extSystemId":this.options.data.extSystemId}),this._addMenuItems(this.toolbarItems,this.workspaceTypesCollection)}});return n.extend(v.prototype,d),v}),csui.define("xecmpf/widgets/workspaces/controls/workspaces.table/table.columns",["csui/lib/backbone"],function(e){var t=e.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0}}),i=e.Collection.extend({"model":t,"comparator":"sequence","getColumnKeys":function(){return this.pluck("key")},"deepClone":function(){return new i(this.map(function(e){return e.attributes}))}}),n=new i([{"key":"name","sequence":1,"permanentColumn":!0},{"key":"modify_date","sequence":2,"permanentColumn":!0}]);return n}),csui.define("xecmpf/widgets/workspaces/controls/workspaces.table/toolbaritems",["csui/lib/underscore","csui/utils/base","csui/controls/toolbar/toolitems.factory","i18n!xecmpf/widgets/workspaces/controls/workspaces.table/impl/nls/lang"],function(e,t,i,n){var o={"addToolbar":new i({"add":[]},{"maxItemsShown":0,"dropDownIcon":"icon icon-toolbarAdd","dropDownText":n.createNewTooltip,"addTrailingDivider":!1})};return o}),csui.define("hbs!xecmpf/widgets/workspaces/controls/workspaces.table/impl/workspacestable",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div id="tabletoolbar"></div>\r\n<div id="tableview"></div>\r\n<div id="paginationview"></div>\r\n'}});return i.registerPartial("xecmpf_widgets_workspaces_controls_workspaces.table_impl_workspacestable",n),n}),csui.define("css!xecmpf/widgets/workspaces/controls/workspaces.table/impl/workspacestable",[],function(){}),csui.define("xecmpf/widgets/workspaces/controls/workspaces.table/workspaces.table.view",["module","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/log","csui/utils/base","csui/utils/contexts/factories/connector","csui/controls/progressblocker/blocker","csui/controls/table/cells/name/name.view","csui/behaviors/default.action/default.action.behavior","xecmpf/widgets/workspaces/factories/workspace.factory","csui/utils/contexts/factories/columns","csui/controls/table/table.view","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","xecmpf/widgets/workspaces/controls/workspaces.table/tabletoolbar.view","xecmpf/widgets/workspaces/controls/workspaces.table/table.columns","xecmpf/widgets/workspaces/controls/workspaces.table/toolbaritems","csui/controls/pagination/nodespagination.view","i18n!xecmpf/widgets/workspaces/controls/workspaces.table/impl/nls/lang","hbs!xecmpf/widgets/workspaces/controls/workspaces.table/impl/workspacestable","css!xecmpf/widgets/workspaces/controls/workspaces.table/impl/workspacestable"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g,b,v,w,y,x){var _=e.config();i.defaults(_,{"defaultPageSize":30,"clearFilterOnChange":!0,
"resetOrderOnChange":!1,"resetLimitOnChange":!0,"fixedFilterOnChange":!1}),l.prototype.getValueData=function(){var e=this.options.column,t=this.model,i=t.get(e.name);return{"defaultAction":"displayWorkspace","defaultActionUrl":"","contextualMenu":e.contextualMenu,"name":i,"inactive":t.get("inactive")}};var k=o.LayoutView.extend({"template":y,"className":"xecmpf_workspacestable","regions":{"tableToolbarRegion":"#tabletoolbar","tableRegion":"#tableview","paginationRegion":"#paginationview"},"ui":{"outerTableContainer":"#outertablecontainer","innerTableContainer":"#innertablecontainer","tableView":"#tableview","paginationView":"#paginationview"},"behaviors":{"DefaultAction":{"behaviorClass":u}},"constructor":function(e){e||(e={}),i.defaults(e,{"data":{},"pageSize":_.defaultPageSize,"toolbarItems":b,"defaultPageSize":_.defaultPageSize,"clearFilterOnChange":_.clearFilterOnChange,"resetOrderOnChange":_.resetOrderOnChange,"resetLimitOnChange":_.resetLimitOnChange,"fixedFilterOnChange":_.fixedFilterOnChange}),this.context=e.context,this.connector=this.context.getObject(r);var n=e.data.height||e.height;n&&this.$el.height(n),c.imbue(this),o.LayoutView.prototype.constructor.apply(this,arguments),this.collection=this.options.collection=this.context.getCollection(p,{"attributes":"early"}),this.columns=this.collection.columns,this.tableColumns=g.deepClone(),this._setToolBar(b),this.defaultActionController.executeAction=function(e){return t.Deferred().resolve()},this._setTableView(),this._setPagination(),this.propagateEventsToRegions()},"_setTableView":function(){this.tableView=new h({"selectRows":"none","context":this.options.context,"connector":this.connector,"collection":this.collection,"columns":this.columns,"tableColumns":this.tableColumns,"pageSize":this.options.data.pageSize,"originatingView":this,"columnsWithSearch":["name"],"orderBy":this.options.orderBy,"filterBy":this.options.filterBy,"blockingParentView":this,"tableTexts":{"zeroRecords":w.NodeTableNoFilteredItems}}),this.listenTo(this.tableView,"render",function(){this.tableView.$el.append(t("<div>")[0])}),this._setTableViewEvents()},"_setTableViewEvents":function(){return this.listenTo(this.tableView,"dom:refresh",function(){t(".csui-nodetable")[0]&&!t(".csui-not-ready")[0]&&t(".csui-nodetable").focus()}),this.listenTo(this.tableView,"execute:defaultAction",function(e){var t={"node":e};if(this.trigger("before:defaultAction",t),!t.cancel){var i=this;this.defaultActionController.executeAction(e,{"context":this.options.context,"originatingView":this}).done(function(){i.trigger("executed:defaultAction",t)})}}),!0},"_setToolBar":function(e){return this.tableToolbarView=new f(i.defaults(this.options,{"context":this.options.context,"toolbarItems":e,"collection":this.collection,"originatingView":this})),this.listenTo(this.tableToolbarView,"before:execute:command",this._beforeExecuteCommand),this.listenTo(this.tableToolbarView,"after:execute:command",this._toolbarActionTriggered),this.listenTo(this.tableToolbarView,"toolbarItem:clicked",function(e){this.trigger("toolbarItem:clicked",e)}),!0},"_setPagination":function(){return this.paginationView=new v({"collection":this.collection,"pageSize":this.options.data.pageSize||this.options.pageSize,"defaultDDList":this.options.ddItemsList,"externalWidget":this.options.externalWidget}),!0},"onShow":function(){i.each(this.regionManager._regions,function(e){e.currentView&&e.currentView.triggerMethod("show")})},"onAfterShow":function(){i.each(this.regionManager._regions,function(e){e.currentView&&e.currentView.triggerMethod("after:show")})},"onRender":function(){this.tableToolbarRegion.show(this.tableToolbarView),this.tableRegion.show(this.tableView),this.paginationRegion.show(this.paginationView)}});return i.extend(k.prototype,m),k}),csui.define("xecmpf/widgets/workspaces/pages/select.workspace/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/workspaces/pages/select.workspace/impl/nls/root/lang",{"pageTitle":"Create or complete business workspace"}),csui.define("hbs!xecmpf/widgets/workspaces/pages/select.workspace/impl/select.workspace",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div id="content"></div>\r\n\r\n'}});return i.registerPartial("xecmpf_widgets_workspaces_pages_select.workspace_impl_select.workspace",n),n}),csui.define("css!xecmpf/widgets/workspaces/pages/select.workspace/impl/select.workspace",[],function(){}),csui.define("xecmpf/widgets/workspaces/pages/select.workspace/select.workspace.view",["module","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/log","csui/utils/base","xecmpf/widgets/workspaces/controls/tile/tile.view","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","xecmpf/widgets/workspaces/controls/workspaces.table/workspaces.table.view","i18n!xecmpf/widgets/workspaces/pages/select.workspace/impl/nls/lang","hbs!xecmpf/widgets/workspaces/pages/select.workspace/impl/select.workspace","css!xecmpf/widgets/workspaces/pages/select.workspace/impl/select.workspace"],function(e,t,i,n,o,s,a,r,c,l,u,p,d){var h=o.LayoutView.extend({"tagName":"div","id":"xecmpf-select_wksp","className":"xecmpf-page","template":p,"regions":{"content":"#content"},"constructor":function(e){o.LayoutView.prototype.constructor.apply(this,arguments),this.context=this.options.context,this.propagateEventsToRegions()},"_getController":function(){return this.options.status.wksp_controller},"onBeforeShow":function(){var e=this.options;this.tileView=new r({"title":u.pageTitle,"contentView":l,"contentViewOptions":e}),this.getRegion("content").show(this.tileView),this.listenTo(this.tileView.contentView,"toolbarItem:clicked",function(o){return i.defaults(e.status,{"workspaceType":new n.Model(o)}),this._getController().createWorkspace(e),t.Deferred().resolve()}),this.listenTo(this.tileView.contentView,"executed:defaultAction",function(t){e.status||(e.status={}),e.status.workspace=t.node,this._getController().updateWorkspace(e)})}});return i.extend(h.prototype,c),h}),csui.define("css!xecmpf/widgets/workspaces/controls/footer/impl/footer",[],function(){}),csui.define("xecmpf/widgets/workspaces/controls/footer/footer.view",["csui/lib/marionette","csui/lib/underscore","csui/lib/jquery","csui/behaviors/keyboard.navigation/tabable.region.behavior","csui/behaviors/keyboard.navigation/tabables.behavior","css!xecmpf/widgets/workspaces/controls/footer/impl/footer"],function(e,t,i,n){var o=e.ItemView.extend({"tagName":"button","className":"binf-btn","template":!1,"triggers":{"click":"click"},"behaviors":{"TabableRegion":{"behaviorClass":n}},"constructor":function(t){e.ItemView.prototype.constructor.apply(this,arguments)},"isTabable":function(){return this.$el.is(":not(:disabled)")&&this.$el.is(":not(:hidden)")},"currentlyFocusedElement":function(){return-1===this.$el.prop("tabindex")&&this.$el.prop("tabindex",0),this.$el},"onRender":function(){var e=this.$el;e.text(this.model.get("label")),e.addClass(this.model.get("primary")?"binf-btn-primary":"binf-btn-default"),e.attr("title",this.model.get("toolTip")?this.model.get("toolTip"):""),this.model.get("separate")&&e.addClass("cs-separate"),this.updateButton(this.model)},"updateButton":function(e){var t=this.$el;void 0!==e.get("hidden")&&(e.get("hidden")?t.addClass("hidden"):t.removeClass("hidden")),e.get("primary")===!0?(t.removeClass("binf-btn-default"),t.addClass("binf-btn-primary")):t.addClass("binf-btn-default"),void 0!==e.get("disabled")&&t.prop("disabled",e.get("disabled"))}}),s=e.CollectionView.extend({"id":"wksp_footer","tagName":"div","className":"binf-modal-footer","childView":o,"constructor":function(t){e.CollectionView.prototype.constructor.apply(this,arguments),this.listenTo(this,"childview:click",this.onClickButton)},"onDomRefresh":function(){this.children.each(function(e){e.trigger("dom:refresh")})},"onClickButton":function(e){e.$el.prop("disabled",!0),e.model.get("click")&&e.model.get("click")().fail(function(){e.$el.prop("disabled",!1)})},"update":function(){var e=this;this.collection.models.forEach(function(t){e.children.findByModel(t).updateButton(t)})}});return s}),csui.define("xecmpf/widgets/workspaces/pages/create.workspace/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/workspaces/pages/create.workspace/impl/nls/root/lang",{"pageTitle":"Create business workspace","createWorkspace":"Create","cancel":"Cancel","failedToCreateItem":"Failed to create the new item.","nameIsGeneratedAutomatically":"Workspace name is generated automatically.","errorGettingCreateForm":"Error getting form for workspace creation.","businessWorkspaceTypeName":"Business Workspace","createWorkspaceTooltip":"Create business workspace"}),csui.define("hbs!xecmpf/widgets/workspaces/pages/create.workspace/impl/create.workspace",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div id="content" class="cs-properties-wrapper"></div>\r\n<div id="footer"></div>\r\n'}});return i.registerPartial("xecmpf_widgets_workspaces_pages_create.workspace_impl_create.workspace",n),n}),csui.define("css!xecmpf/widgets/workspaces/pages/create.workspace/impl/create.workspace",[],function(){}),csui.define("xecmpf/widgets/workspaces/pages/create.workspace/create.workspace.view",["module","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/log","csui/utils/base","xecmpf/widgets/workspaces/controls/tile/tile.view","xecmpf/widgets/workspaces/controls/footer/footer.view","csui/widgets/metadata/metadata.add.item.controller","csui/widgets/metadata/metadata.action.one.item.properties.view","conws/models/workspacecreateforms","conws/models/metadata.controller","csui/models/node/node.model","conws/models/metadata.controller","csui/utils/contexts/factories/connector","csui/dialogs/modal.alert/modal.alert","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/behaviors/keyboard.navigation/tabables.behavior","csui/widgets/metadata/metadata.properties.view","csui/utils/url","i18n!xecmpf/widgets/workspaces/pages/create.workspace/impl/nls/lang","hbs!xecmpf/widgets/workspaces/pages/create.workspace/impl/create.workspace","css!xecmpf/widgets/workspaces/pages/create.workspace/impl/create.workspace"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g,b,v,w,y,x,_,k){var C=o.LayoutView.extend({"tagName":"div","id":"xecmpf-create_wksp","className":"xecmpf-page","template":_,"regions":{"content":"#content","footer":"#footer"},"behaviors":{"TabablesBehavior":{"behaviorClass":v,"recursiveNavigation":!0,"containTabFocus":!0}},"constructor":function(e){o.LayoutView.prototype.constructor.apply(this,arguments);var s=this;this.context=this.options.context||{},this.buttonCollecion=new n.Collection,this.propagateEventsToRegions(),this.on("dom:refresh",function(){if(t._data){var e=t._data(this.el,"events");if(e&&e.keydown&&e.keydown.length>1){var n=i.isEmpty(e.keydown[1].namespace)?e.keydown[1].type:e.keydown[1].type+"."+e.keydown[1].namespace;n&&e.keydown[1].handler&&s.$el.off(n,e.keydown[1].handler)}}}),csui.require(["classifications/widgets/metadata/general.fields/classifications/metadata.general.form.field.controller","classifications/utils/commands/add.classifications"],function(e,t){e.prototype.getGeneralFormFieldsForCreate=function(){return null},t.prototype.enabled=function(){return!1}},function(){})},"_getController":function(){return this.options.status.wksp_controller},"_create":function(e){var n=this.metadataAddItemPropView.getValues(),o=t.Deferred();return i.isEmpty(n)?o.reject():(n.bo_id=this.options.data.busObjectId,n.type=848,this.metadataController.createItem(this.node,n).done(i.bind(function(t){if(t){var n=t.results&&t.results.data,o=n&&n.properties&&n.properties.id;i.extend(e.status,{"workspaceNode":new h({"id":o,"container":!0}),"viewMode":{"mode":e.data.viewMode?e.data.viewMode.mode:"folderBrowse"}}),this._getController().displayWorkspace(e)}},this)).fail(function(e){var t=x.failedToCreateItem;e&&(e.responseJSON&&e.responseJSON.error?t=e.responseJSON.error:e.responseText&&(t=e.responseText),g.showError(t)),o.reject()})),o.promise()},"_createFormCollection":function(){var e=this.options||{},n=e.status||{},o=e.context||{},r=n.workspaceType,c=this;this.formCollection=new p(void 0,i.defaults(e,{"type":r.get("type"),"wsType":r.get("wksp_type_id"),"node":new h({},{"connector":o.getObject(f)}),"actionContext":{"mode":"create"}})),this.formCollection.bo_id=e.data.busObjectId,this.formCollection.url=function(){var n="forms/businessworkspaces/create",s={"bo_id":e.data.busObjectId,"bo_type":e.data.busObjectType,"ext_system_id":e.data.extSystemId},a=n+"?"+t.param(i.omit(s,function(e){return null===e||void 0===e||""===e})),r=o.getObject(f).connection.url;return y.combine(r&&r.replace("/v1","/v2")||r,a)},this.formCollection.on("error",function(e,t,o){var r=t&&new a.Error(t).message||x.errorGettingCreateForm;s.error("Fetching the create forms failed: {0}",r)&&console.error(s.last),g.showError(r),i.isEmpty(n.mode)&&c.buttonCollecion.length>=2&&c.buttonCollecion.at(1).set("disabled",!1),c.tileView.contentView.metadataHeaderView.metadataItemNameView.remove(),c.footerView&&c.footerView.update()}),this.formCollection.on("sync",function(){c._updateNameAndView(c.node,c.formCollection)})},"_updateNameAndView":function(e,t){var i=t.at(0),n=i.get("data");if(n){var o=n.name;s.debug("name fetched and used: {0}",o)&&console.log(s.last),e.set({"name":o})}else s.debug("name set to empty.")&&console.log(s.last),e.set({"name":""});var a=this.tileView.contentView,r=a&&a.metadataHeaderView,c=r&&r.metadataItemNameView;if(c){var l=i.get("schema"),u=l&&l.properties&&l.properties.name&&l.properties.name.readonly?!0:!1,p=u?x.nameIsGeneratedAutomatically:void 0;c.setPlaceHolder(p),(u?!0:!1)!=(c.readonly?!0:!1)&&c.setReadOnly(u)}},"render":function(){var e=this,n=this.options||{},s=n.context||{},a=this.options.status||{};o.LayoutView.prototype.render.apply(this,arguments),this.buttonCollecion.add({"click":i.bind(this._create,this,this.options),"disabled":!0,"primary":!1,"label":x.createWorkspace,"toolTip":x.createWorkspaceTooltip}),i.isEmpty(a.mode)&&this.buttonCollecion.add({"click":i.bind(function(){var e=t.Deferred();return this._getController().selectWorkspace(),e.resolve(),e.promise()},this,this.options),"disabled":!0,"primary":!1,"toolTip":x.cancel,"label":x.cancel,"separate":!1}),this.footerView=new c({"collection":this.buttonCollecion}),this.node=new h({"type_name":x.businessWorkspaceTypeName,"type":848,"container":!0,"rm_enabled":this.options.status.workspaceType.get("rm_enabled"),"name":""},{"connector":s.getObject(f)}),this._createFormCollection(),this.metadataController=new d(void 0,{});var l=u.extend({"constructor":function(t){u.prototype.constructor.apply(this,arguments),void 0!==this.metadataPropertiesView&&this.metadataPropertiesView.stopListening(this),this.metadataPropertiesView=new w({"node":e.node,"context":e.options.context,"formMode":"create","action":"create","metadataView":this,"formCollection":e.formCollection}),this.listenTo(this.metadataPropertiesView,"render:forms",function(){e.buttonCollecion.at(0).set("disabled",!1),i.isEmpty(a.mode)?(e.buttonCollecion.at(1).set("disabled",!1),e.buttonCollecion.at(0).set("primary",!0)):e.buttonCollecion.at(0).set("primary",!0),e.footerView.update()}),this.listenTo(this.metadataPropertiesView,"before:render",function(){var e=this.metadataPropertiesView.collection.findWhere({"id":"conws-reference"});e&&this.metadataPropertiesView.collection.remove(e,{"silent":!0})})}});this.tileView=new r({"title":x.pageTitle,"contentView":l,"contentViewOptions":{"model":this.node,"context":s,"action":"create","formCollection":this.formCollection}})},"onBeforeShow":function(){this.content.show(this.tileView),this.footer.show(this.footerView),this.metadataAddItemPropView=this.tileView.contentView}});return i.extend(C.prototype,b),C}),csui.define("xecmpf/widgets/workspaces/pages/display.workspace/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/workspaces/pages/display.workspace/impl/nls/root/lang",{"failedAuthentication":"Authentication failed."}),csui.define("hbs!xecmpf/widgets/workspaces/pages/display.workspace/impl/display.workspace",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div id="display_wksp_content">\r\n</div>\r\n'}});return i.registerPartial("xecmpf_widgets_workspaces_pages_display.workspace_impl_display.workspace",n),n}),csui.define("css!xecmpf/widgets/workspaces/pages/display.workspace/impl/display.workspace",[],function(){}),csui.define("xecmpf/widgets/workspaces/pages/display.workspace/display.workspace.view",["module","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/log","csui/utils/base","csui/utils/contexts/page/page.context","csui/utils/commands","xecmpf/utils/commands/workspaces/workspace.delete","csui/integration/folderbrowser/folderbrowser.widget","csui/utils/contexts/factories/connector","xecmpf/utils/commands/folderbrowse/open.full.page.workspace","csui/dialogs/modal.alert/modal.alert","i18n!xecmpf/widgets/workspaces/pages/display.workspace/impl/nls/lang","hbs!xecmpf/widgets/workspaces/pages/display.workspace/impl/display.workspace","css!xecmpf/widgets/workspaces/pages/display.workspace/impl/display.workspace"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g){var b=o.LayoutView.extend({"template":f,"tagName":"div","id":"xecmpf-display_wksp","className":"xecmpf-page","regions":{"content":"#display_wksp_content"},"constructor":function(e){e||(e={}),o.LayoutView.prototype.constructor.apply(this,arguments)},"authenticateXecm":function(e,i){var n=this;if(i=i||t.Deferred(),this.connector.connection.session&&this.connector.connection.session.ticket){var o=new XMLHttpRequest,s=new d;o.onreadystatechange=function(){4===o.readyState&&(200===o.status?i.resolve():i.reject(m.failedAuthentication+new Error(o.statusText)))},s.authenticate(o,e,this.connector)}else this.options.context.once("sync",function(){n.authenticateXecm(e,i)});return i.promise()},"onShow":function(){var e=this.options||{},n=e.status||{};this.connector=this.options.context.getObject(p);var o=(window.csui&&window.csui.require||window.require,e.data&&e.data.folderBrowserWidget&&e.data.folderBrowserWidget.commands||{}),s=o["go.to.node.history"]||{},a=i.isUndefined(s.enabled)?!0:s.enabled,r=o["open.full.page.workspace"]||{},d=i.isUndefined(r.enabled)?!0:r.enabled,m=i.isUndefined(r.fullPageOverlay)?!0:r.fullPageOverlay,f=e.data.viewMode?e.data.viewMode.mode:"folderBrowse",g=o["search.container"]||{},b=i.isUndefined(g.enabled)?!0:g.enabled;if("fullPage"===f){this.cgiUrl=this.connector&&this.connector.connection&&this.connector.connection.url?this.connector.connection.url.replace("/api/v1",""):"";var v=this;this.authenticateXecm(this.cgiUrl).done(function(){csui.require(["xecmpf/widgets/integration/folderbrowse/full.page.workspace.view","csui/utils/url"],function(i,o){var s,a="xecm",r="where_ext_system_id="+e.data.extSystemId+"&where_bo_type="+e.data.busObjectType+"&where_bo_id="+e.data.busObjectId+"&view_mode="+e.data.viewMode.mode,c=o.appendQuery(o.combine(v.cgiUrl,a,"nodes",n.workspaceNode.attributes.id),r),l=window,u=t(l.document).find("head > link[data-csui-theme-overrides]").attr("href"),p=function(e){e.origin&&new RegExp(e.origin,"i").test(new o(v.cgiUrl).getOrigin())&&e.data&&"ok"===e.data.status&&(e.source.postMessage({"themePath":u},v.cgiUrl),l.removeEventListener("message",p,!1))};csui.require.config({"config":{"csui/integration/folderbrowser/commands/go.to.node.history":{"enabled":!0}}}),s=new i({"fullPageWorkspaceUrl":c,"connector":v.connector}),v.content.show(s),l.addEventListener("message",p)},function(e){h.showError(e.toString()),console.error(e)})}).fail(function(e){h.showError(e.toString()),console.error(e)})}else{csui.require.config({"config":{"csui/integration/folderbrowser/commands/go.to.node.history":{"enabled":a}}}),csui.require.config({"config":{"xecmpf/utils/commands/folderbrowse/search.container":{"enabled":b},"xecmpf/utils/commands/folderbrowse/open.full.page.workspace":{"enabled":d,"fullPageOverlay":m}}});var w=c.get("Delete");w&&c.remove(w),e.data.id=n.workspaceNode.attributes.id,e.data.viewMode=f,e.data.openFullPageWorkspaceEnabled=d,e.data.fullPageOverlayEnabled=m,e.data.goToNodeHistoryEnabled=a;var y=new l(e.data);c.add(y),this.options.context.options.suppressReferencePanel=!0,this.browser=new u({"breadcrumb":!a,"connection":this.connector.connection,"start":{"id":n.workspaceNode.attributes.id},"context":this.options.context}),this.browser.show({"placeholder":"#display_wksp_content"})}}});return b}),csui.define("xecmpf/widgets/workspaces/pages/update.workspace/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/workspaces/pages/update.workspace/impl/nls/root/lang",{"pageTitle":"Complete workspace","completeWorkspace":"Complete","completeWorkspaceTooltip":"Complete workspace","failedToUpdateItem":"Failed to update the item.","cancel":"Cancel","nameIsGeneratedAutomatically":"Workspace name is generated automatically.","errorGettingCreateForm":"Error getting form for workspace creation."}),csui.define("hbs!xecmpf/widgets/workspaces/pages/update.workspace/impl/update.workspace",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div id="content" class="cs-properties-wrapper"></div>\r\n<div id="footer"></div>\r\n\r\n'}});return i.registerPartial("xecmpf_widgets_workspaces_pages_update.workspace_impl_update.workspace",n),n}),csui.define("css!xecmpf/widgets/workspaces/pages/update.workspace/impl/update.workspace",[],function(){}),csui.define("xecmpf/widgets/workspaces/pages/update.workspace/update.workspace.view",["module","csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/utils/log","csui/utils/base","xecmpf/widgets/workspaces/controls/tile/tile.view","xecmpf/widgets/workspaces/controls/footer/footer.view","csui/widgets/metadata/metadata.properties.view","csui/widgets/metadata/metadata.action.one.item.properties.view","csui/models/node/node.model","csui/utils/contexts/factories/connector","csui/dialogs/modal.alert/modal.alert","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/behaviors/keyboard.navigation/tabables.behavior","csui/utils/url","conws/models/workspacecreateforms","i18n!xecmpf/widgets/workspaces/pages/update.workspace/impl/nls/lang","hbs!xecmpf/widgets/workspaces/pages/update.workspace/impl/update.workspace","css!xecmpf/widgets/workspaces/pages/update.workspace/impl/update.workspace"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g,b,v,w,y){var x=o.LayoutView.extend({"tagName":"div","id":"xecmpf-update_wksp","className":"xecmpf-page","template":w,"regions":{"content":"#content","footer":"#footer"},"behaviors":{"TabablesBehavior":{"behaviorClass":f,"recursiveNavigation":!0,"containTabFocus":!0}},"constructor":function(e){var n=this;o.LayoutView.prototype.constructor.apply(this,arguments),this.context=this.options.context||{},this.propagateEventsToRegions(),this.readOnlyCats={},this.readOnlyCatVals={},this.on("dom:refresh",function(){if(t._data){var e=t._data(this.el,"events");if(e&&e.keydown&&e.keydown.length>1){var o=i.isEmpty(e.keydown[1].namespace)?e.keydown[1].type:e.keydown[1].type+"."+e.keydown[1].namespace;o&&e.keydown[1].handler&&n.$el.off(o,e.keydown[1].handler)}}});var s=this.readOnlyCats,a=this.readOnlyCatVals;this._saveField=function(e){if("create"!==this.mode){var t=this.getValues(),n=this.model.get("id");i.chain(s).each(function(e,o){return void 0!==n&&n!==o?!0:void i.chain(e.properties).each(function(e,n){if("object"===e.type)i.chain(e.properties).each(function(e,i){e.readonly===!0&&(t[n][i]=a[o+":"+n+":"+i])});else if("array"===e.type&&i.has(e,"items")){var s=e.items.properties;i.chain(s).each(function(e,s){e.readonly===!0&&i.chain(t[n]).each(function(e,t){var r=a[o+":"+n+":"+t+":"+s];i.isUndefined(r)||(e[s]=r)})})}else e.readonly===!0&&(t[n]=a[o+":"+n])})}),this._saveChanges(t)}}},"_getController":function(){return this.options.status.wksp_controller},"_createFormCollection":function(){var e=this.options||{},n=e.context,o=e.status,r=o.workspace;this.formCollection=new b(void 0,i.defaults(e,{"type":r.get("type"),"wsType":r.get("wnf_wksp_type_id"),"node":new p(void 0,{"connector":n.getObject(d)})})),this.formCollection.bo_id=e.data.busObjectId,this.formCollection.url=function(){var o="forms/businessworkspaces/create",s={"template_id":r.get("wnf_wksp_template_id"),"parent_id":r.get("parent_id"),"ext_system_id":e.data.extSystemId,"bo_type":e.data.busObjectType,"bo_id":e.data.busObjectId,"completeWorkspace":!0},a=o+"?"+t.param(i.omit(s,function(e){return null===e||void 0===e||""===e})),c=n.getObject(d).connection.url;return g.combine(c&&c.replace("/v1","/v2")||c,a)},this.formCollection.on("error",function(e,t,i){var n=t&&new a.Error(t).message||v.errorGettingCreateForm;s.error("Fetching the create forms failed: {0}",n)&&console.error(s.last),h.showError(n)})},"_updateWorkspaceReference":function(e,i){var n=new FormData;n.append("body",JSON.stringify(i));var o={"type":"PUT","url":g.combine(e.connector.connection.url.replace("/v1","/v2"),"businessworkspaces",e.get("id"),"workspacereferences"),"data":n,"contentType":!1,"processData":!1};return e.connector.extendAjaxOptions(o),t.ajax(o)},"_complete":function(e){var n=this,o=this.tileView.contentView.getValues(),s=t.Deferred();if(i.isEmpty(o))t(".binf-has-error")&&t(".binf-has-error")[0].scrollIntoView(),s.reject();else{var a=e.context||{},r=e.status,c=r.workspace;n._updateWorkspaceReference(new p({"id":c.get("id")},{"connector":a.getObject(d)}),{"bo_type":n.getOption("data").busObjectType,"bo_id":n.getOption("data").busObjectId,"ext_system_id":n.getOption("data").extSystemId}).done(i.bind(function(t){s.resolve(),t&&(i.extend(r,{"workspaceNode":new p({"id":c.get("id"),"container":!0}),"viewMode":{"mode":e.data.viewMode?e.data.viewMode.mode:"folderBrowse"}}),n._getController().displayWorkspace(e))},this)).fail(function(e){var t=v.failedToUpdateItem;e&&(e.responseJSON&&e.responseJSON.error?t=e.responseJSON.error:e.responseText&&(t=e.responseText),h.showError(t)),s.reject()})}return s.promise()},"_setHeader":function(e){var t=this.formCollection.at(0),i=t.get("data");if(i){var n=i.name;s.debug("name fetched and used: {0}",n)&&console.log(s.last),this.node.set("name",n)}else s.debug("name set to empty.")&&console.log(s.last),this.node.set("name","");var o=this.tileView.contentView.metadataHeaderView,a=o&&o.metadataItemNameView;if(a){var r=t.get("schema"),c=r&&r.properties&&r.properties.name&&r.properties.name.readonly?!0:!1,l=c?v.nameIsGeneratedAutomatically:void 0;a.setPlaceHolder(l),(c?!0:!1)!=(a.readonly?!0:!1)&&a.setReadOnly(c),a.stopListening(this.node)}},"_updateModel":function(e){var t=this;this._setHeader(e),e&&this.formCollection.models.forEach(function(n){var o=n.get("data"),s=n.get("schema");if(i.has(s.properties,e.get("id"))){var a=e.get("id"),r=e.get("schema"),c=s.properties[a];n=o[a],i.chain(c.properties).each(function(o,s,c){if(i.has(r.properties,s)){var l=o.properties,u=e.get("data")[s],p=r.properties[s],d=n[s];if("object"===o.type){var h=p.properties;i.chain(l).each(function(e,i){e.readonly===!0&&(h[i].readonly=e.readonly,t.readOnlyCatVals[a+":"+s+":"+i]=u[i],t.readOnlyCats[a]=r,u[i]=d[i])})}else if("array"===o.type&&i.has(o,"items")){var m=o.items.properties,f=p.items.properties;i.chain(m).each(function(e,n){e.readonly===!0&&(f[n].readonly=e.readonly,i.chain(d).each(function(e,i){u[i]||(u[i]={}),t.readOnlyCatVals[a+":"+s+":"+i+":"+n]=u[i][n],u[i][n]=e[n]}),t.readOnlyCats[a]=r)})}else o.readonly&&(p.readonly=o.readonly,t.readOnlyCatVals[a+":"+s]=u,t.readOnlyCats[a]=r,e.get("data")[s]=d)}})}})},"fetchForm":function(){return this._createFormCollection(),this.formCollection.fetch()},"render":function(){var e=this,s=this.options.status,a=s.workspace,h=new n.Collection([{"click":i.bind(this._complete,this,this.options),"disabled":!0,"primary":!1,"label":v.completeWorkspace,"toolTip":v.completeWorkspaceTooltip},{"click":i.bind(function(){var e=t.Deferred();return this._getController().selectWorkspace(),e.resolve(),e.promise()},this,this.options),"disabled":!0,"primary":!1,"toolTip":v.cancel,"label":v.cancel,"separate":!1}]);o.LayoutView.prototype.render.apply(this,arguments),this.node=new p({"type_name":a.get("type_name"),"type":a.get("type"),"name":a.get("name"),"id":a.get("id"),"container":!0},{"connector":this.context.getObject(d)});var m=l.extend({"contentViewOptions":function(t){return e._updateModel(t),l.prototype.contentViewOptions.apply(this,arguments)}}),f=u.extend({"constructor":function(t){u.prototype.constructor.apply(this,arguments),void 0!==this.metadataPropertiesView&&this.metadataPropertiesView.stopListening(this),this.metadataPropertiesView=new m({"node":e.node,"context":e.options.context,"formMode":"update","action":"update","metadataView":this}),this.listenTo(this.metadataPropertiesView,"render:forms",function(){h.at(0).set("disabled",!1),h.at(1).set("disabled",!1),h.at(0).set("primary",!0),e.footerView.update(),this.metadataPropertiesView.tabContent.children.each(function(t,i){"categories"===t.model.get("role_name")&&(t.content.off("change:field"),t.content._saveField=function(t){e._saveField.apply(this,t)},t.content.listenTo(t.content,"change:field",t.content._saveField))})}),this.listenTo(this.metadataPropertiesView,"before:render",function(){var e=this.metadataPropertiesView.collection.findWhere({"id":"conws-reference"});e&&this.metadataPropertiesView.collection.remove(e,{"silent":!0})})}});this.footerView=new c({"collection":h}),this.tileView=new r({"title":v.pageTitle,"contentView":f,"contentViewOptions":{"model":this.node,"context":this.options.context,"action":"update"}})},"onBeforeShow":function(){this.content.show(this.tileView),this.footer.show(this.footerView)}});return i.extend(x.prototype,m),x}),csui.define("xecmpf/widgets/workspaces/controllers/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/workspaces/controllers/impl/nls/root/lang",{"errorGettingBusinessWorkspaceType":"Cannot get business workspace type."}),csui.define("xecmpf/widgets/workspaces/controllers/dialog.controller",["require","csui/lib/jquery","csui/lib/underscore","csui/lib/marionette","csui/lib/backbone","xecmpf/widgets/workspaces/pages/select.workspace/select.workspace.view","xecmpf/widgets/workspaces/pages/create.workspace/create.workspace.view","xecmpf/widgets/workspaces/pages/display.workspace/display.workspace.view","xecmpf/widgets/workspaces/pages/update.workspace/update.workspace.view","xecmpf/widgets/workspaces/factories/workspace.factory","xecmpf/widgets/workspaces/factories/workspace.types.factory","conws/models/workspacecreateforms","csui/utils/contexts/factories/connector","csui/models/node/node.model","csui/dialogs/modal.alert/modal.alert","i18n!xecmpf/widgets/workspaces/controllers/impl/nls/lang"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f){var g=n.Object.extend({"constructor":function(e){e=e||{},this.options=e,this.context=this.options.context||{},this.region=this.options.region},"updateWorkspace":function(e){e||(e=this.options),this._showUpdateWorkspaceView(e)},"displayWorkspace":function(e){e||(e=this.options),this._showDisplayWorkspaceView(e)},"createWorkspace":function(e){e||(e=this.options),this._showCreateWorkspaceView(e)},"selectWorkspace":function(e){e||(e=this.options),e.status||(e.status={});var n=e.context,s=e.data,a=this,r=[];this._getBOWorkspace(n,s).done(function(c){c?(i.defaults(e.status,{"workspaceNode":c,"viewMode":{"mode":s.viewMode?s.viewMode.mode:"folderBrowse"}}),a.displayWorkspace(e)):(r.push(a._getBOEarlyWorkspaces(n,s)),
r.push(a._getBOWorkspaceType(n,s)),t.when.apply(t,r).done(function(t,n){t&&t.length?a._showSelectWorkspaceView(e):(i.defaults(e.status,{"workspaceType":new o.Model({"wksp_type_name":n.get("wksp_type_name"),"wksp_type_id":n.get("wksp_type_id"),"rm_enabled":n.get("rm_enabled"),"template":n.get("templates")[0],"type":848}),"mode":"directCreate"}),a._showCreateWorkspaceView(e))}).fail(function(e,t,i){e&&(e.responseJSON&&e.responseJSON.error?m.showError(f.errorGettingBusinessWorkspaceType+" "+e.responseJSON.error):m.showError(f.errorGettingBusinessWorkspaceType))}))}).fail(function(e,t,i){e&&(e.responseJSON&&e.responseJSON.error?m.showError(f.errorGettingBusinessWorkspaceType+" "+e.responseJSON.error):m.showError(f.errorGettingBusinessWorkspaceType))})},"_showCreateWorkspaceView":function(e){this.region.show(new a(e))},"_showDisplayWorkspaceView":function(e){this.region.show(new r(e))},"_showUpdateWorkspaceView":function(e){var t=new c(e),i=this;t.fetchForm().done(function(){i.region.show(t)})},"_showSelectWorkspaceView":function(e){this.region.show(new s(e))},"_getBOWorkspace":function(e,i){var n=t.Deferred(),o=!1;if(i.hasOwnProperty("workspaceNodeId"))i.workspaceNodeId&&(o=new h({"id":i.workspaceNodeId,"container":!0})),n.resolve(o);else{var s=e.getCollection(l,{"attributes":i.busObjectId,"busObjectId":i.busObjectId,"busObjectType":i.busObjectType,"extSystemId":i.extSystemId,"detached":!0});s.ensureFetched().done(function(){1===s.length&&(o=new h({"id":s.at(0).get("id"),"container":!0})),n.resolve(o)}).fail(function(){n.reject.apply(n,arguments)})}return n},"_getBOEarlyWorkspaces":function(e,i){var n,o=t.Deferred(),s=e.getCollection(l,{"attributes":"early","early":!0,"busObjectType":i.busObjectType,"extSystemId":i.extSystemId,"detached":!0});return n=i.deletecallback?s.fetch():s.ensureFetched(),n.done(function(){o.resolve(s)}).fail(function(){o.reject.apply(o,arguments)}),o},"_getBOWorkspaceType":function(e,i){var n=t.Deferred(),o=!1,s=e.getCollection(u,{"busObjectType":i.busObjectType,"extSystemId":i.extSystemId,"detached":!0});return s.ensureFetched().done(function(){1===s.at(0).get("templates").length&&(o=s.at(0)),n.resolve(o)}).fail(function(){n.reject.apply(n,arguments)}),n}});return g}),csui.define("xecmpf/widgets/workspaces/routers/dialog.router",["require","csui/lib/jquery","csui/lib/underscore","csui/lib/marionette","xecmpf/widgets/workspaces/controllers/dialog.controller"],function(e,t,i,n,o){var s=n.AppRouter.extend({"appRoutes":{"":"selectWorkspace","updateWorkspace/":"updateWorkspace","selectWorkspace/":"selectWorkspace","displayWorkspace/":"displayWorkspace","newWorkspace/":"createWorkspace"},"constructor":function(e){this.controller=new o(e),n.AppRouter.prototype.constructor.apply(this,arguments)},"execute":function(e,t,i){e&&e.apply(this,t)}});return s}),csui.define("xecmpf/widgets/workspaces/utils/urlhelper",["module","csui/lib/jquery","csui/lib/underscore","csui/utils/log","csui/utils/base"],function(e,t,i,n,o){var s={"getParams":function(e){return e.search.replace("?","").split("&").reduce(function(e,t){var i=t.split("=");return e[i[0].toLowerCase()]=i[1],e},{})}};return s}),csui.define("xecmpf/widgets/workspaces/workspaces.widget",["module","require","csui/lib/jquery","csui/lib/underscore","csui/lib/marionette","csui/utils/log","csui/lib/backbone","xecmpf/widgets/workspaces/routers/dialog.router","xecmpf/widgets/workspaces/controllers/dialog.controller","xecmpf/widgets/workspaces/utils/urlhelper","csui/utils/contexts/factories/connector","csui/utils/contexts/factories/user","xecmpf/widgets/workspaces/pages/select.workspace/select.workspace.view"],function(e,t,i,n,o,s,a,r,c,l,u,p,d){function h(e){e||(e={});var t=l.getParams(window.location);n.isEmpty(e.data)&&!n.isEmpty(t)?this.options=n.defaults({},e,{"data":{"busObjectId":t.busobjectid,"busObjectType":t.busobjecttype,"extSystemId":t.extsystemid}}):this.options=e,this.options.context.user=this.options.context.getModel(p)}var m=a.Marionette.Region.extend({"show":function(e){this._ensureElement(),e.render(),this.close(function(){this.currentView=e,this.open(e,function(){e instanceof d&&o.triggerMethodOn(e,"show")})})},"close":function(e){var t=this.currentView,i=this;return delete this.currentView,t?void t.$el.hide("slide",{"direction":"left","complete":function(){t.destroy&&t.destroy(),e&&e.call(i)}},250):void(e&&e.call(this))},"open":function(e,t){var i=this;this.$el.hide(),this.$el.html(e.$el),o.triggerMethodOn(e,"before:show"),o.triggerMethodOn(e,"show"),o.triggerMethodOn(e,"dom:refresh"),this.$el.show("slide",{"direction":"right","complete":function(){t&&t.call(i)}},250)}});return n.extend(h.prototype,{"show":function(e){var t=this,n=function(e){try{var n=t.options.context.getObject(u),o=n.getConnectionUrl();if(o.getOrigin().toLowerCase()===e.origin.toLowerCase()&&("string"==typeof e.data||e.data instanceof String)){var s=JSON.parse(e.data);s.busObjectId&&s.busObjectType&&s.extSystemId&&(i("#xecm-full-page-frame").remove(),s.deletecallback=!0,t.showView(t,s))}}catch(a){console.log(e)}};window.addEventListener("message",n,!1),this.showView(this,e)},"showView":function(e,t){e.region||(e.region=new m({"el":t.placeholder})),n.defaults(e.options,t,{"region":e.region}),e.options.status=e.options.status||{},n.defaults(e.options.status,{"wksp_controller":new c(e.options)}),e.options.status.wksp_controller.selectWorkspace(e.options)}}),h.version="1.0",h}),csui.define("xecmpf/widgets/myattachments/nls/myattachments.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/myattachments/nls/root/myattachments.lang",{"root":!0,"en-us":!1,"en":!1,"attachmentsTabTitle":"Business Objects","ErrorLoadingAddItemMenu":"Cannot load business object types to the Add menu.","DetachBusinessAttachment":"Detach","GoToWorkspace":"Go to Workspace","OpenSapObject":"Display","AddBusinessAttachment":"Add Business Object","ErrorCreatingBusAttachment":"Cannot create business attachment.","BOSearchTitle":"Search business objects","noBusinessAttachmentsAvailable":"Add business objects to this Content Server item."}),csui.define("xecmpf/utils/commands/myattachments/detach_myattachment",["module","csui/models/command","csui/utils/commandhelper","csui/lib/jquery","csui/lib/underscore","csui/utils/commands/confirmable","csui/utils/command.error","i18n!xecmpf/utils/commands/nls/localized.strings"],function(e,t,i,n,o,s,a,r){"use strict";var c,l,u,p=t.extend({"defaults":{"signature":"detach_business_attachment","command_key":["detach_business_attachment"],"name":r.CommandNameDetach,"pageLeavingWarning":r.DetachPageLeavingWarning,"scope":"multiple","doneVerb":r.CommandDoneVerbDetached,"successMessages":{"formatForNone":r.DetachBusAttsNoneMessage,"formatForOne":r.DetachOneBusAttSuccessMessage,"formatForTwo":r.DetachSomeBusAttsSuccessMessage,"formatForFive":r.DetachManyBusAttsSuccessMessage},"errorMessages":{"formatForNone":r.DetachBusAttsNoneMessage,"formatForOne":r.DetachOneBusAttFailMessage,"formatForTwo":r.DetachSomeBusAttsFailMessage,"formatForFive":r.DetachManyBusAttsFailMessage}},"_getConfirmTemplate":function(e,t){return o.template("<span class='msgIcon WarningIcon'><%- message %></span>")},"_getConfirmData":function(e,t){var n=i.getAtLeastOneNode(e);return{"title":r.DetachBusAttsCommandConfirmDialogTitle,"message":1===n.length?o.str.sformat(r.DetachBusAttsCommandConfirmDialogSingleMessage,n.at(0).get("name")):o.str.sformat(r.DetachBusAttsCommandConfirmDialogMultipleMessage,n.length)}},"enabled":function(e,t){var n=i.getJustOneNode(e),o="delete_business_attachment",s=this._getNodeActionForSignature(n,o);return s?!0:!1},"_performAction":function(e,t){var i=e.node,s=n.Deferred(),c=i.collection;if(c){var l=i.destroy({"wait":!0}).done(function(){e.set("count",1),e.deferred.resolve(e),s.resolve(i)}).fail(function(t){var n=t?new a(t,i):t;e.deferred.reject(e,n),t||l.abort(),s.reject(n)});return s.promise()}return s.reject(new a(o.str.sformat(r.CommandFailedSingular,i.get("name"),r.CommandVerbDetach),{"errorDetails":"collection is undefined"}))},"startGlobalMessage":function(e){l.showFileUploadProgress(e,{"oneFileTitle":r.DetachingOneBusAtt,"oneFileSuccess":r.DetachOneBusAttSuccessMessage,"multiFileSuccess":r.DetachManyBusAttsSuccessMessage,"oneFilePending":r.DetachingOneBusAtt,"multiFilePending":r.DetachBusAtts,"oneFileFailure":r.DetachOneBusAttFailMessage,"multiFileFailure":r.DetachManyBusAttsFailMessage2,"someFileSuccess":r.DetachSomeBusAttsSuccessMessage,"someFilePending":r.DetachingSomeBusAtts,"someFileFailure":r.DetachSomeBusAttsFailMessage2,"enableCancel":!1})},"_removeBusAtt":function(e){return e.destroy({"wait":!0})},"_getRespError":function(e){var t="";return e&&e.responseJSON&&e.responseJSON.error?t=e.responseJSON.error:u.messageHelper.hasMessages()&&(t=n(u.messageHelper.toHtml()).text(),u.messageHelper.clear()),t},"_announceStart":function(e){var t=e.originatingView;t&&t.blockActions&&t.blockActions();var i=this.get("pageLeavingWarning");i&&this.PageLeavingBlocker.enable(i)},"_announceFinish":function(e){var t=this.get("pageLeavingWarning");t&&this.PageLeavingBlocker.disable();var i=e.originatingView;i&&i.unblockActions&&i.unblockActions()}});return o.extend(p.prototype,s,{"execute":function(e,t){var r=i.getAtLeastOneNode(e),c=(1===r.length&&r.first(),n.Deferred()),u=e.data||{},p=null!=u.showProgressDialog?u.showProgressDialog:!0;return this.showProgressDialog=p,e.suppressFailMessage=!0,e.suppressSuccessMessage=!0,e.suppressMultipleFailMessage=!0,s.execute.apply(this,arguments).done(function(e){p&&l.hideFileUploadProgress(),c.resolve(e)}).fail(function(e){var t=e&&o.find(e,function(e){return!(e instanceof a)}),i=t?t:e;c.reject(i)}),c.promise()},"_performActions":function(e,t){var s=n.Deferred(),a=this;return csui.require(["csui/utils/taskqueue","csui/utils/page.leaving.blocker","csui/models/fileuploads","csui/utils/commands/multiple.items","csui/controls/globalmessage/globalmessage","csui/utils/messagehelper","csui/utils/base"],function(n,r,u,p,d,h,m){c=h,l=d,m=m,a.PageLeavingBlocker=arguments[1];var f=i.getAtLeastOneNode(e),g=f.models,b=o.map(g,function(e){return{"name":e.get("name"),"state":"pending","count":0,"total":1,"node":e}}),v=g&&g[0]&&g[0].connector,w=new u(b,{"connector":v}),y=o.defaults({"nodes":w},e);w.each(function(e){var t=e.get("node");e.node=t,e.unset("node")}),a.startGlobalMessage(w),p._performActions.call(a,y,t).done(function(e){l.hideFileUploadProgress(),s.resolve(e)}).fail(function(e){s.reject(e)})},function(e){console.log(e),s.reject(e)}),s.promise()}}),p}),csui.define("xecmpf/utils/commands/myattachments/go_to_workspace",["module","csui/models/command","csui/utils/commandhelper","csui/lib/underscore","csui/lib/jquery","i18n!xecmpf/utils/commands/nls/localized.strings"],function(e,t,i,n,o,s){"use strict";var a=t.extend({"defaults":{"signature":"go_to_workspace","command_key":["go_to_workspace"],"name":s.CommandNameGoToWorkspace,"scope":"single"},"enabled":function(e){var t=i.getJustOneNode(e),n=this.get("command_key"),o=this._getNodeActionForSignature(t,n);return o?!0:!1},"execute":function(e,t){var n=i.getJustOneNode(e);return this._navigateTo(n,e,t)},"_navigateTo":function(e,t,i){var n=o.Deferred(),s=t.context||t.originatingView.options.context,a=e.get("wksp_id");return csui.require(["csui/lib/backbone","csui/utils/contexts/factories/connector","csui/models/node/node.model","csui/utils/commands/browse"],function(e,t,i,n){var o=s.getObject(t),r=new i({"id":a},{"connector":o}),c=new n;c.execute({"nodes":new e.Collection([r]),"context":s})},function(e){console.log(e),n.reject()}),n.promise()}});return a}),csui.define("xecmpf/utils/commands/myattachments/open_sap_object",["module","csui/models/command","csui/utils/commandhelper","csui/lib/underscore","csui/lib/jquery","i18n!xecmpf/utils/commands/nls/localized.strings"],function(e,t,i,n,o,s){"use strict";var a=n.defaults({},e.config(),{"openInNewTab":!0}),r=t.extend({"defaults":{"signature":"open_sap_object","command_key":["open_sap_object"],"name":s.CommandNameOpenSapObject,"scope":"single"},"enabled":function(e){var t=i.getJustOneNode(e),n=this.get("command_key"),o=this._getNodeActionForSignature(t,n);if(o){var s=t.actions&&t.actions.findRecursively(n);return s.get("href")?!0:!1}return!1},"execute":function(e,t){var n=i.getJustOneNode(e);return this._navigateTo(n,t)},"openInNewTab":function(){return a.openInNewTab},"_navigateTo":function(e,t){var i=e.actions.findRecursively(this.attributes.signature),n=i.get("href");if(this.openInNewTab()===!0){var s=window.open(n,"_blank");s.focus()}else location.href=n;return o.Deferred().resolve().promise()}});return r}),csui.define("xecmpf/utils/commands/myattachments/add_myattachment",["require","csui/models/command","csui/utils/commandhelper","csui/lib/jquery","csui/lib/underscore","csui/utils/commands/confirmable","i18n!xecmpf/utils/commands/nls/localized.strings"],function(e,t,i,n,o,s,a){"use strict";var r,c,l,u,p=t.extend({"defaults":{"signature":"add_business_attachment","command_key":["add_business_attachment"],"name":a.CommandNameAttach,"scope":"multiple","doneVerb":a.CommandDoneVerbAttached,"successMessages":{"formatForNone":a.AttachBusAttsNoneMessage,"formatForOne":a.AttachOneBusAttSuccessMessage,"formatForTwo":a.AttachSomeBusAttsSuccessMessage,"formatForFive":a.AttachManyBusAttsSuccessMessage},"errorMessages":{"formatForNone":a.AttachBusAttsNoneMessage,"formatForOne":a.AttachOneBusAttFailMessage,"formatForTwo":a.AttachSomeBusAttsFailMessage,"formatForFive":a.AttachManyBusAttsFailMessage}},"_getConfirmTemplate":function(e,t){return o.template(a.AttachBusAttsCommandConfirmDialogHtml)},"_getConfirmData":function(e,t){var n=i.getAtLeastOneNode(e);return{"title":a.AttachBusAttsCommandConfirmDialogTitle,"message":1===n.length?o.str.sformat(a.AttachBusAttsCommandConfirmDialogSingleMessage,n.at(0).get("name")):o.str.sformat(a.AttachBusAttsCommandConfirmDialogMultipleMessage,n.length)}},"enabled":function(e){if(e.container.busatts.actions){var t=o.has(e.container.busatts.actions.data,this.defaults.signature);return t?!0:!1}return!1}});return o.extend(p.prototype,s,{"execute":function(e,t){return this._referenceSearchOpen(e,t)},"_referenceSearchOpen":function(e,t){var i=n.Deferred(),o=this;return csui.require(["csui/utils/contexts/factories/connector","i18n!xecmpf/widgets/myattachments/nls/myattachments.lang","xecmpf/widgets/myattachments/metadata.attachment.model","xecmpf/controls/bosearch/bosearch.model","xecmpf/controls/bosearch/bosearch.dialog.controller","csui/utils/command.error"],function(n,s,a,c,l,p){r=a,u=p,o.connector=t.context.getObject(n),o.collection=e.data.collection,o.boSearchModel=new c(e.data.boType,{"connector":o.connector});var d;d=".cs-properties-wrapper>.cs-metadata",o.boSearchDialogController=new l({"context":t.context,"htmlPlace":d,"multipleSelect":!0,"mode":"business_attachment_add","boSearchModel":o.boSearchModel,"title":s.BOSearchTitle}),o.status=e,o.listenTo(o.boSearchModel,"boresult:select",o._referenceSearchAttach),o.boSearchModel.trigger("reference:search"),i.resolve()},function(e){console.log(e),i.reject(e)}),i.promise()},"_referenceSearchAttach":function(e){var t=n.Deferred(),i=this;return csui.require(["csui/utils/page.leaving.blocker","csui/models/fileuploads","csui/utils/commands/multiple.items","csui/controls/globalmessage/globalmessage","csui/utils/messagehelper","csui/utils/command.error","csui/utils/base"],function(n,s,a,r,p,d,h){c=p,l=r,u=d,h=h;var m;if(i.PageLeavingBlocker=arguments[1],i.boSearchModel.trigger("reference:selected"),e.selectedItems){var f=e.selectedItems,g=o.map(f,function(e){return{"name":e.get("businessObjectId"),"state":"pending","count":0,"total":1,"node":e}}),b=f&&f[0]&&f[0].connector,v=new s(g,{"connector":b}),w=o.defaults({"nodes":v},status);w.suppressMultipleFailMessage=!0,v.each(function(e){var t=e.get("node");e.node=t,e.unset("node")}),i.startGlobalMessage(v),a._performActions.call(i,w,m).done(function(e){l.hideFileUploadProgress(),t.resolve(e)}).fail(function(e){t.reject(e)})}},function(e){console.log(e),t.reject(e)}),t.promise()},"startGlobalMessage":function(e){l.showFileUploadProgress(e,{"oneFileTitle":a.AttachingOneBusAtt,"oneFileSuccess":a.AttachOneBusAttSuccessMessage,"multiFileSuccess":a.AttachManyBusAttsSuccessMessage,"oneFilePending":a.AttachingOneBusAtt,"multiFilePending":a.AttachBusAtts,"oneFileFailure":a.AttachOneBusAttFailMessage,"multiFileFailure":a.AttachManyBusAttsFailMessage2,"someFileSuccess":a.AttachSomeBusAttsSuccessMessage,"someFilePending":a.AttachingSomeBusAtts,"someFileFailure":a.AttachSomeBusAttsFailMessage2,"enableCancel":!1})},"_performAction":function(e,t){var i=e.node,s=n.Deferred(),c=this;if(this.collection){var l=this.boSearchModel.get("ext_system_id"),p=this.boSearchModel.get("bo_type"),d="",h=i.get("businessObjectId"),m={"ext_system_id":l,"bo_type":p,"bo_id":h,"comment":d},f=new r(m,{"collection":this.collection,"connector":this.connector});return f.isLocallyCreated=!0,f.save({"wait":!0,"silent":!0}).done(function(t){c.collection.add(f,{"at":0}),e.set("count",1),e.deferred.resolve(e),s.resolve(i)}).fail(function(t){var n=t?new u(t,i):t;e.deferred.reject(e,n),s.reject(n)}),s.promise()}return s.reject(new u(o.str.sformat(a.CommandFailedSingular,i.get("name"),a.CommandVerbAttach),{"errorDetails":"collection is undefined"}))},"_announceStart":function(e){var t=e.originatingView;t&&t.blockActions&&t.blockActions();var i=this.get("pageLeavingWarning");i&&this.PageLeavingBlocker.enable(i)},"_announceFinish":function(e){this.get("pageLeavingWarning")&&this.PageLeavingBlocker.disable();var t=e.originatingView;t&&t.unblockActions&&t.unblockActions()}}),p}),csui.define("xecmpf/utils/commands/myattachments",["csui/lib/underscore","csui/models/commands","xecmpf/utils/commands/myattachments/detach_myattachment","xecmpf/utils/commands/myattachments/go_to_workspace","xecmpf/utils/commands/myattachments/open_sap_object","xecmpf/utils/commands/myattachments/add_myattachment"],function(e,t,i,n,o,s){"use strict";var a=new t([new i,new n,new o,new s]);return a}),csui.define("xecmpf/widgets/myattachments/metadata.attachments.columns",["csui/lib/backbone"],function(e){var t=e.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0}}),i=e.Collection.extend({"model":t,"comparator":"sequence","getColumnKeys":function(){return this.pluck("key")},"deepClone":function(){return new i(this.map(function(e){return e.attributes}))}}),n=new i([{"key":"bo_id","sequence":10},{"key":"name","sequence":20},{"key":"ext_system_name","sequence":30},{"key":"create_date","sequence":40},{"key":"created_by_name","sequence":50},{"key":"comment","sequence":60}]);return n}),csui.define("css!xecmpf/widgets/myattachments/metadata.attachments",[],function(){}),csui.define("xecmpf/widgets/myattachments/metadata.attachments.toolbaritems",["csui/lib/underscore","i18n!xecmpf/widgets/myattachments/nls/myattachments.lang","csui/controls/toolbar/toolitems.factory","css!xecmpf/widgets/myattachments/metadata.attachments"],function(e,t,i){var n={"addToolbar":new i({"add":[]},{"maxItemsShown":0,"dropDownIcon":"icon icon-toolbarAdd","dropDownText":t.AddBusinessAttachment,"addTrailingDivider":!1}),"otherToolbar":new i({"main":[{"signature":"detach_business_attachment","name":t.DetachBusinessAttachment,"scope":"multiple","verb":"detach_business_attachment"},{"signature":"open_sap_object","name":t.OpenSapObject},{"signature":"go_to_workspace","name":t.GoToWorkspace}]},{"maxItemsShown":5,"dropDownIcon":"icon icon-toolbar-more"}),"inlineActionbar":new i({"other":[{"signature":"detach_business_attachment","name":t.DetachBusinessAttachment,"verb":"detach_business_attachment","icon":"icon icon-toolbar-detach"},{"signature":"open_sap_object","name":t.OpenSapObject,"icon":"icon icon-toolbar-preview"},{"signature":"go_to_workspace","name":t.GoToWorkspace,"icon":"icon icon-toolbar-workspace"}]},{"maxItemsShown":5,"dropDownText":t.ToolbarItemMore,"dropDownIcon":"icon icon-toolbar-more"})};return n}),csui.define("hbs!xecmpf/widgets/myattachments/metadata.attachments",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div class="csui-metadata-myattachments">\r\n  <div id="att-tabletoolbar"></div>\r\n  <div id="att-tableview"></div>\r\n  <div id="att-paginationview"></div>\r\n</div>'}});return i.registerPartial("xecmpf_widgets_myattachments_metadata.attachments",n),n}),csui.define("xecmpf/widgets/myattachments/metadata.attachments.view",["module","csui/lib/jquery","csui/lib/underscore","csui/lib/marionette","csui/controls/tabletoolbar/tabletoolbar.view","csui/controls/tableactionbar/tableactionbar.view","csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin","csui/controls/table/table.view","csui/controls/pagination/nodespagination.view","xecmpf/utils/commands/myattachments","csui/models/columns","xecmpf/widgets/myattachments/metadata.nodeattachments.model","xecmpf/widgets/myattachments/metadata.attachment.model","xecmpf/widgets/myattachments/metadata.attachments.columns","xecmpf/widgets/myattachments/metadata.attachments.toolbaritems","hbs!xecmpf/widgets/myattachments/metadata.attachments","csui/controls/toolbar/toolitem.model","csui/controls/globalmessage/globalmessage","csui/controls/toolbar/toolbar.command.controller","csui/utils/url","csui/utils/base","i18n!xecmpf/widgets/myattachments/nls/myattachments.lang","csui/controls/tile/behaviors/perfect.scrolling.behavior","css!xecmpf/widgets/myattachments/metadata.attachments"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g,b,v,w,y,x,_){"use strict";var k=e.config();i.defaults(k,{"defaultPageSize":30,"showInlineActionBarOnHover":!y.isTouchBrowser(),"forceInlineActionBarOnClick":!1,"inlineActionBarStyle":"csui-table-actionbar-bubble","clearFilterOnChange":!0,"resetOrderOnChange":!1,"resetLimitOnChange":!0,"fixedFilterOnChange":!1});var C=n.LayoutView.extend({"className":"metadata-inner-wrapper","template":f,"ui":{"tableView":"#att-tableview","childContainer":"#att-tableview","paginationView":"#att-paginationview"},"regions":{"tableToolbarRegion":"#att-tabletoolbar","tableRegion":"#att-tableview","paginationRegion":"#att-paginationview"},"constructor":function S(e){S.__super__.constructor.call(this,e),this.options.data||(this.options.data={}),i.defaults(this.options.data,{"pageSize":k.defaultPageSize||30}),this.commands=l,this.collection=new p(void 0,{"node":this.options.model,"autoreset":!0,"expand":"user","commands":this.commands,"onlyClientSideDefinedColumns":!0}),this.commandController=new v({"commands":this.commands}),this.listenTo(this.commandController,"after:execute:command",this._toolbarActionTriggered),this.behaviors=i.extend({"PerfectScrolling":{"behaviorClass":_,"contentParent":"> .tab-content","scrollXMarginOffset":30,"scrollYMarginOffset":15}},this.behaviors),this.options.model.busatts=this.collection,this._setToolBar(),this._setTableView(),this._setPagination(),this.setActionBarEvents(),this.collection.fetch(),this.propagateEventsToRegions()},"onRender":function(){this.tableToolbarRegion.show(this.tableToolbarView),this.tableRegion.show(this.tableView),this.paginationRegion.show(this.paginationView)},"_toolbarActionTriggered":function(e){if(e)switch(e.commandSignature){case"detach_business_attachment":this.collection.fetch()}},"_buildToolbarItems":function(){var e=t.Deferred(),i=w.combine(this.model.urlBase(),"addablebotypes");i=i.replace("/v1","/v2");var n=this.model.connector.extendAjaxOptions({"type":"GET","url":i}),o=this;t.ajax(n).done(function(t,i,n){var s=[];t&&t.results&&t.results.length>0&&(t.results.forEach(function(e){var t=new g({"signature":"add_business_attachment","name":e.data.properties.bo_type_name,"type":123,"group":"add","commandData":{"boType":e.data.properties,"node_id":o.model.get("id"),"collection":o.collection}});s.push(t)}),s.length>0&&s.sort(function(e,t){var i=e.get("name"),n=t.get("name"),o=y.localeCompareString(i,n,{"usage":"sort"});return o})),m.addToolbar.reset(s),e.resolve.apply(e,arguments)}).fail(function(t,i,n){var o="\r\n",s=[];if("error"!==i&&s.push(i),t.responseText){var a=JSON.parse(t.responseText);a&&a.error&&s.push(a.error)}n&&s.push(n);var r=s.length>0?s.join(o):void 0;b.showMessage("error",x.ErrorLoadingAddItemMenu,r),e.reject.apply(e,arguments)})},"_setToolBar":function(){var e=this;this.options&&this.options.metadataView&&this.options.metadataView.options&&this.options.metadataView.options.metadataNavigationView&&(e=this.options.metadataView.options.metadataNavigationView),this._buildToolbarItems(),this.tableToolbarView=new o({"context":this.options.context,"commands":l,"toolbarItems":m,"collection":this.collection,"originatingView":e,"toolbarCommandController":this.commandController})},"_updateToolItems":function(){this.tableToolbarView&&this.tableToolbarView.updateForSelectedChildren(this.tableView.getSelectedChildren())},"_setTableView":function(){this.options||(this.options={});var e=i.extend({"tableColumns":h,"context":this.options.context,"connector":this.model.connector,"collection":this.collection,"columns":this.collection.columns,"pageSize":this.options.data.pageSize,"columnsWithSearch":["name","bo_id"],"orderBy":"bo_id asc","commands":l,"customLabels":{"zeroRecordsMsg":x.noBusinessAttachmentsAvailable}},this.options);this.tableView=new r(e),this.listenTo(this.tableView,"tableRowSelected",this._updateToolItems),this.listenTo(this.tableView,"tableRowUnselected",this._updateToolItems),this.listenTo(this.collection,"reset",this._updateToolItems),this.listenTo(this.collection,"change",this._updateToolItems),this.listenTo(this.collection,"remove",this._updateToolItems),this.listenTo(this.collection,"add",this._buildToolbarItems),this.listenTo(this.collection,"remove",this._buildToolbarItems)},"_setPagination":function(){return this.paginationView=new c({"collection":this.collection,"pageSize":this.options.data.pageSize}),!0},"setActionBarEvents":function(){k.forceInlineActionBarOnClick?this.listenTo(this.tableView,"row:clicked",function(e){if(this.tableActionBarView){var t=this.tableActionBarView.model.get("id"),i=e.node.get("id");if(t===i)return}this._destroyOldAndCreateNewActionBarWithoutDelay(e)}):k.showInlineActionBarOnHover&&(this.listenTo(this.tableView,"enterTableRow",this._showActionBarWithDelay),this.listenTo(this.tableView,"leaveTableRow",this._actionBarShouldDestroy)),this.listenTo(this.collection,"reset",this._destroyActionBar),this.collection.node&&this.listenTo(this.collection.node,"change:id",this._destroyActionBar)},"_showActionBar":function(e){var t=this.tableView.getSelectedChildren();if(!(t.length>0))if(this.tableActionBarView)this._savedHoverEnterArgs=e;else{this._savedHoverEnterArgs=null,this.tableActionBarView=new s(i.extend({"context":this.options.context,"commands":l,"collection":m.inlineActionbar,"delayedActions":this.collection.delayedActions,"container":this.collection.node,"model":e.node,"originatingView":this},m.inlineActionbar.options,{"inlineActionBarStyle":k.inlineActionBarStyle})),this.tableActionBarView.render(),this.listenToOnce(this.tableActionBarView,"destroy",function(){this.tableActionBarView&&this.stopListening(this.tableActionBarView),this._savedHoverEnterArgs&&this._showActionBarWithDelay(this._savedHoverEnterArgs)},this);var n=this.tableActionBarView.$el,o=this.tableView.getNameCell(e.target);if(o&&1===o.length){var a=o.find(".csui-table-cell-name-appendix");a.append(n),a.addClass("csui-table-cell-name-appendix-full"),this.tableActionBarView.triggerMethod("after:show")}}},"_showActionBarWithDelay":function(e){this._showActionbarTimeout&&clearTimeout(this._showActionbarTimeout);var t=this;this._showActionbarTimeout=setTimeout(function(){t._showActionbarTimeout=null,t.tableView.lockedForOtherContols||t._showActionBar.call(t,e)},200)},"_destroyOldAndCreateNewActionBarWithoutDelay":function(e){this._actionBarShouldDestroy(),this.tableView.lockedForOtherContols||this._showActionBar.call(this,e)},"_actionBarShouldDestroy":function(){this._showActionbarTimeout&&(clearTimeout(this._showActionbarTimeout),this._showActionbarTimeout=null),this._destroyActionBar()},"_destroyActionBar":function(){if(this.tableActionBarView){var e=this.tableActionBarView.$el.parent();e.removeClass("csui-table-cell-name-appendix-full"),this.tableActionBarView.destroy(),this.tableActionBarView=null}}});return i.extend(C.prototype,a),C}),csui.define("xecmpf/widgets/myattachments/metadata.property.panels",["i18n!xecmpf/widgets/myattachments/nls/myattachments.lang","xecmpf/widgets/myattachments/metadata.attachments.view"],function(e,t){return[{"title":e.attachmentsTabTitle,"sequence":40,"contentView":t}]}),csui.define("xecmpf/widgets/dossier/impl/dossier.factory",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","csui/utils/contexts/factories/node","xecmpf/widgets/dossier/impl/dossier.model"],function(e,t,i,n,o,s,a){var r;return r=n.extend({"propertyPrefix":"dossierCollection","constructor":function(s,r){n.prototype.constructor.apply(this,arguments);var c=this.options.dossierCollection||{};if(!(c instanceof i.Collection)){var l=s.getObject(o,r),u=e.config();c=new a(c.models,t.extend({"connector":l},c.options,u.options,{"autofetch":!0},r))}this.property=c},"fetch":function(e){return this.property.fetch(e)}})}),csui.define("hbs!xecmpf/behaviors/scroll.controls/impl/scroll.controls",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){return"glyphicon glyphicon-chevron-left"},"3":function(e,t,i,n){return"glyphicon glyphicon-chevron-right"},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o,s;return'<div class="cs-scroll-control cs-scroll-control-left">\r\n  <span class="'+(null!=(o=t.unless.call(e,null!=e?e.leftControlIconClass:e,{"name":"unless","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:"")+"\r\n  cs-scroll-control-icon cs-scroll-control-icon-left "+this.escapeExpression((s=null!=(s=t.leftControlIconClass||(null!=e?e.leftControlIconClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"leftControlIconClass","hash":{}}):s))+'"></span>\r\n</div>\r\n<div class="cs-scroll-control cs-scroll-control-right">\r\n  <span class="'+(null!=(o=t.unless.call(e,null!=e?e.rightControlIconClass:e,{"name":"unless","hash":{},"fn":this.program(3,n,0),"inverse":this.noop}))?o:"")+"\r\n  cs-scroll-control-icon cs-scroll-control-icon-right "+this.escapeExpression((s=null!=(s=t.rightControlIconClass||(null!=e?e.rightControlIconClass:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"rightControlIconClass","hash":{}}):s))+'"></span>\r\n</div>\r\n'}});return i.registerPartial("xecmpf_behaviors_scroll.controls_impl_scroll.controls",n),n}),csui.define("css!xecmpf/behaviors/scroll.controls/impl/scroll.controls",[],function(){}),csui.define("xecmpf/behaviors/scroll.controls/scroll.controls.behavior",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","hbs!xecmpf/behaviors/scroll.controls/impl/scroll.controls","css!xecmpf/behaviors/scroll.controls/impl/scroll.controls"],function(e,t,i,n,o){"use strict";function s(t,i){var n=i||this.options||{},o=n[t];return e.isFunction(o)?n[t].call(this.view):o}var a;return a=i.Behavior.extend({"defaults":{"contentParent":null,"controlsContainer":null,"scrollableWidth":null,"animateDuration":400},"ui":{"leftControl":".cs-scroll-control-left","rightControl":".cs-scroll-control-right"},"triggers":{"mousedown @ui.leftControl":"scroll:left","mousedown @ui.rightControl":"scroll:right"},"constructor":function(e,t){i.Behavior.prototype.constructor.apply(this,arguments),this.listenTo(t,"render",this._renderControls).listenTo(t,"dom:refresh",this._updateScrollControls).listenTo(t,"update:scroll:controls",this._updateScrollControls).listenTo(t,"scroll:left",this._scrollLeft).listenTo(t,"scroll:right",this._scrollRight).listenTo(t,"before:destroy",this._unbindUpdateControlsEvents)},
"_renderControls":function(){var e=s.call(this,"controlsContainer");this._controlsContainer=e?this.view.$(e):this.view.$el;var t=s.call(this,"contentParent");this._contentParent=t?this.view.$(t):this.view.$el,this._bindControlsUpdatingEvents(),this.animateDuration=s.call(this,"animateDuration");var i={"leftControlIconClass":s.call(this,"leftControlIconClass"),"rightControlIconClass":s.call(this,"rightControlIconClass")};this._controlsContainer.append(n(i)),this.view._bindUIElements.call(this)},"_updateScrollControls":function(){if(this._contentParent&&this._contentParent instanceof t){var e=this._contentParent.scrollLeft(),i=this._contentParent.get(0).scrollWidth,n=this._contentParent.width();0===e?this.ui.leftControl.hide(100):this.ui.leftControl.show(100),e===i-n?this.ui.rightControl.hide(100):this.ui.rightControl.show(100)}},"_scrollLeft":function(){if(this._contentParent&&this._contentParent instanceof t){var e=s.call(this,"scrollableWidth")||this._contentParent.innerWidth(),i=this._contentParent.scrollLeft();this._contentParent.focus().filter(":not(:animated)").animate({"scrollLeft":i-e},this.animateDuration,"swing",t.proxy(function(){this.view.triggerMethod("update:scroll:controls")},this))}},"_scrollRight":function(){if(this._contentParent&&this._contentParent instanceof t){var e=s.call(this,"scrollableWidth")||this._contentParent.innerWidth(),i=this._contentParent.scrollLeft();this._contentParent.focus().filter(":not(:animated)").animate({"scrollLeft":i+e},this.animateDuration,"swing",t.proxy(function(){this.view.triggerMethod("update:scroll:controls")},this))}},"_bindControlsUpdatingEvents":function(){this._contentParent&&this._contentParent instanceof t&&(this._contentParent.attr("tabindex",1),this._contentParent.on("keydown",t.proxy(function(e){switch(e.which){case 37:this.view.triggerMethod("scroll:left");break;case 39:this.view.triggerMethod("scroll:right")}},this)),t(window).on("resize",t.proxy(function(){this._updateScrollControls()},this)))},"_unbindUpdateControlsEvents":function(){this._contentParent&&this._contentParent instanceof t&&(this._contentParent.off("keydown"),t(window).off("resize"))}})}),csui.define("hbs!xecmpf/utils/document.thumbnail/impl/document.thumbnail",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o,s;return'  <div class="document-thumbnail-caption">\r\n'+(null!=(o=t.unless.call(e,null!=e?e.disableIcon:e,{"name":"unless","hash":{},"fn":this.program(2,n,0),"inverse":this.noop}))?o:"")+'    <span class="document-name" title="'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+'">'+this.escapeExpression((s=null!=(s=t.name||(null!=e?e.name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"name","hash":{}}):s))+"</span>\r\n  </div>\r\n"},"2":function(e,t,i,n){var o;return'      <span class="csui-type-icon '+this.escapeExpression((o=null!=(o=t.icon||(null!=e?e.icon:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"icon","hash":{}}):o))+'" aria-hidden="true"></span>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o,s;return'<div class="document-thumbnail-wrapper">\r\n  <div><a href="#" class="thumbnail_not_loaded thumbnail_empty" title="'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"title","hash":{}}):s))+'" aria-label="'+this.escapeExpression((s=null!=(s=t.document_name||(null!=e?e.document_name:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"document_name","hash":{}}):s))+'"></a></div>\r\n  <button class="wrapper"><img src="" class="img-doc-preview binf-hidden" alt="'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"title","hash":{}}):s))+'" title="'+this.escapeExpression((s=null!=(s=t.title||(null!=e?e.title:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"title","hash":{}}):s))+'" /></button>\r\n</div>\r\n'+(null!=(o=t["if"].call(e,null!=e?e.enableCaption:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:"")}});return i.registerPartial("xecmpf_utils_document.thumbnail_impl_document.thumbnail",n),n}),csui.define("xecmpf/utils/document.thumbnail/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/utils/document.thumbnail/impl/nls/root/lang",{"open":"Open","toOpen":"to open "}),csui.define("css!xecmpf/utils/document.thumbnail/impl/document.thumbnail",[],function(){}),csui.define("xecmpf/utils/document.thumbnail/document.thumbnail.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/url","csui/utils/contexts/factories/connector","csui/utils/nodesprites","csui/controls/node-type.icon/node-type.icon.view","csui/behaviors/default.action/default.action.behavior","csui/behaviors/keyboard.navigation/tabkey.behavior","hbs!xecmpf/utils/document.thumbnail/impl/document.thumbnail","i18n!xecmpf/utils/document.thumbnail/impl/nls/lang","css!xecmpf/utils/document.thumbnail/impl/document.thumbnail"],function(e,t,i,n,o,s,a,r,c,l,u){var p=i.ItemView.extend({"className":"xecmpf-document-thumbnail","constructor":function(e){if(e||(e={}),e.model||(e.model=e.node),i.ItemView.prototype.constructor.apply(this,arguments),!this.model)throw new Error("node is missing in the constructor options.")},"behaviors":{"DefaultAction":{"behaviorClass":r},"TabKeyRegion":{"behaviorClass":c}},"template":l,"templateHelpers":function(){return{"title":this.options.title||u.open,"document_name":u.toOpen+this.options.model.get("name"),"enableCaption":this.options.enableCaption}},"ui":{"thumbnailNotLoadedEl":".thumbnail_not_loaded","imgEl":".img-doc-preview","iconEl":".csui-type-icon","buttonToHide":".document-thumbnail-wrapper > button"},"events":{"keydown .thumbnail_not_loaded":function(e){if(13===e.keyCode||32===e.keyCode){var i=this.$el.find(document.activeElement);t(i).click()}},"keydown button.wrapper":function(e){if(13===e.keyCode||32===e.keyCode){var i=this.$el.find(document.activeElement);t(i).click()}}},"_showThumbnail":function(){this.ui.thumbnailNotLoadedEl.addClass("thumbnail_empty").removeClass("binf-hidden thumbnail_missing"),this.ui.imgEl.addClass("binf-hidden");var e=this;this.model.connector.requestContentAuthToken({"id":e.model.get("id")}).then(function(i){var o;o=n.combine(e.model.connector.connection.url,"/nodes",e.model.get("id"),"/thumbnails/medium/content?token="+encodeURIComponent(i.token)),"function"==typeof t&&e.ui.imgEl instanceof t&&e.ui.thumbnailNotLoadedEl instanceof t&&(e.ui.imgEl.one("error",function(){var t=s.findClassByNode(e.model)||"thumbnail_missing";e.ui.thumbnailNotLoadedEl.removeClass("binf-hidden thumbnail_empty").addClass(t),e.ui.imgEl.addClass("binf-hidden"),e.ui.buttonToHide.addClass("binf-hidden")}),e.ui.imgEl.attr("src",o).one("load",function(t){t.target.clientHeight>=t.target.clientWidth?e.ui.imgEl.addClass("cs-form-img-vertical"):e.ui.imgEl.addClass("cs-form-img-horizontal"),e.ui.thumbnailNotLoadedEl.addClass("binf-hidden"),e.ui.imgEl.removeClass("binf-hidden").addClass("cs-form-img-border")}),e.ui.imgEl.parent().parent().click(function(){var t={"model":e.model,"abortDefaultAction":!1};e.triggerMethod("before:defaultAction",t),t.abortDefaultAction===!1&&e.triggerMethod("execute:DefaultAction",e.model),e.triggerMethod("after:defaultAction",t)}))},function(){"function"==typeof t&&e.ui.imgEl instanceof t&&e.ui.thumbnailNotLoadedEl instanceof t&&(e.ui.imgEl.addClass("binf-hidden"),e.ui.thumbnailNotLoadedEl.removeClass("binf-hidden thumbnail_empty").addClass("csui-icon thumbnail_missing"))})},"_renderNodeTypeIconView":function(){this._nodeIconView=new a({"el":this.ui.iconEl,"node":this.model}),this._nodeIconView.render()},"onRender":function(){this._renderNodeTypeIconView(),this._showThumbnail()},"onBeforeDestroy":function(){this._nodeIconView&&this._nodeIconView.destroy()}});return p}),csui.define("hbs!xecmpf/widgets/dossier/impl/documentslistitem/impl/metadata",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<td class="label" title="'+this.escapeExpression((o=null!=(o=t.label||(null!=e?e.label:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"label","hash":{}}):o))+'">'+this.escapeExpression((o=null!=(o=t.label||(null!=e?e.label:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"label","hash":{}}):o))+'</td>\r\n<td class="value" title="'+this.escapeExpression((o=null!=(o=t.value||(null!=e?e.value:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"value","hash":{}}):o))+'">'+this.escapeExpression((o=null!=(o=t.value||(null!=e?e.value:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"value","hash":{}}):o))+"</td>"}});return i.registerPartial("xecmpf_widgets_dossier_impl_documentslistitem_impl_metadata",n),n}),csui.define("xecmpf/widgets/dossier/impl/documentslistitem/impl/metadata.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/utils/base","hbs!xecmpf/widgets/dossier/impl/documentslistitem/impl/metadata"],function(e,t,i,n,o,s){var a=n.ItemView.extend({"tagName":"tr","constructor":function(e){n.ItemView.prototype.constructor.apply(this,arguments)},"template":s,"templateHelpers":function(){var e=this.model.get("value");return{"value":"Date"===this.model.get("type")?o.formatFriendlyDate(e):e}}}),r=n.CollectionView.extend({"tagName":"table","constructor":function(e){n.CollectionView.prototype.constructor.apply(this,arguments)},"childView":a});return r}),csui.define("hbs!xecmpf/widgets/dossier/impl/documentslistitem/impl/documentslistitem",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o;return'    <div class="document-favorite">\r\n'+(null!=(o=t["if"].call(e,null!=e?e.favorite:e,{"name":"if","hash":{},"fn":this.program(2,n,0),"inverse":this.program(4,n,0)}))?o:"")+"    </div>\r\n"},"2":function(e,t,i,n){var o;return'           <a href="#" class="socialFav selected" title="'+this.escapeExpression((o=null!=(o=t.removeFav||(null!=e?e.removeFav:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"removeFav","hash":{}}):o))+'" aria-label="'+this.escapeExpression((o=null!=(o=t.removeFav||(null!=e?e.removeFav:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"removeFav","hash":{}}):o))+'">\r\n          <span class="icon icon-socialFav"></span>\r\n        </a>\r\n'},"4":function(e,t,i,n){var o;return'        <a href="#" class="socialFav notselected" tabindex="0" title="'+this.escapeExpression((o=null!=(o=t.addFav||(null!=e?e.addFav:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"addFav","hash":{}}):o))+'" aria-label="'+this.escapeExpression((o=null!=(o=t.addFav||(null!=e?e.addFav:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"addFav","hash":{}}):o))+'">\r\n          <span class="icon icon-socialFavOpen"></span>\r\n        </a>\r\n'},"6":function(e,t,i,n){return'    <div class="document-category-attributes"></div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<div class="xecmpf-document-preview"></div>\r\n\r\n<div class="xecmpf-document-metadata">\r\n'+(null!=(o=t.unless.call(e,null!=e?e.hideFavorite:e,{"name":"unless","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:"")+(null!=(o=t.unless.call(e,null!=e?e.hideMetadata:e,{"name":"unless","hash":{},"fn":this.program(6,n,0),"inverse":this.noop}))?o:"")+"</div>\r\n"}});return i.registerPartial("xecmpf_widgets_dossier_impl_documentslistitem_impl_documentslistitem",n),n}),csui.define("xecmpf/widgets/dossier/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/dossier/impl/nls/root/lang",{"searchPlaceholder":"Search groups.","emptyListText":"No documents.","groupByLabel":"Group by","classificationLabel":"Classification","createDateLabel":"Creation date","documentTypeLabel":"Document type","tilesLabel":"group(s)","documentsLabel":"document(s)","addFav":"Add to favorite","removeFav":"Remove from favorite","selectByClassificationLabel":"Select group by Classification","selectByCreatedateLabel":"Select group by Created Date"}),csui.define("css!xecmpf/widgets/dossier/impl/documentslistitem/impl/documentslistitem",[],function(){}),csui.define("xecmpf/widgets/dossier/impl/documentslistitem/documentslistitem.view",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","conws/models/favorite.model","xecmpf/utils/document.thumbnail/document.thumbnail.view","xecmpf/widgets/dossier/impl/documentslistitem/impl/metadata.model","xecmpf/widgets/dossier/impl/documentslistitem/impl/metadata.view","csui/behaviors/keyboard.navigation/tabkey.behavior","hbs!xecmpf/widgets/dossier/impl/documentslistitem/impl/documentslistitem","i18n!xecmpf/widgets/dossier/impl/nls/lang","css!xecmpf/widgets/dossier/impl/documentslistitem/impl/documentslistitem"],function(e,t,i,n,o,s,a,r,c,l,u){var p;return p=n.ItemView.extend({"tagName":"li","className":"xecmpf-document-list-item","constructor":function(e){e||(e={}),n.ItemView.prototype.constructor.apply(this,arguments),this.favModel=new o({"selected":this.model.get("favorite")},{"connector":this.model.connector,"node":this.model}),this.listenTo(this.favModel,"change:selected",this.render)},"behiours":{"TabKeyRegion":{"behaviorClass":c}},"template":l,"templateHelpers":function(){return{"enableIcon":!0,"hideMetadata":this.options.hideMetadata,"hideFavorite":this.options.hideFavorite,"addFav":u.addFav+this.options.model.get("name"),"removeFav":u.removeFav+this.options.model.get("name")}},"ui":{"thumbnailEL":".xecmpf-document-preview","metadataEl":".document-category-attributes"},"triggers":{"click a.socialFav.selected":"remove:favorite","click a.socialFav.notselected":"add:favorite"},"events":{"keydown a.socialFav.selected":function(e){(13===e.keyCode||32===e.keyCode)&&this.triggerMethod("remove:favorite")},"keydown a.socialFav.notselected":function(e){(13===e.keyCode||32===e.keyCode)&&this.triggerMethod("add:favorite")}},"onRemoveFavorite":function(e){this.favModel.remove(),this.model.set("favorite",!1),this.render()},"onAddFavorite":function(e){this.favModel.add(),this.model.set("favorite",!0),this.render()},"_renderMetadata":function(){var e=this.model.get("metadata_categories");if(!t.isEmpty(e)){var i=new a(void 0,{"data":e,"hideEmptyFields":this.options.hideEmptyFields,"catsAndAttrs":this.options.catsAndAttrs});this._metadataView=new r({"collection":i}),this.ui.metadataEl.html(this._metadataView.render().el)}},"_renderThumbnail":function(){this._documentThumbnailView=new s({"model":this.model,"enableCaption":!0}),this.ui.thumbnailEL.html(this._documentThumbnailView.render().el)},"onRender":function(){this._renderThumbnail(),this.options.hideMetadata!==!0&&this._renderMetadata()},"onBeforeDestroy":function(){this._documentThumbnailView.destroy(),this._metadataView&&this._metadataView.destroy()}})}),csui.define("hbs!xecmpf/widgets/dossier/impl/documentslist/impl/documentslist",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<ul class="xecmpf-document-list-group"></ul>'}});return i.registerPartial("xecmpf_widgets_dossier_impl_documentslist_impl_documentslist",n),n}),csui.define("css!xecmpf/widgets/dossier/impl/documentslist/impl/documentslist",[],function(){}),csui.define("xecmpf/widgets/dossier/impl/documentslist/documentslist.view",["csui/lib/jquery","csui/lib/underscore","csui/lib/backbone","csui/lib/marionette","csui/controls/tile/behaviors/infinite.scrolling.behavior","csui/controls/tile/behaviors/perfect.scrolling.behavior","csui/controls/tile/behaviors/blocking.behavior","csui/controls/tile/tile.view","csui/controls/list/emptylist.view","xecmpf/widgets/dossier/impl/documentslist/impl/documents.model","xecmpf/widgets/dossier/impl/documentslistitem/documentslistitem.view","csui/behaviors/keyboard.navigation/tabkey.behavior","i18n!xecmpf/widgets/dossier/impl/nls/lang","hbs!xecmpf/widgets/dossier/impl/documentslist/impl/documentslist","css!xecmpf/widgets/dossier/impl/documentslist/impl/documentslist"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h){var m,f;return m=n.CompositeView.extend({"className":"list-group-container","constructor":function(e){e||(e={}),n.CompositeView.prototype.constructor.apply(this,arguments)},"template":h,"behaviors":{"PerfectScrolling":{"behaviorClass":s,"suppressScrollX":!0,"scrollYMarginOffset":15},"InfiniteScrolling":{"behaviorClass":o,"content":">ul.xecmpf-document-list-group","fetchMoreItemsThreshold":80}},"childViewContainer":">ul.xecmpf-document-list-group","childView":u,"childViewOptions":function(){return{"context":this.options.context,"workspaceContext":this.options.workspaceContext,"nodeModel":this.options.nodeModel,"hideMetadata":this.options.hideMetadata,"hideEmptyFields":this.options.hideEmptyFields,"hideFavorite":this.options.hideFavorite,"catsAndAttrs":this.options.catsAndAttrs}},"emptyView":c,"emptyViewOptions":{"text":d.emptyListText||"No documents."},"onRender":function(){this.$el.one("mouseenter",e.proxy(function(){this.triggerMethod("dom:refresh")},this))}}),f=r.extend({"className":function(){var e="xecmpf-documents-tile",i=t.result(r.prototype,"className");return i&&(e+=" "+i),e},"_focusedChild":void 0,"_activeChild":void 0,"constructor":function(e){e||(e={}),r.prototype.constructor.apply(this,arguments),this.childrens=m},"templateHelpers":function(){var e=this.model&&this.model.get("name");return{"title":e,"icon":!1}},"behaviors":{"Blocking":{"behaviorClass":a},"TabKeyRegion":{"behaviorClass":p}},"_accSelector":".thumbnail_not_loaded","currentlyFocusedElement":function(){return this.$(this._accSelector)},"getActiveChild":function(){return this._activeChild},"toggleFocus":function(e){this.ui.listItem.prop("tabindex",e===!0?"0":"-1"),e&&this.ui.listItem.focus()},"contentView":m,"contentViewOptions":function(){var e=t.extend(this.options.model&&this.options.model.get("query_params"),{"metadata_categories":this.options.metadata_categories}),i=this.options.model&&this.options.model.get("documents"),n=this.options.model&&this.options.model.get("paging"),o=new l(i,{"nodeModel":this.options.nodeModel,"query":e,"paging":n});return this.listenTo(o,"request",this.blockActions).listenTo(o,"sync",this.unblockActions).listenTo(o,"error",this.unblockActions),{"collection":o,"context":this.options.context,"workspaceContext":this.options.workspaceContext,"nodeModel":this.options.nodeModel,"hideMetadata":this.options.hideMetadata,"hideEmptyFields":this.options.hideEmptyFields,"hideFavorite":this.options.hideFavorite,"catsAndAttrs":this.options.catsAndAttrs}},"_renderTileProperties":function(){var t,i,n=this.model&&this.model.get("paging").total_count||"0";this.$docsCountEl=e("<span></span>").addClass("count docs-count").text(n),i=e("<span></span>").addClass("count-label").text(d.documentsLabel||"document(s)"),t=e("<div></div>").addClass("tile-properties").append(this.$docsCountEl).append(i),this.$(">.tile-header").append(t)},"onRender":function(){this._renderTileProperties()},"onBeforeShow":function(){this.listenTo(this.contentView,"execute:defaultAction",function(e){this.triggerMethod("execute:defaultAction",e)})}})}),csui.define("hbs!xecmpf/controls/dropdown/impl/dropdownitem",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<a href="#" tabindex="-1">'+this.escapeExpression((o=null!=(o=t.name||(null!=e?e.name:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"name","hash":{}}):o))+"</a>"}});return i.registerPartial("xecmpf_controls_dropdown_impl_dropdownitem",n),n}),csui.define("xecmpf/controls/dropdown/dropdownitem.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","hbs!xecmpf/controls/dropdown/impl/dropdownitem"],function(e,t,i,n,o){var s;return s=n.ItemView.extend({"className":"dropdown-menu-item","tagName":"li","constructor":function(e){n.ItemView.prototype.constructor.apply(this,arguments)},"template":o,"triggers":{"click":"click:item"},"modelEvents":{"change":"render"}})}),csui.define("hbs!xecmpf/controls/dropdown/impl/dropdown",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<a class="binf-dropdown-toggle csui-acc-focusable" role="button"\r\n        data-binf-toggle="dropdown" aria-expanded="false" tabindex="-1">\r\n  <span class="dropdown-label">'+this.escapeExpression((o=null!=(o=t.dropdownLabel||(null!=e?e.dropdownLabel:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"dropdownLabel","hash":{}}):o))+'</span>\r\n  <span class="csui-button-icon icon-expandArrowDown"></span>\r\n</a>\r\n<ul class="binf-dropdown-menu" role="menu"></ul>\r\n'}});return i.registerPartial("xecmpf_controls_dropdown_impl_dropdown",n),n}),csui.define("css!xecmpf/controls/dropdown/impl/dropdown",[],function(){}),csui.define("xecmpf/controls/dropdown/dropdown.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/lib/binf/js/binf","xecmpf/controls/dropdown/dropdownitem.view","hbs!xecmpf/controls/dropdown/impl/dropdown","css!xecmpf/controls/dropdown/impl/dropdown"],function(e,t,i,n,o,s,a,r){var c;return c=n.CompositeView.extend({"className":"xecmpf-dropdown binf-dropdown","constructor":function(e){e||(e={}),n.CompositeView.prototype.constructor.apply(this,arguments),this.label=this.options.label},"template":a,"templateHelpers":function(){return{"dropdownLabel":this.label||"Dropdown"}},"ui":{"control":".binf-dropdown-toggle","label":".dropdown-label"},"childView":s,"childViewContainer":"ul.binf-dropdown-menu","childEvents":{"render":"onRenderChild","click:item":"onClickItem"},"onRenderChild":function(e){var t=e.model;t.get("active")===!0&&(e.$el.addClass("binf-active").siblings().removeClass("binf-active"),this.currModel=t),t.get("hide")===!0&&e.$el.addClass("binf-hidden")},"onClickItem":function(e){if(!e.$el.hasClass("binf-active")){var t=e.model,i={"currModel":this.currModel,"newModel":t};this.triggerMethod("change:dropdown:item",i),i.change!==!1&&(e.$el.addClass("binf-active").siblings().removeClass("binf-active"),this.currModel=t),this.hideDropdownMenu()}},"showDropdownMenu":function(){this.$el.addClass("binf-open"),this.ui.control.attr("aria-expanded",!0)},"hideDropdownMenu":function(){this.$el.removeClass("binf-open"),this.ui.control.attr("aria-expanded",!1)},"updateLabel":function(e){e&&"string"==typeof e&&this.ui.label.text(e)},"setModelActive":function(e){e instanceof i.Model&&(e.unset("active",{"silent":!0}),e.set("active",!0))},"setModelHide":function(e){e instanceof i.Model&&(e.unset("hide",{"silent":!0}),e.set("hide",!0))},"onRender":function(){this.ui.control.binf_dropdown()}})}),csui.define("xecmpf/widgets/dossier/impl/dropdown.items",["module","csui/lib/backbone","i18n!xecmpf/widgets/dossier/impl/nls/lang"],function(e,t,i){var n,o,s,a=e.config();return n=t.Model.extend({"idAttribute":"value","defaults":{"value":null,"name":null,"sequence":0}}),o=t.Collection.extend({"model":n,"comparator":"sequence","getItemValues":function(){return this.pluck("value")},"deepClone":function(){return new o(this.map(function(e){return e.attributes}))}}),s=new o([{"value":"classification","name":a.groupByDocumentType?i.documentTypeLabel:i.classificationLabel,"sequence":10},{"value":"create_date","name":i.createDateLabel,"sequence":20}])}),csui.define("css!xecmpf/widgets/dossier/impl/dossier",[],function(){}),csui.define("xecmpf/widgets/dossier/dossier.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/utils/contexts/factories/node","conws/models/workspacecontext/workspacecontext.factory","xecmpf/widgets/dossier/impl/dossier.factory","csui/controls/tile/behaviors/blocking.behavior","csui/behaviors/limiting/limiting.behavior","csui/controls/tile/behaviors/perfect.scrolling.behavior","xecmpf/behaviors/scroll.controls/scroll.controls.behavior","csui/controls/list/behaviors/list.view.keyboard.behavior","csui/dialogs/modal.alert/modal.alert","csui/controls/list/list.view","xecmpf/widgets/dossier/impl/documentslist/documentslist.view","xecmpf/controls/dropdown/dropdown.view","xecmpf/widgets/dossier/impl/dropdown.items","csui/behaviors/keyboard.navigation/tabkey.behavior","i18n!xecmpf/widgets/dossier/impl/nls/lang","css!xecmpf/widgets/dossier/impl/dossier"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g,b,v){var w;return w=h.extend({"id":"xecmpf-dossier","constructor":function(t){if(t||(t={}),t=t.data?e.extend(t,t.data):t,!t.workspaceContext){if(!t.context)throw new Error("Context is missing in the constructor options!");t.workspaceContext=t.context.getObject(s)}t.workspaceContext.setWorkspaceSpecific(a),h.prototype.constructor.apply(this,arguments),this.listenTo(this.completeCollection,"request",this.blockActions).listenTo(this.completeCollection,"error",this.unblockActions).listenTo(this.completeCollection,"sync",this.onCompleteCollectionSync),this.synced=!1},"templateHelpers":function(){return{"icon":void 0,"title":void 0,"searchPlaceholder":v.searchPlaceholder}},"events":{'focus span[title="Search"]':function(){var e=this.$el.find(".xecmpf-dropdown");e.removeClass("binf-open")},"keydown .clearer":function(){var e=this.$(".search");e.val(""),e.focus(),this.filterChanged()},"keydown li.dropdown-menu-item":function(){if(13===event.keyCode||32===event.keyCode){t(".dropdown-menu-item").click();var e=this.$el.find(".xecmpf-dropdown");e.removeClass("binf-open")}},"keydown .dossier-dropdown":"getDossierViewFilter",'keydown .tile-header span[title="Search"]':function(e){(13===e.keyCode||32===e.keyCode)&&t('.tile-header span[title="Search"]').click()},'keydown .tile-header input[class="search"]':function(e){27===e.keyCode&&(t('.tile-header span[title="Hide"]').click(),t('.tile-header span[title="Hide"]').focus())}},"behaviors":{"LimitedList":{"behaviorClass":c,"limit":void 0,"completeCollection":function(){return this.nodeModel=this.options.workspaceContext.getObject(o),this.groupBy=this.options.groupBy,function(e,t){if(e||(e=[]),t.metadata_categories="",t.catsAndAttrs=[],e.length>0){var i="",n=[];e.forEach(function(e){e.attributeId?(i+=e.categoryId+",",n.push(e.categoryId+"_"+e.attributeId)):e.categoryId&&(i+=e.categoryId+",",n.push(e.categoryId))}),t.metadata_categories=i.substr(0,i.length-1),t.catsAndAttrs=n}}(this.options.metadata,this),this.options.workspaceContext.getCollection(a,{"options":{"nodeModel":this.nodeModel,"query":{"group_by":this.groupBy,"metadata_categories":this.metadata_categories}}})}},"PerfectScrolling":{"behaviorClass":l,"scrollingDisabled":!0},"ScrollControls":{"behaviorClass":u,"controlsContainer":">.tile-content","contentParent":">.tile-content>.binf-list-group","animateDuration":500,"scrollableWidth":function(){var e=this.$(">.tile-content").innerWidth(),t=this.$(">.tile-content>.binf-list-group>.tile").outerWidth(!0),i=Math.floor(e/t),n=i*t||t;return n},"leftControlIconClass":"caret-left","rightControlIconClass":"caret-right"},"Blocking":{"behaviorClass":r},"TabKeyRegion":{"behaviorClass":b}},"getDossierViewFilter":function(e){switch(e.keyCode){case 13:case 32:var t=this.$el.find(".xecmpf-dropdown");t.hasClass("binf-open")?t.removeClass("binf-open"):t.addClass("binf-open")}},"childView":m,"childViewOptions":function(){return{"context":this.options.context,"workspaceContext":this.options.workspaceContext,"nodeModel":this.nodeModel,"hideMetadata":this.options.hideMetadata,"hideEmptyFields":this.options.hideEmptyFields,"metadata_categories":this.metadata_categories,"hideFavorite":this.options.hideFavorite,"catsAndAttrs":this.catsAndAttrs}},"onRenderTemplate":function(){this.options.hideGroupByCriterionDropdown!==!0&&this._renderGroupByDropdownView(),this._renderDossierProperties()},"onRenderCollection":function(){this.triggerMethod("update:scroll:controls")},"onCompleteCollectionSync":function(){this.synced=!0,this._updateDossierProperties(),this.unblockActions()},"isEmpty":function(){return this.synced===!0&&0===this.collection.models.length},"emptyViewOptions":{"text":v.emptyListText||"No documents."},"_renderGroupByDropdownView":function(){var e=t("<div></div>").addClass("dossier-dropdown-wrapper"),i=t("<span></span>").addClass("dossier-dropdown-label").text(v.groupByLabel),o=t("<div></div>").addClass("dossier-dropdown");e.append(i).append(o),this.$(">.tile-header>.tile-controls").prepend(e);var s=new n.Region({"el":o});this.groupBydropdownView=new f({"label":this._getGroupByDropdownLabel(g),"collection":g}),this.listenTo(this.groupBydropdownView,"change:dropdown:item",function(e){var t=e.newModel.get("value"),i=this;this.synced=!1,this.completeCollection.fetch({"query":{"group_by":t,"metadata_categories":this.metadata_categories}}).done(function(n,o,s){i.groupBy=t,i.groupBydropdownView.updateLabel(i._getGroupByDropdownLabel(e.newModel));var a=i.$(">.tile-content>.binf-list-group");a.scrollLeft(0),i.triggerMethod("update:scroll:controls"),i._setGroupByDropdownModelActive(i.groupBydropdownView.collection)}).fail(function(t,n,o){var s=t.responseJSON?t.responseJSON.error:"Internal Server Error!";d.showError(s).always(function(){i._setGroupByDropdownModelActive(e.currModel)})})}),s.show(this.groupBydropdownView),this._setGroupByDropdownModelActive(g)},"_getGroupByDropdownLabel":function(e){var t,n=" ";return e instanceof i.Model?t=e:e instanceof i.Collection&&(t=this._getGroupByDropdownActiveModel(e)),t&&(n+=t.get("name")),n},"_getGroupByDropdownActiveModel":function(e){return e instanceof i.Collection?e.find(t.proxy(function(e){return e.get("value")===this.groupBy},this)):void 0},"_setGroupByDropdownModelActive":function(e){var t;e instanceof i.Model?t=e:e instanceof i.Collection&&(t=this._getGroupByDropdownActiveModel(e)),t&&this.groupBydropdownView.setModelActive(t)},"_renderDossierProperties":function(){var e,i,n,o=this.completeCollection.length||"0",s=this.completeCollection.total_documents||"0";this.$tilesCountEl=t("<span></span>").addClass("count tiles-count").text(o),i=t("<span></span>").addClass("count-label").text(v.tilesLabel||"group(s)"),this.$docsCountEl=t("<span></span>").addClass("count docs-count").text(s),n=t("<span></span>").addClass("count-label").text(v.documentsLabel||"document(s)"),e=t("<div></div>").addClass("dossier-properties").append(this.$tilesCountEl).append(i).append(this.$docsCountEl).append(n);var a=this.$(".dossier-dropdown .csui-acc-focusable").get(0);a.setAttribute("tabindex","0");var r,c=this.groupBy;r="create_date"===c?v.selectByClassificationLabel:v.selectByCreatedateLabel,a.setAttribute("aria-label",r),this.$(">.tile-header>.tile-title").remove(),this.$(">.tile-header").prepend(e);var l=this.$('>.tile-header span[title="Search"]');t(l).addClass("csui-acc-focusable"),t(l).attr("tabindex","0")},"_updateDossierProperties":function(){var t=e.filter(this.completeCollection.models,function(e){return e.attributes.documents}),i=t.length,n=this.completeCollection.total_documents;this.$tilesCountEl.text(i),this.$docsCountEl.text(n)}})}),csui.define("xecmpf/models/eac/eventactionplans.factory",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/node","xecmpf/models/eac/eventactionplans.model"],function(e,t,i,n,o,s){var a=n.extend({"propertyPrefix":"EACEventActionPlans","constructor":function(a,r){n.prototype.constructor.apply(this,arguments);var c=this.options.EACEventActionPlans||{};if(!(c instanceof i.Collection)){var l=a.getModel(o,r),u=e.config();c=new s(c.models,t.extend({"node":l,"connector":l.connector,"extSysTypes":r.extSysTypes},c.options,u.options,{"autofetch":!0}))}this.property=c},"fetch":function(e){return this.property.fetch(e)}});return a}),csui.define("xecmpf/models/eac/nodefacets.model",["csui/lib/underscore","csui/utils/url","csui/models/facets","csui/models/mixins/node.resource/node.resource.mixin","csui/models/node.facets/server.adaptor.mixin","csui/utils/deepClone/deepClone"],function(e,t,i,n,o){
"use strict";var s=i.extend({"constructor":function(e,t){i.prototype.constructor.apply(this,arguments),this.makeNodeResource(t).makeServerAdaptor(t)},"clone":function(){return new this.constructor(this.models,{"node":this.node,"filters":e.deepClone(this.filters)})}});return n.mixin(s.prototype),o.mixin(s.prototype),s.prototype.url=function(){var e=(this.node.get("id"),this.getFilterQuery(this.filters)),i=t.combine(this.connector.connection.url,"eventactioncenter","/facets").replace("/v1","/v2");return e&&(i+="?"+e),i},s}),csui.define("xecmpf/models/eac/node.facet.factory",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/node","xecmpf/models/eac/nodefacets.model"],function(e,t,i,n,o,s){var a=n.extend({"propertyPrefix":"eacfacets","constructor":function(a,r){n.prototype.constructor.apply(this,arguments);var c=this.options.eacfacets||{};if(!(c instanceof i.Collection)){var l=c.options&&c.options.node||a.getModel(o,r),u=e.config();c=new s(c.models,t.defaults(u.options,c.options,{"autoreset":!0},{"node":l}))}this.property=c},"fetch":function(e){return this.property.fetch(e)}});return a}),csui.define("xecmpf/widgets/eac/impl/eac.table.columns",["csui/lib/underscore","csui/lib/backbone","i18n!xecmpf/widgets/eac/impl/nls/lang"],function(e,t,i){"use strict";var n=t.Model.extend({"idAttribute":"key","defaults":{"key":null,"sequence":0}}),o=t.Collection.extend({"model":n,"comparator":"sequence","getColumnKeys":function(){return this.pluck("key")},"deepClone":function(){return new o(this.map(function(e){return e.attributes}))},"resetCollection":function(i,o){if(i){var s=0,a=e.map(i,function(i){var o=i instanceof t.Model?i.toJSON():i;return s+=10,new n(e.defaults(o,{"key":o.column_key,"sequence":s}))});this.reset(a,o)}}}),s=new o([{"key":"event_name","title":i.columnEventName,"sequence":10,"permanentColumn":!0},{"key":"namespace","title":i.columnSystemName,"sequence":20,"permanentColumn":!0},{"key":"action_plan","title":i.columnActionPlan,"sequence":30,"permanentColumn":!0}]);return s}),csui.define("xecmpf/widgets/eac/impl/toolbaritems",["csui/controls/toolbar/toolitems.factory","i18n!xecmpf/widgets/eac/impl/nls/lang","css!xecmpf/widgets/eac/impl/eac"],function(e,t){var i={"leftToolbar":{"OtherToolbar":new e({"main":[{"signature":"EACBack","name":t.ToolbarItemBack,"toolItemAria":t.ToolbarItemBackAria,"icon":"icon icon-arrowBack"},{"signature":"Filter","name":t.ToolbarItemFilter,"icon":"icon icon-toolbarFilter","toolItemAria":t.ToolbarItemFilterAria,"toolItemAriaExpand":!1}]})},"rightToolbar":{"OtherToolbar":new e({"main":[{"signature":"EACRefresh","name":t.ToolbarItemRefresh,"icon":"icon icon-refresh","toolItemAria":t.ToolbarItemRefreshAria,"commandData":{"useContainer":!0}}]})}};return i}),csui.define("hbs!xecmpf/widgets/eac/impl/eac",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div id="xecmpf-eac-toolbar"></div>\r\n<div id="xecmpf-eac-facet-table-container">\r\n  <div id="xecmpf-eac-facet" class="csui-table-facetview csui-facetview-hidden csui-facetview-visibility"></div>\r\n  <div class="csui-outertablecontainer">\r\n    <div id="xecmpf-eac-table-container">\r\n      <div id="xecmpf-eac-facet-bar"></div>\r\n      <div id="xecmpf-eac-table-contents"></div>\r\n      <div id="xecmpf-eac-pagination"></div>\r\n    </div>\r\n  </div>\r\n</div>'}});return i.registerPartial("xecmpf_widgets_eac_impl_eac",n),n}),csui.define("xecmpf/widgets/eac/eac.view",["require","module","csui/lib/underscore","csui/lib/marionette","csui/utils/contexts/factories/connector","csui/utils/contexts/factories/node","csui/controls/progressblocker/blocker","csui/controls/table/table.view","xecmpf/models/eac/eventactionplans.factory","xecmpf/models/eac/node.facet.factory","csui/controls/facet.bar/facet.bar.view","xecmpf/controls/dialogheader/dialogheader.view","xecmpf/controls/title/title.view","xecmpf/widgets/eac/impl/eac.table.columns","xecmpf/controls/headertoolbar/headertoolbar.view","xecmpf/widgets/eac/impl/toolbaritems","csui/utils/commands","csui/controls/facet.panel/facet.panel.view","csui/utils/contexts/factories/node","xecmpf/models/eac/eventactionplans.model","csui/controls/toolbar/toolbar.command.controller","csui/behaviors/keyboard.navigation/tabkey.behavior","hbs!xecmpf/widgets/eac/impl/eac","i18n!xecmpf/widgets/eac/impl/nls/lang","css!xecmpf/widgets/eac/impl/eac"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m,f,g,b,v,w,y,x,_,k){function C(e){return e.$el.is(":visible")?void e.success():(e.count||(e.count="noLimit"),e.interval||(e.interval=200),void setTimeout(function(){0===e.count?void 0!==e.error&&e.error():("number"==typeof e.count&&e.count--,C(e))},e.interval))}var S=t.config();i.defaults(S,{"defaultPageSize":30});var V=n.LayoutView.extend({"className":"xecmpf-eac csui-nodestable","template":_,"ui":{"facetView":".csui-table-facetview"},"regions":{"toolbarRegion":"#xecmpf-eac-toolbar","facetRegion":"#xecmpf-eac-facet","facetBarRegion":"#xecmpf-eac-facet-bar","tableRegion":"#xecmpf-eac-table-contents","paginationRegion":"#xecmpf-eac-pagination"},"events":{'click li[data-csui-command="eacback"]':function(e){history.state&&history.back()}},"behaviors":{"TabKeyRegion":{"behaviorClass":x}},"constructor":function(e){if(e||(e={}),e=e.data?i.extend(e,e.data):e,i.defaults(e,{"pageSize":S.defaultPageSize}),!e.context)throw new Error("Context is missing in the constructor options");a.imbue(this),n.LayoutView.prototype.constructor.apply(this,arguments),this.connector=e.connector||e.context.getObject(o)},"initialize":function(e){this.node=e.context.getModel(s,e),this.collection=e.context.getCollection(c,e),this.commands=e.commands||g,this.commandController=new y({"commands":this.commands}),this.listenTo(this.commandController,"after:execute:command",this._toolbarActionTriggered),this.setHeaderView(),this.setFacetView(),this.setFacetBarView(),this.setTableView()},"setFacetView":function(){this.facetFilters=this.options.facetFilters||this.options.context.getCollection(l,{"options":{"node":this.node},"attributes":this.options.data.containerId?{"id":this.options.data.containerId}:void 0,"detached":!0}),this.listenToOnce(this.options.context,"request",function(){this.facetFilters.fetch()}),this.facetView=new b({"collection":this.facetFilters,"blockingLocal":!0}),this.listenTo(this.facetView,{"remove:filter":this._removeFacetFilter,"remove:all":this._removeAll,"apply:filter":this._addToFacetFilter,"apply:all":this._setFacetFilter})},"setFacetBarView":function(){this.facetBarView=new u({"collection":this.facetFilters,"context":this.options.context,"showSaveFilter":!1}),this.listenTo(this.facetBarView,"remove:filter",this._removeFacetFilter).listenTo(this.facetBarView,"remove:all",this._removeAll).listenTo(this.facetBarView,"facet:bar:visible",this._handleFacetBarVisible).listenTo(this.facetBarView,"facet:bar:hidden",this._handleFacetBarHidden)},"setHeaderView":function(){var e=new m({"commands":g,"originatingView":this,"context":this.options.context,"collection":this.collection,"toolbarItems":f.leftToolbar,"container":this.node,"commandController":this.commandController}),t=new d({"title":k.dialogTitle}),i=new m({"commands":g,"originatingView":this,"context":this.options.context,"collection":this.collection,"toolbarItems":f.rightToolbar,"container":this.node,"commandController":this.commandController});this.headerView=new p({"leftView":e,"centerView":t,"hideDialogClose":!0,"rightView":i})},"setTableView":function(){this.tableView=new r({"context":this.options.context,"connector":this.connector,"collection":this.collection,"columns":this.collection.columns,"tableColumns":h.clone(),"pageSize":this.options.pageSize,"originatingView":this,"columnsWithSearch":["event_name"],"orderBy":this.options.data.orderBy||this.options.orderBy||"event_name desc","blockingParentView":this,"parentView":this,"selectColumn":!1,"selectRows":"none","tableTexts":{"zeroRecords":k.emptyTableText||"No results found"},"haveToggleAllDetailsRows":!1,"haveDetailsRowExpandCollapseColumn":!1})},"onRender":function(){if(!history.state){var e=this.$el.find('li[data-csui-command="eacback"]');e.css({"display":"none"})}this.listenTo(this.collection,"sync",function(){this.setTableView(),this.showChildView("tableRegion",this.tableView),this.showChildView("toolbarRegion",this.headerView),this.showChildView("facetRegion",this.facetView),this.showChildView("facetBarRegion",this.facetBarView);var e=this;C({"$el":e.tableView.$el,"success":function(){e.tableView.triggerMethod("dom:refresh")}})})},"_handleFacetBarVisible":function(){this.facetBarView.$el.find("#xecmpf-eac-facet-bar .csui-facet-list-bar .csui-facet-item:last a").focus()},"_handleFacetBarHidden":function(){},"_setFacetPanelView":function(){this.facetView=new b({"collection":this.facetFilters,"blockingLocal":!0}),this.listenTo(this.facetView,{"remove:filter":this._removeFacetFilter,"remove:all":this._removeAll,"apply:filter":this._addToFacetFilter,"apply:all":this._setFacetFilter})},"_filterArray":function(e){return e.reduce(function(e,t){var i=t.split(":");return e[i[0]]=i[1].split("|"),e},{})},"_addToFacetFilter":function(e){this.facetFilters.addFilter(e);var t=this.facetFilters.getFilterQueryValue();this.collection.setFilter(this._filterArray(t))},"_setFacetFilter":function(e){this.facetFilters.setFilter(e);var t=this.facetFilters.getFilterQueryValue();this.collection.setFilter(this._filterArray(t))},"_removeFacetFilter":function(e){this.facetFilters.removeFilter(e);var t=this.facetFilters.getFilterQueryValue();0===t.length?this._removeAll():this.collection.setFilter(this._filterArray(t))},"_removeAll":function(){this.facetFilters.clearFilter(),this.collection.reset(this.collection.allModels)},"_toolbarActionTriggered":function(e){switch(e.commandSignature){case"EACBack":break;case"Filter":this._completeFilterCommand();break;case"EACRefresh":var t=this,n=t.options.context.getModel(v,t.options);t.options.collection=new w([],i.extend({"connector":n.connector,"node":n})),t.options.collection.fetch(),this.listenTo(t.options.collection,"sync",function(){t.tableView.collection=t.options.collection,t.tableView.triggerMethod("dom:refresh"),t._removeAll()})}},"_transitionEnd":i.once(function(){var e,t={"transition":"transitionend","WebkitTransition":"webkitTransitionEnd","MozTransition":"transitionend","OTransition":"oTransitionEnd otransitionend"},i=document.createElement("div");for(e in t)if("undefined"!=typeof i.style[e])return t[e]}),"_completeFilterCommand":function(){var e=this;this.showFilter=!this.showFilter,this.showFilter?(this._ensureFacetPanelViewDisplayed(),this.ui.facetView.removeClass("csui-facetview-visibility"),this.ui.facetView.one(this._transitionEnd(),function(){e.tableView.triggerMethod("dom:refresh")}).removeClass("csui-facetview-hidden")):this.ui.facetView.one(this._transitionEnd(),function(){e.tableView.triggerMethod("dom:refresh"),e.ui.facetView.hasClass("csui-facetview-hidden")&&e.ui.facetView.addClass("csui-facetview-visibility"),e._removeFacetPanelView()}).addClass("csui-facetview-hidden")},"_ensureFacetPanelViewDisplayed":function(){void 0===this.facetView&&(this._setFacetPanelView(),this.facetRegion.show(this.facetView))},"_removeFacetPanelView":function(){this.facetRegion.empty(),this.facetView=void 0}});return V}),csui.define("hbs!xecmpf/widgets/header/impl/displayUrl/impl/displayUrlItem",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){var o,s;return'  <a class="xecmpf-displayUrl-icon conws-quick_link '+(null!=(o=t["if"].call(e,null!=e?e.displayUrlError:e,{"name":"if","hash":{},"fn":this.program(2,n,0),"inverse":this.noop}))?o:"")+'" title="'+this.escapeExpression((s=null!=(s=t.displayUrlTooltip||(null!=e?e.displayUrlTooltip:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"displayUrlTooltip","hash":{}}):s))+'"\r\n     aria-label="'+this.escapeExpression((s=null!=(s=t.ariaLabelBusApplText||(null!=e?e.ariaLabelBusApplText:e))?s:t.helperMissing,"function"==typeof s?s.call(e,{"name":"ariaLabelBusApplText","hash":{}}):s))+'" '+(null!=(o=t["if"].call(e,null!=e?e.displayUrlError:e,{"name":"if","hash":{},"fn":this.program(4,n,0),"inverse":this.program(6,n,0)}))?o:"")+"></a>\r\n"},"2":function(e,t,i,n){return"\r\n    xecmpf-displayUrl-error "},"4":function(e,t,i,n){return'  href="#"  '},"6":function(e,t,i,n){var o;return'\r\n     href="'+this.escapeExpression((o=null!=(o=t.displayUrl||(null!=e?e.displayUrl:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"displayUrl","hash":{}}):o))+'" target="_blank"'},"8":function(e,t,i,n){var o;return'  <button class="xecmpf-displayUrl-icon conws-quick_link binf-btn binf-btn-default"\r\n          aria-label="'+this.escapeExpression((o=null!=(o=t.ariaLabelBusApplText||(null!=e?e.ariaLabelBusApplText:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"ariaLabelBusApplText","hash":{}}):o))+'"></button>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,null!=e?e.displayUrl:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.program(8,n,0)}))?o:""}});return i.registerPartial("xecmpf_widgets_header_impl_displayUrl_impl_displayUrlItem",n),n}),csui.define("hbs!xecmpf/widgets/header/impl/displayUrl/impl/displayUrl",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"1":function(e,t,i,n){return'  <div id="displayUrl-check"></div>\r\n'},"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return null!=(o=t["if"].call(e,null!=e?e.bDisplayUrl:e,{"name":"if","hash":{},"fn":this.program(1,n,0),"inverse":this.noop}))?o:""}});return i.registerPartial("xecmpf_widgets_header_impl_displayUrl_impl_displayUrl",n),n}),csui.define("xecmpf/widgets/header/impl/displayUrl/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/header/impl/displayUrl/impl/nls/root/lang",{"displayUrlTooltip":"Business application","displayUrlTitle":"Business applications","ariaLabelBusApplText":"Go to business application"}),csui.define("css!xecmpf/widgets/header/impl/displayUrl/impl/displayUrl",[],function(){}),csui.define("xecmpf/widgets/header/impl/displayUrl/displayUrl.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/dialogs/modal.alert/modal.alert","xecmpf/widgets/header/impl/previewpane/previewpane.view","hbs!xecmpf/widgets/header/impl/displayUrl/impl/displayUrlItem","hbs!xecmpf/widgets/header/impl/displayUrl/impl/displayUrl","i18n!xecmpf/widgets/header/impl/displayUrl/impl/nls/lang","css!xecmpf/widgets/header/impl/displayUrl/impl/displayUrl"],function(e,t,i,n,o,s,a,r,c){var l=n.ItemView.extend({"className":"xecmpf-displayUrl-item","constructor":function(e){e||(e={}),this.options=e,n.ItemView.prototype.constructor.apply(this,arguments),this.listenTo(this.options.collection,"change",this.render),this.options&&this.options.preview&&e.collection.length>1&&(this.previewPane=new s({"parent":this,"config":{"debug":!0},"collection":e.collection,"headerTitle":c.displayUrlTitle,"headerColor":e.headerColor}))},"events":{"click .xecmpf-displayUrl-error":"showError"},"template":a,"templateHelpers":function(){var e=1===this.options.collection.length?this.options.collection.models[0].get("displayUrl"):!1,t=1===this.options.collection.length?this.options.collection.models[0].get("displayUrlError"):"",i=c.ariaLabelBusApplText+(e?" "+this.options.collection.models[0].get("external_system_name"):""),n=e?c.displayUrlTooltip:"";return{"ariaLabelBusApplText":i,"displayUrlTooltip":n,"displayUrl":e,"displayUrlError":t}},"onBeforeDestroy":function(){this.previewPane&&(this.previewPane.destroy(),delete this.previewPane)},"showError":function(){o.showError(this.options.collection.models[0].get("displayUrlError"))}}),u=n.LayoutView.extend({"className":"xecmpf-displayUrlcheck","constructor":function(e){e||(e={}),this.model=e.model,this.options.headerColor="xecmpf-displayUrl-header-background",n.LayoutView.prototype.constructor.apply(this,arguments)},"template":r,"templateHelpers":function(){var e=this.model.display_urls&&this.model.display_urls.length>0?!0:!1;return{"bDisplayUrl":e}},"regions":{"displayUrlRegion":"#displayUrl-check"},"onRender":function(){var t;if(this.model.display_urls&&this.model.display_urls.length>=1){var n=e.map(this.model.display_urls,function(e){var t=e.business_object_type_name+" ("+e.external_system_name+")";return{"name":t,"displayUrl":e.displayUrl,"external_system_name":e.external_system_name,"displayUrlError":e.errMsg}});t=new i.Collection,t.add(n),this.displayUrlRegion.show(new l({"collection":t,"preview":{"debug":!0},"headerColor":this.options.headerColor}))}}});return u}),csui.define("xecmpf/widgets/header/impl/nls/header.lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/header/impl/nls/root/header.lang",{"noMetadataMessage":"No metadata to display."}),csui.define("xecmpf/widgets/header/impl/metadata.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/lib/handlebars","csui/controls/list/emptylist.view","csui/controls/tile/behaviors/perfect.scrolling.behavior","conws/models/workspacecontext/workspacecontext.factory","conws/models/selectedmetadataform/selectedmetadataform.factory","conws/controls/selectedmetadataform/selectedmetadataform.view","i18n!xecmpf/widgets/header/impl/nls/header.lang"],function(e,t,i,n,o,s,a,r,c,l){var u=i.ItemView.extend({"className":"xecmpf-form-metadata","attributes":{"style":"height: 100%"},"template":!1,"constructor":function(e){if(e||(e={}),!e.context)throw new Error("Context is missing in the constructor options");e.workspaceContext||(e.workspaceContext=e.context.getObject(a)),e.workspaceContext.setWorkspaceSpecific(r),e.model=e.workspaceContext.getObject(r,{"metadataConfig":e.data,"unique":!0}),this.noMetadataMessage=l.noMetadataMessage,i.ItemView.prototype.constructor.call(this,e),this.listenTo(e.model,"change",this.render)},"behaviors":{"PerfectScrolling":{"behaviorClass":s,"contentParent":this.$el,"suppressScrollX":!0,"scrollYMarginOffset":15}},"onRender":function(){if(this.formRegion=new i.Region({"el":this.$el}),e.isEmpty(this.model.attributes.data))this.formView=new o({"text":this.noMetadataMessage}),this.formRegion.show(this.formView);else{var t=this.model.attributes.data,n=this.options.data.colOptions,s=this.model.attributes.options.fields;e.each(e.keys(t),function(i){"null"===t[i]&&(t=e.omit(t,i),s[i].hidden=!0)}),this.model.attributes.data=t,this.model.attributes.options.fields=s,this.formView=new c({"model":this.model,"context":this.options.context,"layoutMode":n&&"singleCol"===n?n:"doubleCol"}),this.formRegion.show(this.formView)}this.listenTo(this.formView,"render:form",function(){this.triggerMethod("dom:refresh")})}});return u}),csui.define("css!xecmpf/widgets/header/impl/header",[],function(){}),csui.define("xecmpf/widgets/header/header.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/lib/handlebars","conws/widgets/header/header.view","conws/models/selectedmetadataform/selectedmetadataform.factory","xecmpf/widgets/header/impl/completenesscheck/completenesscheck.view","xecmpf/widgets/header/impl/displayUrl/displayUrl.view","esoc/widgets/activityfeedwidget/activityfeedfactory","esoc/widgets/activityfeedwidget/activityfeedcontent","xecmpf/widgets/header/impl/metadata.view","csui/behaviors/keyboard.navigation/tabkey.behavior","xecmpf/widgets/header/headertoolbaritems","css!xecmpf/widgets/header/impl/header"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h){var m={"activityfeedwidget":"esoc/widgets/activityfeedwidget"},f=e.config(),g=s.extend({"id":"xecmpf-header","constructor":function(e){e||(e={}),e.data||(e.data={}),e.data.widget||(e.data.widget={}),e.data.widget.type||(e.data.widget.type="metadata"),e.hideToolbar=!!f.hideToolbar,e.hideActivityFeed=!!f.hideActivityFeed,e.hideMetadata=!!f.hideMetadata||!(e.data.metadataSettings&&e.data.metadataSettings.metadata&&!e.data.metadataSettings.hideMetadata),e.toolbarBlacklist=[],e.extensionToolbarBlacklist=[];var t=f.toolbarBlacklist;Array.isArray(t)&&t.length>0&&(e.toolbarBlacklist=t);var i=f.extensionToolbarBlacklist;Array.isArray(i)&&i.length>0&&(e.extensionToolbarBlacklist=i),e.data&&e.data.favoriteSettings&&e.data.favoriteSettings.hideFavorite&&(e.toolbarBlacklist.Favorite2||e.toolbarBlacklist.push("Favorite2"),e.extensionToolbarBlacklist.Favorite2||e.extensionToolbarBlacklist.push("Favorite2")),e.extensionToolbarBlacklist.CompletenessCheck||e.extensionToolbarBlacklist.push("CompletenessCheck");var n=e.data.completenessCheckSettings,o={"context":e.context,"workspaceContext":e.workspaceContext,"hideMissingDocsCheck":n&&n.hideMissingDocsCheck,"hideOutdatedDocsCheck":n&&n.hideOutdatedDocsCheck,"hideInProcessDocsCheck":n&&n.hideInProcessDocsCheck},r=h.rightToolbar.collection;if(r&&r.length>0){var c=r.findWhere({"signature":"CompletenessCheck"});c.set({"commandData":{"viewOptions":o}})}e.cCViewOptions=o,e.headertoolbaritems=h,e.headerExtensionToolbaritems=h,s.prototype.constructor.call(this,e),e.workspaceContext&&(e.workspaceContext.setWorkspaceSpecific(a),e.workspaceContext.setWorkspaceSpecific(l))},"behaviors":{"TabKeyRegion":{"behaviorClass":d}},"initialize":function(e){if(e||(e={}),e.data){var i=e.data.headerwidget&&e.data.headerwidget.type?e.data.headerwidget.type:"metadata";if(this.headerwidgetConfigValue=i,"metadata"===i&&"metadata"===e.data.widget.type&&!this.options.hideMetadata){var n=e.data.metadataSettings,o=this._makeMetadataReadOnly(n.metadata),s={"context":e.context,"workspaceContext":e.workspaceContext,"data":{"hideEmptyFields":n.hideEmptyFields,"metadata":o,"readonly":!0,"colOptions":e.data.metadataSettings.metadataInColumns}};this.metadataView=new p(s)}if("activityfeed"!==this.headerwidgetConfigValue||this.options.hideActivityFeed||(e.data.widget.type=m.activityfeedwidget,e.data.widget.options||(e.data.widget.options={})),!f.pageWidget){var a=t.extend(e.cCViewOptions,{"workspaceContext":e.workspaceContext});a.hideMissingDocsCheck&&a.hideOutdatedDocsCheck&&a.hideInProcessDocsCheck||(this.options.hasMetadataExtension=!0,this.completenessCheckView=new r(a))}var l={"model":this.model,"logging":{"debug":!1}};this.displayUrlView=new c(l)}},"ui":{"completenessCheckRegion":".conws-header-metadata-extension","metadataRegion":"#conws-header-childview","displayUrlRegion":".conws-header-child-displayUrl"},"_makeMetadataReadOnly":function(e){var t=e||[];return t.forEach(function(e){e.readOnly=!0}),t},"onRender":function(e){s.prototype.onRender.apply(this,arguments),this.showChildViews()},"showChildViews":function(){this.completenessCheckView&&(this.completenessCheckRegion=new n.Region({"el":this.ui.completenessCheckRegion}),this.completenessCheckRegion.show(this.completenessCheckView),this.descriptionView&&(this.listenTo(this.descriptionView,"show:more:description",function(){this.toggleCompletenessCheckView(!1)}),this.listenTo(this.descriptionView,"show:less:description",function(){this.toggleCompletenessCheckView(!0)}))),this.metadataView&&(this.metadataRegion=new n.Region({"el":this.ui.metadataRegion}),this.metadataRegion.show(this.metadataView)),this.displayUrlView&&(this.displayUrlRegion=new n.Region({"el":this.ui.displayUrlRegion}),this.displayUrlRegion.show(this.displayUrlView))},"toggleCompletenessCheckView":function(e){e?this.completenessCheckView.$el.removeClass("xecmpf-completenesscheck-hidden").addClass("xecmpf-completenesscheck-shown"):this.completenessCheckView.$el.removeClass("xecmpf-completenesscheck-shown").addClass("xecmpf-completenesscheck-hidden")},"hasChildView":function(){var e=this.options.data&&this.options.data.widget&&this.options.data.widget.type&&"none"!==this.options.data.widget.type;return"activityfeed"===this.headerwidgetConfigValue?!this.options.hideActivityFeed&&e:"metadata"===this.headerwidgetConfigValue?!this.options.hideMetadata&&e:void 0},"onDomRefresh":function(){this.completenessCheckView&&this.toggleCompletenessCheckView(!0),this.descriptionView&&this.descriptionView.ui.readMore.is(":hidden")&&this.descriptionView.ui.showLess.is(":visible")&&(this.descriptionView.ui.showLess.click(),this.currentlyFocusedElement().focus()),this.isTabable()?this.currentlyFocusedElement().attr("tabindex","0"):this.currentlyFocusedElement().attr("tabindex","-1"),this._clampTexts()},"onBeforeDestroy":function(){this.metadataView&&this.metadataView.destroy(),this.displayUrlView&&this.displayUrlView.destroy()}});return g}),csui.define("xecmpf/widgets/scan/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/scan/impl/nls/root/lang",{"title":"Scan barcode","defaultTextForDesktop":"This widget is only supported for mobile UI."}),csui.define("xecmpf/widgets/scan/scan.content.view",["csui/lib/marionette","i18n!xecmpf/widgets/scan/impl/nls/lang"],function(e,t){var i=e.ItemView.extend({"constructor":function(t){e.ItemView.prototype.constructor.call(this,t)},"render":function(){return this.$el.text(t.defaultTextForDesktop),this}});return i}),csui.define("xecmpf/widgets/scan/scan.view",["csui/lib/underscore","csui/controls/tile/tile.view","xecmpf/widgets/scan/scan.content.view","i18n!xecmpf/widgets/scan/impl/nls/lang"],function(e,t,i,n){var o=t.extend({"constructor":function(e){t.prototype.constructor.call(this,e)},"contentView":i,"icon":"title-recentlyaccessed","title":n.title});return o}),csui.define("xecmpf/controls/savedquery.node.picker/impl/search.query.factory",["module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory"],function(e,t,i,n){var o=i.Model.extend({"constructor":function a(e,t){a.__super__.constructor.apply(this,arguments)},"toJSON":function(){return o.__super__.toJSON.apply(this,arguments)}}),s=n.extend({"propertyPrefix":"xecmpfSearchQuery","constructor":function(s,a){n.prototype.constructor.apply(this,arguments);var r=this.options.xecmpfSearchQuery||{};if(!(r instanceof i.Model)){var c=e.config();r=new o(r.models,t.extend({},r.options,c.options))}this.property=r}});return s}),csui.define("xecmpf/controls/savedquery.node.picker/impl/search.results.factory",["require","module","csui/lib/underscore","csui/lib/backbone","csui/utils/contexts/factories/factory","csui/utils/contexts/factories/connector","csui/models/widget/search.results/search.results.model","csui/utils/commands","csui/utils/base"],function(e,t,i,n,o,s,a,r,c){var l=o.extend({"propertyPrefix":"xecmpfSearchResults","constructor":function(e,c){o.prototype.constructor.apply(this,arguments);var l=this.options.xecmpfSearchResults||{};if(!(l instanceof n.Collection)){var u=e.getObject(s,c),p=c.xecmpfSearchResults.query,d=t.config();l=new a(l.models,i.extend({"connector":u,"query":p,"commands":r.getAllSignatures()},l.options,d.options,{"autofetch":!0,"autoreset":!0}))}this.property=l},"isFetchable":function(){return this.property.isFetchable()},"fetch":function(e){this.property.fetch({"success":i.bind(this._onSearchResultsFetched,this,e),"error":i.bind(this._onSearchResultsFailed,this,e)})},"_onSearchResultsFetched":function(e){return!0},"_onSearchResultsFailed":function(e,t,i){var n=new c.RequestErrorMessage(i);csui.require(["csui/dialogs/modal.alert/modal.alert"],function(e){e.showError(n.toString())})}});return l}),csui.define("hbs!xecmpf/controls/savedquery.node.picker/impl/savedquery.form",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){return'<div class="xecmpf-sq-select-container"></div>\r\n<div class="xecmpf-custom-search-container"></div>\r\n'}});return i.registerPartial("xecmpf_controls_savedquery.node.picker_impl_savedquery.form",n),n}),csui.define("xecmpf/controls/savedquery.node.picker/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/controls/savedquery.node.picker/impl/nls/root/lang",{"selectQuery":"Select Search Query"}),csui.define("css!xecmpf/controls/savedquery.node.picker/impl/savedquery.form",[],function(){}),csui.define("xecmpf/controls/savedquery.node.picker/impl/savedquery.form.view",["module","require","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/models/node/node.model","csui/utils/contexts/factories/connector","csui/utils/contexts/factories/children2","csui/behaviors/keyboard.navigation/tabables.behavior","xecmpf/controls/savedquery.node.picker/impl/search.query.factory","csui/models/form","csui/controls/form/form.view","csui/widgets/search.custom/search.custom.view","hbs!xecmpf/controls/savedquery.node.picker/impl/savedquery.form","i18n!xecmpf/controls/savedquery.node.picker/impl/nls/lang","css!xecmpf/controls/savedquery.node.picker/impl/savedquery.form"],function(e,t,i,n,o,s,a,r,c,l,u,p,d,h,m){var f=i.extend({"csSubTypes":{"queryVolume":860,"query":258}},e.config()),g=o.LayoutView.extend({"className":"xecmpf-savedquery-form","template":h,"regions":{"querySelectRegion":".xecmpf-sq-select-container","customSearchRegion":".xecmpf-custom-search-container"},"constructor":function(e){e||(e={}),e.query||(e.query=e.context.getModel(l)),o.LayoutView.prototype.constructor.apply(this,arguments)},"initialize":function(e){this.query=e.query},"setQuerySelectField":function(){var e=n.Deferred();return this._getQueryCollection().then(function(t){var n={};t.each(function(e){n[e.get("name")]=e.get("id")}),this.query.set("query_id",n[i.keys(n)[0]]||"",{"silent":!0});var o=this;this.querySelectForm=new p({"mode":"create","model":new u({"data":{"searchQueryId":this.query.get("query_id")},"schema":{"properties":{"searchQueryId":{"enum":i.values(n)}}},"options":{"fields":{"searchQueryId":{"label":m.selectQuery,"name":"searchQueryId","type":"select","optionLabels":i.keys(n),"removeDefaultNone":!0,"onFieldChange":function(){o.onChangeSavedQuerySelectField(this.getValue())}}}}})}),e.resolve()}.bind(this),e.reject),e},"onChangeSavedQuerySelectField":function(e){this.query.clear({"silent":!0}).set("query_id",e,{"silent":!0}),this.setCustomSearchView().then(function(){this.showChildView("customSearchRegion",this.customSearchView)}.bind(this),function(e){console.error("Unable to set custom search form view.")})},"_getQueryCollection":function(){var e=this.options.context.getCollection(r,{"options":{"node":new s({"id":f.queryVolumeId,"type":f.csSubTypes.queryVolume},{"connector":this.options.context.getObject(a)}),"filter":{"type":f.csSubTypes.query}},"attributes":{"id":f.queryVolumeId}}),t=n.Deferred();return e.ensureFetched().then(function(){t.resolve(e)},t.reject),t},"setCustomSearchView":function(){var e=n.Deferred();return csui.require(["csui/widgets/search.custom/impl/search.object.view"],function(t){this.customSearchView&&this.customSearchView.destroy();var i=this.query.get("query_id");this.customSearchView=i?new t({"context":this.options.context,"query":this.options.query,"savedSearchQueryId":i}):new o.View,this.customSearchView.model&&this.customSearchView.model.ensureFetched(),e.resolve()}.bind(this),e.reject),e},"onRender":function(){this.setQuerySelectField().then(function(){this.showChildView("querySelectRegion",this.querySelectForm),this.setCustomSearchView().then(function(){this.showChildView("customSearchRegion",this.customSearchView)}.bind(this),function(e){console.error("Unable to set custom search form view.")})}.bind(this),function(e){console.error("Unable to set saved queries select field.")})},"onBeforeDestroy":function(){this.customSearchView&&this.customSearchView.destroy()}});return g}),csui.define("css!xecmpf/controls/savedquery.node.picker/impl/savedquery.node.picker",[],function(){}),csui.define("xecmpf/controls/savedquery.node.picker/savedquery.node.picker.view",["csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/lib/handlebars","xecmpf/controls/savedquery.node.picker/impl/search.query.factory","xecmpf/controls/savedquery.node.picker/impl/search.results.factory","xecmpf/controls/savedquery.node.picker/impl/savedquery.form.view","csui/widgets/search.results/search.results.view","css!xecmpf/controls/savedquery.node.picker/impl/savedquery.node.picker"],function(e,t,i,n,o,s,a,r,c){
var l=n.Object.extend({"constructor":function(t){t||(t={}),t.query||(t.query=t.context.getModel(s)),t.collection||(t.collection=t.context.getCollection(a,e.extend({"unique":!0,"temporary":!0,"detached":!0},t))),n.Object.prototype.constructor.apply(this,arguments)},"initialize":function(e){this.searchFormView=new r({"context":e.context,"query":e.query}),this.searchResultsView=new c({"context":e.context,"query":e.query,"collection":e.collection,"customSearchView":this.searchFormView,"toolbarItems":this.options.toolbarItems,"enableBackButton":this.options.enableBackButton,"titleView":new n.ItemView({"tagName":"h2","template":o.compile("<span>{{title}}</span>")({"title":this.options.title})})}),this.options.toolbarItems.inlineToolbar||(this.searchResultsView.resultsView.lockedForOtherContols=!0,this.searchResultsView.resultsView.$el.addClass("xecmpf-sq-np-no-inline-toolbar")),this.listenTo(this.searchResultsView,{"set:picker:result":function(e){this._result=e},"close go:back":function(){this.triggerMethod("close")}})},"onBeforeDestroy":function(){this.options.query.clear(),this.searchFormView.destroy(),this.searchResultsView.destroy()},"show":function(){this._deferred=t.Deferred();var o=this.options.originatingView,s=this.options.containerEl;if(o instanceof i.View){var a=t("<div/>",{"class":"xecmpf-savedquery-node-picker"}),r=e.isString(s)&&t(s+">*")||o.$el;r.parent().append(a),this.searchResultsView.render(),n.triggerMethodOn(this.searchResultsView,"before:show"),a.append(this.searchResultsView.el);var c=this;return a.show("blind",{"direction":"right","complete":function(){r.hide(),o.isDisplayed=!1,c.searchResultsView.ui.searchSidePanel.hasClass("csui-is-hidden")&&c.searchResultsView.headerView.triggerMethod("toggle:filter",c.searchResultsView),n.triggerMethodOn(c.searchResultsView,"show")}},100),this.listenTo(this,"close",function(){r.show(),r.promise().done(function(){o.isDisplayed=!0,a.hide("blind",{"direction":"right","complete":function(){c._result?c._deferred.resolve(c._result):"pending"===c._deferred.state()&&c._deferred.reject({"cancelled":!0}),c.destroy(),a.remove()}},100)})}),this._deferred}return this._deferred.reject().promise()}});return l}),csui.define("hbs!xecmpf/controls/search.textbox/impl/search.textbox",["module","hbs","csui/lib/handlebars"],function(e,t,i){var n=i.template({"compiler":[6,">= 2.0.0-beta.1"],"main":function(e,t,i,n){var o;return'<div class="xecmpf-search-bar" role="dialog">\r\n  <div class="xecmpf-search-bar-content">  \r\n      <span class="xecmpf-search-icon-static" title="'+this.escapeExpression((o=null!=(o=t.searchTooltip||(null!=e?e.searchTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"searchTooltip","hash":{}}):o))+'"\r\n          aria-label="'+this.escapeExpression((o=null!=(o=t.searchTooltip||(null!=e?e.searchTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"searchTooltip","hash":{}}):o))+'"></span>  \r\n    <div class="xecmpf-search-input-container">\r\n      <input type="text" class="xecmpf-input" placeholder="'+this.escapeExpression((o=null!=(o=t.searchFromHere||(null!=e?e.searchFromHere:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"searchFromHere","hash":{}}):o))+'"\r\n             title="'+this.escapeExpression((o=null!=(o=t.searchFromHere||(null!=e?e.searchFromHere:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"searchFromHere","hash":{}}):o))+'" aria-label="'+this.escapeExpression((o=null!=(o=t.searchFromHere||(null!=e?e.searchFromHere:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"searchFromHere","hash":{}}):o))+'">\r\n    </div>\r\n    <a href="#" class="xecmpf-clearer formfield_clear" title="'+this.escapeExpression((o=null!=(o=t.clearTextTooltip||(null!=e?e.clearTextTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"clearTextTooltip","hash":{}}):o))+'"\r\n          aria-label="'+this.escapeExpression((o=null!=(o=t.clearTextTooltip||(null!=e?e.clearTextTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"clearTextTooltip","hash":{}}):o))+'"></a>\r\n  </div>\r\n</div>\r\n<div role="button" class="xempf-search-close" aria-label="'+this.escapeExpression((o=null!=(o=t.closeSearchTooltip||(null!=e?e.closeSearchTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"closeSearchTooltip","hash":{}}):o))+'">\r\n  <a href="javascript:void(0);" class="icon xecmpf-icon-close xempf-search-hide csui-acc-focusable"\r\n    title="'+this.escapeExpression((o=null!=(o=t.closeSearchTooltip||(null!=e?e.closeSearchTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"closeSearchTooltip","hash":{}}):o))+'" aria-label="'+this.escapeExpression((o=null!=(o=t.closeSearchTooltip||(null!=e?e.closeSearchTooltip:e))?o:t.helperMissing,"function"==typeof o?o.call(e,{"name":"closeSearchTooltip","hash":{}}):o))+'" aria-expanded="false"></a>\r\n</div>'}});return i.registerPartial("xecmpf_controls_search.textbox_impl_search.textbox",n),n}),csui.define("xecmpf/controls/search.textbox/impl/nls/lang",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/controls/search.textbox/impl/nls/root/lang",{"searchFromHere":"Search from here","closeSearchTooltip":"Clear all text and hide search","clearTextTooltip":"Clear all text in this field","search":"search"}),csui.define("css!xecmpf/controls/search.textbox/impl/search.textbox",[],function(){}),csui.define("xecmpf/controls/search.textbox/search.textbox.view",["module","csui/lib/underscore","csui/lib/jquery","csui/lib/marionette","csui/utils/contexts/factories/search.query.factory","hbs!xecmpf/controls/search.textbox/impl/search.textbox","i18n!xecmpf/controls/search.textbox/impl/nls/lang","i18n","css!xecmpf/controls/search.textbox/impl/search.textbox"],function(e,t,i,n,o,s,a,r){"use strict";var c=t.defaults({},e.config(),{"inputValue":"","nodeId":"","nodeName":""}),l=n.ItemView.extend({"className":"xecmpf-search-text-box","template":s,"ui":{"input":".xecmpf-input","clearer":".xecmpf-clearer","closeSearchBtn":".xempf-search-hide"},"events":{"keyup @ui.input":"inputTyped","keydown @ui.input":"inputTyped","paste @ui.input":"inputChanged","change @ui.input":"inputChanged","click @ui.clearer":"clearerClicked","keydown @ui.clearer":"keyDownOnClear","click @ui.closeSearchBtn":"closeSearchButtonClicked","keydown @ui.closeSearchBtn":"KeyDownOnCloseSearchBtn"},"templateHelpers":function(){return{"searchFromHere":a.searchFromHere,"clearTextTooltip":a.clearTextTooltip,"closeSearchTooltip":a.closeSearchTooltip,"searchTooltip":a.search}},"constructor":function(e){e||(e={}),e.data=t.defaults({},e.data,c),this.direction=r.settings.rtl?"left":"right";var i=e.context;e.model||(e.model=i.getModel(o)),n.ItemView.prototype.constructor.apply(this,arguments)},"onRender":function(){var e=this.options.data.inputValue||this.model.get("where");e&&this._setInputValue(e)},"inputTyped":function(e){var t=this.ui.input.val().trim();32===e.which?e.stopPropagation():13===e.which?(e.preventDefault(),e.stopPropagation(),this._setInputValue(t),t&&this.searchIconClicked(e),this.previousValue!==t&&(this.previousValue=t)):this.inputChanged(e)},"inputChanged":function(e){var t=this.ui.input.val();this.ui.clearer.toggle(!!t.length)},"clearerClicked":function(e){e.preventDefault(),e.stopPropagation(),this._setInputValue(""),this.ui.input.focus()},"keyDownOnClear":function(e){13===e.keyCode&&this.clearerClicked(e)},"searchIconClicked":function(e){var t=this.ui.input.val().trim();if(t){this._setInputValue(t);var i=this.options.data.nodeId;t&&(this._setSearchQuery(t,this.options.sliceString,i,e),this._updateInput(),this.options.data.searchFromHere=!0),this._triggerSearchResults()}},"_updateInput":function(){if(this._isRendered){var e=this.model.get("where")||"";this._setInputValue(e)}},"_setSearchQuery":function(e,t,i,n){this.model.clear({"silent":!0});var o={};t&&(o.slice=t),i&&(o.location_id1=i),e&&(o.where=e),this.model.set(o)},"_setInputValue":function(e){this.ui.input.val(e),this.ui.clearer.toggle(!!e.length)},"closeSearchButtonClicked":function(e){this.trigger("hide:searchbar")},"KeyDownOnCloseSearchBtn":function(e){13===e.keyCode&&(e.preventDefault(),e.stopPropagation(),this.trigger("hide:searchbar"))},"_triggerSearchResults":function(){this.trigger("search:results")}});return l}),csui.define("xecmpf/controls/property.panels/reference/reference.panel.controller",["require","csui/lib/underscore","csui/lib/jquery","csui/lib/backbone","csui/lib/marionette","csui/utils/url","csui/utils/log"],function(e,t,i,n,o,s,a){"use strict";function r(e,n,o,s){var a=i.Deferred();return csui.require(["xecmpf/controls/bosearch/bosearch.model","xecmpf/controls/bosearch/bosearch.dialog.controller","xecmpf/controls/property.panels/reference/impl/workspace.reference.model","xecmpf/controls/property.panels/reference/impl/reference.panel.model","xecmpf/controls/property.panels/reference/impl/reference.panel.view"],function(r,c,l,u,p){var d={};e.options.context.trigger("request:actioncontext",d);var h=t.extend(d.actionContext||{},{"mode":n});e.options.context.once("request:actioncontext",function(e){e.actionContext=h}),h.workspaceReference?(h.workspaceReference.node=e.options.model,h.workspaceReference.set(s)):h.workspaceReference=new l(s,{"node":e.options.model});var m=h.workspaceReference,f=m.get("id")?m.fetch():i.Deferred().resolve().promise();f.then(function(){o&&(null!=m.get("bo_type_id")?o.addClass("conws-reference-showing"):o.removeClass("conws-reference-showing")),null!=m.get("bo_type_id")?a.resolve([{"model":new u,"contentView":p,"contentViewOptions":{"actionContext":h}}]):a.resolve([])},function(e){a.reject(e)})},function(e){a.reject(e)}),a.promise()}var c=o.Controller.extend({"constructor":function(e){o.Controller.prototype.constructor.apply(this,arguments)},"getPropertyPanels":function(e){var t;if(t=this.options&&this.options.model&&848===this.options.model.get("type")&&!this.options.context.options.suppressReferencePanel){a.debug("getPropertyPanels for connected workspace called")&&console.log(a.last);var n="workspace_reference_edit",o=i(".cs-perspective-panel .cs-properties-wrapper .metadata-content .cs-metadata"),s={"id":this.options.model.get("id"),"bo_id":void 0,"bo_type_id":void 0,"bo_type_name":void 0,"ext_system_id":void 0,"ext_system_name":void 0};return r(this,n,o,s)}return null},"getPropertyPanelsForCreate":function(e){function i(e,i){e&&(i.listenTo(e,"before:render",function(){if(e.addPropertiesView&&(e.addPropertiesViewIsXecmRecreated||(e._createAddPropertiesView(),e.addPropertiesViewIsXecmRecreated=!0)),e.addPropertiesView&&e.addPropertiesView.collection&&!e.addPropertiesView.collection.hasXecmFilterModelsFunction){var i=e.addPropertiesView.collection.filterModels;e.addPropertiesView.collection.filterModels=function(e){return arguments[0]=t.filter(e,function(e){var t=e.get("signature");return"AddRMClassification"===t||"AddCategory"===t}),i.apply(this,arguments)},e.addPropertiesView.collection.hasXecmFilterModelsFunction=!0,e.addPropertiesView.collection.refilter()}}),i.listenTo(e,"render",function(){e.addPropertiesViewIsXecmRecreated&&delete e.addPropertiesViewIsXecmRecreated}))}var n,o;if(e&&e.forms&&e.forms.models&&t.each(e.forms.models,function(e){"general"===e.get("id")&&(n=e.get("data"),o=n?848===n.type:!1)},this),o=o&&!this.options.context.options.suppressReferencePanel,o&&(a.debug("getPropertyPanelsForCreate for connected workspace called")&&console.log(a.last),n)){var s="workspace_reference_create",c=e&&e.forms,l=c&&c.formCollection,u=l&&l.bo_id,p=l&&l.options,d=p&&p.metadataAddItemController,h=d&&d.dialog,m=h&&h.$(".binf-modal-content .binf-modal-body .cs-add-item-metadata-form"),f={"id":void 0,"bo_id":u,"bo_type_id":n.bo_type_id,"bo_type_name":n.bo_type_name,"ext_system_id":n.ext_system_id,"ext_system_name":n.ext_system_name,"change_reference":!0,"complete_reference":!0},g=d&&d.metadataAddItemPropView,b=g&&g.metadataPropertiesView;return b&&i(b,this),r(this,s,m,f)}return null}});return c}),csui.define("xecmpf/controls/property.panels/reference/reference.panel",["xecmpf/controls/property.panels/reference/reference.panel.controller"],function(e){return[{"sequence":10,"controller":e}]}),csui.define("xecmpf/dialogs/node.picker/start.locations/businessobjecttypes.container/businessobjecttypes.container.factory",["csui/lib/underscore","csui/lib/jquery","csui/dialogs/node.picker/start.locations/node.base.factory"],function(e,t,i){"use strict";var n=i.extend({"constructor":function(t){t=e.defaults({"node":{"type":888}},t),i.prototype.constructor.call(this,t)},"updateLocationModel":function(e){return e.set({"invalid":!0}),t.Deferred().resolve().promise()}});return n}),csui.define("txt",["module"],function(e){"use strict";function t(e,t){return void 0===e||""===e?t:e}function i(e,i,n,o){if(i===o)return!0;if(e===n){if("http"===e)return t(i,"80")===t(o,"80");if("https"===e)return t(i,"443")===t(o,"443")}return!1}var n,o,s,a,r,c=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],l=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,u=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,p="undefined"!=typeof location&&location.href,d=p&&location.protocol&&location.protocol.replace(/\:/,""),h=p&&location.hostname,m=p&&(location.port||void 0),f={},g=e.config&&e.config()||{};return n={"version":"2.0.15","strip":function(e){if(e){e=e.replace(l,"");var t=e.match(u);t&&(e=t[1])}else e="";return e},"jsEscape":function(e){return e.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},"createXhr":g.createXhr||function(){var e,t,i;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(t=0;3>t;t+=1){i=c[t];try{e=new ActiveXObject(i)}catch(n){}if(e){c=[i];break}}return e},"parseName":function(e){var t,i,n,o=!1,s=e.lastIndexOf("."),a=0===e.indexOf("./")||0===e.indexOf("../");return-1!==s&&(!a||s>1)?(t=e.substring(0,s),i=e.substring(s+1)):t=e,n=i||t,s=n.indexOf("!"),-1!==s&&(o="strip"===n.substring(s+1),n=n.substring(0,s),i?i=n:t=n),{"moduleName":t,"ext":i,"strip":o}},"xdRegExp":/^((\w+)\:)?\/\/([^\/\\]+)/,"useXhr":function(e,t,o,s){var a,r,c,l=n.xdRegExp.exec(e);return l?(a=l[2],r=l[3],r=r.split(":"),c=r[1],r=r[0],(!a||a===t)&&(!r||r.toLowerCase()===o.toLowerCase())&&(!c&&!r||i(a,c,t,s))):!0},"finishLoad":function(e,t,i,o){i=t?n.strip(i):i,g.isBuild&&(f[e]=i),o(i)},"load":function(e,t,i,o){if(o&&o.isBuild&&!o.inlineText)return void i();g.isBuild=o&&o.isBuild;var s=n.parseName(e),a=s.moduleName+(s.ext?"."+s.ext:""),r=t.toUrl(a),c=g.useXhr||n.useXhr;return 0===r.indexOf("empty:")?void i():void(!p||c(r,d,h,m)?n.get(r,function(t){n.finishLoad(e,s.strip,t,i)},function(e){i.error&&i.error(e)}):t([a],function(e){n.finishLoad(s.moduleName+"."+s.ext,s.strip,e,i)}))},"write":function(e,t,i,o){if(f.hasOwnProperty(t)){var s=n.jsEscape(f[t]);i.asModule(e+"!"+t,"define(function () { return '"+s+"';});\n")}},"writeFile":function(e,t,i,o,s){var a=n.parseName(t),r=a.ext?"."+a.ext:"",c=a.moduleName+r,l=i.toUrl(a.moduleName+r)+".js";n.load(c,i,function(t){var i=function(e){return o(l,e)};i.asModule=function(e,t){return o.asModule(e,l,t)},n.write(e,c,i,s)},s)}},"node"===g.env||!g.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]&&!process.versions["atom-shell"]?(o=require.nodeRequire("fs"),n.get=function(e,t,i){try{var n=o.readFileSync(e,"utf8");"\ufeff"===n[0]&&(n=n.substring(1)),t(n)}catch(s){i&&i(s)}}):"xhr"===g.env||!g.env&&n.createXhr()?n.get=function(e,t,i,o){var s,a=n.createXhr();if(a.open("GET",e,!0),o)for(s in o)o.hasOwnProperty(s)&&a.setRequestHeader(s.toLowerCase(),o[s]);g.onXhr&&g.onXhr(a,e),a.onreadystatechange=function(n){var o,s;4===a.readyState&&(o=a.status||0,o>399&&600>o?(s=new Error(e+" HTTP status: "+o),s.xhr=a,i&&i(s)):t(a.responseText),g.onXhrComplete&&g.onXhrComplete(a,e))},a.send(null)}:"rhino"===g.env||!g.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?n.get=function(e,t){var i,n,o="utf-8",s=new java.io.File(e),a=java.lang.System.getProperty("line.separator"),r=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(s),o)),c="";try{for(i=new java.lang.StringBuffer,n=r.readLine(),n&&n.length()&&65279===n.charAt(0)&&(n=n.substring(1)),null!==n&&i.append(n);null!==(n=r.readLine());)i.append(a),i.append(n);c=String(i.toString())}finally{r.close()}t(c)}:("xpconnect"===g.env||!g.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(s=Components.classes,a=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),r="@mozilla.org/windows-registry-key;1"in s,n.get=function(e,t){var i,n,o,c={};r&&(e=e.replace(/\//g,"\\")),o=new FileUtils.File(e);try{i=s["@mozilla.org/network/file-input-stream;1"].createInstance(a.nsIFileInputStream),i.init(o,1,0,!1),n=s["@mozilla.org/intl/converter-input-stream;1"].createInstance(a.nsIConverterInputStream),n.init(i,"utf-8",i.available(),a.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),n.readString(i.available(),c),n.close(),i.close(),t(c.value)}catch(l){throw new Error((o&&o.path||"")+": "+l)}}),n}),csui.define("json",["txt"],function(text){function cacheBust(e){return e=e.replace(CACHE_BUST_FLAG,""),e+=e.indexOf("?")<0?"?":"&",e+CACHE_BUST_QUERY_PARAM+"="+Math.round(2147483647*Math.random())}var CACHE_BUST_QUERY_PARAM="bust",CACHE_BUST_FLAG="!bust",jsonParse="undefined"!=typeof JSON&&"function"==typeof JSON.parse?JSON.parse:function(val){return eval("("+val+")")},buildMap={};return{"load":function(e,t,i,n){n.isBuild&&(n.inlineJSON===!1||-1!==e.indexOf(CACHE_BUST_QUERY_PARAM+"="))||0===t.toUrl(e).indexOf("empty:")?i(null):text.get(t.toUrl(e),function(t){var o;if(n.isBuild)buildMap[e]=t,i(t);else{try{o=jsonParse(t)}catch(s){i.error(s)}i(o)}},i.error,{"accept":"application/json"})},"normalize":function(e,t){return-1!==e.indexOf(CACHE_BUST_FLAG)&&(e=cacheBust(e)),t(e)},"write":function(e,t,i){if(buildMap.hasOwnProperty(t)){var n=buildMap[t];i.asModule(e+"!"+t,"define("+n+");\n")}}}}),csui.define("json!xecmpf/widgets/workspaces/workspaces.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"Workspaces Creation and Completion Widget","description":"User gets a list of early workspaces so he can select one workspace to complete the reference. If the user does not find an appropriate early workspace he can create a new workspace.","schema":{"type":"object","properties":{"busObjectId":{"type":"string","title":"Business object id","description":"ID of a business object"},"busObjectType":{"type":"string","title":"Business object type","description":"Type of a business object"},"extSystemId":{"type":"string","title":"External system id","description":"ID of an external system"}}}}),csui.define("json!xecmpf/widgets/boattachments/boattachments.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"Business Attachments","description":"Shows business attachments for a business object","schema":{"type":"object","properties":{"title":{"type":"object","title":"Title","description":"Title of the business attachments widget"},"businessattachment":{"type":"object","title":"Business attachment","description":"Business attachment specific options","properties":{"properties":{"type":"object","title":"Properties","description":"Configuration properties","properties":{"busObjectId":{"type":"string","title":"Business object id","default":"","description":"ID of the business object whose business attachments are displayed"},"busObjectType":{"type":"string","title":"Business object type","default":"","description":"Type of the business object"},"extSystemId":{"type":"string","title":"Business application ID","default":"","description":"Business application of the business object"}}}}},"collapsedView":{"type":"object","title":"Collapsed view","description":"Options for the collapsed view of this widget","properties":{"noResultsPlaceholder":{"type":"object","title":"Message for empty result","description":"Message if there are no business attachments to display"},"orderBy":{"type":"object","title":"Order by","description":"Sort order of the displayed business attachments","properties":{"sortColumn":{"type":"string","title":"Column","description":"Column to order by"},"sortOrder":{"type":"string","enum":["asc","desc"],"title":"Sort order","description":"Sort order to be used"}}},"title":{"type":"object","title":"Business attachment title","description":"Title of the business attachment in collapsed view","properties":{"value":{"type":"string","title":"Title","description":"Value for the Title field"}}},"description":{"type":"object","title":"Business attachment description","description":"Description of the business attachment in collapsed view","properties":{"value":{"type":"string","title":"Description","description":"Value for the description field"}}},"topRight":{"type":"object","title":"Top right metadata field","description":"Metadata displayed in top right metadata field in collapsed view","properties":{"label":{"type":"object","title":"Label","description":"Label for the metadata field"},"value":{"type":"string","title":"Value","description":"Value for the top right metadata field"}}},"bottomLeft":{"type":"object","title":"Bottom left  metadata field","description":"Metadata displayed in bottom left metadata field in collapsed view","properties":{"label":{"type":"object","title":"Label","description":"Label for the metadata field"},"value":{"type":"string","title":"Value","description":"Value for the bottom left metadata field"}}},"bottomRight":{"type":"object","title":"Bottom right metadata field","description":"Metadata displayed in bottom right metadata field in collapsed view","properties":{"label":{"type":"object","title":"Label","description":"Label for the metadata field"},"value":{"type":"string","title":"Value","description":"Value for the bottom right metadata  metadata field"}}}}},"expandedView":{"type":"object","title":"Expanded view","description":"Options for the expanded view of this widget","properties":{"orderBy":{"type":"object","title":"Order by","description":"Sort order of the displayed business attachments","properties":{"sortColumn":{"type":"string","title":"Column","description":"Column to order by"},"sortOrder":{"type":"string","enum":["asc","desc"],"title":"Sort order","description":"Sort order to be used"}}}}},"snapshot":{"type":"object","title":"Snapshot","description":"Options for the snapshots of Business Attachments","properties":{"parentFolderName":{"type":"string","title":"Parent folder name","description":"Folder in business workspace, where Snapshots are created."},"folderNamePrefix":{"type":"string","title":"Snapshot name prefix","description":"The name of a snapshot consists of the prefix and a timestamp."}}}}},"options":{"fields":{"businessattachment":{"fields":{"properties":{"fields":{"busObjectId":{"type":"otconws_metadata_string"},"busObjectType":{"type":"otconws_metadata_string"},"extSystemId":{"type":"otconws_metadata_string"}}}}},"title":{"type":"otcs_multilingual_string"},"collapsedView":{"fields":{"noResultsPlaceholder":{"type":"otcs_multilingual_string"},"orderBy":{"fields":{"sortColumn":{"type":"otconws_customcolumn"},"sortOrder":{"type":"select","optionLabels":["Ascending","Descending"]}}},"title":{"fields":{"value":{"type":"otconws_customcolumn"}}},"description":{"fields":{"value":{"type":"otconws_customcolumn"}}},"topRight":{"fields":{"label":{"type":"otcs_multilingual_string"},"value":{"type":"otconws_customcolumn"}}},"bottomLeft":{"fields":{"label":{"type":"otcs_multilingual_string"},"value":{"type":"otconws_customcolumn"}}},"bottomRight":{"fields":{"label":{"type":"otcs_multilingual_string"},"value":{"type":"otconws_customcolumn"}}}}},"expandedView":{"fields":{"orderBy":{"fields":{"sortColumn":{"type":"otconws_customcolumn"},"sortOrder":{"type":"select","optionLabels":["Ascending","Descending"]}}}}},"snapshot":{"fields":{"parentFolderName":{"type":"text"},"folderNamePrefix":{"type":"text"}}}}}}),csui.define("json!xecmpf/widgets/dossier/dossier.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"Dossier","description":"Dossier View for business workspaces grouped by some criterion say create date ,classification","schema":{"type":"object","properties":{"groupBy":{"type":"string","enum":["classification","create_date"],"default":"create_date","title":"Default group by criterion","description":"Group by criterion that dossier view will use to load for the first time"},"hideGroupByCriterionDropdown":{"type":"boolean","enum":[!0,!1],"default":!1,"title":"Hide group by criterion dropdown","description":"Option to hide the dropdown to choose the group by criterion"},"hideMetadata":{"type":"boolean","enum":[!0,!1],"default":!1,"title":"Hide metadata","description":"Option to hide the document's metadata view"},"metadata":{"type":"array","title":"Metadata","description":"Metadata displayed for document","items":{"type":"object","title":"Category or attribute","description":"Category or attribute with metadata"}},"hideEmptyFields":{"type":"boolean","enum":[!0,!1],"default":!1,"title":"Hide empty fields","description":"Display only fields with values"},"hideFavorite":{"type":"boolean","enum":[!0,!1],"default":!1,"title":"Hide favorite","description":"Option to hide the favorite icon"}}},"options":{"fields":{"groupBy":{"type":"select","optionLabels":["Classification","Create Date"]},"metadata":{"fields":{"item":{"type":"otconws_metadata"}}}}}}),csui.define("json!xecmpf/widgets/header/header.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema#","title":"Header","description":"Header widget for business workspaces","schema":{"type":"object","properties":{"workspace":{"type":"object","title":"Workspace","description":"Workspace specific options","properties":{"properties":{"type":"object","title":"Properties","description":"Configuration properties","properties":{"title":{"type":"string","title":"Title","default":"{name}","description":"Name of the business workspace"},"type":{"type":"string","title":"Type","default":"{business_properties.workspace_type_name}","description":"Name of the workspace type"},"description":{"type":"string","title":"Description","default":"{description}","description":"Description of the business workspace"}}}}},"completenessCheckSettings":{"type":"object","title":"Completeness check","description":"Completeness check configuration","properties":{"hideMissingDocsCheck":{"title":"Hide missing documents check","description":"Option to show or hide the missing document check","type":"boolean","default":!1},"hideOutdatedDocsCheck":{"title":"Hide outdated documents check","description":"Option to show or hide the outdated document check. This option will be effective only if the Extended ECM for SAP SuccessFactors module is installed on the system","type":"boolean","default":!1},"hideInProcessDocsCheck":{"title":"Hide In process documents check","description":"Option to show or hide the In process document check. This option will be effective only if the Extended ECM for SAP SuccessFactors module is installed on the system","type":"boolean","default":!1}}},"headerwidget":{"type":"object","title":"Widget","description":"Additional widget that can be embedded in the header widget","properties":{"type":{"type":"string","enum":["none","activityfeed","metadata"],"default":"none","title":"Embed widget","description":"Widget to be embedded in the header widget"}}},"metadataSettings":{"type":"object","title":"Metadata","description":"Header metadata configuration","properties":{"metadataInColumns":{"type":"string","enum":["singleCol","doubleCol"],"default":"doubleCol","title":"Show Metadata In Columns","description":"Show Metadata In Columns"},"hideMetadata":{"type":"boolean","enum":[!0,!1],"default":!1,"title":"Hide Metadata","description":"Hide metadata on header"},"hideEmptyFields":{"type":"boolean","enum":[!0,!1],"default":!1,"title":"Hide empty fields","description":"Display only fields with values"},"metadata":{"type":"array","title":"Metadata","description":"Metadata displayed in Header widget","items":{"type":"object","title":"Category or attribute","description":"Category or attribute with metadata"}}}},"favoriteSettings":{"type":"object","title":"Favorite","description":"Favorite configuration","properties":{"hideFavorite":{"type":"boolean","enum":[!0,!1],"default":!1,"title":"Hide Favorite","description":"Option to hide the favorite icon on the header"}}}}},"options":{"fields":{"workspace":{"fields":{"properties":{"fields":{"title":{"type":"otconws_metadata_string"},"type":{"type":"otconws_metadata_string"},"description":{"type":"otconws_metadata_string"}}}}},"metadataSettings":{"fields":{"metadata":{"fields":{"item":{"type":"otconws_metadata"}}},"metadataInColumns":{"type":"select","optionLabels":["Single","Double"]}}},"headerwidget":{"fields":{"type":{"type":"select","optionLabels":["None","Activity Feed","Metadata"]}}}}}}),csui.define("json!xecmpf/widgets/scan/scan.manifest.json",{"$schema":"http://opentext.com/cs/json-schema/draft-04/schema","title":"{{widgetTitle}}","description":"{{widgetDescription}}","schema":{"type":"object","properties":{"businessobjecttypes":{"title":"{{botypesTitle}}","description":"{{botypesDescription}}","type":"array","items":{"type":"object","properties":{"id":{"type":"integer","description":"{{botypeBrowseDescription}}","title":"{{botypeBrowseTitle}}"}}}}}},"options":{"fields":{"businessobjecttypes":{"items":{"fields":{"id":{"type":"otcs_node_picker","type_control":{"parameters":{"select_types":[889],"startLocation":"xecmpf/dialogs/node.picker/start.locations/businessobjecttypes.container"}}}}}}}}}),csui.define("json!xecmpf/utils/perspective/custom.search.json",{"type":"grid","options":{"rows":[{"columns":[{"sizes":{"md":12},"heights":{"xs":"full"},"widget":{"type":"xecmpf/widgets/integration/folderbrowse/search.results","options":{"enableBackButton":!0}}}]}]}}),csui.define("xecmpf/widgets/scan/impl/nls/scan.manifest",{"root":!0,"en-us":!1,"en":!1}),csui.define("xecmpf/widgets/scan/impl/nls/root/scan.manifest",{"widgetTitle":"Scan barcode","widgetDescription":"Scans the barcode and opens the corresponding workspace","botypesTitle":"Business Object Types","botypesDescription":"List of business object types which are relavant for the scan","botypeBrowseTitle":"Business Object Type","botypeBrowseDescription":"Select the business object type which is relavant for the scan"}),csui.define("xecmpf/utils/perspective/custom.search.perspective",["csui/lib/backbone"],function(e){return[{"decides":function(){return!!e.history.root.match("xecm")},"module":"json!xecmpf/utils/perspective/custom.search.json"}]}),csui.define("xecmpf/utils/perspective/eventactionnode.perspective",[],function(){"use strict";return[{"equals":{"type":[898]},"important":!0,"module":"json!xecmpf/utils/perspective/impl/perspectives/eventaction.json"}]}),csui.define("json!xecmpf/utils/perspective/impl/perspectives/eventaction.json",{"type":"grid","options":{"rows":[{"columns":[{"sizes":{"md":12},"heights":{"xs":"full"},"widget":{"type":"xecmpf/widgets/eac"}}]}]}}),csui.define("bundles/xecmpf-app",["xecmpf/pages/start/perspective-only.page.view","xecmpf/widgets/integration/folderbrowse/search.box.view","xecmpf/widgets/integration/folderbrowse/full.page.workspace.view","xecmpf/widgets/integration/folderbrowse/search.results/search.results.view","xecmpf/widgets/integration/folderbrowse/modaldialog/modal.dialog.view","xecmpf/utils/commands/folderbrowse/go.to.workspace.history","xecmpf/utils/commands/folderbrowse/search.container","xecmpf/utils/commands/folderbrowse/open.full.page.workspace","xecmpf/utils/commands/workspaces/workspace.delete","xecmpf/utils/commands/boattachments/boattachments.create","xecmpf/utils/commands/eac/eac.refresh","xecmpf/utils/commands/eac/eac.back","xecmpf/utils/commands/open.eventaction","xecmpf/utils/eventaction.defaultaction","xecmpf/widgets/boattachments/impl/boattachment.table/commands/snapshot","xecmpf/utils/commands/collapse.page.overlay","xecmpf/widgets/integration/folderbrowse/toolbaritems","xecmpf/widgets/header/headertoolbaritems","xecmpf/widgets/header/commonheadertoolbaritems","xecmpf/widgets/boattachments/impl/boattachment.table/tablecell/createdby.view","xecmpf/widgets/boattachments/impl/boattachment.table/tablecell/modifiedby.view","xecmpf/controls/table/cells/eac.actionplan.view","xecmpf/controls/bosearch/bosearch.dialog.controller","xecmpf/controls/property.panels/reference/impl/reference.panel.view","xecmpf/widgets/boattachments/boattachments.view","xecmpf/widgets/workspaces/workspaces.widget","xecmpf/widgets/myattachments/metadata.property.panels","xecmpf/widgets/dossier/dossier.view","xecmpf/widgets/eac/eac.view","xecmpf/widgets/header/header.view","xecmpf/widgets/scan/scan.view","xecmpf/utils/document.thumbnail/document.thumbnail.view","xecmpf/controls/savedquery.node.picker/savedquery.node.picker.view","xecmpf/controls/savedquery.node.picker/impl/savedquery.form.view","xecmpf/controls/search.textbox/search.textbox.view","xecmpf/controls/property.panels/reference/reference.panel","xecmpf/dialogs/node.picker/start.locations/businessobjecttypes.container/businessobjecttypes.container.factory","json!xecmpf/widgets/workspaces/workspaces.manifest.json","json!xecmpf/widgets/boattachments/boattachments.manifest.json","json!xecmpf/widgets/dossier/dossier.manifest.json","json!xecmpf/widgets/header/header.manifest.json","json!xecmpf/widgets/scan/scan.manifest.json","json!xecmpf/utils/perspective/custom.search.json","i18n!xecmpf/widgets/scan/impl/nls/scan.manifest","i18n!xecmpf/widgets/boattachments/impl/nls/lang","i18n!xecmpf/controls/property.panels/reference/impl/nls/lang","xecmpf/utils/perspective/custom.search.perspective","xecmpf/widgets/boattachments/impl/boattachmentutil","xecmpf/utils/perspective/eventactionnode.perspective","json!xecmpf/utils/perspective/impl/perspectives/eventaction.json"],{}),
csui.require(["require","css"],function(e,t){t.styleLoad(e,"xecmpf/bundles/xecmpf-app",!0)});
//# sourceMappingURL=xecmpf-app.js.map