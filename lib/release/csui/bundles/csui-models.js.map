{"version":3,"sources":["../../src/utils/log/console.re.appender.js","../../src/utils/log.js","../../src/utils/url.js","../../src/utils/impl/nls/lang.js","../../src/utils/impl/nls/root/lang.js","../../src/utils/impl/nls/lang!i18n","../../src/utils/errormessage.js","../../src/utils/messagehelper.js","../../src/utils/types/date.js","../../src/utils/types/number.js","../../src/utils/types/member.js","../../src/utils/types/localizable.js","../../src/utils/base.js","../../src/models/action.js","../../src/models/actions.js","../../src/models/mixins/rules.matching/rules.matching.mixin.js","../../src/models/actionitem.js","../../src/models/actionitems.js","../../src/models/addabletype.js","../../src/models/addabletypes.js","../../src/models/mixins/connectable/connectable.mixin.js","../../src/models/ancestor.js","../../src/models/ancestors.js","../../src/models/mixins/expandable/expandable.mixin.js","../../src/models/mixins/fetchable/fetchable.mixin.js","../../src/models/mixins/autofetchable/autofetchable.mixin.js","../../src/models/mixins/resource/resource.mixin.js","../../src/models/mixins/including.additional.resources/including.additional.resources.mixin.js","../../src/models/authenticated.user/server.adaptor.mixin.js","../../src/models/authenticated.user.js","../../src/models/authenticated.user.node.permission.js","../../src/models/mixins/uploadable/uploadable.mixin.js","../../src/models/member/server.adaptor.mixin.js","../../src/models/member.js","../../src/models/authentication.js","../../src/models/clientsidecollection.js","../../src/models/column.js","../../src/models/columns.js","../../src/models/datadefinition.js","../../src/models/datadefinitions.js","../../src/models/mixins/v2.fields/v2.fields.mixin.js","../../src/models/mixins/v2.expandable/v2.expandable.mixin.js","../../src/models/mixins/state.requestor/state.requestor.mixin.js","../../src/models/mixins/state.carrier/state.carrier.mixin.js","../../src/models/mixins/v2.commandable/v2.commandable.mixin.js","../../src/models/node.actions/server.adaptor.mixin.js","../../src/models/node.actions.js","../../src/utils/promoted.actionitems!csui-ext","../../src/utils/promoted.actionitems.js","../../src/utils/deepClone/deepClone.js","../../src/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin.js","../../src/models/mixins/v2.additional.resources/v2.additional.resources.mixin.js","../../src/models/node.columns2.js","../../src/models/node/impl/nls/lang.js","../../src/models/node/impl/nls/root/lang.js","../../src/models/node/impl/nls/lang!i18n","../../src/models/utils/v1tov2.js","../../src/models/node/server.adaptor.mixin.js","../../src/models/node/node.model.js","../../src/models/server.adaptors/favorite2.mixin.js","../../src/models/favorite2.js","../../src/models/browsable/browsable.mixin.js","../../src/models/browsable/client-side.mixin.js","../../src/models/browsable/v2.response.mixin.js","../../src/models/impl/nls/lang.js","../../src/models/impl/nls/root/lang.js","../../src/models/impl/nls/lang!i18n","../../src/models/favorite2column.js","../../src/models/favorite2columns.js","../../src/models/server.adaptors/favorites2.mixin.js","../../src/models/favorites2.js","../../src/models/favorite2group.js","../../src/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin.js","../../src/models/server.adaptors/favorite2groups.mixin.js","../../src/models/favorite2groups.js","../../src/models/server.adaptors/favorite.model.mixin.js","../../src/models/favorite.model.js","../../src/models/member/member.model.js","../../src/models/browsable/v1.request.mixin.js","../../src/models/member/membercollection.js","../../src/models/members.js","../../src/models/mixins/node.connectable/node.connectable.mixin.js","../../src/models/mixins/node.autofetchable/node.autofetchable.mixin.js","../../src/models/mixins/node.resource/node.resource.mixin.js","../../src/utils/nodesprites!csui-ext","../../src/utils/nodesprites.js","../../src/models/node.addable.type/server.adaptor.mixin.js","../../src/models/node/node.addable.type.collection.js","../../src/models/node.children2/server.adaptor.mixin.js","../../src/models/node.children2/node.children2.js","../../src/models/node.ancestors/server.adaptor.mixin.js","../../src/models/nodeancestors.js","../../src/models/nodechildrencolumn.js","../../src/models/nodechildrencolumns.js","../../src/models/nodes.js","../../src/models/mixins/commandable/commandable.mixin.js","../../src/models/mixins/delayed.commandable/delayed.commandable.mixin.js","../../src/models/browsable/v1.response.mixin.js","../../src/models/node.children/server.adaptor.mixin.js","../../src/models/nodechildren.js","../../src/models/permission/nodepermission.model.js","../../src/models/permission/permission.response.mixin.js","../../src/models/permission/nodeuserpermissions.js","../../src/models/tool.item.config/tool.item.config.collection.js","../../src/models/tool.item.mask/tool.item.mask.collection.js","../../src/models/server.module/server.module.collection.js","../../src/models/specificnodemodel.js","../../src/models/autofetchable.js","../../src/models/connectable.js","../../src/models/fetchable.js","../../src/models/including.additional.resources.js","../../src/models/nodeautofetchable.js","../../src/models/nodeconnectable.js","../../src/models/noderesource.js","../../src/models/resource.js","../../src/models/uploadable.js","../../src/models/mixins/versions/v2.versions.response.mixin.js","../../src/models/server.adaptors/version.mixin.js","../../src/models/version.js","../../src/models/widget/widget.model.js","../../src/models/widget/widget.collection.js","../../src/models/zipanddownload/zipanddownload.preflight.js","../../src/models/zipanddownload/zipanddownload.stages.js","../../src/utils/classic.nodes/classic.nodes!csui-ext","../../src/utils/classic.nodes/classic.nodes.js","../../src/utils/authenticators/authenticators!csui-ext","../../src/utils/authenticators/authenticators.js","../../src/utils/connector.js","../../src/utils/defaultactionitems!csui-ext","../../src/utils/defaultactionitems.js","../../src/utils/authenticators/authenticator.js","../../src/utils/objectstorage.js","../../src/utils/namedstorage.js","../../src/utils/namedsessionstorage.js","../../src/utils/authenticators/ticket.authenticator.js","../../src/utils/authenticators/request.authenticator.js","../../src/utils/authenticators/server.adaptors/initial.header.mixin.js","../../src/utils/authenticators/initial.header.authenticator.js","../../src/utils/headerauthenticator.js","../../src/utils/authenticators/interactive.credentials.authenticator.js","../../src/utils/interactiveauthenticator.js","../../src/utils/namedlocalstorage.js","../../src/utils/page.leaving.blocker.js","../../src/utils/requestauthenticator.js","../../src/utils/smart.nodes/smart.nodes!csui-ext","../../src/utils/smart.nodes/smart.nodes.js","../../src/utils/authenticators/server.adaptors/basic.mixin.js","../../src/utils/authenticators/basic.authenticator.js","../../src/utils/authenticators/server.adaptors/credentials.mixin.js","../../src/utils/authenticators/credentials.authenticator.js","../../src/utils/authenticators/regular.header.authenticator.js","../../src/utils/authenticators/redirecting.form.authenticator.js","../../src/utils/authenticators/core.authenticators.js","../../src/utils/authenticator.js","../../src/utils/basicauthenticator.js","csui-models.js"],"names":["csui","define","log4javascript","ConsoleReAppender","prototype","Object","create","Appender","layout","NullLayout","threshold","Level","DEBUG","append","loggingEvent","appender","this","window","console","re","log","formattedMesage","getLayout","formattedMessage","format","ignoresThrowable","exception","getThrowableStrRep","debug","isGreaterOrEqual","level","info","INFO","equals","warn","WARN","error","ERROR","group","name","groupEnd","toString","module","$","_","target","_target","find","config","modules","settings","pattern","matchModule","_threshold","getThreshold","replace","RegExp","test","thresholds","toUpperCase","Error","formatMessage","message","undefined","str","sformat","apply","arguments","performanceTimeStamp","getTimePerformanceStamp","moduleNameStamp","performance","now","toFixed","defaults","consoleRe","page","server","consoleEnabled","loggerEnabled","enabled","ALL","setDocumentReady","logger","getLogger","PopUpAppender","setNewestMessageAtTop","setScrollToLatestMessage","setLayout","PatternLayout","addAppender","InPageAppender","placeholder","setShowHideButton","setShowCommandLine","AjaxAppender","url","JsonLayout","setTimed","setTimerInterval","setSendAllOnTimer","setBatchSize","setWaitForResponse","setSendAllOnUnload","headers","extend","content-type","each","keys","addHeader","setLevel","last","can","getObjectName","object","getPrototypeOf","constructor","getStackTrace","frameCountToSkip","stack","lines","split","length","match","slice","join","Url","raw","isValid","re_weburl","isAbsolute","getAbsolute","origin","location","href","getOrigin","combine","getProtocol","indexOf","toLowerCase","substring","getHost","getPort","start","port","parseInt","getPath","getVirtualDirectory","getCgiScript","apiSuffix","charAt","lastIndexOf","substr","getQuery","getApiBase","version","i","part","path","makeMultivalueParameter","values","map","encodeURIComponent","combineQueryString","query","isObject","param","isString","appendQuery","lastCharacter","root","en-us","en","ColumnMemberName2","ColumnMemberName3","sizeInBytes","ErrorUnknown","InvalidResponse","ErrorStatiNice","ErrorHtmlTpl","ErrorStringTpl","AuthenticationFailureDialogTitle","SessionExpiredDialogTitle","AuthenticationFailureDialogText","NodeTypeSearchQuery","NodeTypeURL","NodeTypeAudio","NodeTypeCompressed","NodeTypeImage","NodeTypeText","NodeTypeHtml","NodeTypeUnknown","NodeTypeVideo","NodeTypeDOC","NodeTypePDF","NodeTypePPT","NodeTypePresentation","NodeTypeXLS","NodeTypeSpreadsheet","NodeTypeFormula","NodeTypePublisher","NodeTypeVisio","NodeTypeMPP","NodeTypeONE","NoConnectivity","NetworkError","resourceConflict","Home","Backbone","lang","Type","Confirm","Warning","Hint","Info","Message","Model","attributes","type","getType","get","getName","getMessage","ErrorMessage","RequestErrorMessage","statusCode","statusText","errorDetails","status","responseText","responseJSON","JSON","parse","failure","data","errorDetail","method","punctuation","trim","verion","Lang","id","ts","animationShow","-webkit-transition","transition","animationHide","animationNone","animationFadeOut","MessageHelper","Collection","model","title","showMessages","reset","show","getStatus","showit","trigger","groupBy","toHtml","addMessage","txt","msg","add","showErrors","addError","errmsg","addErrorMessage","errorts","sortBy","clear","hasMessages","getMessages","template","html","msgType","reverse","statusPlain","statusNice","removeField","viewel","selector","elem","forEach","oldval","oldclass","oldel","hasClass","addClass","switchField","value","newclass","newel","changed","removeClass","element","transitionEnd","once","transitions","WebkitTransition","MozTransition","OTransition","document","createElement","style","createPanel","globals","Panel","options","oldPanel","newPanel","$el","classNames","render","toggleClass","collapsed","doCollapse","doExpand","activatePanel","relatedView","parentView","resizePanel","appendTo","el","destroy","doShow","showPanel","view","self","slideSize","getTargetSizes","panel","csuiBeforeShow","panelSize","setPanelHeight","slidedown","hidden","sizes","distance","elemHeight","position","css","height","Math","min","top","bottom","rect","one","csuiAfterShow","expandPanel","details","animated","hidePanel","slideup","csuiBeforeHide","csuiAfterHide","min_top","idattr","attr","heightSource","outerHeight","collapsePanel","fadeoutPanel","opacity","doResize","getBoundingClientRect","width","left","Events","moment","getExactFormat","momentFormat","partFormat","index","formatters","explicitFormat","shift","exec","localeData","longDateFormat","pad","n","createMoment","text","Date","formatIsoDateTimeInTimeZone","direction","tz","deserializeDate","toDate","serializeDateTime","date","callback","formatDateTime","suffix","year","month","hours","minutes","seconds","exactDateTimeFormat","parsed","formatIsoDateTimeInUtc","utc","serializeDate","exactDateFormat","validateDate","validateDateTime","formatDate","friendlyDate","formatFriendlyDate","formatExactDate","friendlyDateTime","formatFriendlyDateTime","formatExactDateTime","formatExactTime","exactTimeFormat","calendar","formatFriendlyDateTimeNow","fromNow","formatISODate","toISOString","formatISODateTime","requirejs","s","contexts","friendlyTime","momentDateFormat","numeral","formatInteger","formatIntegerWithCommas","formatFileSize","size","friendlyFileSize","formatFriendlyFileSize","formatExactFileSize","isNumber","formatMemberName","member","display_name","name_formatted","firstName","first_name","lastName","last_name","middleName","middle_name","i18n","getClosestLocalizedString","fallback","reduce","result","locale","language","defaultLocale","defaultLanguage","localeCompareString","right","usage","filteredOptions","sensitivity","numeric","localeCompare","localeContainsString","hay","needle","localeIndexOfString","localeEndsWithString","full","end","fullLength","maxLength","difference","localeStartsWithString","count","messagesObj","formatStr","params","Array","call","formatForFive","formatForTwo","formatForOne","formatForNone","splice","number","localizable","escapeHtml","preserveLineBreaks","escapeHtmlHelper","isBackbone","isPlaceholder","isElement","isTouchBrowser","navigator","isAppleMobile","userAgent","isMacintosh","platform","isLandscape","matchMedia","isPortrait","isIE11","isMozilla","isEdge","isFirefox","isMSBrowser","isChrome","isChromium","chrome","winNav","vendorName","vendor","isOpera","isIEedge","isIOSChrome","retVal","isSafari","px2em","pxContainerWidth","pxElemWidth","pxInEms","floor","isVisibleInWindowViewport","is","offset","pageXOffset","pageYOffset","extents","$window","isVisibleInWindowViewportHorizontally","elRect","isVisibleInWindowViewportVertically","isElementVisibleInParents","levels","iPercentX","iPercentY","percentX","percentY","elemRect","parentRects","maxLevels","curLevel","parentElement","push","every","parentRect","visiblePixelX","max","visiblePixelY","visiblePercentageX","visiblePercentageY","isElementVisibleInParent","parent","container","contRect","checkAndScrollElemToViewport","$elem","scrollSelector","closest","elemScrollParent","stickyHeader","siblings","elemTop","viewportTop","currScrollTop","scrollTop","setScrollHandler","e","eventArg","inputElement","dropdownContainer","parents","adjustDropDownField","applyWidth","scrollableDropdownContainer","scrollEl","isIEBrowser","currentLeft","scrollUpdate","isRtl","rtl","inputElementLeft","leftShadow","leftShadowLeft","outerWidth","unbind","bind","autoAlignDropDowns","hideDropDowns","scrollLeftRtl","scrollLeft","that","setTimeout","contextBottom","contextTop","elTop","elPositionX","form","modalContentElem","modalContentPositionX","modalContentTop","controlheight","dropdownWidth","perspectivePanel","perspective","perspectiveHeight","perspectiveTop","elemBoundingRect","perspectivePanelClientTop","spaceOnTop","spaceOnBottom","innerHeight","isDropdownShownOnTop","max-height","abs","documentElement","offsetHeight","-webkit-transform","stringifyDate","stringify","dateToLocalIsoString","dateStr","findFocusables","filter","messageHelper","on","errors","alert","ErrorHandler","MessageType","ErrorStatus","ErrorToShow","parseDate","getReadableFileSizeString","_require","base","ActionCollection","idAttribute","connector","assignTo","children","isArray","connection","fetch","response","action","ActionModel","models","findRecursively","cid","item","mixin","makeRulesMatching","rulesToMatch","matchRules","operations","results","chain","operation","operands","_getRulingPropertyValue","names","_evaluate-or","any","_evaluate-and","all","_evaluate-not","_evaluate-equals","_evaluateEquals","_evaluate-equalsNoCase","noCase","key","actual","normalized","_normalizeCase","_evaluate-contains","_evaluateContains","_evaluate-containsNoCase","_evaluate-startsWith","_evaluateStartsWith","_evaluate-startsWithNoCase","_evaluate-endsWith","_evaluateEndsWith","_evaluate-endsWithNoCase","endsWith","_evaluate-matches","_evaluateMatches","_evaluate-matchesNoCase","_evaluate-includes","_evaluateIncludes","_evaluate-includesNoCase","contains","_evaluate-has","_evaluate-decides","methods","RulesMatchingMixin","ActionItemModel","sequence","signature","node","comparator","findByNode","getAllSignatures","pluck","unique","getAllCommandSignatures","commands","command","flatten","compact","getPromotedCommandsSignatures","AddableTypeModel","Hidden","AddableTypeCollection","originalPrepareModel","_prepareModel","makeConnectable","attrs","ConnectableMixin","AncestorModel","clone","AncestorCollection","makeExpandable","expand","setExpand","resetExpand","getExpandableResourcesUrlQuery","originalFetch","makeFetchable","autoreset","_beforeFetchSucceeded","_fetchingOriginal","_fetchSucceeded","_fetchStarted","fetched","fetching","_fetchFailed","jqxhr","cache","urlBase","urlCacheBase","_prepareFetch","success","ensureFetched","Deferred","resolve","promise","prefetch","deferred","set","context","makeAutoFetchable","autofetchEvent","_autofetchEvent","autofetch","automateFetch","enable","event","_fetchAutomatically","isFetchable","FetchableMixin","AutoFetchableMixin","makeResource","makeIncludingAdditionalResources","_additionalResources","includeResources","union","excludeResources","reject","getAdditionalResourcesUrlQuery","parameter","makeServerAdaptor","apiBase","user","ExpandableMixin","ResourceMixin","IncludingAdditionalResourcesMixin","ServerAdaptorMixin","AuthenticatedUserModel","AuthenticatedUserNodePermissionModel","selectedNodeId","userId","permissions","hasEditPermissionRights","permissons","useJson","useMock","usePatch","metadataPartName","UploadableMixin","originalSync","sync","prepare","prepareFormData","body","makeUploadable","currectUpdatingUrl","useJSON","mock","files","contentType","isEmpty","formData","FormData","Blob","metadataToken","state","metadata_token","urlRoot","MemberModel","AuthenticationModel","ClientSideCollection","columns","toJSON","actualSkipCount","totalCount","filteredCount","_cacheCollection","selfReset","cachedCollection","_limitResponse","resetColumnsV2","elements","skipCount","topCount","_resetCollection","workingModels","_runAllOperations","_sortCollection","_filterCollection","_limitCollection","_triggerCollectionResetEvent","setLimit","skip","resetLimit","setFilter","filterObj","clearFilter","has","parseValue","containsValue","setOrder","orderBy","resetOrder","criteria","criterium","parts","property","descending","sort","compareValues","ColumnModel","column_key","default_action","contextual_menu","editable","filter_key","ColumnCollection","DataDefinitionModel","DataDefinitionCollection","setOptions","cgiPath","nodeResource","definitions","definitions_map","definitions_order","definitions_flat","def","definition","GetDefinitionsOrder","GetDefinitionMap","GetDefinition","GetFlatCollection","GetFlatDefinition","makeFieldsV2","fields","hasFields","role","collection","setFields","_setOneFieldSet","resetFields","_resetOneFieldSet","getResourceFieldsUrlQuery","encodedNames","field","dot","mergePropertyParameters","output","input","FieldsV2Mixin","makeExpandableV2","hasExpand","_setOneExpand","_resetOneExpand","expandable","makeStateRequestor","stateEnabled","enableState","disableState","getStateEnablingUrlQuery","StateRequestorMixin","getStateAttributes","properties","makeStateCarrier","setState","parseState","makeCommandableV2","setCommands","resetCommands","getRequestedCommandsUrlQuery","actions","parent_id","reference_id","ids","nodes","CommandableMixin","NodeActionModel","NodeActionCollection","setNodes","resetNodes","includeCommands","ActionItemCollection","extraActions","promotedActionItems","deepClone","source","HTMLElement","isBoolean","isDate","isRegExp","valueOf","obj","cloneCloneableObjects","copyArbitraryObjects","cloneArbitraryObjects","CommandableV2Mixin","makeDelayedCommandableV2","defaultActionCommands","promotedActionCommands","nonPromotedActionCommands","delayedActions","nonPromotedActions","isNonPromoted","setEnabledDelayRestCommands","delayRestCommands","promoteSomeRestCommands","delayRestCommandsForModels","promotedActionItemsFromControler","promoted","_enableDelayRestCommands","_disableDelayRestCommands","setEnabledLazyActionCommands","_enableNonPromotedRestCommands","_requestsNonPromotedRestActions","done","fail","_disableNonPromotedRestCommands","_requestRestActions","off","enableNonPromotedCommands","resp","xhr","_requestPromotedActions","_requestDelayedActions","restCommands","_updateOriginalActions","promotedCommands","nonPromotedCommands","restNodes","isLocallyCreated","_updateOriginalActionsAfterLazyActions","csuiLazyActionsRetrieved","updateNodeActions","actionNode","csuiNonPromotedAction","setDefaultActionCommands","resetDefaultActionCommands","getAllCommandsUrlQuery","makeAdditionalResourcesV2Mixin","NodeColumn2Model","sizeColumnTitle","includeExpandsV1toV2","expands","mergeProperties","nodeExpands","memberExpands","userExpands","groupExpands","excludeExpandsV1toV2","expandsV2toV1","concat","v1tov2","fetchExactFields","isFetchableDirectly","apiVersion","isNew","_getCombinedUrlQuery","getV2ParameterSource","queryParts","parameters","commandOptions","refernce_id","resultData","type_name","versions","type_info","pick","_parseActions","original","original_id","original_id_expand","parent_id_expand","_makeAccessible","defaultAction","findWhere","addable_types","_parseColumns","metadata","_parseDefinitions","omit","columnKeys","container_size","file_size","column","columnKey","data_type","sortable","supportedPersonas","inArray","persona","sortKey","sort_key","realColumnKey","available_actions","order","commands_map","commands_order","AddableTypesCollection","ExpandableV2Mixin","StateCarrierMixin","DelayedCommandableV2Mixin","AdditionalResourcesV2Mixin","NodeColumn2Collection","usesIntegerId","NodeDefinition2Collection","NodeModel","_setCollectionProperty","additionalResources","val","skipSetValue","_setNodeProperty","volume_id","attribute","Class","camelize","getResourceScope","parameterSource","setResourceScope","scope","originalCollection","newCollection","superParseMethod","superSyncMethod","updatedAttributes","favorites","favorite_name","favorite_tab_id","tab_id","m","useFavoritesUrl","attributesToUpdate","k","newKey","Favorite2Model","mustRefreshAfterPut","makeFilterValue","makeBrowsable","filters","modified","skipSort","setSkip","setTop","BrowsableMixin","makeClientSideBrowsable","listenTo","_modelAdded","_modelRemoved","_modelsReset","allModels","_filling","setOrderOnRequest","arg","orderOnRequest","getBrowsableUrlQuery","first","partialResponse","reload","lastFilteredAndSortedModels","_fill","_notify","originalSilent","silent","originalReset","originalSuccess","originalError","originalParse","_lastFilterAndSortCriteria","then","populate","setAllModels","compareObjectsForSort","_parseValue","_compareValues","filterAndSortCriteria","isEqual","_filter","_sort","_limit","criterion","_containsValue","_populate","findIndex","_compareArrays","_compareObjects","len","some","blade","makeBrowsableV2Response","parseBrowsedState","paging","sorting","searching","limit","total_count","filtered_count","parseBrowsedItems","serverCallPrecheckFailedMissingConnector","serverCallPrecheckFailedModelIsNew","fav_parent_id","fav_size","fav_ungrouped","Favorite2ColumnModel","resetCollection","cachedColumns","resetFavoritesCollection","key_value_pairs","max_value","min_value","multi_value","required","max_length","min_length","multiline","multilingual","password","getSortByOrderUrlQuery","ClientSideBrowsableMixin","BrowsableV2ResponseMixin","Favorite2ColumnCollection","Favorite2Collection","callCounter","Favorite2GroupModel","favorite_columns","v2Url","makeSyncableFromMultipleSources","syncFromMultipleSources","promises","mergeSources","convertError","convertAjaxError","abortables","abort","when","groups","makeAjaxCall","favoritesCollection","favoritesFetchOptions","_createMergedResponse","tabId","favorite","SyncableFromMultipleSources","Favorite2GroupsCollection","_setupEventPropagation","_propagateFavorite2CollectionOptions","_fetch","saveAll","tabs","groupName","groupId","putUrl","beforeSend","request","counter","tabsResp","at","remove","jqxhrTabs","errorTabs","_serverCallPreCheck","_serverCallUpdateFavorite","ajaxMethod","selected","mobile","force","err","FavoriteModel","addToFavorites","removeFromFavorites","memberId","parentId","makeBrowsableV1Request","isEmptyObject","BrowsableV1RequestMixin","MemberCollection","searchTerm","nodeId","categoryId","search","term","expandFields","memberFilter","memberType","limitClause","memberClause","expandClause","encodedClause","queryClause","finalClauses","makeNodeConnectable","makeNodeAutoFetchable","NodeConnectableMixin","NodeAutoFetchableMixin","makeNodeResource","extraIcons","NodeSpriteModel","className","NodeSpriteCollection","findClass","compareType","nodeSprite","keyValues","findTypeByNode","typeName","spriteName","findClassByNode","nodeSprites","equalsNoCase","mime_type","mimeType","startsWithNoCase","subtype","NodeResourceMixin","NodeAddableTypeCollection","__super__","apiUrl","defaultPageSize","NodeChildren2Collection","ancestors","stop","ancestor","unshift","NodeAncestorCollection","titleTranslated","NodeChildrenColumnModel","NodeChildrenColumnCollection","getColumnModels","colArray","shortColumnName","definition_short","definition_formatted","initialSortingDescending","resetColumns","getV1Columns","columnsFromDefinitionsOrder","idx","getV2Columns","align","Nodes","makeCommandable","makeDelayedCommandable","makeBrowsableV1Response","BrowsableV1ResponseMixin","includeActions","extra","NodeCollection","DelayedCommandableMixin","NodeChildrenCollection","Fetchable","getPermissionLevel","isContainer","versionControlAdvanced","NodePermissionModel","PERMISSION_LEVEL_NONE","permissionsCount","PERMISSION_LEVEL_FULL_CONTROL","PERMISSION_LEVEL_WRITE","PERMISSION_LEVEL_READ","PERMISSION_LEVEL_CUSTOM","getReadPermissions","getWritePermissions","getFullControlPermissions","getPermissionsByLevelExceptCustom","addEmptyAttribute","right_id","apply_to","include_sub_types","queryString","addItemsOptionIndex","addMajorVersionOptionIndex","isAdvancedVersioning","makePermissionResponse","parsePermissionResponse","clearEmptyPermissionModel","permissionsList","child","ownerData","groupData","PermissionResponseMixin","NodeUserPermissionCollection","nodeName","processForEmptyOwner","addPublicAccess","publicAccessModel","addOwnerOrGroup","nodePermissionModel","flag","owner","currentModel","require","configs","_resolveConfigs","ignoreErrors","masks","_resolveMasks","sourceModules","serverModules","ServerModuleModel","ServerModuleCollection","_resolveServerModules","missing","serverModule","sourceModule","SpecificNodeModel","AutoFetchableModel","ParentModel","enableOptions","fullOptions","AutoFetchable","ConnectableModel","Connectable","FetchableModel","IncludingAdditionalResources","NodeAutoFetchableModel","NodeAutoFetchable","NodeConnectableModel","NodeConnectable","NodeResourceModel","NodeResource","ResourceModel","Resource","UploadableModel","Uploadable","makeVersionableV2Response","parseVersionsResponse","id_expand","version_number_name","version_number_name_formatted","VersionsableV2ResponseMixin","VersionModel","ToolItemConfigCollection","ToolItemMaskCollection","manifest","WidgetModel","includeView","includeManifest","includeServerModule","includeToolItems","getDefaultData","_getDefaultPropertyValue","schema","propertySchema","propertyName","_getDefaultPrimitiveValue","serverModulesPromise","toolItemsPromise","_resolveToolItems","toolItemMasksPromise","_resolveToolItemMasks","_resolveWidget","viewPromise","_resolveView","manifestPromise","_resolveManifest","_updateServerModule","_updateActions","widgetData","getModuleData","viewPath","getViewModulePath","View","manifestPath","getManifestModulePath","_needsLocalization","manifestLocalizedPath","getLocalizedManifestModulePath","manifestLocalized","_renderLocalizedManifest","ignoreManifestErrors","toolItems","toolItemMasks","_getModulePrefix","firstSlash","lastSlash","moduleData","modulePrefix","toolbars","localizedManifest","traverseManifest","localizedManifestParent","getLocalizationKey","localizationKey","arrayItem","localizationArrayItem","hasOwnProperty","isLocalizableString","widgets","WidgetCollection","_resolveWidgets","resolvableModels","invoke","PreFlightModel","preflight","URL","StagesModel","updateLocation","jobs","complete","unprocessed_items_list","locations","parentLocation","rules","ClassicNodeModel","urlQuery","ClassicNodeCollection","_getUrl","forced","isForced","isSupported","getUrl","_replaceParameters","expression","classicNodes","AuthenticatorModel","authenticator","AuthenticatorCollection","findByConnection","rule","authenticators","Connector","Authenticator","connectionTimeout","authenticationPending","waitingRequests","restartRequests","overrideBackboneSync","executeSync","pageUnloading","restartRequest","execute","thisObj","executeOptionsArray","originalOptions","extendAjaxOptions","progress","notify","addAbort","isAuthenticated","executor","authenticate","executeWaitingRequests","cancelWaitingRequests","reportError","getConnectionUrl","Accept-Language","setAuthenticationHeaders","timeout","reportSending","lengthComputable","reportProgress","updateAuthenticatedSession","_succeeded","reportSuccess","requestObj","restartDeferred","ajax","unauthenticate","reason","executeRestartRequests","confirmingReload","dialogTitle","alertDialog","showWarning","buttons","Ok","always","setConflictMessage","formatAjaxData","getAjaxContentType","processData","executors","loaded","total","requestContentAuthToken","extendFetchOptions","defaultActionItems","succeeded","failed","syncStorage","session","doAuthenticate","ObjectStorage","items","setItem","v","getItem","removeItem","NamedStorage","storage","os","getContent","content","saveContent","sessionStorage","NamedSessionStorage","rememberTicket","ticketHeader","ticketExpirationHeader","sender","ticket","getResponseHeader","expires","TicketAuthenticator","login","prepareRequest","updateRequestBody","makeRequest","parseResponse","textStatus","authenticateSession","parseParam","username","authenticationHeaders","RequestAuthenticator","InitialHeaderAuthenticator","_reportError","ModalAlert","showError","openSignInDialog","reauthenticating","SignInDialog","BlockingView","dialog","suppressAll","args","resumeAll","InteractiveCredentialsAuthenticator","localStorage","NamedLocalStorage","ensureListener","listenerRegistered","PageLeavingBlocker","isEnabled","messages","originalEvent","returnValue","forceDisabled","disable","forceDisable","SmartNodeModel","SmartNodeCollection","smartNodes","credentials","authorization","formatAuthorizationHeader","rememberCredentials","BasicAuthenticator","check","btoa","unescape","domain","CredentialsAuthenticator","rememberAuthenticationHeaders","initiateLoginSequence","removeIFrame","resumeBlockingView","suppressBlockingView","setDialogStyling","z-index","receiveMessage","urlOrigin","removeEventListener","timer","clearTimeout","addEventListener","Marionette","DialogView","reauthPage","iFrame","standardHeader","fullSize","RegularHeaderAuthenticator","RedirectingFormAuthenticator","enableInteractiveAuthenticator","enableRedirectingFormAuthenticator","forceBasicAuthenticator","preferBasicAuthenticator","preferRegularHeaderAuthenticator","FallbackAuthenticator","decides","and","preferRegularHeaderAuthentication"],"mappings":"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CA,iDACA,6BACA,mCACA,qBACA,sBACA,6BACA,8BACA,wBACA,6BACA,8BACA,yBACA,8BACA,+BACA,6BACA,qBACA,kCACA,sCACA,sBACA,gDACA,8BACA,4CACA,4BACA,4BACA,iCACA,kCACA,2BACA,oBACA,8CACA,6CACA,2DACA,uDACA,qDACA,gCAGA,wCACA,0CACA,yCACA,0CACA,0CACA,uDACA,mDACA,mDACA,iDACA,+CACA,yFACA,iEACA,6DACA,uDACA,6CACA,yDACA,uDACA,2DACA,yFACA,iDACA,2EACA,yDACA,yEACA,uDACA,+CACA,4BACA,0BACA,wBACA,6CACA,gCACA,8BACA,2BACA,uBACA,yBACA,2BACA,sBACA,sBACA,sBACA,uCACA,kCACA,sDACA,mDAGA,kBACA,yCACA,uBACA,gCACA,kCACA,iCACA,0BACA,iCACA,sCACA,iBACA,2BACA,+BACA,iCACA,0BACA,yBACA,gCACA,kCACA,kCACA,qCACA,wBACA,+BACA,0BACA,0BACA,iBAGA,0CACA,2CACA,gDACA,gDACA,sDACA,yDACA,kEACA,yDACA,kDACA,iDACA,2BACA,gCACA,iCACA,sCACA,kCAIA,sDACA,0CACA,wCACA,iDACA,kDACA,wDACA,8DACA","file":"csui-models.js","sourcesContent":["csui.define('csui/utils/log/console.re.appender',['csui/lib/log4javascript'], function (log4javascript) {\r\n  'use strict';\r\n\r\n  function ConsoleReAppender() {}\r\n\r\n  ConsoleReAppender.prototype = Object.create(log4javascript.Appender.prototype);\r\n  ConsoleReAppender.prototype.layout = new log4javascript.NullLayout();\r\n  ConsoleReAppender.prototype.threshold = log4javascript.Level.DEBUG;\r\n\r\n  ConsoleReAppender.prototype.append = function(loggingEvent) {\r\n    var Level = log4javascript.Level,\r\n        appender = this;\r\n\r\n    var getFormattedMessage = function() {\r\n      var layout = appender.getLayout();\r\n      var formattedMessage = layout.format(loggingEvent);\r\n      if (layout.ignoresThrowable() && loggingEvent.exception) {\r\n        formattedMessage += loggingEvent.getThrowableStrRep();\r\n      }\r\n      return formattedMessage;\r\n    };\r\n\r\n    if (window.console && window.console.re && window.console.re.log) {\r\n      var formattedMesage = getFormattedMessage();\r\n      // Log to Firebug using its logging methods or revert to the console.log\r\n      // method in Safari\r\n      if (window.console.re.debug && Level.DEBUG.isGreaterOrEqual(loggingEvent.level)) {\r\n        window.console.re.debug(formattedMesage);\r\n      } else if (window.console.re.info && Level.INFO.equals(loggingEvent.level)) {\r\n        window.console.re.info(formattedMesage);\r\n      } else if (window.console.re.warn && Level.WARN.equals(loggingEvent.level)) {\r\n        window.console.re.warn(formattedMesage);\r\n      } else if (window.console.re.error && loggingEvent.level.isGreaterOrEqual(Level.ERROR)) {\r\n        window.console.re.error(formattedMesage);\r\n      } else {\r\n        window.console.re.log(formattedMesage);\r\n      }\r\n    }\r\n  };\r\n\r\n  ConsoleReAppender.prototype.group = function(name) {\r\n    if (window.console && window.console.re && window.console.re.group) {\r\n      window.console.re.group(name);\r\n    }\r\n  };\r\n\r\n  ConsoleReAppender.prototype.groupEnd = function() {\r\n    if (window.console && window.console.re && window.console.re.groupEnd) {\r\n      window.console.re.groupEnd();\r\n    }\r\n  };\r\n\r\n  ConsoleReAppender.prototype.toString = function() {\r\n    return 'ConsoleReAppender';\r\n  };\r\n\r\n  return ConsoleReAppender;\r\n\r\n});\n","csui.define('csui/utils/log',['module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/lib/log4javascript', 'csui/utils/log/console.re.appender'\r\n], function (module, $, _, log4javascript, ConsoleReAppender) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    console: true,\r\n    consoleRe: false,\r\n    level: 'WARN',\r\n    page: false,\r\n    performanceTimeStamp: false,\r\n    moduleNameStamp: false,\r\n    server: false,\r\n    window: false,\r\n    modules: {}\r\n  });\r\n\r\n  var consoleEnabled = typeof console !== 'undefined' && config.console,\r\n      loggerEnabled = config.window || config.page || config.server ||\r\n                      config.consoleRe,\r\n      enabled = consoleEnabled || loggerEnabled,\r\n      thresholds = {\r\n        ERROR: 4,\r\n        WARN: 3,\r\n        INFO: 2,\r\n        DEBUG: 1,\r\n        ALL: 1\r\n      },\r\n      threshold = getThreshold(config.level);\r\n\r\n  log4javascript.setDocumentReady();\r\n  var logger = log4javascript.getLogger(),\r\n      appender;\r\n  if (loggerEnabled) {\r\n    logger = log4javascript.getLogger();\r\n    //~ if (config.console) {\r\n    //~ var appender = new log4javascript.BrowserConsoleAppender();\r\n    //~ appender.setLayout(new log4javascript.PatternLayout(\r\n    //~ '%d{HH:mm:ss.SSS} %-5p - %m{1}%n'));\r\n    //~ logger.addAppender(appender);\r\n    //~ }\r\n    if (config.window) {\r\n      appender = new log4javascript.PopUpAppender();\r\n      appender.setNewestMessageAtTop(false);\r\n      appender.setScrollToLatestMessage(true);\r\n      //~ appender.setShowHideButton(true);\r\n      //~ appender.setShowCloseButton(true);\r\n      appender.setLayout(new log4javascript.PatternLayout(\r\n          '%d{HH:mm:ss.SSS} %-5p - %m{1}'));\r\n      logger.addAppender(appender);\r\n    }\r\n    if (config.page) {\r\n      //~ var placeholderID = config.placeholder || 'csui_log';\r\n      //~ var placeholder = $(placeholderID);\r\n      //~ if (placeholder.length == 0)\r\n      //~ placeholder = $('<div id='' + placeholder + ''></div>')\r\n      //~ .appendTo($(document.body));\r\n      appender = new log4javascript.InPageAppender(config.placeholder);\r\n      appender.setNewestMessageAtTop(false);\r\n      appender.setScrollToLatestMessage(true);\r\n      appender.setShowHideButton(true);\r\n      appender.setShowCommandLine(true);\r\n      appender.setLayout(new log4javascript.PatternLayout(\r\n          '%d{HH:mm:ss.SSS} %-5p - %m{1}'));\r\n      logger.addAppender(appender);\r\n    }\r\n    if (config.consoleRe) {\r\n      appender = new ConsoleReAppender();\r\n      appender.setLayout(new log4javascript.PatternLayout(\r\n          '%d{HH:mm:ss.SSS} %-5p - %m{1}'));\r\n      logger.addAppender(appender);\r\n    }\r\n    if (config.server) {\r\n      appender = new log4javascript.AjaxAppender(config.server.url);\r\n      appender.setLayout(new log4javascript.JsonLayout());\r\n      appender.setTimed(true);\r\n      appender.setTimerInterval(500);\r\n      appender.setSendAllOnTimer(true);\r\n      appender.setBatchSize(10);\r\n      appender.setWaitForResponse(false);\r\n      appender.setSendAllOnUnload(true);\r\n      var headers = _.extend({\r\n        'content-type': 'application/json'\r\n      }, config.server.headers);\r\n      _.each(_.keys(headers), function (name) {\r\n        appender.addHeader(name, headers[name]);\r\n      });\r\n      logger.addAppender(appender);\r\n    }\r\n  }\r\n  logger.setLevel(log4javascript.Level.DEBUG);\r\n\r\n  function log(target) {\r\n    if (!(this instanceof log)) {\r\n      return new log(target);\r\n    }\r\n    this._target = target;\r\n    _.find(config.modules, function (settings, pattern) {\r\n      if (matchModule(pattern, target) && settings.level) {\r\n        this._threshold = getThreshold(settings.level);\r\n      }\r\n    }, this);\r\n  }\r\n\r\n  var prototype = {\r\n\r\n    _threshold: threshold,\r\n\r\n    config: config,\r\n\r\n    enabled: enabled,\r\n\r\n    last: undefined,\r\n\r\n    can: function (level) {\r\n      return this._threshold <= getThreshold(level);\r\n    },\r\n\r\n    debug: function () {\r\n      if (enabled && this._threshold === thresholds.DEBUG) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.debug(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'DBG  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    info: function () {\r\n      if (enabled && this._threshold <= thresholds.INFO) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.info(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'INF  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    warn: function () {\r\n      if (enabled && this._threshold <= thresholds.WARN) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.warn(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'WRN  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    error: function () {\r\n      if (enabled) {\r\n        var message = formatMessage.apply(this, arguments);\r\n        if (loggerEnabled) {\r\n          logger.error(message);\r\n        }\r\n        if (consoleEnabled) {\r\n          this.last = 'ERR  ' + message;\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    },\r\n\r\n    getObjectName: function (object) {\r\n      return object != null ? Object.getPrototypeOf(object).constructor.name :\r\n             object === undefined ? 'undefined' : object === null ? 'null' : '';\r\n    },\r\n\r\n    getStackTrace: function (frameCountToSkip) {\r\n      var stack;\r\n      try {\r\n        throw new Error();\r\n      } catch (error) {\r\n        stack = error.stack;\r\n      }\r\n      if (stack) {\r\n        var lines = stack.split('\\n');\r\n        if (lines && lines.length>0) {\r\n          if (!lines[0].match(/\\.js/)) {\r\n            lines = lines.slice(1);\r\n          }\r\n          stack = lines.slice(frameCountToSkip === 0 ? 0 : (frameCountToSkip || 1)).join('\\n');\r\n        }\r\n      } else {\r\n        stack = 'at unknown place (no stack trace available)';\r\n      }\r\n      return stack;\r\n    }\r\n\r\n  };\r\n\r\n  function matchModule(pattern, target) {\r\n    // Handle alone wildcards separately; they are handled depending on their\r\n    // combination with slash (module path separator) below\r\n    if (pattern === '**') {\r\n      pattern = '.*';\r\n    } else if (pattern === '*') {\r\n      pattern = '[^/]*';\r\n    } else {\r\n      pattern = pattern.replace(/^\\*(?!\\*)/g, '#'); // '*some...'\r\n      pattern = pattern.replace(/([^*])\\*$/g, '$1#'); // '...some*'\r\n      pattern = pattern.replace(/\\/\\*(?!\\*)/g, '/#'); // '.../*some'\r\n      pattern = pattern.replace(/([^*])\\*\\//g, '$1#/'); // 'some*/...'\r\n      pattern = pattern.replace(/\\/\\*\\*/g, '(?:/.*)?'); // '.../**'\r\n      pattern = pattern.replace(/\\*\\*\\//g, '(?:.*/)?'); // '**/...'\r\n      // If we put the pattern with asterisks at once there, following\r\n      // replacements would process it again and it would be too complicated\r\n      // to avoid it; for example, JavaScript knows no look-behind assertions\r\n      pattern = pattern.replace(/#/g, '[^/]*'); // '[^/]+' -> '[^/]*'\r\n    }\r\n    pattern = '^' + pattern + '$';\r\n    return new RegExp(pattern).test(target);\r\n  }\r\n\r\n  function getThreshold(level) {\r\n    var threshold = thresholds[(level || 'WARN').toUpperCase()];\r\n    if (!threshold) {\r\n      throw new Error('invalid log level: \"' + level + '\".');\r\n    }\r\n    return threshold;\r\n  }\r\n\r\n  function formatMessage(message) {\r\n    if (message !== undefined) {\r\n      if (typeof message === 'string') {\r\n        message = _.str.sformat.apply(this, arguments);\r\n      } else {\r\n        message = message !== null ? message.toString() : 'null';\r\n      }\r\n      if (config.performanceTimeStamp) {\r\n        message = getTimePerformanceStamp() + message;\r\n      }\r\n      if (config.moduleNameStamp && this._target) {\r\n        message += ' (' + this._target + ')';\r\n      }\r\n    } else {\r\n      message = '';\r\n    }\r\n    return message;\r\n  }\r\n\r\n  function getTimePerformanceStamp() {\r\n    var seconds = (window.performance.now() / 1000 % 10).toFixed(3);\r\n    return '[' + seconds + '] ';\r\n  }\r\n\r\n  _.extend(log, prototype);\r\n  _.extend(log.prototype, prototype);\r\n\r\n  return log;\r\n\r\n});\r\n\n","csui.define('csui/utils/url',[\r\n  'csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n  'use strict';\r\n\r\n  function Url(url) {\r\n    this.raw = url;\r\n  }\r\n\r\n  Url.prototype = {\r\n    raw: undefined,\r\n\r\n    isValid: function () {\r\n      return this.raw ? this.raw.match(Url.re_weburl) : false;\r\n    },\r\n\r\n    isAbsolute: function () {\r\n      return this.raw ? this.raw.match(/^.*\\/\\//) : false;\r\n    },\r\n\r\n    getAbsolute: function () {\r\n      if (this.isAbsolute()) {\r\n        return this.raw;\r\n      }\r\n      // IE11 on Windows 10 2015 LTSB dows not implement location.origin.\r\n      var origin = location.origin || new Url(location.href).getOrigin();\r\n      return Url.combine(origin, this.raw);\r\n    },\r\n\r\n    getProtocol: function () {\r\n      var url = this.isAbsolute() && this.raw.indexOf('//') !== 0 ?\r\n                this.raw : window.location.href;\r\n      return url.toLowerCase().substring(0, url.indexOf(':'));\r\n    },\r\n\r\n    getHost: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/([^:\\/]+)/);\r\n      return match && match[1];\r\n    },\r\n\r\n    getPort: function () {\r\n      var url = this.getAbsolute().toLowerCase(),\r\n          start = url.match(/^.*\\/\\/([^\\/]+)/),\r\n          port = start && start[1].match(/:([^\\/]+)/);\r\n      return port ? parseInt(port[1], 10) : url.indexOf('https') === 0 ? 443 : 80;\r\n    },\r\n\r\n    getOrigin: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/[^\\/]+/);\r\n      return match && match[0];\r\n    },\r\n\r\n    getPath: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/[^\\/]+(\\/[^?]+)/);\r\n      return match && match[1];\r\n    },\r\n\r\n    getVirtualDirectory: function () {\r\n      var match = this.getAbsolute().match(/^.*\\/\\/[^\\/]+\\/[^\\/]+/);\r\n      return match && match[0];\r\n    },\r\n\r\n    getCgiScript: function () {\r\n      var url = this.getAbsolute();\r\n      // find the index of the \"/api/v1\" suffix in the URL.\r\n      var apiSuffix = url.length - 7;\r\n      if (url.charAt(this.raw.length - 1) === '/') {\r\n        --apiSuffix;\r\n      }\r\n      if (url.lastIndexOf('/api/v1') === apiSuffix) {\r\n        return url.substr(0, apiSuffix);\r\n      }\r\n      // Original functionality expecting always\r\n      // \"/folder/script\" before \"/api/v1\" on the URL path.\r\n      var match = url.match(/^.*\\/\\/[^\\/]+\\/[^\\/]+\\/[^\\/]+/);\r\n      return match && match[0];\r\n    },\r\n\r\n    getQuery: function () {\r\n      var match = this.getAbsolute().match(/\\?(.+)/);\r\n      return match && match[1];\r\n    },\r\n\r\n    getApiBase: function (version) {\r\n      version || (version = 'v1');\r\n      typeof version === 'number' && (version = 'v' + version);\r\n      return this.getCgiScript() + '/api/' + version + '/';\r\n    },\r\n\r\n    toString: function () {\r\n      return this.raw;\r\n    }\r\n  };\r\n  Url.version = '1.0';\r\n\r\n  Url.combine = function () {\r\n    var url = '';\r\n    for (var i = 0; i < arguments.length; ++i) {\r\n      var part = arguments[i],\r\n          path = part !== undefined && part !== null ? part.toString() : '';\r\n      // IE8 does not support accessing string characters as an array (path[0]).\r\n      if (path.charAt(0) == '/') {\r\n        url += url && url.charAt(url.length - 1) == '/' ? path.substring(1) :\r\n               path;\r\n      } else {\r\n        if (i > 0 && !(url && url.charAt(url.length - 1) == '/') &&\r\n            path.length > 0) {\r\n          url += '/';\r\n        }\r\n        url += path;\r\n      }\r\n    }\r\n    return url;\r\n  };\r\n\r\n  Url.makeMultivalueParameter = function (name, values) {\r\n    if (values && values.length) {\r\n      values = _.map(values, encodeURIComponent);\r\n      return name + '=' + values.join('&' + name + '=');\r\n    }\r\n    return '';\r\n  };\r\n\r\n  // Supports either object literals {param: value, ...}\r\n  // or already serialized strings 'param=value[&...]'\r\n  Url.combineQueryString = function () {\r\n    var query = {},\r\n        i, part;\r\n    for (i = 0; i < arguments.length; ++i) {\r\n      part = arguments[i];\r\n      if (_.isObject(part)) {\r\n        _.extend(query, part);\r\n      }\r\n    }\r\n    // Use traditional array serialization - without appending\r\n    // the '[]' at the end of the property name\r\n    query = $.param(query, true);\r\n    for (i = 0; i < arguments.length; ++i) {\r\n      part = arguments[i];\r\n      if (_.isString(part) && part) {\r\n        if (query) {\r\n          query += '&';\r\n        }\r\n        query += part;\r\n      }\r\n    }\r\n    return query;\r\n  };\r\n\r\n  Url.appendQuery = function (url, query) {\r\n    if (query) {\r\n      if (url.indexOf('?') >= 0) {\r\n        var lastCharacter = url[url.length - 1];\r\n        if (lastCharacter !== '?' && lastCharacter !== '&') {\r\n          url += '&';\r\n        }\r\n      } else {\r\n        url += '?';\r\n      }\r\n      url += query;\r\n    }\r\n    return url;\r\n  };\r\n\r\n  //\r\n  // Regular Expression for URL validation\r\n  //\r\n  // Author: Diego Perini\r\n  // Updated: 2010/12/05\r\n  // License: MIT\r\n  //\r\n  // Copyright (c) 2010-2013 Diego Perini (http://www.iport.it)\r\n  //\r\n  // Permission is hereby granted, free of charge, to any person\r\n  // obtaining a copy of this software and associated documentation\r\n  // files (the \"Software\"), to deal in the Software without\r\n  // restriction, including without limitation the rights to use,\r\n  // copy, modify, merge, publish, distribute, sublicense, and/or sell\r\n  // copies of the Software, and to permit persons to whom the\r\n  // Software is furnished to do so, subject to the following\r\n  // conditions:\r\n  //\r\n  // The above copyright notice and this permission notice shall be\r\n  // included in all copies or substantial portions of the Software.\r\n  //\r\n  // THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND,\r\n  // EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES\r\n  // OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n  // NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT\r\n  // HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY,\r\n  // WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING\r\n  // FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR\r\n  // OTHER DEALINGS IN THE SOFTWARE.\r\n  //\r\n  // the regular expression composed & commented\r\n  // could be easily tweaked for RFC compliance,\r\n  // it was expressly modified to fit & satisfy\r\n  // these test for an URL shortener:\r\n  //\r\n  //   http://mathiasbynens.be/demo/url-regex\r\n  //\r\n  // Notes on possible differences from a standard/generic validation:\r\n  //\r\n  // - utf-8 char class take in consideration the full Unicode range\r\n  // - TLDs have been made mandatory so single names like \"localhost\" fails\r\n  // - protocols have been restricted to ftp, http and https only as requested\r\n  //\r\n  // Changes:\r\n  //\r\n  // - IP address dotted notation validation, range: 1.0.0.0 - 223.255.255.255\r\n  //   first and last IP address of each class is considered invalid\r\n  //   (since they are broadcast/network addresses)\r\n  //\r\n  // - Added exclusion of private, reserved and/or local networks ranges\r\n  //\r\n  // - Made starting path slash optional (http://example.com?foo=bar)\r\n  //\r\n  // - Allow a dot (.) at the end of hostnames (http://example.com.)\r\n  //\r\n  // Compressed one-line versions:\r\n  //\r\n  // Javascript version\r\n  //\r\n  // /^(?:(?:https?|ftp):\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$/i\r\n  //\r\n  // PHP version\r\n  //\r\n  // _^(?:(?:https?|ftp)://)(?:\\S+(?::\\S*)?@)?(?:(?!(?:10|127)(?:\\.\\d{1,3}){3})(?!(?:169\\.254|192\\.168)(?:\\.\\d{1,3}){2})(?!172\\.(?:1[6-9]|2\\d|3[0-1])(?:\\.\\d{1,3}){2})(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(?:(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}0-9]-*)*[a-z\\x{00a1}-\\x{ffff}0-9]+)*(?:\\.(?:[a-z\\x{00a1}-\\x{ffff}]{2,}))\\.?)(?::\\d{2,5})?(?:[/?#]\\S*)?$_iuS\r\n  //\r\n  Url.re_weburl = new RegExp(\r\n      '^' +\r\n      // protocol identifier\r\n      '(?:(?:https?|ftp)://)' +\r\n      // user:pass authentication\r\n      '(?:\\\\S+(?::\\\\S*)?@)?' +\r\n      '(?:' +\r\n      // IP address exclusion\r\n      // private & local networks\r\n      '(?!(?:10|127)(?:\\\\.\\\\d{1,3}){3})' +\r\n      '(?!(?:169\\\\.254|192\\\\.168)(?:\\\\.\\\\d{1,3}){2})' +\r\n      '(?!172\\\\.(?:1[6-9]|2\\\\d|3[0-1])(?:\\\\.\\\\d{1,3}){2})' +\r\n      // IP address dotted notation octets\r\n      // excludes loopback network 0.0.0.0\r\n      // excludes reserved space >= 224.0.0.0\r\n      // excludes network & broacast addresses\r\n      // (first & last IP address of each class)\r\n      '(?:[1-9]\\\\d?|1\\\\d\\\\d|2[01]\\\\d|22[0-3])' +\r\n      '(?:\\\\.(?:1?\\\\d{1,2}|2[0-4]\\\\d|25[0-5])){2}' +\r\n      '(?:\\\\.(?:[1-9]\\\\d?|1\\\\d\\\\d|2[0-4]\\\\d|25[0-4]))' +\r\n      '|' +\r\n      // host name\r\n      '(?:(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)' +\r\n      // domain name\r\n      '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff0-9]-*)*[a-z\\\\u00a1-\\\\uffff0-9]+)*' +\r\n      // TLD identifier\r\n      '(?:\\\\.(?:[a-z\\\\u00a1-\\\\uffff]{2,}))' +\r\n      // TLD may end with dot\r\n      '\\\\.?' +\r\n      ')' +\r\n      // port number\r\n      '(?::\\\\d{2,5})?' +\r\n      // resource path\r\n      '(?:[/?#]\\\\S*)?' +\r\n      '$', 'i'\r\n  );\r\n\r\n  return Url;\r\n});\r\n\n","csui.define('csui/utils/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/utils/impl/nls/root/lang',{\r\n\r\n  // base\r\n  ColumnMemberName2: \"{1} {0}\",\r\n  ColumnMemberName3: \"{1} {2} {0}\",\r\n  sizeInBytes: \"{0} bytes\",\r\n\r\n  // errormessage, messagehelper\r\n  ErrorUnknown: \"Unknown error.\",\r\n  InvalidResponse: \"Invalid response received.\",\r\n  ErrorStatiNice: [\"Confirm\", \"Error\", \"Warning\", \"Hint\", \"Information\"],\r\n  ErrorHtmlTpl: \"<span class='msgIcon <%= statusPlain %>Icon'><%= statusNice %>: <%= msg %></span><br>\",\r\n  ErrorStringTpl: \"<%= statusNice %>: <%= msg %>;\\n\",\r\n\r\n  // connector\r\n  AuthenticationFailureDialogTitle: \"Authentication failure\",\r\n  SessionExpiredDialogTitle: \"Session expired\",\r\n  AuthenticationFailureDialogText: \"The page will be reloaded and you may need to sign in again.\",\r\n\r\n  // nodesprites - node types\r\n  NodeTypeSearchQuery: 'Search',\r\n  NodeTypeURL: 'Web address',\r\n  // nodesprites - general formats\r\n  NodeTypeAudio: 'Audio',\r\n  NodeTypeCompressed: 'Compressed File',\r\n  NodeTypeImage: 'Image',\r\n  NodeTypeText: 'Text Document',\r\n  NodeTypeHtml: 'Html Document',\r\n  NodeTypeUnknown: 'Unknown',\r\n  NodeTypeVideo: 'Video',\r\n  // nodesprites - application formats\r\n  NodeTypeDOC: 'Microsoft Word',\r\n  NodeTypePDF: 'Portable Document Format',\r\n  NodeTypePPT: 'Microsoft Powerpoint',\r\n  NodeTypePresentation: 'Presentation',\r\n  NodeTypeXLS: 'Microsoft Excel',\r\n  NodeTypeSpreadsheet: 'Spreadsheet',\r\n  NodeTypeFormula: 'Formula',\r\n  NodeTypePublisher: 'Microsoft Publisher',\r\n  NodeTypeVisio: 'Microsoft Visio',\r\n  NodeTypeMPP: 'Microsoft Project',\r\n  NodeTypeONE: 'Microsoft OneNote',\r\n\r\n  NoConnectivity: \"No connectivity\",\r\n  NetworkError: \"Network communication failed.\",\r\n  resourceConflict: 'Due to an edit conflict, your changes could not be saved. Another user has changed the same object. Reload the page to reflect the latest changes.',\r\n  Home: 'Home'\r\n});\r\n\n","\n","csui.define('csui/utils/errormessage',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\",\r\n  \"csui/lib/backbone\", \"csui/utils/log\", \"csui/utils/url\",\r\n  'i18n!csui/utils/impl/nls/lang'\r\n], function (module, $, _, Backbone, log, Url, lang) {\r\n  \"use strict\";\r\n\r\n  // MessageType\r\n  // -----------\r\n\r\n  var Type = {\r\n    Confirm: 0,\r\n    Error: 1,\r\n    Warning: 2,\r\n    Hint: 3,\r\n    Info: 4\r\n  };\r\n\r\n  // Message\r\n  // -------\r\n\r\n  var Message = Backbone.Model.extend({\r\n\r\n    constructor: function Message(attributes) {\r\n      //debugger;\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      if (attributes instanceof Error) {\r\n        this.attributes.message = attributes.message;\r\n        this.attributes.name = attributes.name;\r\n      }\r\n    },\r\n\r\n    defaults: {\r\n      type: Type.Error,\r\n      name: '',\r\n      message: lang.ErrorUnknown\r\n    },\r\n\r\n    getType: function () {\r\n      return this.get('type');\r\n    },\r\n\r\n    getName: function () {\r\n      return this.get('name');\r\n    },\r\n\r\n    getMessage: function () {\r\n      return this.get('message');\r\n    }\r\n  });\r\n\r\n  // ErrorMessage\r\n  // ------------\r\n\r\n  var ErrorMessage = Message.extend({\r\n    constructor: function ErrorMessage(attributes) {\r\n      Message.Message.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    defaults: {\r\n      type: Type.Error,\r\n      message: lang.ErrorUnknown\r\n    }\r\n  });\r\n\r\n  // RequestErrorMessage\r\n  //--------------------\r\n\r\n  var RequestErrorMessage = ErrorMessage.extend({\r\n    defaults: {\r\n      statusCode: undefined,\r\n      statusText: undefined,\r\n      errorDetails: undefined\r\n    },\r\n\r\n    constructor: function RequestErrorMessage(error) {\r\n      Message.ErrorMessage.prototype.constructor.apply(this, arguments);\r\n      if (error) {\r\n        if (error.status != null) {\r\n          // Allow passing in a jQuery request object for convenience.\r\n          this.statusCode = error.status;\r\n          this.statusText = error.statusText;\r\n          if (error.responseText) {\r\n            try {\r\n              error.responseJSON = JSON.parse(error.responseText);\r\n            } catch (failure) {\r\n              log.warn(\"Parsing error response failed: {0}.\", failure)\r\n              && console.warn(log.last);\r\n            }\r\n          }\r\n          if (error.responseJSON) {\r\n            var data = error.responseJSON;\r\n            this.message = data && data.error;\r\n            if (!this.message) {\r\n              this.message = error.responseText;\r\n            }\r\n            this.errorDetails = data && data.errorDetail;\r\n          }\r\n          if (!this.message) {\r\n            if (this.statusCode === 0) {\r\n              this.message = lang.NetworkError;\r\n            } else {\r\n              this.message = lang.InvalidResponse;\r\n            }\r\n          }\r\n          if (error.settings && error.settings.url) {\r\n            this.method = error.settings.type;\r\n            this.url = error.settings.url;\r\n          }\r\n        } else if (typeof error.error === 'object') {\r\n          // Allow passing in a data object with error description for convenience.\r\n          this.message = error.error;\r\n          this.errorDetails = error.errorDetail;\r\n        } else if (error instanceof Backbone.Model) {\r\n          // Allow passing an Model for convenience, but this is filled with Error data. weird.\r\n          this.message = error.message || error.get('error');\r\n          this.errorDetails = error.errorDetails || error.errorDetail || error.get('errorDetails') || error.get('errorDetail');\r\n        } else if (error instanceof Error) {\r\n          // Allow passing an Error instance for convenience.\r\n          this.message = error.message;\r\n        } else {\r\n          // Expect the attributes of this error object passed in.\r\n          _.extend(this, error);\r\n        }\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  RequestErrorMessage.prototype.toString = function () {\r\n    var punctuation = /[.!?:;,]$/;\r\n    var trim = /\\s+$/;\r\n    var message = \"\";\r\n    if (this.message) {\r\n      message = this.message;\r\n      message.replace(trim, \"\");\r\n      if (!message.match(punctuation)) {\r\n        message += \".\";\r\n      }\r\n    }\r\n    if (this.errorDetails) {\r\n      if (message) {\r\n        message += \"\\r\\n\";\r\n      }\r\n      message += this.errorDetails;\r\n      message.replace(trim, \"\");\r\n      if (!message.match(punctuation)) {\r\n        message += \".\";\r\n      }\r\n    }\r\n    if (!message) {\r\n      if (this.statusText) {\r\n        if (message) {\r\n          message += \"\\r\\n\";\r\n        }\r\n        message += this.statusText;\r\n      }\r\n      if (this.statusCode > 0) {\r\n        if (message) {\r\n          message += \"\\r\\n \";\r\n        }\r\n        message += \"(\" + this.statusCode + \")\";\r\n      }\r\n    }\r\n    if (!message) {\r\n      message = lang.ErrorUnknown;\r\n    }\r\n    return message;\r\n  };\r\n\r\n  RequestErrorMessage.version = '1.0';\r\n\r\n  // Exports\r\n  // -------\r\n\r\n  Message = {\r\n    verion: '1.0',\r\n    Type: Type,\r\n    Message: Message,\r\n    ErrorMessage: ErrorMessage,\r\n    RequestErrorMessage: RequestErrorMessage\r\n  };\r\n\r\n  return Message;\r\n\r\n});\r\n\n","csui.define('csui/utils/messagehelper',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/utils/errormessage\", 'i18n!csui/utils/impl/nls/lang'\r\n], function (module, $, _, Backbone, log, Message, Lang) {\r\n  \"use strict\";\r\n\r\n  log = log(module.id);\r\n\r\n  // MessageHelper\r\n  // ------------\r\n\r\n  var ts = \"0.3s\";\r\n  // as we implement animation fix for top property, we use styles here and not css classes.\r\n  var animationShow = {\"-webkit-transition\": \"top \" + ts, \"transition\": \"top \" + ts};\r\n  var animationHide = {\"-webkit-transition\": \"top \" + ts, \"transition\": \"top \" + ts};\r\n  var animationNone = {\"-webkit-transition\": \"\", \"transition\": \"\"};\r\n  var animationFadeOut = {\r\n    \"-webkit-transition\": \"opacity \" + ts,\r\n    \"transition\": \"opacity \" + ts\r\n  };\r\n\r\n  var MessageHelper = Backbone.Collection.extend({\r\n    model: Message.Message,\r\n    title: '',\r\n\r\n    showMessages: function (reset, show) {\r\n      log.warn(\r\n          'This method has been deprecated and will be removed in future. ' +\r\n          'Please, use MoalAler or GlobalMessaage to report errors.')\r\n      && console.warn(log.last);\r\n\r\n      var title = Lang.ErrorStatiNice[this.getStatus()],\r\n          showit = (show !== undefined) ? show : true;\r\n\r\n      this.trigger(\"showErrors\", this.groupBy('type'), this.toHtml(), title,\r\n          showit);\r\n      reset && this.reset();\r\n    },\r\n\r\n    addMessage: function (txt, type, title) {\r\n      this.title = title || '';\r\n      type = type || Message.Type.Error;\r\n      var msg = new Message.Message({\r\n        type: type,\r\n        message: txt\r\n      });\r\n      return this.add([msg]);\r\n    },\r\n\r\n    showErrors: function (reset, show) {\r\n      return this.showMessages(reset, show);\r\n    },\r\n\r\n    addError: function (error) {\r\n      var errmsg = new Message.ErrorMessage();\r\n      errmsg.message = error.message;\r\n      return this.add([errmsg]);\r\n    },\r\n\r\n    addErrorMessage: function (errorts) {\r\n      return this.add([errorts]);\r\n    },\r\n\r\n    getStatus: function () {\r\n      return this.sortBy('type')[0].get('type');\r\n    },\r\n\r\n    clear: function () {\r\n      return this.reset();\r\n    },\r\n\r\n    hasMessages: function () {\r\n      return (this.length > 0);\r\n    },\r\n\r\n    getMessages: function () {\r\n      return this.groupBy('type');\r\n    },\r\n\r\n    toHtml: function () {\r\n      var template = _.template(Lang.ErrorHtmlTpl),\r\n          html = [];\r\n\r\n      _.each(this.groupBy('type'), function (msgType) {\r\n        _.each(msgType.reverse(), function (msg) {\r\n          html += template({\r\n            statusPlain: _.keys(Message.Type)[msg.get('type')],\r\n            statusNice: Lang.ErrorStatiNice[msg.get('type')],\r\n            msg: msg.get('message')\r\n          });\r\n        });\r\n      });\r\n\r\n      return html;\r\n    },\r\n\r\n    removeField: function (viewel, selector, values) {\r\n      var elem = viewel.find(selector);\r\n      values.forEach(function (oldval) {\r\n        var oldclass = selector + \"-\" + oldval;\r\n        var oldel = elem.find(oldclass);\r\n        if (!oldel.hasClass(\"binf-hidden\")) {\r\n          oldel.addClass(\"binf-hidden\");\r\n        }\r\n      });\r\n    },\r\n    switchField: function (viewel, selector, value, values) {\r\n      var elem = viewel.find(selector);\r\n      var newclass = selector + \"-\" + value;\r\n      var newel = elem.find(newclass);\r\n      var changed = false;\r\n      if (newel.hasClass(\"binf-hidden\")) {\r\n        values.forEach(function (oldval) {\r\n          var oldclass = selector + \"-\" + oldval;\r\n          if (newclass != oldclass) {\r\n            var oldel = elem.find(oldclass);\r\n            if (!oldel.hasClass(\"binf-hidden\")) {\r\n              oldel.addClass(\"binf-hidden\");\r\n            }\r\n          }\r\n        });\r\n        newel.removeClass(\"binf-hidden\");\r\n        changed = true;\r\n      }\r\n      return {changed: changed, element: newel};\r\n    },\r\n\r\n    transitionEnd: _.once(\r\n        function () {\r\n          var transitions = {\r\n                transition: 'transitionend',\r\n                WebkitTransition: 'webkitTransitionEnd',\r\n                MozTransition: 'transitionend',\r\n                OTransition: 'oTransitionEnd otransitionend'\r\n              },\r\n              element = document.createElement('div'),\r\n              transition;\r\n          for (transition in transitions) {\r\n            if (typeof element.style[transition] !== 'undefined') {\r\n              return transitions[transition];\r\n            }\r\n          }\r\n        }\r\n    ),\r\n\r\n    createPanel: function (globals, Panel, options, oldPanel) {\r\n      var newPanel = new Panel(options);\r\n      newPanel.$el.removeClass(\"binf-panel binf-panel-default\");\r\n      newPanel.$el.addClass(\"csui-global-message\");\r\n      globals.classNames && newPanel.$el.addClass(globals.classNames);\r\n\r\n      // render panel\r\n      newPanel.render();\r\n\r\n      // take state from old panel\r\n      if (oldPanel) {\r\n        if (oldPanel.$el.hasClass(\"binf-hidden\") !=\r\n            newPanel.$el.hasClass(\"binf-hidden\")) {\r\n          newPanel.$el.toggleClass(\"binf-hidden\");\r\n        }\r\n        var collapsed = oldPanel.$el.hasClass(\"csui-collapsed\");\r\n        if (collapsed != newPanel.$el.hasClass(\"csui-collapsed\")) {\r\n          if (collapsed) {\r\n            newPanel.doCollapse(false);\r\n          } else {\r\n            newPanel.doExpand(false);\r\n          }\r\n        }\r\n      }\r\n      return newPanel;\r\n    },\r\n\r\n    activatePanel: function (newPanel, relatedView, parentView, oldPanel) {\r\n      if (!oldPanel && !newPanel.$el.hasClass(\"binf-hidden\")) {\r\n        // if we need to animate, add it hidden and then show it animated\r\n        newPanel.$el.addClass(\"binf-hidden\");\r\n        newPanel.$el.appendTo(parentView.el);\r\n        newPanel.doShow(relatedView, parentView);\r\n      } else {\r\n        if (relatedView) {\r\n          this.resizePanel(newPanel, relatedView);\r\n        }\r\n        newPanel.$el.appendTo(parentView.el);\r\n        if (oldPanel) {\r\n          oldPanel.destroy();\r\n        }\r\n      }\r\n      return newPanel;\r\n    },\r\n\r\n    showPanel: function (view, relatedView, parentView) {\r\n      if (view.$el.hasClass(\"binf-hidden\")) {\r\n        var self = this,\r\n            slideSize = this.getTargetSizes(parentView.$el);\r\n        var panel = _.extend({\r\n          csuiBeforeShow: function () {\r\n            if (relatedView) {\r\n              var panelSize = self.getTargetSizes(relatedView.$el);\r\n              self.setPanelHeight(view, panelSize);\r\n            }\r\n          }\r\n        }, view);\r\n        this.slidedown(panel, view.$el, view.$el, slideSize);\r\n      }\r\n    },\r\n\r\n    slidedown: function (view, elem, hidden, sizes) {\r\n      // Do not slide the element from too far; at most the element height\r\n      var distance, elemHeight;\r\n      hidden = hidden || elem;\r\n\r\n      view.$el === elem || view.$el.removeClass(\"csui-collapsed\");\r\n      view.$el.removeClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\");\r\n      view.$el.addClass(view.$el === elem ? \"csui-showing\" : \"csui-expanding\");\r\n      if (view.csuiBeforeShow) {\r\n        view.csuiBeforeShow();\r\n      }\r\n\r\n      var position = elem.css(\"position\");\r\n      if (hidden.hasClass(\"binf-hidden\")) {\r\n        // first be sure, that no animation delays any settings, while panel is hidden\r\n        elem.css(animationNone);\r\n        elem.addClass('position-hidden');\r\n        // prepare view for animation\r\n        if (elem !== hidden) {\r\n          elemHeight = elem.height();\r\n          distance = Math.min(sizes.height - sizes.top, elemHeight);\r\n          elem.css({\r\n            \"bottom\": \"calc(100% - \" + (sizes.top + distance) + \"px)\"\r\n          });\r\n        }\r\n        // when now making the element visible, the browser layouts the element but the bottom is\r\n        // forced where it was before\r\n        hidden.removeClass(\"binf-hidden\");\r\n        elemHeight = elem.height();\r\n        // now switch to set the top property without moving the element.\r\n        var rect = this.getTargetSizes(elem);\r\n        if (position === \"relative\") {\r\n          distance = Math.min(sizes.height - rect.height, elemHeight);\r\n          elem.css({\r\n            \"top\": distance + \"px\"\r\n          });\r\n        } else /* if (position===\"absolute\") */ {\r\n          distance = Math.min(rect.top, sizes.top + elemHeight);\r\n          elem.css({\r\n            \"top\": distance + \"px\"\r\n          });\r\n        }\r\n        elem.removeClass('position-hidden');\r\n        elem.addClass('position-show');\r\n        var pos = elem.position(); // just access property, so browser updates element\r\n      }\r\n      elem.one(this.transitionEnd(), function () {\r\n        if (view.$el === elem ? \"csui-showing\" : \"csui-expanding\") {\r\n          elem.css(animationNone);\r\n          view.$el.removeClass(view.$el === elem ? \"csui-showing\" : \"csui-expanding\");\r\n          if (view.csuiAfterShow) {\r\n            view.csuiAfterShow();\r\n          }\r\n        }\r\n      });\r\n      // trigger animation by setting the top property to its initial value\r\n      if (position === \"relative\") {\r\n        elem.css(_.extend({\"top\": \"0px\"}, animationShow));\r\n      } else /* if (position===\"absolute\") */ {\r\n        elem.css(_.extend({\"top\": sizes.top + \"px\"}, animationShow));\r\n      }\r\n\r\n      return view;\r\n    },\r\n\r\n    expandPanel: function (view, details, hidden, animated) {\r\n      hidden = hidden || details;\r\n      if (view.$el.hasClass(\"csui-collapsed\") || hidden.hasClass(\"binf-hidden\") ||\r\n          view.$el.hasClass(\"csui-collapsing\")) {\r\n        animated = (animated === true || animated === undefined) ? true : false;\r\n        if (animated) {\r\n          this.slidedown(view, details, hidden, this.getTargetSizes(details));\r\n        }\r\n        else {\r\n          view.$el.removeClass(\"csui-collapsed\");\r\n          hidden.removeClass(\"binf-hidden\");\r\n        }\r\n      }\r\n    },\r\n\r\n    hidePanel: function (view) {\r\n      if (!view.$el.hasClass(\"binf-hidden\")) {\r\n        this.slideup(view, view.$el, view.$el);\r\n      }\r\n    },\r\n\r\n    slideup: function (view, elem, hidden) {\r\n\r\n      hidden = hidden || elem;\r\n      // hide panel with slide up animation. does only make sense if element is not hidden.\r\n      var position = elem.css(\"position\");\r\n      view.$el.removeClass(view.$el === elem ? \"csui-showing\" : \"csui-expanding\");\r\n      view.$el.addClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\");\r\n      if (view.csuiBeforeHide) {\r\n        view.csuiBeforeHide();\r\n      }\r\n      elem.one(this.transitionEnd(), function () {\r\n        if (view.$el.hasClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\")) {\r\n          hidden.addClass(\"binf-hidden\");\r\n          elem.css(_.extend({\"top\": \"\", \"bottom\": \"\"}, animationNone));\r\n          view.$el.removeClass(view.$el === elem ? \"csui-hiding\" : \"csui-collapsing\");\r\n          view.$el === elem || view.$el.addClass(\"csui-collapsed\");\r\n          if (view.csuiAfterHide) {\r\n            view.csuiAfterHide();\r\n          }\r\n        }\r\n      });\r\n      var rect = this.getTargetSizes(elem);\r\n      if (position === \"relative\") {\r\n        elem.css({\"top\": \"0px\"});\r\n      } else /* if (position===\"absolute\") */ {\r\n        elem.css({\"top\": rect.top + \"px\"});\r\n      }\r\n      var pos = elem.position(); // just access property, so browser updates element\r\n      // check whether wie have a minimum height, where we should stop the slideup\r\n      var min_top = 0;\r\n      var idattr = elem.attr(\"id\");\r\n      if (idattr && elem.hasClass(\"csui-minheight\")) {\r\n        var heightSource = elem.find(\".\" + idattr + \"-heightsource\");\r\n        if (heightSource.length > 0) {\r\n          min_top = heightSource.outerHeight();\r\n        }\r\n      }\r\n      // trigger animation by setting the property\r\n      elem.css(\r\n          _.extend({\"top\": (parseInt(min_top) - rect.height) + \"px\"}, animationHide));\r\n      return elem;\r\n    },\r\n\r\n    collapsePanel: function (view, details, hidden, animated) {\r\n      hidden = hidden || view.$el;\r\n      if (!view.$el.hasClass(\"csui-collapsed\") || !hidden.hasClass(\"binf-hidden\") ||\r\n          view.$el.hasClass(\"csui-expanding\")) {\r\n        animated = (animated === true || animated === undefined) ? true : false;\r\n        if (animated) {\r\n          this.slideup(view, details, hidden);\r\n        }\r\n        else {\r\n          view.$el.addClass(\"csui-collapsed\");\r\n          hidden.addClass(\"binf-hidden\");\r\n        }\r\n      }\r\n    },\r\n\r\n    fadeoutPanel: function (view) {\r\n\r\n      // hide panel with fade out animation. does only make sense if element is not hidden.\r\n      var opacity = view.$el.css(\"opacity\") || \"1\";\r\n      view.$el.css({\"opacity\": opacity});\r\n      // prepare view for animation\r\n      view.$el.one(this.transitionEnd(), function () {\r\n        view.$el.addClass(\"binf-hidden\");\r\n        view.$el.css(_.extend({\"opacity\": \"\"}, animationNone));\r\n        if (view.csuiAfterHide) {\r\n          view.csuiAfterHide();\r\n        }\r\n      });\r\n      var opq = view.$el.css(\"opacity\"); // just access property, so browser updates element\r\n      // trigger animation by setting the property\r\n      view.$el.css(_.extend({\"opacity\": \"0.0\"}, animationFadeOut));\r\n      return view;\r\n    },\r\n\r\n    resizePanel: function (view, location) {\r\n      if (location) {\r\n        var sizes = this.getTargetSizes(location.$el);\r\n        this.setPanelHeight(view, sizes);\r\n      }\r\n      view.doResize && view.doResize();\r\n    },\r\n\r\n    getTargetSizes: function (location) {\r\n      if (location) {\r\n        var rect = location[0].getBoundingClientRect();\r\n        return _.extend({width: rect.width, height: rect.height}, location.position());\r\n      } else {\r\n        return {left: 0, top: 0, width: 333, height: 63};\r\n      }\r\n    },\r\n\r\n    setPanelHeight: function (view, sizes) {\r\n      view.$el.find(\".csui-height-target\").height(sizes.height);\r\n      return view;\r\n    }\r\n\r\n  });\r\n\r\n  MessageHelper.prototype.toString = function () {\r\n    var template = _.template(Lang.ErrorStringTpl),\r\n        html = [];\r\n\r\n    _.each(this.groupBy('type'), function (msgType) {\r\n      _.each(msgType, function (msg) {\r\n        html += template({\r\n          statusPlain: _.keys(Message.Type)[msg.get('type')],\r\n          statusNice: Lang.ErrorStatiNice[msg.get('type')],\r\n          msg: msg.get('message')\r\n        });\r\n      });\r\n    });\r\n\r\n  };\r\n\r\n  MessageHelper.version = '1.0';\r\n\r\n  // activate eventing on error handler\r\n  _.extend(MessageHelper, Backbone.Events);\r\n\r\n  // Exports\r\n  // -------\r\n\r\n  return MessageHelper;\r\n\r\n});\r\n\n","csui.define('csui/utils/types/date',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/moment',\r\n  'csui/lib/moment-timezone'\r\n], function (module, _, moment) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n    .config['csui/utils/base'] || {};\r\n  config = _.extend({\r\n    friendlyDateTime: true,\r\n    friendlyTime: true,\r\n    friendlyDate: true,\r\n    formatIsoDateTimeInUtc: false,\r\n    formatIsoDateTimeInTimeZone: undefined\r\n  }, config, module.config());\r\n\r\n  var momentDateFormat     = 'L',\r\n      momentTimeFormat     = 'LTS',\r\n      momentDateTimeFormat = momentDateFormat + ' ' + momentTimeFormat,\r\n      exactDateFormat      = getExactFormat(momentDateFormat),\r\n      exactTimeFormat      = getExactFormat(momentTimeFormat),\r\n      exactDateTimeFormat  = getExactFormat(momentDateTimeFormat);\r\n\r\n  // Moment's longDateFormat need the formatting parts like \"L\" otr \"LTS\"\r\n  // separately; it does not accept a combined string\r\n  function getExactFormat(momentFormat) {\r\n    var formatters     = /\\w+/g,\r\n        explicitFormat = momentFormat,\r\n        shift          = 0,\r\n        match, part, partFormat, index;\r\n    while ((match = formatters.exec(momentFormat))) {\r\n      part = match[0];\r\n      partFormat = moment.localeData().longDateFormat(part);\r\n      // Skip words in the format, which are not moment's tokens\r\n      if (partFormat) {\r\n        index = match.index + shift;\r\n        explicitFormat = explicitFormat.substring(0, index) + partFormat +\r\n                         explicitFormat.substring(index + part.length);\r\n        shift += partFormat.length - part.length;\r\n      }\r\n    }\r\n    // If the format was expanded, try it once more, in case moment\r\n    // placeholders were used recursively like \"LT:ss\"\r\n    return explicitFormat !== momentFormat ?\r\n      getExactFormat(explicitFormat) : explicitFormat;\r\n  }\r\n\r\n  // static helper methods\r\n\r\n  function pad(n) {\r\n    return n < 10 ? '0' + n : n;\r\n  }\r\n\r\n  // Creates a new moment object in the local (client) time zone\r\n  // from a string in the ISO 8601 format sent by the server, or\r\n  // from a Date object instance, or from a Moment instance.\r\n  function createMoment(text) {\r\n    // Checks if the text, which should be in the ISO 8601 format,\r\n    // ends with the UTC identifier or a time zone offset.\r\n    function includesTimeZone(text) {\r\n      var length = text.length;\r\n      if (length > 19) {\r\n        if (text.charAt(length - 1) === 'Z') {\r\n          return true;\r\n        }\r\n        var direction = text.charAt(length - 5);\r\n        if (direction === '+' || direction === '-') {\r\n          return true;\r\n        }\r\n      }\r\n    }\r\n\r\n    if (text instanceof moment) {\r\n      return text;\r\n    }\r\n    if(text instanceof Date) {\r\n      return moment(text);\r\n    }\r\n    return config.formatIsoDateTimeInTimeZone && !includesTimeZone(text) ?\r\n           moment.tz(text, config.formatIsoDateTimeInTimeZone) : moment(text);\r\n  }\r\n\r\n  // Parses the text in the ISO 8601 format as sent by the server\r\n  // to a Date object instance in the local (client) time zone.\r\n  function deserializeDate(text) {\r\n    return text && createMoment(text).toDate();\r\n  }\r\n\r\n  // Formats the date in the local (client) time zone to a sub-set\r\n  // of ISO 8601 for the server.\r\n  function serializeDateTime(date, format, callback) {\r\n    function formatDateTime(date, suffix) {\r\n      // CS does not accept te standard ISO value returned\r\n      // by toISOString, which includes milliseconds.\r\n      return date.year() + '-'\r\n             + pad((date.month() + 1)) + '-'\r\n             + pad(date.date()) + 'T'\r\n             + pad(date.hours()) + ':'\r\n             + pad(date.minutes()) + ':'\r\n             + pad(date.seconds()) + suffix;\r\n    }\r\n\r\n    format || (format = exactDateTimeFormat);\r\n    var parsed = moment(date, format, true);\r\n    if (!parsed.isValid()) {\r\n      if (!!callback) {\r\n        callback();\r\n      } else {\r\n        throw new Error('Parsing date value \"' + date +\r\n                        '\" as \"' + format + '\" failed.');\r\n      }\r\n    }\r\n\r\n    if (config.formatIsoDateTimeInUtc) {\r\n      return formatDateTime(parsed.utc(), 'Z');\r\n    }\r\n\r\n    if (config.formatIsoDateTimeInTimeZone) {\r\n      return formatDateTime(parsed.tz(config.formatIsoDateTimeInTimeZone), '');\r\n    }\r\n\r\n    return formatDateTime(parsed, '');\r\n  }\r\n\r\n  // Formats the date to a sub-set of ISO 8601 - only the date part.\r\n  function serializeDate(date, format, callback) {\r\n    format || (format = exactDateFormat);\r\n    var parsed = moment(date, format, true);\r\n    if (!parsed.isValid()) {\r\n      if (!!callback) {\r\n        callback();\r\n      } else {\r\n        throw new Error('Parsing date value \"' + date +\r\n                        '\" as \"' + format + '\" failed.');\r\n      }\r\n    }\r\n    return parsed.year() + '-'\r\n           + pad((parsed.month() + 1)) + '-'\r\n           + pad(parsed.date());\r\n  }\r\n\r\n  function validateDate(date, format) {\r\n    return moment(date, format || exactDateFormat, true).isValid();\r\n  }\r\n\r\n  function validateDateTime(date, format) {\r\n    return moment(date, format || exactDateTimeFormat, true).isValid();\r\n  }\r\n\r\n  function formatDate(date) {\r\n    return config.friendlyDate ? formatFriendlyDate(date) : formatExactDate(date);\r\n  }\r\n\r\n  function formatDateTime(date) {\r\n    return config.friendlyDateTime ? formatFriendlyDateTime(date) :\r\n           formatExactDateTime(date);\r\n  }\r\n\r\n  function formatExactDate(date) {\r\n    return date ? createMoment(date).format(exactDateFormat) : '';\r\n  }\r\n\r\n  function formatExactTime(date) {\r\n    return date ? createMoment(date).format(exactTimeFormat) : '';\r\n  }\r\n\r\n  function formatExactDateTime(date) {\r\n    return date ? createMoment(date).format(exactDateTimeFormat) : '';\r\n  }\r\n\r\n  function formatFriendlyDate(date) {\r\n    return date ? createMoment(date).calendar() : \"\";\r\n  }\r\n\r\n  function formatFriendlyDateTime(date) {\r\n    return date ? createMoment(date).calendar() : \"\";\r\n  }\r\n\r\n  function formatFriendlyDateTimeNow(date) {\r\n    return date ? createMoment(date).fromNow() : \"\";\r\n  }\r\n\r\n  function formatISODate(date) {\r\n    return date ? moment.utc(date).toISOString() : \"\";\r\n  }\r\n\r\n  function formatISODateTime(date) {\r\n    return date ? moment(date).toISOString() : \"\";\r\n  }\r\n\r\n  return {\r\n    exactDateFormat: exactDateFormat,\r\n    exactTimeFormat: exactTimeFormat,\r\n    exactDateTimeFormat: exactDateTimeFormat,\r\n\r\n    deserializeDate: deserializeDate,\r\n    serializeDate: serializeDate,\r\n    serializeDateTime: serializeDateTime,\r\n\r\n    validateDate: validateDate,\r\n    validateDateTime: validateDateTime,\r\n\r\n    formatDate: formatDate,\r\n    formatDateTime: formatDateTime,\r\n    formatExactDate: formatExactDate,\r\n    formatExactTime: formatExactTime,\r\n    formatExactDateTime: formatExactDateTime,\r\n    formatFriendlyDate: formatFriendlyDate,\r\n    formatFriendlyDateTime: formatFriendlyDateTime,\r\n    formatFriendlyDateTimeNow: formatFriendlyDateTimeNow,\r\n    formatISODateTime: formatISODateTime,\r\n    formatISODate: formatISODate,\r\n  };\r\n});\r\n\n","csui.define('csui/utils/types/number',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/numeral',\r\n  'i18n!csui/utils/impl/nls/lang'\r\n], function (module, _, numeral, lang) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n    .config['csui/utils/base'] || {};\r\n  config = _.extend({\r\n    friendlyFileSize: true\r\n  }, config, module.config());\r\n\r\n  function formatInteger(value, format) {\r\n    format || '0';\r\n    return numeral(value).format(format);\r\n  }\r\n\r\n  function formatIntegerWithCommas(value) {\r\n    return formatInteger(value, '0,0');\r\n  }\r\n\r\n  function formatFileSize(size) {\r\n    return config.friendlyFileSize ? formatFriendlyFileSize(size) :\r\n           formatExactFileSize(size);\r\n  }\r\n\r\n  function formatFriendlyFileSize(size) {\r\n    if (!_.isNumber(size)) {\r\n      return '';\r\n    }\r\n    return size >= 1024 ? numeral(size).format('0 b') :\r\n           formatExactFileSize(size);\r\n  }\r\n\r\n  function formatExactFileSize(size) {\r\n    if (!_.isNumber(size)) {\r\n      return '';\r\n    }\r\n    size = formatIntegerWithCommas(size);\r\n    return _.str.sformat(lang.sizeInBytes, size);\r\n  }\r\n\r\n  return {\r\n    formatInteger: formatInteger,\r\n    formatIntegerWithCommas: formatIntegerWithCommas,\r\n\r\n    formatFileSize: formatFileSize,\r\n    formatFriendlyFileSize: formatFriendlyFileSize,\r\n    formatExactFileSize: formatExactFileSize\r\n  };\r\n});\r\n\n","csui.define('csui/utils/types/member',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n   'i18n!csui/utils/impl/nls/lang'\r\n], function (_, Backbone, lang) {\r\n  'use strict';\r\n\r\n  function formatMemberName(member) {\r\n    if (!member) {\r\n      return '';\r\n    }\r\n    if (_.isNumber(member) || _.isString(member)) {\r\n      return member.toString();\r\n    }\r\n    if (member instanceof Backbone.Model) {\r\n      member = member.attributes;\r\n    }\r\n    if (member.display_name) {\r\n      return member.display_name;\r\n    }\r\n    if (member.name_formatted) {\r\n      return member.name_formatted;\r\n    }\r\n    var firstName  = member.first_name,\r\n        lastName   = member.last_name,\r\n        middleName = member.middle_name,\r\n        name;\r\n    if (firstName) {\r\n      if (middleName) {\r\n        name = _.str.sformat(lang.ColumnMemberName3, lastName, firstName, middleName);\r\n      } else if (lastName) {\r\n        name = _.str.sformat(lang.ColumnMemberName2, lastName, firstName);\r\n      } else {\r\n        name = firstName;\r\n      }\r\n    } else {\r\n      name = lastName;\r\n    }\r\n    return name || member.name_formatted || member.name\r\n           || member.id && member.id.toString() || '';\r\n  }\r\n\r\n  return {\r\n    formatMemberName: formatMemberName\r\n  };\r\n});\r\n\n","csui.define('csui/utils/types/localizable',[\r\n  'csui/lib/underscore', 'i18n' \r\n], function (_, i18n) {\r\n  'use strict';\r\n\r\n  var locale = i18n.settings.locale,\r\n      language = locale.replace(/[-_]\\w+$/, ''),\r\n      defaultLocale = i18n.settings.defaultLocale,\r\n      defaultLanguage = defaultLocale.replace(/[-_]\\w+$/, '');\r\n\r\n  function getClosestLocalizedString(value, fallback) {\r\n    if (_.isObject(value)) {\r\n      // Normalize locale keys to 'll-cc' to be able to look up the right one;\r\n      // the CS REST API uses non-standard 'll_CC' in multilingual metadata\r\n      value = _.reduce(value, function (result, text, locale) {\r\n        locale = locale.toLowerCase().replace('_', '-');\r\n        result[locale] = text;\r\n        return result;\r\n      }, {});\r\n      value = value[locale] || value[language] ||\r\n              value[defaultLocale] || value[defaultLanguage] || fallback;\r\n    }\r\n    return value != null && value.toString() || '';\r\n  }\r\n\r\n  function localeCompareString(left, right, options) {\r\n    options || (options = {});\r\n    // Default is the search usage - ignore case, recognize transliterations\r\n    var usage = options.usage || 'search',\r\n        // Do not accept everything; this method ensures a consistent\r\n        // behaviour of the product - it should not be freely customizable\r\n        filteredOptions = {\r\n          // Passing an undefined usage would even ignore differences in\r\n          // accents, improving the search usage to the Google behaviour.\r\n          // However, it stops the transliteration support, at least in\r\n          // Chrome, unfortunately.  Transliteration is more important,\r\n          // because it is needed by grammar, while omitting accents is\r\n          // a workaround only, if you cannot type the characters with\r\n          // accents on the keyboard.\r\n          usage: usage,\r\n          // Default for the search usage should be always base sensitivity,\r\n          // but it depends on locale, which would confuse the user\r\n          sensitivity: usage === 'search' ? 'base' : 'variant',\r\n          // Number digits should not be normalized in string excerpts, when\r\n          // searching, but when sorting, they should be handled as numbers\r\n          numeric: usage !== 'search'\r\n        };\r\n\r\n    if (!left || !right) {\r\n      return !left ? (!right ? 0 : 1) : -1;\r\n    }\r\n\r\n    if (left.localeCompare) {\r\n      try {\r\n        return left.localeCompare(right, locale, filteredOptions);\r\n      } catch (error) {}\r\n    }\r\n\r\n    left = left.toLowerCase();\r\n    right = right.toLowerCase();\r\n    return left < right ? -1 : left > right ? 1 : 0;\r\n  }\r\n\r\n  function localeContainsString(hay, needle) {\r\n    return localeIndexOfString(hay, needle) >= 0;\r\n  }\r\n\r\n  function localeEndsWithString(full, end) {\r\n    // FIXME: How many maximum characters can the transliteration add?\r\n    var fullLength = full.length,\r\n        maxLength  = Math.min(fullLength, end.length * 3),\r\n        i;\r\n    for (i = 1; i <= maxLength; ++i) {\r\n      if (localeCompareString(full.substring(fullLength - i), end) === 0) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  function localeIndexOfString(hay, needle) {\r\n    var difference = hay.length - needle.length + 1,\r\n        i;\r\n    for (i = 0; i <= difference; ++i) {\r\n      if (localeStartsWithString(hay.substring(i), needle)) {\r\n        return i;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  function localeStartsWithString(full, start) {\r\n    // FIXME: How many maximum characters can the transliteration add?\r\n    var maxLength = Math.min(full.length, start.length * 3),\r\n        i;\r\n    for (i = 1; i <= maxLength; ++i) {\r\n      if (localeCompareString(full.substring(0, i), start) === 0) {\r\n        return true;\r\n      }\r\n    }\r\n  }\r\n\r\n  // After the formats parameter there can be additionally parameters specified. They must be of type \"string\"!\r\n  //\r\n  // We need for each message type 3 or 4 sentences. In many languages for multiple items there is an additional sentence required,\r\n  // that means we need a sentence for one item (\"ForOne\"), for up to four items (\"ForTwo\") and for more items (\"ForFive\"). In english and german\r\n  // the \"ForTwo\" and \"ForFive\" sentences are normally the same. We need also a \"ForNone\" sentence, if nothing is processed.\r\n  //\r\n  // For example czech (item = soubor):\r\n  //    žádný soubor        => none (s0, optional)\r\n  //    ---\r\n  //    1 soubor            => one  (s1)\r\n  //    ---\r\n  //    2 soubory           => some (s2)\r\n  //    3 soubory\r\n  //    4 soubory\r\n  //    ---\r\n  //    5 souborů           => many (s5)\r\n  //    6 souborů\r\n  //    ...\r\n  //    n souborů\r\n  //    ---\r\n  //    0 souborů           => manu (s5, fallback)\r\n  //\r\n  // formats[success].none = žádný soubor ... succeeded.\r\n  // formats[success].one = 1 soubor ... succeeded.\r\n  // formats[success].two = 3 soubory ... succeeded.\r\n  // formats[success].five = 8 souborů ... succeeded.\r\n  //\r\n  // formats[failure].one = 1 soubor ... failed.\r\n  // formats[failure].two = 3 soubory ... failed.\r\n  // formats[failure].five = 8 souborů ... failed.\r\n  // formats[failure].five = 0 souborů ... failed.\r\n  //\r\n  // formats[partial].two = 1 soubor ze 3 souborů ... failed.\r\n  // formats[partial].five = 2 soubory z 15 souborů ... failed.\r\n  //\r\n  // Returns formatted message string.\r\n\r\n  function formatMessage(count, messagesObj) {\r\n    var SUCCESS_TYPE = \"success\";\r\n    var ERROR_TYPE = \"error\";\r\n\r\n    // get all additional parameters, except promises, options and formats\r\n    var params = Array.prototype.slice.call(arguments, 2);\r\n    var formatStr;\r\n\r\n    if (count > 4) {\r\n      formatStr = messagesObj.formatForFive;\r\n    } else if (count > 1) {\r\n      formatStr = messagesObj.formatForTwo;\r\n    } else if (count > 0) {\r\n      formatStr = messagesObj.formatForOne;\r\n    } else {\r\n      formatStr = messagesObj.formatForNone || messagesObj.formatForFive;\r\n    }\r\n\r\n    params.splice(0, 0, count.toString()); // insert count into params at index 0\r\n    params.splice(0, 0, formatStr);        // insert formatStr into params at index 0\r\n    var msg = _.str.sformat.apply(_.str, params);\r\n\r\n    return msg;\r\n  }\r\n\r\n  return {\r\n    getClosestLocalizedString: getClosestLocalizedString,\r\n\r\n    localeCompareString: localeCompareString,\r\n    localeContainsString: localeContainsString,\r\n    localeEndsWithString: localeEndsWithString,\r\n    localeIndexOfString: localeIndexOfString,\r\n    localeStartsWithString: localeStartsWithString,\r\n\r\n    formatMessage: formatMessage\r\n  };\r\n});\r\n\n","csui.define('csui/utils/base',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url',\r\n  'csui/utils/errormessage', 'csui/utils/messagehelper',\r\n  'csui/utils/types/date', 'csui/utils/types/number',\r\n  'csui/utils/types/member', 'csui/utils/types/localizable', 'i18n'\r\n], function (_, $, Url, Message, MessageHelper, date, number, member,\r\n    localizable, i18n) {\r\n  'use strict';\r\n\r\n  var $window = $(window);\r\n\r\n  // handler as singleton, bind dialog to handler\r\n  var messageHelper = new MessageHelper();\r\n  // TODO: Implement a component showing the errors\r\n  messageHelper.on(\"showErrors\", function (errors, html, title, showit) {\r\n    alert($(html).text());\r\n  });\r\n\r\n  var escapeHtmlHelper = $(\"<p></p>\");\r\n\r\n  function escapeHtml(text, preserveLineBreaks) {\r\n    // There's no HTML escaping function which would return a text to be\r\n    // concatenated with the rest of the raw HTML markup so that the text\r\n    // value would be the same and not interpreted as HTML markup.\r\n    // Let's use an artificial DOM element for this, wrapped with jQuery.\r\n    var html = escapeHtmlHelper.text(text).html();\r\n    if (preserveLineBreaks) {\r\n      html = html.replace(/\\r?\\n/g, \"\\r\\n<br>\");\r\n    }\r\n    return html;\r\n  }\r\n\r\n  function isBackbone(value) {\r\n    // descendant of Backbone.Events\r\n    return value && value.once;\r\n  }\r\n\r\n  function isPlaceholder(value) {\r\n    // string selector, DOM object or jQuery object\r\n    return value && (_.isString(value) || _.isElement(value) || value instanceof $);\r\n  }\r\n\r\n  function isTouchBrowser() {\r\n    return !!(('ontouchstart' in window) || (navigator.maxTouchPoints) ||\r\n              (navigator.msMaxTouchPoints));\r\n  }\r\n\r\n  function isAppleMobile() {\r\n    if (navigator && navigator.userAgent != null) {\r\n      var appleMatches = navigator.userAgent.match(/(iPhone |iPad)/i);\r\n      return (appleMatches != null);\r\n    }\r\n    return true;\r\n  }\r\n\r\n  function isMacintosh() {\r\n    return navigator.platform.indexOf('Mac') > -1;\r\n  }\r\n\r\n  function isLandscape() {\r\n    return isAppleMobile() && (window.matchMedia(\"(orientation: landscape)\").matches);\r\n  }\r\n\r\n  function isPortrait() {\r\n    return isAppleMobile() && (window.matchMedia(\"(orientation: portrait)\").matches);\r\n  }\r\n\r\n  function isIE11() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isInternetExplorer11 = /Trident.*11/i.test(navigator.userAgent);\r\n      return isInternetExplorer11;\r\n    }\r\n  }\r\n\r\n  function isMozilla() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isMozilla = /Mozilla/.test(navigator.userAgent);\r\n      return isMozilla;\r\n    }\r\n  }\r\n\r\n  function isEdge() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isEdge = /Edge/.test(navigator.userAgent);\r\n      return isEdge;\r\n    }\r\n  }\r\n\r\n  function isFirefox() {\r\n    if (navigator && navigator.userAgent) {\r\n      var isFirefox = /Firefox/.test(navigator.userAgent);\r\n      return isFirefox;\r\n    }\r\n  }\r\n\r\n  /**\r\n   * returns true if the current browser is either IE11\r\n   * or Edge (from Windows 10).\r\n   *\r\n   @returns {}\r\n   */\r\n  function isMSBrowser() {\r\n    return isIE11() || isEdge();\r\n  }\r\n\r\n  function isChrome() {\r\n    // please note,\r\n    // that IE11 now returns undefined again for window.chrome\r\n    // and new Opera 30 outputs true for window.chrome\r\n    // and new IE Edge outputs to true now for window.chrome\r\n    // and if not iOS Chrome check\r\n    // so use the below updated condition\r\n    var isChromium  = window.chrome,\r\n        winNav      = window.navigator,\r\n        vendorName  = winNav.vendor,\r\n        isOpera     = winNav.userAgent.indexOf(\"OPR\") > -1,\r\n        isIEedge    = winNav.userAgent.indexOf(\"Edge\") > -1,\r\n        isIOSChrome = winNav.userAgent.match(\"CriOS\"),\r\n        retVal      = false;\r\n    if (isIOSChrome ||\r\n        (isChromium != null && vendorName === \"Google Inc.\" && isOpera === false &&\r\n         isIEedge === false)) {\r\n      retVal = true;\r\n    }\r\n    return retVal;\r\n  }\r\n\r\n  function isSafari() {\r\n    if (navigator && navigator.userAgent) {\r\n      //it excludes Chrome and all Android browsers that include the Safari name in their user agent.\r\n      var isSafari = /^((?!chrome|android).)*safari/i.test(navigator.userAgent);\r\n      return isSafari;\r\n    }\r\n  }\r\n\r\n  // This shared function is used to compute the number characters can fit in a container.\r\n  // Input:\r\n  // - container width in pixels\r\n  // - element width in pixels\r\n  // Return:\r\n  // - number of elements to fill the container\r\n  function px2em(pxContainerWidth, pxElemWidth) {\r\n    var pxInEms = 0;\r\n    if (pxElemWidth > 0) {\r\n      pxInEms = Math.floor(2 * pxContainerWidth / pxElemWidth);\r\n    }\r\n    return pxInEms;\r\n  }\r\n\r\n  function isVisibleInWindowViewport(el) {\r\n    var $el = el instanceof $ ? el : $(el);\r\n    if (!$el.is(':visible')) {\r\n      return false;\r\n    }\r\n    var position = $el.offset(),\r\n        offset   = {\r\n          left: window.pageXOffset,\r\n          top: window.pageYOffset\r\n        },\r\n        extents  = {\r\n          width: $window.width(),\r\n          height: $window.height()\r\n        };\r\n    return position.left >= offset.left && position.left - offset.left < extents.width &&\r\n           position.top >= offset.top && position.top - offset.top < extents.height;\r\n  }\r\n\r\n  function isVisibleInWindowViewportHorizontally(el) {\r\n    if (el === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    var elRect = elem.getBoundingClientRect();\r\n    return elRect.left >= window.pageXOffset && elRect.right - window.pageXOffset < $window.width();\r\n  }\r\n\r\n  function isVisibleInWindowViewportVertically(el) {\r\n    if (el === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    var elRect = elem.getBoundingClientRect();\r\n    return elRect.top >= window.pageYOffset &&\r\n           elRect.bottom - window.pageYOffset < $window.height();\r\n  }\r\n\r\n  // Params:\r\n  // - el: element\r\n  // - levels: for performance, only check parents up to number of levels. Default: 5.\r\n  // - iPercentX: visible percentage X.  Default: 100% for full visibility.\r\n  // - iPercentY: visible percentage Y.  Default: 100% for full visibility.\r\n  // Return: true/false\r\n  // Note: credit to a guy on stackoverflow for his original code\r\n  function isElementVisibleInParents(el, levels, iPercentX, iPercentY) {\r\n    if (el === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    // needed because the rects returned by getBoundingClientRect have up to 10 decimals\r\n    var tolerance = 0.01;\r\n    var percentX = iPercentX !== undefined ? iPercentX : 100;\r\n    var percentY = iPercentY !== undefined ? iPercentY : 100;\r\n    var elemRect = elem.getBoundingClientRect();\r\n    var parentRects = [];\r\n    var maxLevels = levels || 5;\r\n    var curLevel = 0;\r\n    while (elem.parentElement != null && curLevel < maxLevels) {\r\n      parentRects.push(elem.parentElement.getBoundingClientRect());\r\n      elem = elem.parentElement;\r\n      curLevel++;\r\n    }\r\n\r\n    var visibleInAllParents = parentRects.every(function (parentRect) {\r\n      var visiblePixelX = Math.min(elemRect.right, parentRect.right) -\r\n                          Math.max(elemRect.left, parentRect.left);\r\n      var visiblePixelY = Math.min(elemRect.bottom, parentRect.bottom) -\r\n                          Math.max(elemRect.top, parentRect.top);\r\n      var visiblePercentageX = visiblePixelX / elemRect.width * 100;\r\n      var visiblePercentageY = visiblePixelY / elemRect.height * 100;\r\n      return visiblePercentageX + tolerance > percentX &&\r\n             visiblePercentageY + tolerance > percentY;\r\n    });\r\n    return visibleInAllParents;\r\n  }\r\n\r\n  // Similar to isElementVisibleInParents above but this function only checks a particular parent.\r\n  // Params:\r\n  // - el: element\r\n  // - parent: parent element\r\n  // - iPercentX: visible percentage X.  Default: 100% for full visibility.\r\n  // - iPercentY: visible percentage Y.  Default: 100% for full visibility.\r\n  // Return: true/false\r\n  function isElementVisibleInParent(el, parent, iPercentX, iPercentY) {\r\n    if (el === undefined || parent === undefined) {\r\n      return false;\r\n    }\r\n    var elem = el instanceof $ ? el[0] : el;\r\n    if (!elem || !elem.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    var container = parent instanceof $ ? parent[0] : parent;\r\n    if (!container || !container.getBoundingClientRect) {\r\n      return false;\r\n    }\r\n    // needed because the rects returned by getBoundingClientRect have up to 10 decimals\r\n    var tolerance = 0.01;\r\n    var percentX = iPercentX !== undefined ? iPercentX : 100;\r\n    var percentY = iPercentY !== undefined ? iPercentY : 100;\r\n    var elemRect = elem.getBoundingClientRect();\r\n    var contRect = container.getBoundingClientRect();\r\n    var visiblePixelX = Math.min(elemRect.right, contRect.right) -\r\n                        Math.max(elemRect.left, contRect.left);\r\n    var visiblePixelY = Math.min(elemRect.bottom, contRect.bottom) -\r\n                        Math.max(elemRect.top, contRect.top);\r\n    var visiblePercentageX = visiblePixelX / elemRect.width * 100;\r\n    var visiblePercentageY = visiblePixelY / elemRect.height * 100;\r\n    return visiblePercentageX + tolerance > percentX &&\r\n           visiblePercentageY + tolerance > percentY;\r\n  }\r\n\r\n  function checkAndScrollElemToViewport(elem) {\r\n    var $elem            = $(elem),\r\n        scrollSelector   = $elem.closest('.csui-perfect-scrolling').length > 0 ?\r\n                           '.csui-perfect-scrolling' : '.csui-normal-scrolling',\r\n        elemScrollParent = $elem.closest(scrollSelector),\r\n        stickyHeader     = elemScrollParent.siblings(\".csui-tab-contents-header-wrapper\");\r\n    if (!!stickyHeader[0]) {\r\n      var elemTop       = $elem.offset().top,\r\n          viewportTop   = elemScrollParent[0].getBoundingClientRect().top + stickyHeader.height(),\r\n          isElemVisible = elemTop > viewportTop;\r\n      if (!isElemVisible) {\r\n        var currScrollTop = elemScrollParent.scrollTop();\r\n        elemScrollParent.scrollTop(currScrollTop - (viewportTop - elemTop));\r\n      }\r\n    }\r\n\r\n  }\r\n\r\n  function setScrollHandler(e) {\r\n    var eventArg = e.data;\r\n    var inputElement      = eventArg.inputElement,\r\n        view              = eventArg.view,\r\n        dropdownContainer = eventArg.dropdownContainer,\r\n        callback          = eventArg.callback;\r\n    //When dropdown is closed\r\n    inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n    //close respective drop-downs using callback\r\n    if (dropdownContainer.length > 0 && dropdownContainer[0] !== e.target &&\r\n        dropdownContainer.is(\":visible\") && callback) {\r\n      callback(view);\r\n    }\r\n  }\r\n\r\n  function adjustDropDownField(inputElement, dropdownContainer, applyWidth, view, callback,\r\n      scrollableDropdownContainer) {\r\n    var scrollEl;\r\n    var eventArg = {\r\n      inputElement: inputElement,\r\n      view: view,\r\n      dropdownContainer: dropdownContainer,\r\n      callback: callback\r\n    };\r\n\r\n    var isIEBrowser    = this.isIE11(),\r\n        isTouchBrowser = this.isTouchBrowser();\r\n\r\n    if (isTouchBrowser &&\r\n        !inputElement.closest('.csui-scrollable-writemode').hasClass('csui-dropdown-open')) {\r\n      inputElement.closest('.csui-scrollable-writemode').addClass('csui-dropdown-open');\r\n    }\r\n\r\n    // for scrollable set\r\n    if (inputElement.parents(\".csui-scrollablecols\").length > 0 &&\r\n        inputElement.parents(\".cs-form-set-container\").length >\r\n        0) {\r\n      scrollEl = inputElement.parents(\".csui-scrollablecols\").parents(\".cs-form-set-container\").find\r\n      (\".ps-container.ps-active-x\");\r\n      var isRtl            = i18n && i18n.settings.rtl,\r\n          inputElementLeft = inputElement.offset().left,\r\n          leftShadow       = inputElement.parents(\".csui-scrollablecols\").siblings(\r\n              \".csui-lockedcols\").find(\".csui-shadowleft-container\"),\r\n          leftShadowLeft   = leftShadow.offset().left,\r\n          currentLeft,\r\n          scrollUpdate;\r\n      if (isRtl) {\r\n        var inputElementRight = inputElementLeft + inputElement.outerWidth();\r\n        scrollUpdate = inputElementRight - leftShadowLeft;\r\n      }\r\n      else {\r\n        var leftShadowRight = leftShadowLeft + leftShadow.outerWidth();\r\n        scrollUpdate = leftShadowRight - inputElementLeft;\r\n      }\r\n      // for partially visible dropdownfield\r\n      if (scrollUpdate > 0) {\r\n        scrollEl.unbind('scroll', setScrollHandler);\r\n        scrollEl.one('set:scrolled', function () {\r\n          if (!!scrollEl) {\r\n            scrollEl.bind('scroll', eventArg, setScrollHandler);\r\n          }\r\n          autoAlignDropDowns(inputElement, dropdownContainer, applyWidth,\r\n              scrollableDropdownContainer, isIEBrowser);\r\n          hideDropDowns(inputElement, dropdownContainer, view, callback);\r\n        });\r\n        if (isRtl) {\r\n          currentLeft = scrollEl.scrollLeftRtl();\r\n          scrollEl.scrollLeftRtl(currentLeft + scrollUpdate);\r\n        }\r\n        else {\r\n          currentLeft = scrollEl.scrollLeft();\r\n          scrollEl.scrollLeft(currentLeft - scrollUpdate);\r\n          var that = this;\r\n          setTimeout(function () {\r\n            if (that.isTouchBrowser && !inputElement.closest('.csui-scrollable-writemode').hasClass(\r\n                '.csui-dropdown-open')) {\r\n              inputElement.closest('.csui-scrollable-writemode').addClass('csui-dropdown-open');\r\n            }\r\n          }, 100);\r\n        }\r\n        return;\r\n      }\r\n    }\r\n\r\n    if (!!scrollEl) {\r\n      scrollEl.bind('scroll', eventArg, setScrollHandler);\r\n    }\r\n    autoAlignDropDowns(inputElement, dropdownContainer, applyWidth, scrollableDropdownContainer,\r\n        isIEBrowser);\r\n    hideDropDowns(inputElement, dropdownContainer, view, callback);\r\n\r\n  }\r\n\r\n  //This function is used to display drop-downs either top or bottom based on available space\r\n  function autoAlignDropDowns(inputElement, dropdownContainer, applyWidth,\r\n      scrollableDropdownContainer, isIEBrowser) {\r\n    var isRtl                 = i18n && i18n.settings.rtl,\r\n        elTop                 = inputElement.offset().top,\r\n        elPositionX           = inputElement.offset().left,\r\n        scrollSelector        = inputElement.closest('.csui-perfect-scrolling').length > 0 ?\r\n                                '.csui-perfect-scrolling' : '.csui-normal-scrolling',\r\n        form                  = inputElement.closest(scrollSelector),\r\n        modalContentElem      = isIEBrowser ? [] :\r\n                                (form.length > 0 ? form.parents(\".binf-modal-content\") :\r\n                                 inputElement.closest(\".binf-modal-content\")), /*For\r\n         IE, left & top position is calculated with respect to document*/\r\n        modalContentPositionX = modalContentElem.length > 0 ? (isRtl ?\r\n                                                               (modalContentElem.outerWidth() +\r\n                                                                modalContentElem.offset().left) :\r\n                                                               modalContentElem.offset().left) :\r\n                                (isRtl ? $(document).width() : 0),\r\n        modalContentTop       = modalContentElem.length > 0 ? modalContentElem.offset().top : 0,\r\n        controlheight         = inputElement.outerHeight(),\r\n        dropdownWidth         = inputElement.outerWidth(),\r\n        perspectivePanel      = $(\".cs-perspective-panel\"),\r\n        perspective           = inputElement.closest(\".cs-perspective\"),\r\n        perspectiveHeight     = perspective.length > 0 ?\r\n                                perspective.outerHeight() : $(document).height(),\r\n        perspectiveTop        = perspective.length > 0 ?\r\n                                perspective.offset().top : 0,\r\n        elemBoundingRect      = inputElement[0].getBoundingClientRect(),\r\n        contextBottom, contextTop;\r\n\r\n    if (applyWidth) {\r\n      dropdownContainer.css({\r\n        \"width\": dropdownWidth\r\n      });\r\n    }\r\n    //When dropdown is opened\r\n    if (scrollSelector != '.csui-normal-scrolling') {\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"hidden\");\r\n    }\r\n\r\n    var perspectivePanelClientTop = perspectivePanel.length > 0 ?\r\n                                    perspectivePanel[0].getBoundingClientRect().top : 0;\r\n    if (perspectivePanelClientTop < 0) {\r\n      perspectivePanelClientTop = perspectivePanel.offset().top;\r\n    }\r\n    var spaceOnTop           = elemBoundingRect.top - perspectivePanelClientTop,\r\n        spaceOnBottom        = window.innerHeight - elemBoundingRect.top,\r\n        isDropdownShownOnTop = spaceOnTop > spaceOnBottom;\r\n\r\n    if (!!scrollableDropdownContainer) {\r\n      scrollableDropdownContainer.css({\r\n        'max-height': Math.abs((isDropdownShownOnTop ? spaceOnTop : spaceOnBottom) * 0.9) + 'px'\r\n      });\r\n    }\r\n    // below code used to display dropdown at top of the field.\r\n    if (isDropdownShownOnTop) {\r\n\r\n      if (isIEBrowser) {\r\n        if (perspective.length > 0) {\r\n          contextBottom = perspectiveHeight + perspectiveTop - elemBoundingRect.top;\r\n        } else {\r\n          contextBottom = document.documentElement.offsetHeight +\r\n                          document.documentElement.scrollTop -\r\n                          elTop;\r\n        }\r\n      } else {\r\n        if (modalContentElem.length > 0) {\r\n          contextBottom = modalContentElem.outerHeight() + modalContentTop - elTop;\r\n        } else {\r\n          if (perspective.length > 0 || isSafari()) {\r\n            contextBottom = perspectiveHeight + perspectiveTop - elTop;\r\n          } else {\r\n            contextBottom = document.documentElement.offsetHeight  -  elTop;\r\n          }\r\n        }\r\n      }\r\n      if (isRtl) {\r\n        dropdownContainer.css({\r\n          \"-webkit-transform\": \"translate3d(0, 0, 0)\",\r\n          \"position\": \"fixed\",\r\n          \"right\": modalContentPositionX - (elPositionX + dropdownWidth),\r\n          \"top\": \"auto\",\r\n          \"bottom\": contextBottom\r\n        });\r\n      } else {\r\n        dropdownContainer.css({\r\n          \"-webkit-transform\": \"translate3d(0, 0, 0)\",\r\n          \"position\": \"fixed\",\r\n          \"left\": elPositionX - modalContentPositionX,\r\n          \"top\": \"auto\",\r\n          \"bottom\": contextBottom\r\n        });\r\n      }\r\n      if (dropdownContainer.hasClass('binf-datetimepicker-widget')) {\r\n        dropdownContainer.addClass('binf-top').removeClass('binf-bottom');\r\n      }\r\n      // below code used to display dropdown at bottom of the field.\r\n    } else {\r\n      if (isIEBrowser) {\r\n        contextTop = elTop + controlheight - document.documentElement.scrollTop;\r\n      } else {\r\n        if (modalContentElem.length > 0) {\r\n          contextTop = elTop + controlheight - modalContentTop;\r\n        } else {\r\n          if (perspective.length > 0) {\r\n            contextTop = elTop + controlheight - perspectiveTop;\r\n          } else {\r\n            contextTop = elemBoundingRect.top + elemBoundingRect.height - perspectiveTop;\r\n          }\r\n\r\n        }\r\n      }\r\n      if (isRtl) {\r\n        dropdownContainer.css({\r\n          \"-webkit-transform\": \"translate3d(0, 0, 0)\",\r\n          \"position\": \"fixed\",\r\n          \"right\": modalContentPositionX - (elPositionX + dropdownWidth),\r\n          \"top\": contextTop,\r\n          \"bottom\": \"auto\"\r\n        });\r\n      } else {\r\n        dropdownContainer.css({\r\n          \"-webkit-transform\": \"translate3d(0, 0, 0)\",\r\n          \"position\": \"fixed\",\r\n          \"left\": elPositionX - modalContentPositionX,\r\n          \"top\": contextTop,\r\n          \"bottom\": \"auto\"\r\n        });\r\n      }\r\n      if (dropdownContainer.hasClass('binf-datetimepicker-widget')) {\r\n        dropdownContainer.addClass('binf-bottom').removeClass('binf-top');\r\n      }\r\n    }\r\n  }\r\n\r\n  function hideDropDowns(inputElement, dropdownContainer, view, callback) {\r\n    var scrollSelector = inputElement.closest('.csui-perfect-scrolling').length > 0 ?\r\n                         '.csui-perfect-scrolling' : '.csui-normal-scrolling',\r\n        form           = inputElement.closest(scrollSelector),\r\n        scrollableSet;\r\n    form.bind('scroll', view, function (e) {\r\n      //When dropdown is closed\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n      //close respective drop-downs using callback\r\n      if (dropdownContainer.is(\":visible\") && callback) {\r\n        callback(view);\r\n      }\r\n    });\r\n    // called when the window is scrolled.\r\n    $(window).bind('scroll', function () {\r\n      //When dropdown is closed\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n      if (dropdownContainer.is(\":visible\") && callback) {\r\n        callback(view);\r\n      }\r\n    });\r\n\r\n    // called when the window is resized.\r\n    $(window).bind('resize', function () {\r\n      //When dropdown is closed\r\n      inputElement.parents(\".csui-normal-scrolling\").css(\"overflow\", \"auto\");\r\n      if (dropdownContainer.is(\":visible\") && callback) {\r\n        callback(view);\r\n      }\r\n    });\r\n  }\r\n\r\n  // TODO: Deprecate and remove this method\r\n  function stringifyDate(date) {\r\n    return JSON.stringify(date);\r\n  }\r\n\r\n  // TODO: Deprecate and remove this method\r\n  function dateToLocalIsoString(dateStr, format) {\r\n    if (format === 'YYYY-MM-DD' || format === 'MM/DD/YYYY') {\r\n      return date.serializeDate(dateStr);\r\n    }\r\n    return date.serializeDateTime(dateStr);\r\n  }\r\n\r\n  function findFocusables(element) {\r\n    return $(element).find('a[href], area[href], input, select, textarea, button,' +\r\n                           ' iframe, object, embed, *[tabindex], *[contenteditable]')\r\n    // Only visible and enabled\r\n        .filter(':visible:not([disabled])');\r\n  }\r\n\r\n  return {\r\n    MessageHelper: messageHelper,\r\n    ErrorHandler: messageHelper,\r\n\r\n    MessageType: Message.Type,\r\n    Message: Message.Message,\r\n    RequestErrorMessage: Message.RequestErrorMessage,\r\n\r\n    ErrorStatus: Message.Type,\r\n    ErrorToShow: Message.Message,\r\n    ErrorMessage: Message.ErrorMessage,\r\n    Error: Message.RequestErrorMessage,\r\n\r\n    exactDateFormat: date.exactDateFormat,\r\n    exactTimeFormat: date.exactTimeFormat,\r\n    exactDateTimeFormat: date.exactDateTimeFormat,\r\n\r\n    parseDate: date.deserializeDate,\r\n    stringifyDate: stringifyDate,\r\n    dateToLocalIsoString: dateToLocalIsoString,\r\n    deserializeDate: date.deserializeDate,\r\n    serializeDate: date.serializeDate,\r\n    serializeDateTime: date.serializeDateTime,\r\n    formatDate: date.formatDate,\r\n    formatDateTime: date.formatDateTime,\r\n    formatExactDate: date.formatExactDate,\r\n    formatExactTime: date.formatExactTime,\r\n    formatExactDateTime: date.formatExactDateTime,\r\n    formatFriendlyDate: date.formatFriendlyDate,\r\n    formatFriendlyDateTime: date.formatFriendlyDateTime,\r\n    formatFriendlyDateTimeNow: date.formatFriendlyDateTimeNow,\r\n    formatISODateTime: date.formatISODateTime,\r\n    formatISODate: date.formatISODate,\r\n\r\n    getReadableFileSizeString: number.formatFileSize,\r\n    formatFileSize: number.formatFileSize,\r\n    formatFriendlyFileSize: number.formatFriendlyFileSize,\r\n    formatExactFileSize: number.formatExactFileSize,\r\n\r\n    formatInteger: number.formatInteger,\r\n    formatIntegerWithCommas: number.formatIntegerWithCommas,\r\n\r\n    formatMemberName: member.formatMemberName,\r\n\r\n    getClosestLocalizedString: localizable.getClosestLocalizedString,\r\n\r\n    localeCompareString: localizable.localeCompareString,\r\n    localeContainsString: localizable.localeContainsString,\r\n    localeEndsWithString: localizable.localeEndsWithString,\r\n    localeIndexOfString: localizable.localeIndexOfString,\r\n    localeStartsWithString: localizable.localeStartsWithString,\r\n\r\n    formatMessage: localizable.formatMessage,\r\n\r\n    escapeHtml: escapeHtml,\r\n\r\n    isBackbone: isBackbone,\r\n    isPlaceholder: isPlaceholder,\r\n    Url: Url,\r\n    isTouchBrowser: isTouchBrowser,\r\n    isAppleMobile: isAppleMobile,\r\n    isMacintosh: isMacintosh,\r\n    isIE11: isIE11,\r\n    isEdge: isEdge,\r\n    isMozilla: isMozilla,\r\n    isFirefox: isFirefox,\r\n    isSafari: isSafari,\r\n    isLandscape: isLandscape,\r\n    isPortrait: isPortrait,\r\n    isMSBrowser: isMSBrowser,\r\n    isChrome: isChrome,\r\n    px2em: px2em,\r\n    isVisibleInWindowViewport: isVisibleInWindowViewport,\r\n    isVisibleInWindowViewportHorizontally: isVisibleInWindowViewportHorizontally,\r\n    isVisibleInWindowViewportVertically: isVisibleInWindowViewportVertically,\r\n    isElementVisibleInParents: isElementVisibleInParents,\r\n    isElementVisibleInParent: isElementVisibleInParent,\r\n    checkAndScrollElemToViewport: checkAndScrollElemToViewport,\r\n    setScrollHandler: setScrollHandler,\r\n    adjustDropDownField: adjustDropDownField,\r\n    autoAlignDropDowns: autoAlignDropDowns,\r\n    hideDropDowns: hideDropDowns,\r\n    findFocusables: findFocusables\r\n  };\r\n});\r\n\n","csui.define('csui/models/action',[ \"module\", \"require\", \"csui/lib/jquery\", \"csui/lib/underscore\",\r\n  \"csui/lib/backbone\", \"csui/utils/log\", \"csui/utils/base\"\r\n], function (module, _require, $, _, Backbone, log, base) {\r\n  \"use strict\";\r\n\r\n  // {\r\n  //   signature:  unique identifier of the action to refer to\r\n  //   name:       title of the action\r\n  //   children:   array of action to appear as the submenu\r\n  // }\r\n\r\n  // ActionCollection to be filled on the first usage, preventing circular\r\n  // dependency between ActionCollection and ActionModel.\r\n  var ActionCollection;\r\n\r\n  var ActionModel = Backbone.Model.extend({\r\n\r\n    idAttribute: 'signature',\r\n\r\n    constructor: function ActionModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      options && options.connector && options.connector.assignTo(this);\r\n      // Require the ActionCollection on the first use to prevent a circular\r\n      // dependency between ActionCollection and ActionModel.\r\n      if (!ActionCollection) {\r\n        ActionCollection = _require(\"csui/models/actions\");\r\n      }\r\n      // TODO: make the REST API return array or nothing; the children\r\n      // property is supposed top be a collection.  It returns an empty\r\n      // object literal if there are no children, while the clients like\r\n      // Backbone.Collection expect an array or nothing.\r\n      var children = _.isArray(attributes && attributes.children) &&\r\n                     attributes.children || [];\r\n      this.children = new ActionCollection(children);\r\n    },\r\n\r\n    // not yet working\r\n    url: function () {\r\n      return base.Url.combine(this.connector.connection.url,\r\n        \"actions\", this.get(\"signature\"));\r\n    },\r\n\r\n    fetch: function (options) {\r\n      log.debug(\"Fetching action with the ID {0}.\", this.get(\"signature\")) &&\r\n      console.log(log.last);\r\n      return Backbone.Model.prototype.fetch.call(this, options);\r\n    },\r\n\r\n    parse: function (response) {\r\n      var action = response;\r\n\r\n      //if (log.debug(\"Parsing action \\\"{0}\\\" ({1}).\", action.name, action.url)) {\r\n      //  console.log(log.last);\r\n      //  console.log(response);\r\n      //}\r\n\r\n      if (this.children) {\r\n        // TODO: make the REST API return array or nothing; the children\r\n        // property is supposed top be a collection.  It returns an empty\r\n        // object literal if there are no children, while the clients like\r\n        // Backbone.Collection expect an array or nothing.\r\n        var children = _.isArray(action.children) && action.children || [];\r\n        this.children.reset(children);\r\n      }\r\n\r\n      return action;\r\n    }\r\n\r\n  });\r\n\r\n  return ActionModel;\r\n\r\n});\r\n\n","csui.define('csui/models/actions',[\"module\", \"csui/lib/jquery\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/utils/base\", \"csui/models/action\"\r\n], function (module, $, _, Backbone, log, base, ActionModel) {\r\n  \"use strict\";\r\n\r\n  // ActionCollection\r\n  // ----------------\r\n\r\n  var ActionCollection = Backbone.Collection.extend({\r\n\r\n    model: ActionModel,\r\n\r\n    constructor: function ActionCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n      this.options = options || {};\r\n    },\r\n\r\n    // Finds an action by its cid or signature (id) recursively; if the\r\n    // action doesn't exist in the models of this collection, it will be\r\n    // looked for in children of those models recursively.\r\n    findRecursively: function (id) {\r\n      // search the terminal actions in the collection first\r\n      var action = this.get({ cid: id }) || this.find(function (item) {\r\n        return item.get('signature') === id;\r\n      });\r\n      // if not found, try all the submenus\r\n      if (!action)\r\n      // make an array of all action finding results produced\r\n      // recursively and pick the first action found\r\n      {\r\n        action = _.find(this.map(function (item) {\r\n          // if the submenu isn't empty handle it as another action\r\n          // collection recursively - get the action or undefined\r\n          // if it wasn't found\r\n          return item.children.findRecursively(id);\r\n          // pick the first action which is not undefined\r\n        }), function (item) {\r\n          return item;\r\n        });\r\n      }\r\n      return action;\r\n    }\r\n\r\n  });\r\n\r\n  // Module\r\n  // ------\r\n\r\n  _.extend(ActionCollection, {\r\n    version: '1.0'\r\n  });\r\n\r\n  return ActionCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/rules.matching/rules.matching.mixin',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, _, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var RulesMatchingMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeRulesMatching: function (options) {\r\n          return this;\r\n        },\r\n\r\n        rulesToMatch: [\r\n          'equals', 'contains', 'startsWith', 'endsWith', 'matches',\r\n          'includes', 'equalsNoCase', 'containsNoCase', 'startsWithNoCase',\r\n          'endsWithNoCase', 'matchesNoCase', 'includesNoCase',  'has',\r\n          'decides', 'or', 'and', 'not'\r\n        ],\r\n\r\n        matchRules: function (model, operations, combine) {\r\n          var results = _.chain(this.rulesToMatch)\r\n                         .map(function (operation) {\r\n                           var operands = operations[operation];\r\n                           return operands === undefined ? undefined :\r\n                                  this['_evaluate-' + operation](model, operands);\r\n                         }, this)\r\n                         .filter(function (result) {\r\n                           return result !== undefined;\r\n                         })\r\n                         .value();\r\n          return !results.length ||\r\n                 _[combine || 'any'](results, function (result) {\r\n                   return result === true;\r\n                 });\r\n        },\r\n\r\n        _getRulingPropertyValue: function (model, name) {\r\n          if (typeof name !== 'string') {\r\n            if (name == null) {\r\n              name = 'null';\r\n            }\r\n            log.warn('Invalid property name in the action rule specification: {0}',\r\n                name) && console.warn(log.last);\r\n            return null;\r\n          }\r\n          var names = name.split('.'),\r\n              value = model instanceof Backbone.Model ?\r\n                      model.attributes : model || {};\r\n          _.find(names, function (name) {\r\n            value = value[name];\r\n            if (value == null) {\r\n              value = null;\r\n              return true;\r\n            }\r\n          });\r\n          return value;\r\n        },\r\n\r\n        '_evaluate-or': function (model, operations) {\r\n          if (_.isArray(operations)) {\r\n            return _.any(operations, function (operation) {\r\n              return this.matchRules(model, operation);\r\n            }, this);\r\n          }\r\n          return this.matchRules(model, operations, 'any');\r\n        },\r\n\r\n        '_evaluate-and': function (model, operations) {\r\n          if (_.isArray(operations)) {\r\n            return _.all(operations, function (operation) {\r\n              return this.matchRules(model, operation);\r\n            }, this);\r\n          }\r\n          return this.matchRules(model, operations, 'all');\r\n        },\r\n\r\n        '_evaluate-not': function (model, operations) {\r\n          return !this.matchRules(model, operations);\r\n        },\r\n\r\n        '_evaluate-equals': function (model, operands) {\r\n          return this._evaluateEquals(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-equalsNoCase': function (model, operands) {\r\n          return this._evaluateEquals(model, operands, true);\r\n        },\r\n\r\n        _evaluateEquals: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key);\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return value == actual;\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-contains': function (model, operands) {\r\n          return this._evaluateContains(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-containsNoCase': function (model, operands) {\r\n          return this._evaluateContains(model, operands, true);\r\n        },\r\n\r\n        _evaluateContains: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = []);\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return actual.indexOf(value) >= 0;\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-startsWith': function (model, operands) {\r\n          return this._evaluateStartsWith(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-startsWithNoCase': function (model, operands) {\r\n          return this._evaluateStartsWith(model, operands, true);\r\n        },\r\n\r\n        _evaluateStartsWith: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = '');\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return actual.indexOf(value) === 0;\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-endsWith': function (model, operands) {\r\n          return this._evaluateEndsWith(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-endsWithNoCase': function (model, operands) {\r\n          return this._evaluateEndsWith(model, operands, true);\r\n        },\r\n\r\n        _evaluateEndsWith: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = '');\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return _.str.endsWith(actual, value);\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-matches': function (model, operands) {\r\n          return this._evaluateMatches(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-matchesNoCase': function (model, operands) {\r\n          return this._evaluateMatches(model, operands, true);\r\n        },\r\n\r\n        _evaluateMatches: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || '';\r\n            actual && (actual = actual.toString()) || (actual = '');\r\n            _.isArray(values) || (values = [values]);\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              if (typeof value === 'string') {\r\n                value = new RegExp(value);\r\n              }\r\n              return value.test(actual);\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-includes': function (model, operands) {\r\n          return this._evaluateIncludes(model, operands, false);\r\n        },\r\n\r\n        '_evaluate-includesNoCase': function (model, operands) {\r\n          return this._evaluateIncludes(model, operands, true);\r\n        },\r\n\r\n        _evaluateIncludes: function (model, operands, noCase) {\r\n          return _.any(operands, function (values, key) {\r\n            var actual = this._getRulingPropertyValue(model, key) || [];\r\n            if (!_.isArray(actual)) {\r\n              if (_.isObject(actual)) {\r\n                actual = Object.keys(actual);\r\n              } else {\r\n                actual = [actual];\r\n              }\r\n            }\r\n            if (!_.isArray(values)) {\r\n              values = [values];\r\n            }\r\n            if (noCase) {\r\n              var normalized = this._normalizeCase(actual, values);\r\n              actual = normalized.actual;\r\n              values = normalized.values;\r\n            }\r\n            return _.any(values, function (value) {\r\n              return _.contains(actual, value);\r\n            });\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-has': function (model, operands) {\r\n          _.isArray(operands) || (operands = [operands]);\r\n          return _.any(operands, function (name) {\r\n            return this._getRulingPropertyValue(model, name) != null;\r\n          }, this);\r\n        },\r\n\r\n        '_evaluate-decides': function (model, methods) {\r\n          _.isArray(methods) || (methods = [methods]);\r\n          return _.any(methods, function (method) {\r\n            return method(model);\r\n          });\r\n        },\r\n\r\n        _normalizeCase: function (actual, values) {\r\n          if (typeof actual === 'string') {\r\n            actual = actual.toLowerCase();\r\n          }\r\n          values = _.map(values, function (value) {\r\n            return typeof value === 'string' ? value.toLowerCase() : value;\r\n          });\r\n          return {\r\n            actual: actual,\r\n            values: values\r\n          };\r\n        }\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return RulesMatchingMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/actionitem',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin'\r\n], function (_, Backbone, RulesMatchingMixin) {\r\n  'use strict';\r\n\r\n  // {\r\n  //   type:        node type to work at (for compatibility only; use operations)\r\n  //   <operation>: selects the action, if it evaluates to true; operations are\r\n  //                equals, differs, includes, excludes, startsWith, endsWith,\r\n  //                decides, or, and, not\r\n  //   signature:   unique identifier of the command to refer to\r\n  //   name:        optional title if the action appears on a label\r\n  //   sequence:    number controlling the priority of processing\r\n  //                this item during the default action evaluation\r\n  // }\r\n\r\n  var ActionItemModel = Backbone.Model.extend({\r\n\r\n    idAttribute: null,\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      signature: null\r\n    },\r\n\r\n    constructor: function ActionItemModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    },\r\n\r\n    enabled: function (node) {\r\n      // Compatibility with the previous forms with just type property;\r\n      // not with boolean operations working on node properties\r\n      var type = this.get('type');\r\n      if (type !== undefined) {\r\n        return type == node.get('type');\r\n      }\r\n      return this.matchRules(node, this.attributes);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(ActionItemModel.prototype);\r\n\r\n  return ActionItemModel;\r\n\r\n});\r\n\n","csui.define('csui/models/actionitems',['csui/lib/underscore', 'csui/lib/backbone', 'csui/models/actionitem'\r\n], function (_, Backbone, ActionItemModel) {\r\n  'use strict';\r\n\r\n  var ActionItemCollection = Backbone.Collection.extend({\r\n\r\n    model: ActionItemModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function ActionItemCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByNode: function (node) {\r\n      return this.find(function (item) {\r\n        return item.enabled(node);\r\n      });\r\n    },\r\n\r\n    getAllSignatures: function () {\r\n      return _.chain(this.pluck('signature'))\r\n          .unique()\r\n          .value();\r\n    },\r\n\r\n    getAllCommandSignatures: function (commands) {\r\n      return _.chain(this.getAllSignatures())\r\n          .map(function (signature) {\r\n            var command = commands.get(signature);\r\n            if (command) {\r\n              signature = command.get('command_key');\r\n              if (_.isArray(signature)) {\r\n                // If there are multiple command keys to check, take just the\r\n                // first one, which is the V2 one needed for the URL query\r\n                var result = signature[0];\r\n                // If the 'default' command key is requested, add the concrete\r\n                // key too; v1 expects 'default' and v2 'open', while the\r\n                // concrete action would be at the third place then.\r\n                if (result === 'default') {\r\n                  result = ['default', 'open', signature[2]];\r\n                }\r\n                return result;\r\n              }\r\n              return signature;\r\n            }\r\n          })\r\n          .flatten()\r\n          .compact()\r\n          .unique()\r\n          .value();\r\n    },\r\n\r\n    getPromotedCommandsSignatures: function () {\r\n      return _.chain(this.getAllSignatures())\r\n          .flatten()\r\n          .compact()\r\n          .unique()\r\n          .value();\r\n    }\r\n\r\n  });\r\n\r\n  return ActionItemCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/addabletype',[\"module\", \"csui/lib/backbone\", \"csui/utils/log\"\r\n], function (module, Backbone, log) {\r\n\r\n  var AddableTypeModel = Backbone.Model.extend({\r\n\r\n    constructor: function AddableTypeModel() {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    parse: function (response) {\r\n      //~ if (log.debug(\"Parsing addableItem \\\"{0}\\\" ({1}, {2}).\",\r\n      //~ response.name, response.id, response.type)) {\r\n      //~ console.log(log.last);\r\n      //~ console.log(response);\r\n      //~ }\r\n\r\n      return response;\r\n    }\r\n\r\n  });\r\n  AddableTypeModel.version = '1.0';\r\n  AddableTypeModel.Hidden = -1;\r\n\r\n  return AddableTypeModel;\r\n\r\n});\r\n\n","csui.define('csui/models/addabletypes',[\"module\", \"csui/lib/backbone\", \"csui/utils/log\", \"csui/models/addabletype\"\r\n], function (module, Backbone, log, AddableTypeModel) {\r\n\r\n  var AddableTypeCollection = Backbone.Collection.extend({\r\n\r\n    model: AddableTypeModel,\r\n\r\n    constructor: function AddableTypeCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.options = options || {};\r\n    }\r\n\r\n  });\r\n  AddableTypeCollection.version = '1.0';\r\n\r\n  return AddableTypeCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/connectable/connectable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var ConnectableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeConnectable: function (options) {\r\n          options && options.connector && options.connector.assignTo(this);\r\n          return this;\r\n        },\r\n\r\n        _prepareModel: function (attrs, options) {\r\n          options || (options = {});\r\n          if (!options.connector) {\r\n            options.connector = this.connector;\r\n          }\r\n          return originalPrepareModel.call(this, attrs, options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ConnectableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/ancestor',['module', 'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin'\r\n], function (module, Backbone, ConnectableMixin) {\r\n\r\n  var AncestorModel = Backbone.Model.extend({\r\n\r\n    constructor: function AncestorModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeConnectable(options);\r\n    },\r\n\r\n    idAttribute: null,\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  ConnectableMixin.mixin(AncestorModel.prototype);\r\n\r\n  return AncestorModel;\r\n\r\n});\r\n\n","csui.define('csui/models/ancestors',[\"module\", \"csui/lib/backbone\", \"csui/utils/log\", \"csui/models/ancestor\"\r\n], function (module, Backbone, log, AncestorModel) {\r\n\r\n  var AncestorCollection = Backbone.Collection.extend({\r\n\r\n    model: AncestorModel,\r\n\r\n    constructor: function AncestorCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.options = options || {};\r\n    }\r\n\r\n  });\r\n  AncestorCollection.version = '1.0';\r\n\r\n  return AncestorCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/expandable/expandable.mixin',['csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  \"use strict\";\r\n\r\n  var ExpandableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeExpandable: function (options) {\r\n          var expand = options && options.expand;\r\n          if (typeof expand === 'string') {\r\n            expand = expand.split(',');\r\n          }\r\n          this.expand = expand || [];\r\n          return this;\r\n        },\r\n\r\n        setExpand: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(\",\");\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.expand, name)) {\r\n              this.expand.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetExpand: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(\",\");\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.expand, name);\r\n              if (index >= 0) {\r\n                this.expand.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.expand.splice(0, this.expand.length);\r\n          }\r\n        },\r\n\r\n        getExpandableResourcesUrlQuery: function () {\r\n          return {expand: this.expand};\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ExpandableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/fetchable/fetchable.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/base'\r\n], function (_, $, Backbone, base) {\r\n  'use strict';\r\n\r\n  var FetchableMixin = {\r\n    mixin: function (prototype) {\r\n      var originalFetch = prototype.fetch;\r\n\r\n      return _.extend(prototype, {\r\n        makeFetchable: function (options) {\r\n          this.autoreset = options && options.autoreset;\r\n          // Workaround for change/add/reset events, which are fired before\r\n          // the caller is informed by sync that fetch successed.\r\n          return this.on('reset', this._beforeFetchSucceeded, this)\r\n              .on('add', this._beforeFetchSucceeded, this)\r\n              .on('remove', this._beforeFetchSucceeded, this)\r\n              .on('change', this._beforeFetchSucceeded, this);\r\n        },\r\n\r\n        _beforeFetchSucceeded: function () {\r\n          this._fetchingOriginal && this._fetchSucceeded();\r\n        },\r\n\r\n        _fetchStarted: function () {\r\n          this.fetched = false;\r\n          this.error = null;\r\n        },\r\n\r\n        _fetchSucceeded: function () {\r\n          this._fetchingOriginal = this.fetching = false;\r\n          this.fetched = true;\r\n          this.error = undefined;\r\n        },\r\n\r\n        _fetchFailed: function (jqxhr) {\r\n          this._fetchingOriginal = this.fetching = false;\r\n          this.error = new base.Error(jqxhr);\r\n        },\r\n\r\n        fetch: function (options) {\r\n          var fetching = this.fetching;\r\n          if (!fetching) {\r\n            options = _.defaults(options || {}, {\r\n              cache: true,\r\n              urlBase: this.urlCacheBase? this.urlCacheBase(): undefined\r\n            });\r\n\r\n            this._fetchStarted();\r\n            options = this._prepareFetch(options);\r\n            // Ensure that the model is marked fetched before other events are\r\n            // triggered.  If fetching is not silent, change/add/reset will be\r\n            // triggered earlier: change/add/reset, options.*, sync, promise.\r\n            var self = this,\r\n                success = options.success,\r\n                error = options.error;\r\n            options.success = function () {\r\n              self._fetchSucceeded();\r\n              success && success.apply(this, arguments);\r\n            };\r\n            options.error = function (model, jqxhr, options) {\r\n              self._fetchFailed(jqxhr);\r\n              error && error.apply(this, arguments);\r\n            };\r\n            this._fetchingOriginal = true;\r\n            fetching = originalFetch.call(this, options);\r\n            // If the fetch or sync method are implemented synchronously,\r\n            // model or collection changing events are fired earlier than\r\n            // the original fetch call returns the promise\r\n            if (this._fetchingOriginal) {\r\n              this.fetching = fetching;\r\n            }\r\n          }\r\n          return fetching;\r\n        },\r\n\r\n        _prepareFetch: function (options) {\r\n          // Trigger just one item adding operation after fetching if wanted.\r\n          options || (options = {});\r\n          options.reset === undefined && this.autoreset && (options.reset = true);\r\n          return options;\r\n        },\r\n\r\n        ensureFetched: function (options) {\r\n          if (this.fetched) {\r\n            if (options && options.success) {\r\n              options.success(this);\r\n            }\r\n            return $.Deferred()\r\n                .resolve(this, {}, options)\r\n                .promise();\r\n          }\r\n          return this.fetch(options);\r\n        },\r\n\r\n        prefetch: function (response, options) {\r\n          var deferred = $.Deferred();\r\n          options = _.extend({parse: true}, options);\r\n          options = this._prepareFetch(options);\r\n          this.error = null;\r\n          this.fetched = false;\r\n          this.fetching = deferred.promise();\r\n          this.trigger('request', this, response, options);\r\n          setTimeout(function () {\r\n            this._fetchSucceeded();\r\n            if (this instanceof Backbone.Model) {\r\n              var attributes = options.parse ? this.parse(response, options) :\r\n                                               response;\r\n              this.set(attributes, options);\r\n            } else {\r\n              var method = options.reset ? 'reset' : 'set';\r\n              this[method](response, options);\r\n            }\r\n            if (options.success) {\r\n              options.success.call(options.context, this, response, options);\r\n            }\r\n            this.trigger('sync', this, response, options);\r\n            deferred.resolve();\r\n          }.bind(this));\r\n          return this.fetching;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return FetchableMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/autofetchable/autofetchable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var AutoFetchableMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeAutoFetchable: function (options) {\r\n          var autofetchEvent = options && options.autofetchEvent;\r\n          if (autofetchEvent) {\r\n            this._autofetchEvent = options.autofetchEvent;\r\n          }\r\n          var autofetch = options && options.autofetch;\r\n          if (autofetch) {\r\n            this.automateFetch(autofetch);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        automateFetch: function (enable) {\r\n          var event = _.result(this, '_autofetchEvent'),\r\n              method = enable ? 'on' : 'off';\r\n          this.autofetch = !!enable;\r\n          this[method](event, _.bind(this._fetchAutomatically, this, enable));\r\n        },\r\n\r\n        isFetchable: function () {\r\n          return !!this.get('id');\r\n        },\r\n\r\n        _autofetchEvent: 'change:id',\r\n\r\n        _fetchAutomatically: function (options) {\r\n          this.isFetchable() && this.fetch(_.isObject(options) && options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return AutoFetchableMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/resource/resource.mixin',['csui/lib/underscore', 'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/autofetchable/autofetchable.mixin'\r\n], function (_, ConnectableMixin, FetchableMixin, AutoFetchableMixin) {\r\n  'use strict';\r\n\r\n  var ResourceMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      ConnectableMixin.mixin(prototype);\r\n      FetchableMixin.mixin(prototype);\r\n      AutoFetchableMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeResource: function (options) {\r\n          return this.makeConnectable(options)\r\n              .makeFetchable(options)\r\n              .makeAutoFetchable(options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ResourceMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/including.additional.resources/including.additional.resources.mixin',['csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n\r\n  var IncludingAdditionalResourcesMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeIncludingAdditionalResources: function (options) {\r\n          this._additionalResources = [];\r\n          if (options && options.includeResources) {\r\n            this.includeResources(options.includeResources);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        includeResources: function (names) {\r\n          if (!_.isArray(names)) {\r\n            names = names.split(',');\r\n          }\r\n          this._additionalResources = _.union(this._additionalResources, names);\r\n        },\r\n\r\n        excludeResources: function (names) {\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            this._additionalResources = _.reject(this._additionalResources, names);\r\n          } else {\r\n            this._additionalResources.splice(0, this._additionalResources.length);\r\n          }\r\n        },\r\n\r\n        getAdditionalResourcesUrlQuery: function () {\r\n          return _.reduce(this._additionalResources, function (result, parameter) {\r\n            result[parameter] = 'true';\r\n            return result;\r\n          }, {});\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n  };\r\n\r\n  return IncludingAdditionalResourcesMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/authenticated.user/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var apiBase = new Url(this.connector.connection.url).getApiBase('v1'),\r\n              url = Url.combine(apiBase, '/auth'),\r\n              query = Url.combineQueryString(\r\n                this.getExpandableResourcesUrlQuery(),\r\n                this.getAdditionalResourcesUrlQuery()\r\n              );\r\n          return query ? url + '?' + query : url;\r\n        },\r\n    \r\n        parse: function (response) {\r\n          var user = response.data || {};\r\n          user.perspective = response.perspective;\r\n          return user;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/authenticated.user',[\r\n  'csui/lib/backbone', 'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin',\r\n  'csui/models/authenticated.user/server.adaptor.mixin'\r\n], function (Backbone, ExpandableMixin, ResourceMixin,\r\n    IncludingAdditionalResourcesMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var AuthenticatedUserModel = Backbone.Model.extend({\r\n    constructor: function AuthenticatedUserModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeExpandable(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    }\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(AuthenticatedUserModel.prototype);\r\n  ExpandableMixin.mixin(AuthenticatedUserModel.prototype);\r\n  ResourceMixin.mixin(AuthenticatedUserModel.prototype);\r\n  ServerAdaptorMixin.mixin(AuthenticatedUserModel.prototype);\r\n\r\n  return AuthenticatedUserModel;\r\n});\r\n\n","csui.define('csui/models/authenticated.user.node.permission',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin'\r\n], function (_, Backbone, Url, ExpandableMixin, ResourceMixin,\r\n    IncludingAdditionalResourcesMixin) {\r\n  'use strict';\r\n\r\n  var AuthenticatedUserNodePermissionModel = Backbone.Model.extend({\r\n    constructor: function AuthenticatedUserNodePermissionModel(attributes, options) {\r\n      options || (options = {});\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeExpandable(options);\r\n      this.options= options;\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    },\r\n\r\n    url: function () {\r\n      var selectedNodeId = this.node ? this.node.get('id') : this.options.node.get('id'),\r\n          userId         = this.options.user.get('id');\r\n      var apiBase = new Url(this.connector.connection.url).getApiBase('v2'),\r\n          url     = Url.combine(apiBase, '/nodes/', selectedNodeId, '/permissions/effective/',\r\n              userId);\r\n\r\n      return url;\r\n    },\r\n\r\n    parse: function (response) {\r\n      var permissions = response.results && response.results.data && response.results.data.permissions;\r\n      if (permissions) {\r\n        if (this.node && !this.node.get('container') && permissions.permissions.indexOf('add_items') !== -1) {\r\n          permissions.permissions.splice(permissions.permissions.indexOf('add_items'), 1);\r\n        }\r\n      } else {\r\n        permissions = {};\r\n      }\r\n      return permissions;\r\n    },\r\n\r\n    hasEditPermissionRights:function () {\r\n      //Added check to provide edit rights to wiki pages(i.e. HTML widgets) only\r\n      /*var nodeType = this.node ? this.node.get('type') : this.options.node.get('type');\r\n      if(nodeType !== 5574) { //Wiki page type- 5574\r\n        return false;\r\n      }*/\r\n      if (this.node && this.node.get(\"permissions_model\") === \"simple\") {\r\n        return false;\r\n      }\r\n      var permissons=this.get(\"permissions\");\r\n      return permissons && _.isArray(permissons) && _.contains(permissons,'edit_permissions');\r\n    }\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(AuthenticatedUserNodePermissionModel.prototype);\r\n  ExpandableMixin.mixin(AuthenticatedUserNodePermissionModel.prototype);\r\n  ResourceMixin.mixin(AuthenticatedUserNodePermissionModel.prototype);\r\n\r\n  return AuthenticatedUserNodePermissionModel;\r\n});\r\n\n","csui.define('csui/models/mixins/uploadable/uploadable.mixin',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, _, $, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var config = _.extend({\r\n    useJson: false,\r\n    useMock: false,\r\n    usePatch: false,\r\n    metadataPartName: 'body'\r\n  }, module.config());\r\n\r\n  var UploadableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      var originalSync = prototype.sync;\r\n\r\n      // Mixins are applied after the prototype has been defined. This\r\n      // method is supposed to be overridden in the original prototype.\r\n      if (!prototype.prepare) {\r\n        prototype.prepare = function (data, options) {\r\n          return data;\r\n        };\r\n      }\r\n\r\n      // Let model's prototype prepare formData to post otherwise, have a default impl.\r\n      if (!prototype.prepareFormData) {\r\n        prototype.prepareFormData = function (data, options) {\r\n          return {body: JSON.stringify(data)};\r\n        };\r\n      }\r\n\r\n      return _.extend(prototype, {\r\n        makeUploadable: function (options) {\r\n          return this;\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var useJson          = UploadableMixin.useJSON,\r\n              useMock          = UploadableMixin.mock,\r\n              usePatch         = UploadableMixin.usePatch,\r\n              metadataPartName = UploadableMixin.metadataPartName,\r\n              data             = options.data || options.attrs || this.attributes;\r\n\r\n          // Allow data \"massage\", before sending them to the server.\r\n          if (options.prepare !== false) {\r\n            data = this.prepare(data, options);\r\n          }\r\n\r\n          // Make sure, that POST and PUT urls do not contain the URL query\r\n          // part.  It is not possible to ensure it inside the url function.\r\n          function currectUpdatingUrl() {\r\n            var url = options.url || _.result(model, 'url');\r\n            return url.replace(/\\?.*$/, '');\r\n          }\r\n\r\n          if (method === 'create') {\r\n            log.debug('Creating {0} ({1}).',\r\n                log.getObjectName(this), this.cid) && console.log(log.last);\r\n            if (useMock) {\r\n              // append file, if there is\r\n              _.each(_.keys(options.files || {}), function (key) {\r\n                var files = options.files[key], i;\r\n                if (_.isArray(files) && files.length > 1) {\r\n                  // TODO: Adapt this according to the server support;\r\n                  // currently the server can consume only one file\r\n                  for (i = 0; i < files.length; ++i) {\r\n                    var name = i ? key + i : key;\r\n                    data[name] = files[i];\r\n                  }\r\n                } else if (files) {\r\n                  data[key] = files;\r\n                }\r\n              });\r\n\r\n              _.extend(options, {\r\n                data: data,\r\n                contentType: 'application/json',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else if (!_.isEmpty(options.files)) {\r\n              var formData = new FormData();\r\n              data = JSON.stringify(data);\r\n              if (useJson) {\r\n                formData.append(metadataPartName,\r\n                    new Blob([data], {type: 'application/json'}));\r\n              } else {\r\n                formData.append(metadataPartName, data);\r\n              }\r\n\r\n              // append file, if there is\r\n              _.each(_.keys(options.files || {}), function (key) {\r\n                var files = options.files[key], i;\r\n                if (_.isArray(files) && files.length > 1) {\r\n                  // TODO: Adapt this according to the server support;\r\n                  // currently the server can consume only one file\r\n                  for (i = 0; i < files.length; ++i) {\r\n                    var name = i ? key + i : key;\r\n                    formData.append(name, files[i]);\r\n                  }\r\n                } else if (files) {\r\n                  formData.append(key, files, files.name);\r\n                }\r\n              });\r\n\r\n              _.extend(options, {\r\n                data: formData,\r\n                contentType: false,\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else {\r\n              if (useJson) {\r\n                _.extend(options, {\r\n                  data: JSON.stringify(data),\r\n                  contentType: 'application/json',\r\n                  url: currectUpdatingUrl()\r\n                });\r\n              } else {\r\n                data = this.prepareFormData(data);\r\n                _.extend(options, {\r\n                  data: $.param(data),\r\n                  contentType: 'application/x-www-form-urlencoded',\r\n                  url: currectUpdatingUrl()\r\n                });\r\n              }\r\n            }\r\n          } else if (method === 'update' || method === 'patch') {\r\n            log.debug('Updating {0} ({1}).',\r\n                log.getObjectName(this), this.cid) && console.log(log.last);\r\n            if (!usePatch) {\r\n              method = 'update';\r\n            }\r\n            // Send metadata_token automatically if it is present.\r\n            // TODO: Move this to server adaptor, optionally as a model feature.\r\n            var metadataToken = this.state && this.state.get('metadata_token');\r\n            if (metadataToken != null) {\r\n              data.metadata_token = metadataToken;\r\n            }\r\n            if (useMock) {\r\n              _.extend(options, {\r\n                data: data,\r\n                contentType: 'application/json',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else if (useJson) {\r\n              _.extend(options, {\r\n                data: JSON.stringify(data),\r\n                contentType: 'application/json',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            } else {\r\n              data = this.prepareFormData(data);\r\n              _.extend(options, {\r\n                data: $.param(data),\r\n                contentType: 'application/x-www-form-urlencoded',\r\n                url: currectUpdatingUrl()\r\n              });\r\n            }\r\n          }\r\n          return originalSync.call(this, method, model, options);\r\n        }\r\n      });\r\n    },\r\n\r\n    // Set to true to enable tests of PUT and PATCH; once the server\r\n    // accepts application/json content type, change the default to true\r\n    useJSON: config.useJson,\r\n\r\n    // Set to true to enable unit tests of POST, PUT and PATCH; files\r\n    // have to be looked up in the jqxhr settings object\r\n    mock: config.useMock,\r\n\r\n    // Set to true to enable usage of the PATCH verb, if the server\r\n    // supports it\r\n    usePatch: config.usePatch,\r\n\r\n    // Set to true to enable usage of the PATCH verb, if the server\r\n    // supports it\r\n    metadataPartName: config.metadataPartName\r\n  };\r\n\r\n  return UploadableMixin;\r\n});\r\n\n","csui.define('csui/models/member/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        urlRoot: function () {\r\n          var apiBase = new Url(this.connector.connection.url).getApiBase('v1');\r\n          return Url.combine(apiBase, '/members');\r\n        },\r\n\r\n        url: function () {\r\n          var query = Url.combineQueryString(this.getExpandableResourcesUrlQuery()),\r\n              id = this.get('id'),\r\n              url;\r\n          if (id) {\r\n            url = Url.combine(this.urlRoot(), id);\r\n          } else {\r\n            var apiBase = new Url(this.connector.connection.url).getApiBase('v1');\r\n            url = Url.combine(apiBase, '/auth');\r\n          }\r\n          return query ? url + '?' + query : url;\r\n        },\r\n\r\n        parse: function (response) {\r\n          return response.user || response.data || response;\r\n        }\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/member',['csui/lib/backbone',\r\n'csui/models/mixins/expandable/expandable.mixin',\r\n'csui/models/mixins/resource/resource.mixin',\r\n'csui/models/mixins/uploadable/uploadable.mixin',\r\n'csui/models/mixins/including.additional.resources/including.additional.resources.mixin',\r\n'csui/models/member/server.adaptor.mixin'\r\n], function (Backbone, ExpandableMixin, ResourceMixin,\r\n  UploadableMixin, IncludingAdditionalResourcesMixin, ServerAdaptorMixin) {\r\n    'use strict';\r\n\r\n  var MemberModel = Backbone.Model.extend({\r\n    constructor: function MemberModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeUploadable(options)\r\n          .makeExpandable(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    }\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(MemberModel.prototype);\r\n  ExpandableMixin.mixin(MemberModel.prototype);\r\n  UploadableMixin.mixin(MemberModel.prototype);\r\n  ResourceMixin.mixin(MemberModel.prototype);\r\n  ServerAdaptorMixin.mixin(MemberModel.prototype);\r\n\r\n  return MemberModel;\r\n});\r\n\n","csui.define('csui/models/authentication',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/member', 'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin', 'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin'\r\n], function (_, Backbone, Url, MemberModel, ConnectableMixin, FetchableMixin,\r\n    ExpandableMixin, IncludingAdditionalResourcesMixin) {\r\n  'use strict';\r\n\r\n  var AuthenticationModel = Backbone.Model.extend({\r\n\r\n    constructor: function AuthenticationModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeConnectable(options)\r\n          .makeIncludingAdditionalResources(options)\r\n          .makeFetchable(options)\r\n          .makeExpandable(options);\r\n\r\n      this.user = new MemberModel(this.get(\"user\"), options);\r\n    },\r\n\r\n    idAttribute: null,\r\n\r\n    url: function () {\r\n      var url = Url.combine(this.connector.connection.url, \"auth\"),\r\n          query = Url.combineQueryString(\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getAdditionalResourcesUrlQuery()\r\n          );\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response) {\r\n      // Normalize the response to have always an user there.\r\n      var user = response.user || (response.user = response.data);\r\n\r\n      // Properties out of data are not passed to the constructor.  This\r\n      // may yet get its own sub-model.\r\n      _.defaults(user, {\r\n        perspective: response.perspective\r\n      });\r\n\r\n      // Parse can be called from the parent constructor, before the\r\n      // of this functional object has finished.  In that case, the\r\n      // raw data will be returned in the parsed object; otherwise\r\n      // they will be set to the existing nested collections.\r\n      if (this.user) {\r\n        this.user.set(user);\r\n      }\r\n\r\n      return response;\r\n    }\r\n\r\n  });\r\n\r\n  IncludingAdditionalResourcesMixin.mixin(AuthenticationModel.prototype);\r\n  ExpandableMixin.mixin(AuthenticationModel.prototype);\r\n  ConnectableMixin.mixin(AuthenticationModel.prototype);\r\n  FetchableMixin.mixin(AuthenticationModel.prototype);\r\n\r\n  return AuthenticationModel;\r\n\r\n});\r\n\n","csui.define('csui/models/clientsidecollection',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/base'\r\n], function (_, Backbone, base) {\r\n  'use strict';\r\n\r\n  function ClientSideCollection() {\r\n    var prototype = {\r\n\r\n      clone: function () {\r\n        // Provide the options; they may include connector and other parameters\r\n        var clone = new this.constructor(this.models, this.options);\r\n        // Clone sub-models not covered by Backbone\r\n        if (this.columns) {\r\n          clone.columns.reset(this.columns.toJSON());\r\n        }\r\n        // Clone properties about the full (not-yet fetched) collection\r\n        clone.actualSkipCount = this.actualSkipCount;\r\n        clone.totalCount = this.totalCount;\r\n        clone.filteredCount = this.filteredCount;\r\n        return clone;\r\n      },\r\n\r\n      _cacheCollection: function () {\r\n        if (this.selfReset !== true) {\r\n          this.selfReset = false;\r\n          this.cachedCollection = this.clone();\r\n        }\r\n      },\r\n\r\n      parse: function (response) {\r\n        this.actualSkipCount = 0;\r\n        this.totalCount = response.results.length;\r\n        this.filteredCount = this.totalCount;\r\n\r\n        this._limitResponse(response.results);\r\n\r\n        this.columns && this.columns.resetColumnsV2(response, this.options);\r\n        return response.results;\r\n      },\r\n\r\n      _limitResponse: function (elements) {\r\n        if (elements && this.skipCount) {\r\n          if (elements.length > this.skipCount) {\r\n            elements.splice(0, this.skipCount);\r\n          } else {\r\n            this.actualSkipCount = 0;\r\n          }\r\n        }\r\n        if (elements && this.topCount) {\r\n          if (elements.length > this.topCount) {\r\n            elements.splice(this.topCount);\r\n          }\r\n        }\r\n      },\r\n\r\n      _resetCollection: function () {\r\n        if (!this.cachedCollection) {\r\n          this._cacheCollection();\r\n        }\r\n        this.workingModels = _.clone(this.cachedCollection.models);\r\n        this.totalCount = this.workingModels.length;\r\n        this.filteredCount = this.workingModels.length;\r\n      },\r\n\r\n      _runAllOperations: function (reset) {\r\n        this._resetCollection();\r\n        this._sortCollection();\r\n        this._filterCollection();\r\n        this._limitCollection();\r\n        this._triggerCollectionResetEvent(reset);\r\n      },\r\n\r\n      _triggerCollectionResetEvent: function (reset) {\r\n        this.models = _.clone(this.workingModels);\r\n        this.length = this.models.length;\r\n        if (reset) {\r\n          this.selfReset = true;\r\n          this.trigger(\"reset\", this);\r\n        }\r\n      },\r\n\r\n      // client-side paging\r\n      setLimit: function (skip, top, fetch) {\r\n        if (this.skipCount != skip || this.topCount != top) {\r\n          this.skipCount = skip;\r\n          this.actualSkipCount = skip;\r\n          this.topCount = top;\r\n\r\n          this._runAllOperations(true);\r\n\r\n          return true;\r\n        }\r\n      },\r\n\r\n      _limitCollection: function () {\r\n        this._limitResponse(this.workingModels);\r\n      },\r\n\r\n      resetLimit: function (fetch) {\r\n        if (this.skipCount) {\r\n          this.skipCount = 0;\r\n          this.topCount = 0;\r\n          this.actualSkipCount = 0;\r\n\r\n          this._resetCollection();\r\n          this._triggerCollectionResetEvent(true);\r\n\r\n          return true;\r\n        }\r\n      },\r\n\r\n      // client-side filtering\r\n      setFilter: function (filterObj) {\r\n        this.filterObj || (this.filterObj = {});\r\n        if (_.isEmpty(filterObj)) {\r\n          this.filterObj = {};\r\n        } else {\r\n          _.extend(this.filterObj, filterObj);\r\n        }\r\n        this._runAllOperations(true);\r\n        return true;\r\n      },\r\n\r\n      clearFilter: function (fetch) {\r\n        if (this.filterObj) {\r\n          this.filterObj = undefined;\r\n          this._resetCollection();\r\n          this._triggerCollectionResetEvent(true);\r\n          return true;\r\n        }\r\n      },\r\n\r\n      _filterCollection: function () {\r\n        for (var name in this.filterObj) {\r\n          if (_.has(this.filterObj, name)) {\r\n            var values = this.filterObj[name];\r\n            if (values != null && values !== '') {\r\n              _.isArray(values) || (values = [values]);\r\n              this.workingModels = _.filter(this.workingModels, function (node) {\r\n                var hay = parseValue(name, node.get(name));\r\n                return _.any(values, function (value) {\r\n                  var needle = parseValue(name, value);\r\n                  if (name === 'type' && needle == -1) {\r\n                    return node.get('container');\r\n                  }\r\n                  return containsValue(hay, needle);\r\n                });\r\n              });\r\n            }\r\n          }\r\n        }\r\n        this.totalCount = this.workingModels.length;\r\n        this.filteredCount = this.workingModels.length;\r\n      },\r\n\r\n      // client-side sorting\r\n      setOrder: function (attributes, fetch) {\r\n        if (this.orderBy != attributes) {\r\n          this.orderBy = attributes;\r\n          this._runAllOperations();\r\n          return true;\r\n        }\r\n      },\r\n\r\n      resetOrder: function (fetch) {\r\n        if (this.orderBy) {\r\n          this.orderBy = undefined;\r\n          this._resetCollection();\r\n          this._triggerCollectionResetEvent();\r\n          return true;\r\n        }\r\n      },\r\n\r\n      _sortCollection: function () {\r\n        if (this.orderBy) {\r\n          var criteria = _.map(this.orderBy.split(','), function (criterium) {\r\n            var parts = criterium.trim().split(' ');\r\n            return {\r\n              property: parts[0],\r\n              descending: parts[1] === 'desc'\r\n            };\r\n          });\r\n\r\n          this.workingModels.sort(function (left, right) {\r\n            var result = 0;\r\n            _.find(criteria, function (criterium) {\r\n              left = parseValue(criterium.property, left.get(criterium.property));\r\n              right = parseValue(criterium.property, right.get(criterium.property));\r\n\r\n              result = compareValues(left, right);\r\n              if (result) {\r\n                if (criterium.descending) {\r\n                  result *= -1;\r\n                }\r\n                return true;\r\n              }\r\n            });\r\n            return result;\r\n          });\r\n        }\r\n      }\r\n\r\n    };\r\n    prototype.ClientSideCollection = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  // TODO: ClientSideBrowsableMixin should be used\r\n  // and ClientSideCollection module disused\r\n\r\n  function compareValues(left, right) {\r\n    if (typeof left === 'string' && typeof right === 'string') {\r\n      // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n      // not for values with internal system constants, which can be case-sensitive\r\n      return base.localeCompareString(left, right, {usage:'sort'});\r\n    }\r\n    if (left != right) {\r\n      if (left > right || right === void 0) {\r\n        return 1;\r\n      }\r\n      if (left < right || left === void 0) {\r\n        return -1;\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  function containsValue(hay, needle) {\r\n    if (typeof hay === 'string' && typeof needle === 'string') {\r\n      // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n      // not for values with internal system constants, which can be case-sensitive\r\n      return base.localeContainsString(hay, needle.toString());\r\n    }\r\n    return hay == needle;\r\n  }\r\n\r\n  // FIXME: Use metadata to get the correct value type for parsing\r\n  function parseValue(property, value) {\r\n    if (value != null) {\r\n      if (property === 'type') {\r\n        return +value;\r\n      }\r\n      if (property.indexOf('date') >= 0) {\r\n        return new Date(value);\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n\r\n  return ClientSideCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/column',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\", \"csui/utils/url\",\r\n  \"csui/utils/log\"\r\n], function (module, _, Backbone, Url, log) {\r\n\r\n  var ColumnModel = Backbone.Model.extend({\r\n\r\n    constructor: function ColumnModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    idAttribute: null,\r\n\r\n    parse: function (response) {\r\n      //~ if (log.debug(\"Parsing column \\\"{0}\\\" ({1}, {2}).\",\r\n      //~ response.name, response.column_key, response.id)) {\r\n      //~ console.log(log.last);\r\n      //~ console.log(response);\r\n      //~ }\r\n\r\n      // TODO: support these attributes on the server too.\r\n      switch (response.column_key) {\r\n      case \"name\":\r\n        response = _.extend(response, {\r\n          default_action: true,\r\n          contextual_menu: false,\r\n          editable: true,\r\n          filter_key: \"name\"\r\n        });\r\n        break;\r\n      case \"type\":\r\n        response = _.extend(response, {\r\n          default_action: true\r\n        });\r\n        break;\r\n      }\r\n\r\n      return response;\r\n    }\r\n\r\n  });\r\n  ColumnModel.version = '1.0';\r\n\r\n  return ColumnModel;\r\n\r\n});\r\n\n","csui.define('csui/models/columns',[\"module\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/models/column\"\r\n], function (module, Backbone, log, ColumnModel) {\r\n\r\n  var ColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: ColumnModel,\r\n\r\n    constructor: function ColumnCollection() {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n  ColumnCollection.version = '1.0';\r\n\r\n  return ColumnCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/datadefinition',[ \"module\", \"csui/lib/backbone\", \"csui/utils/log\"\r\n],  function ( module, Backbone, log )\r\n  {\r\n    \"use strict\";\r\n\r\n    //\r\n    // Data-Definition Model.\r\n    //\r\n    var DataDefinitionModel = Backbone.Model.extend({\r\n\r\n      constructor: function DataDefinitionModel() {\r\n        Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      },\r\n\r\n      idAttribute: null,\r\n\r\n      parse: function (response) {\r\n        return response;\r\n      }\r\n\r\n    });\r\n\r\n    DataDefinitionModel.version = '1.0';\r\n\r\n    return DataDefinitionModel;\r\n\r\n  });\r\n\n","csui.define('csui/models/datadefinitions',[ \"module\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n         \"csui/utils/log\", \"csui/utils/base\", \"csui/models/datadefinition\"\r\n], function( module, _, Backbone,\r\n             log, base, DataDefinitionModel )\r\n  {\r\n    \"use strict\";\r\n\r\n    //\r\n    // Generic Data-Definition Collection.\r\n    //\r\n    // Params in constructor:\r\n    // - models: can be passed in or undefined\r\n    // - options:\r\n    //   Two possible ways with the 'options' in constructor as in the following examples:\r\n    //   1) options = {\r\n    //        connector: connector,\r\n    //        url: \"api/v1/nodes/2000\"\r\n    //      }\r\n    //   2) options = {\r\n    //        node: node,\r\n    //        [nodeResource: \"actions\"]  // optional\r\n    //      }\r\n    //\r\n    var DataDefinitionCollection = Backbone.Collection.extend({\r\n\r\n      model: DataDefinitionModel,\r\n\r\n      constructor: function DataDefinitionCollection( models, options ) {\r\n        Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n        this.setOptions( options );\r\n      },\r\n\r\n      // public\r\n      setOptions: function( options ) {\r\n        this.options = options ? options : {};\r\n        this.options.connector && this.options.connector.assignTo(this);\r\n        this.options.node && this.options.node.connector && this.options.node.connector.assignTo(this);\r\n      },\r\n\r\n      url: function() {\r\n        var url;\r\n        if( this.options.url ) {\r\n          var cgiPath = new base.Url(this.connector.connection.url).getCgiScript(true);\r\n          url = base.Url.combine( cgiPath, this.options.url );\r\n        } else {\r\n          url = this.options.node && this.options.node.urlBase();\r\n          if( this.options.nodeResource ) {\r\n            url = base.Url.combine( url, this.options.nodeResource );\r\n          }\r\n        }\r\n        return url;\r\n      },\r\n\r\n      fetch: function( options ) {\r\n        log.debug( \"Fetching data-definitions for url '{0}'.\", this.url()) &&\r\n          typeof console !== 'undefined' && console.log( log.last );\r\n\r\n        options || (options = {});\r\n        if( options.reset === undefined ) {\r\n          options.reset = true;\r\n        }\r\n\r\n        return Backbone.Collection.prototype.fetch.call( this, options );\r\n      },\r\n\r\n      parse: function( response, options ) {\r\n        this.data = response.data || {};\r\n        this.definitions = response.definitions || {};\r\n        this.definitions_map = response.definitions_map || {};\r\n        this.definitions_order = response.definitions_order || {};\r\n\r\n        // construct a flat structure\r\n        this.definitions_flat = {};\r\n        _.each( this.definitions, function( def, key ) {\r\n          var definition = _.extend(\r\n            {\r\n              signature: key,\r\n              href: this.data[key]\r\n            },\r\n            def\r\n          );\r\n          this.definitions_flat[key] = definition;\r\n        }, this);\r\n\r\n        return Backbone.Collection.prototype.parse.call( this,\r\n          this.definitions_flat, options);\r\n      },\r\n\r\n      // public\r\n      GetDefinitionsOrder: function() {\r\n        return this.definitions_order;\r\n      },\r\n\r\n      // public\r\n      GetDefinitionMap: function() {\r\n        return this.definitions_map;\r\n      },\r\n\r\n      // public\r\n      GetDefinition: function( signature ) {\r\n        return this.definitions[signature];\r\n      },\r\n\r\n      // public: get the flat definitions structure of data-definitions\r\n      GetFlatCollection: function() {\r\n        return this.definitions_flat || {};\r\n      },\r\n\r\n      // public: return a flat definition based on the requested definition key\r\n      GetFlatDefinition: function( def ) {\r\n        return this.definitions_flat[def];\r\n      }\r\n\r\n    });\r\n\r\n    _.extend( DataDefinitionCollection, { version: '1.0' } );\r\n\r\n    return DataDefinitionCollection;\r\n\r\n  });\r\n\n","csui.define('csui/models/mixins/v2.fields/v2.fields.mixin',['csui/lib/underscore'], function (_) {\r\n  'use strict';\r\n\r\n  var FieldsV2Mixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeFieldsV2: function (options) {\r\n          this.fields = options && options.fields || {};\r\n          return this;\r\n        },\r\n\r\n        hasFields: function (role) {\r\n          if (this.fields[role]) {\r\n            return true;\r\n          }\r\n          if (_.isEmpty(this.fields) && this.collection && this.collection.fields) {\r\n            return role ? !!this.collection.fields[role] : _.isEmpty(this.collection.fields);\r\n          }\r\n          return false;\r\n        },\r\n\r\n        setFields: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._setOneFieldSet(key, value);\r\n            }, this);\r\n          } else {\r\n            this._setOneFieldSet(role, names);\r\n          }\r\n        },\r\n\r\n        resetFields: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._resetOneFieldSet(key, value);\r\n            }, this);\r\n          } else {\r\n            this._resetOneFieldSet(role, names);\r\n          }\r\n        },\r\n\r\n        getResourceFieldsUrlQuery: function () {\r\n          return _.reduce(this.fields, function (result, names, role) {\r\n            var fields = result.fields || (result.fields = []),\r\n                encodedNames = _.map(names, encodeURIComponent),\r\n                field = encodeURIComponent(role);\r\n            if (encodedNames.length) {\r\n              var dot = field.indexOf('.');\r\n              if (dot > 0) {\r\n                // versions.element(0) -> versions{mime_type}.element(0)\r\n                field = field.substring(0, dot) + '{' + encodedNames.join(',') + '}' +\r\n                        field.substring(dot);\r\n              } else {\r\n                // properties -> properties{name}\r\n                field += '{' + encodedNames.join(',') + '}';\r\n              }\r\n            }\r\n            fields.push(field);\r\n            return result;\r\n          }, {});\r\n        },\r\n\r\n        _setOneFieldSet: function (role, names) {\r\n          var fields = this.fields[role] || (this.fields[role] = []);\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              if (!_.contains(fields, name)) {\r\n                fields.push(name);\r\n              }\r\n            }, this);\r\n          }\r\n        },\r\n\r\n        _resetOneFieldSet: function (role, names) {\r\n          if (names) {\r\n            var fields = this.fields[role] || (this.fields[role] = []);\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              var index = _.indexOf(fields, name);\r\n              if (index >= 0) {\r\n                fields.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else if (role) {\r\n            delete this.fields[role];\r\n          } else {\r\n            _.chain(this.fields)\r\n             .keys()\r\n             .each(function (key) {\r\n               delete this.fields[key];\r\n             }, this);\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    mergePropertyParameters: function (output, input) {\r\n      if (typeof input === 'string') {\r\n        input = input.split(',');\r\n      }\r\n      if (Array.isArray(input)) {\r\n        input = input.reduce(function (result, name) {\r\n          var value = result[name];\r\n          // If all fields or expands in a scope were requested, ensure,\r\n          // that an empty array is assigned to it to include app properties\r\n          if (!value || value.length) {\r\n            result[name] = [];\r\n          }\r\n          return result;\r\n        }, {});\r\n      }\r\n      output || (output = {});\r\n      _.each(input, function (values, name) {\r\n        var target = output[name];\r\n        if (target) {\r\n          _.each(values, function (value) {\r\n            if (!_.contains(target, value)) {\r\n              target.push(value);\r\n            }\r\n          });\r\n        } else {\r\n          output[name] = values;\r\n        }\r\n      });\r\n      return output;\r\n    }\r\n  };\r\n\r\n  return FieldsV2Mixin;\r\n});\r\n\n","csui.define('csui/models/mixins/v2.expandable/v2.expandable.mixin',[\r\n  'csui/lib/underscore', 'csui/models/mixins/v2.fields/v2.fields.mixin'\r\n], function (_, FieldsV2Mixin) {\r\n  'use strict';\r\n\r\n  var ExpandableV2Mixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeExpandableV2: function (options) {\r\n          this.expand = options && options.expand || {};\r\n          return this;\r\n        },\r\n\r\n        hasExpand: function (role) {\r\n          if (this.expand[role]) {\r\n            return true;\r\n          }\r\n          if (_.isEmpty(this.expand) && this.collection && this.collection.expand) {\r\n            return role ? !!this.collection.expand[role] : _.isEmpty(this.collection.expand);\r\n          }\r\n          return false;\r\n        },\r\n\r\n        setExpand: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._setOneExpand(key, value);\r\n            }, this);\r\n          } else {\r\n            this._setOneExpand(role, names);\r\n          }\r\n        },\r\n\r\n        resetExpand: function (role, names) {\r\n          if (_.isObject(role)) {\r\n            _.each(role, function (value, key) {\r\n              this._resetOneExpand(key, value);\r\n            }, this);\r\n          } else {\r\n            this._resetOneExpand(role, names);\r\n          }\r\n        },\r\n\r\n        getExpandableResourcesUrlQuery: function () {\r\n          return _.reduce(this.expand, function (result, names, role) {\r\n            var expand = result.expand || (result.expand = []),\r\n                encodedNames = _.map(names, encodeURIComponent),\r\n                expandable = encodeURIComponent(role);\r\n            if (encodedNames.length) {\r\n              expandable += '{' + encodedNames.join(',') + '}';\r\n            }\r\n            expand.push(expandable);\r\n            return result;\r\n          }, {});\r\n        },\r\n\r\n        _setOneExpand: function (role, names) {\r\n          var expand = this.expand[role] || (this.expand[role] = []);\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              if (!_.contains(expand, name)) {\r\n                expand.push(name);\r\n              }\r\n            }, this);\r\n          }\r\n        },\r\n\r\n        _resetOneExpand: function (role, names) {\r\n          if (names) {\r\n            var expand = this.expand[role] || (this.expand[role] = []);\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            _.each(names, function (name) {\r\n              var index = _.indexOf(expand, name);\r\n              if (index >= 0) {\r\n                expand.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else if (role) {\r\n            delete this.expand[role];\r\n          } else {\r\n            _.chain(this.expand)\r\n             .keys()\r\n             .each(function (key) {\r\n               delete this.expand[key];\r\n             }, this);\r\n          }\r\n        }\r\n      });\r\n    },\r\n\r\n    mergePropertyParameters: FieldsV2Mixin.mergePropertyParameters\r\n  };\r\n\r\n  return ExpandableV2Mixin;\r\n});\r\n\n","csui.define('csui/models/mixins/state.requestor/state.requestor.mixin',[\r\n  'csui/lib/underscore'\r\n],function (_) {\r\n  'use strict';\r\n\r\n  var StateRequestorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeStateRequestor: function (options) {\r\n          this.stateEnabled = options && options.stateEnabled;\r\n          return this;\r\n        },\r\n\r\n        enableState: function () {\r\n          this.stateEnabled = true;\r\n        },\r\n\r\n        disableState: function () {\r\n          this.stateEnabled = false;\r\n        },\r\n\r\n        getStateEnablingUrlQuery: function () {\r\n          var stateEnabled = this.stateEnabled != null ? this.stateEnabled :\r\n            this.collection && this.collection.stateEnabled;\r\n          return stateEnabled ? {state: ''} : {};\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return StateRequestorMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/state.carrier/state.carrier.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin'\r\n], function (_, Backbone, StateRequestorMixin) {\r\n  'use strict';\r\n\r\n  var StateCarrierMixin = {\r\n    mixin: function (prototype) {\r\n      StateRequestorMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n        makeStateCarrier: function (options, attributes) {\r\n          this.state = new Backbone.Model(getStateAttributes(attributes));\r\n          return this.makeStateRequestor(options);\r\n        },\r\n\r\n        setState: function (attributes) {\r\n          if (this.state) {\r\n            var state = getStateAttributes(attributes);\r\n            if (state) {\r\n              this.state.set(state);\r\n            }\r\n          }\r\n        },\r\n\r\n        parseState: function (node, results, role) {\r\n          // TODO: Allow states for other fields, than \"properties\"\r\n          node.state = getStateAttributes(results);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  function getStateAttributes(attributes) {\r\n    var state = attributes && attributes.state;\r\n    return state && state.properties || state;\r\n  }\r\n\r\n  return StateCarrierMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/v2.commandable/v2.commandable.mixin',['csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  \"use strict\";\r\n\r\n  var CommandableV2Mixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeCommandableV2: function (options) {\r\n          var commands = options && options.commands;\r\n          if (typeof commands === 'string') {\r\n            commands = commands.split(',');\r\n          }\r\n          this.commands = commands || [];\r\n          return this;\r\n        },\r\n\r\n        setCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(\",\");\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.commands, name)) {\r\n              this.commands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(\",\");\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.commands, name);\r\n              if (index >= 0) {\r\n                this.commands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.commands.splice(0, this.commands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          return this.commands.length && {actions: this.commands};\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return CommandableV2Mixin;\r\n\r\n});\r\n\n","csui.define('csui/models/node.actions/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var query;\r\n          if (!!this.parent_id) {\r\n            query = Url.combineQueryString({\r\n                  reference_id: this.parent_id,\r\n                  ids: this.nodes\r\n                },\r\n                this.getRequestedCommandsUrlQuery()\r\n            );\r\n          }\r\n          else {\r\n            query = Url.combineQueryString({\r\n                  ids: this.nodes\r\n                },\r\n                this.getRequestedCommandsUrlQuery()\r\n            );\r\n          }\r\n\r\n\r\n          return Url.combine(this.connector.connection.url.replace('/v1', '/v2'),\r\n            '/nodes/actions') + '?' + query;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          // FIXME: Remove this, as soon as all servers support GET v2/nodes/actions.\r\n          if (_.isArray(response)) {\r\n            return response;\r\n          }\r\n          // from { node_id: { data: { command_key: { ... }, ... }, ... }\r\n          // to [ { id: node_id, actions: [ { signature: command_key, ... }, ... ] }, ... ]\r\n          return _.map(response.results, function (value, key) {\r\n            return {\r\n              id: key,\r\n              actions: _.map(value.data, function (value, key) {\r\n                value.signature = key;\r\n                return value;\r\n              })\r\n            };\r\n          }, {});\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node.actions',['csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/models/actions',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/node.actions/server.adaptor.mixin'\r\n], function (_, Backbone, Url, ActionCollection,\r\n    ConnectableMixin, FetchableMixin, CommandableMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var NodeActionModel = Backbone.Model.extend({\r\n\r\n    constructor: function NodeActionModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n\r\n      this.actions = new ActionCollection(attributes && attributes.actions);\r\n    }\r\n\r\n  });\r\n\r\n  var NodeActionCollection = Backbone.Collection.extend({\r\n\r\n    model: NodeActionModel,\r\n\r\n    constructor: function NodeActionCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      var nodes = options && options.nodes;\r\n      if (typeof nodes === 'string') {\r\n        nodes = nodes.split(',');\r\n      }\r\n      this.nodes = nodes || [];\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    setNodes: function (nodes) {\r\n      if (!_.isArray(nodes)) {\r\n        nodes = nodes.split(',');\r\n      }\r\n      _.each(nodes, function (node) {\r\n        if (!_.contains(this.nodes, node)) {\r\n          this.nodes.push(node);\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    resetNodes: function (nodes) {\r\n      if (nodes) {\r\n        if (!_.isArray(nodes)) {\r\n          nodes = nodes.split(',');\r\n        }\r\n        _.each(nodes, function (node) {\r\n          var index = _.indexOf(this.nodes, node);\r\n          if (index >= 0) {\r\n            this.nodes.splice(index, 1);\r\n          }\r\n        }, this);\r\n      } else {\r\n        this.nodes = [];\r\n      }\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        nodes: _.clone(this.nodes),\r\n        commands: _.clone(this.includeCommands)\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  ConnectableMixin.mixin(NodeActionCollection.prototype);\r\n  FetchableMixin.mixin(NodeActionCollection.prototype);\r\n  CommandableMixin.mixin(NodeActionCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeActionCollection.prototype);\r\n\r\n  return NodeActionCollection;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/promoted.actionitems',[\r\n  'csui/lib/underscore', 'csui/models/actionitems',\r\n  // Load and register external default action rules\r\n  'csui-ext!csui/utils/promoted.actionitems'\r\n], function (_, ActionItemCollection, extraActions) {\r\n  'use strict';\r\n\r\n  var promotedActionItems = new ActionItemCollection([\r\n    // Default for versions is always version open command\r\n    {\r\n      signature: 'properties',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'unreserve',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'permissions',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'reserve',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'rename',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'edit',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'copy',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'move',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'download',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'comment',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'open',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'delete',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'browse',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'addversion',\r\n      sequence: 10\r\n    },\r\n    {\r\n      signature: 'editpermissions',\r\n      sequence: 10\r\n    }\r\n  ]);\r\n\r\n  if (extraActions) {\r\n    promotedActionItems.add(_.flatten(extraActions, true));\r\n  }\r\n\r\n  return promotedActionItems;\r\n\r\n});\r\n\n","// Adds the deepClone method to _, Backbone.Model and Backbone.Collection\r\ncsui.define('csui/utils/deepClone/deepClone',['csui/lib/underscore', 'csui/lib/backbone'], function (_, Backbone) {\r\n\r\n  // See https://gist.github.com/prantlf/6d134475af24d4b2f7de\r\n\r\n  // Performs a deep clone of primitive values, arrays, object literals,\r\n  // and arbitrary objects, if requested.  It is supposed to clone object\r\n  // literals, which are going to be modified, but the original should\r\n  // stay intact.\r\n  //\r\n  // The default behaviour works well with JSON REST API responses and\r\n  // and other objects, which contain only values of native types.\r\n  // If functions or HTML elements are encountered, they will not be\r\n  // actually cloned; they will be just copied, which works well with\r\n  // the typical options objects for Backbone constructors.\r\n  // If arbitrary objects can be encountered, additional options can\r\n  // be used to specify the result:\r\n  //\r\n  // default behaviour\r\n  // : Throws an error\r\n  // cloneCloneableObjects: true\r\n  // : Uses deepClone or clone method, if available.\r\n  // cloneArbitraryObjects: true\r\n  // : Creates new objects with clones own properties of the original.\r\n  // copyArbitraryObjects\r\n  // : Copies the original.\r\n  //\r\n  // This function depends on Underscore.js.\r\n  function deepClone(source, options) {\r\n    var result = {},\r\n        key;\r\n    if (!source || typeof source !== 'object' || source instanceof HTMLElement ||\r\n        _.isBoolean(source) || _.isNumber(source) || _.isString(source)) {\r\n      return source;\r\n    }\r\n    if (_.isDate(source) || _.isRegExp(source)) {\r\n      return new source.constructor(source.valueOf());\r\n    }\r\n    if (_.isArray(source)) {\r\n      return _.map(source, function (obj) {\r\n        return _.deepClone(obj);\r\n      });\r\n    }\r\n    if (source.constructor !== Object) {\r\n      if (options) {\r\n        if (options.cloneCloneableObjects) {\r\n          if (source.deepClone) {\r\n            return source.deepClone();\r\n          }\r\n          if (source.clone) {\r\n            return source.clone();\r\n          }\r\n        }\r\n        if (options.copyArbitraryObjects) {\r\n          return source;\r\n        }\r\n        if (!options.cloneArbitraryObjects) {\r\n          throw new Error('Cannot clone an arbitrary function object instance');\r\n        }\r\n      } else {\r\n        throw new Error('Cannot clone an arbitrary function object instance');\r\n      }\r\n    }\r\n    return _.reduce(source, function (result, value, key) {\r\n      result[key] = deepClone(value);\r\n      return result;\r\n    }, {});\r\n  }\r\n\r\n  // Expose deepClone among the Underscore.js methods\r\n  _.mixin({deepClone: deepClone});\r\n\r\n  // Add deepClone to the Backbone.Model prototype\r\n  Backbone.Model.prototype.deepClone = function (options) {\r\n    return new this.constructor(deepClone(this.attributes, options));\r\n  };\r\n\r\n  // Add deepClone to the Backbone.Collection prototype\r\n  Backbone.Collection.prototype.deepClone = function (options) {\r\n    return new this.constructor(this.map(function (model) {\r\n      return deepClone(model.attributes, options);\r\n    }));\r\n  };\r\n\r\n  return deepClone;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/models/node.actions',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin', 'csui/utils/promoted.actionitems',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, $, Backbone, NodeActionCollection, CommandableV2Mixin, promotedActionItems) {\r\n  'use strict';\r\n\r\n  var DelayedCommandableV2Mixin = {\r\n    mixin: function (prototype) {\r\n      CommandableV2Mixin.mixin(prototype);\r\n\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n        makeDelayedCommandableV2: function (options) {\r\n          options || (options = {});\r\n          var defaultActionCommands = options.defaultActionCommands;\r\n          var promotedActionCommands = promotedActionItems.getPromotedCommandsSignatures();\r\n          var nonPromotedActionCommands = [];\r\n          if (typeof defaultActionCommands === 'string') {\r\n            defaultActionCommands = defaultActionCommands.split(',');\r\n          }\r\n          this.defaultActionCommands = defaultActionCommands || [];\r\n          this.promotedActionCommands = promotedActionCommands;\r\n          this.nonPromotedActionCommands = nonPromotedActionCommands || [];\r\n          this.delayedActions = new NodeActionCollection(undefined, {\r\n            connector: options.connector\r\n          });\r\n\r\n          this.nonPromotedActions = new NodeActionCollection(undefined, {\r\n            isNonPromoted: true,\r\n            connector: options.connector\r\n          });\r\n\r\n          this.setEnabledDelayRestCommands(options.delayRestCommands,\r\n              options.promoteSomeRestCommands);\r\n\r\n          this.delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n\r\n          this.promotedActionItemsFromControler = promotedActionItems;\r\n\r\n          return this.makeCommandableV2(options);\r\n        },\r\n\r\n        setEnabledDelayRestCommands: function (enable, promoted) {\r\n          if (enable) {\r\n            this._enableDelayRestCommands();\r\n          } else {\r\n            this._disableDelayRestCommands();\r\n          }\r\n          this.promoteSomeRestCommands = promoted !== false;\r\n        },\r\n\r\n        setEnabledLazyActionCommands: function (enable) {\r\n          var deferred = $.Deferred();\r\n          if (enable) {\r\n            this._enableNonPromotedRestCommands();\r\n            this._requestsNonPromotedRestActions().done(function (node) {\r\n              deferred.resolve(node);\r\n            }).fail(function () {\r\n                  deferred.reject();\r\n                }\r\n            );\r\n\r\n          } else {\r\n            this._disableNonPromotedRestCommands();\r\n          }\r\n          return deferred.promise();\r\n        },\r\n\r\n        _enableDelayRestCommands: function () {\r\n          if (!this.delayRestCommands) {\r\n            this.delayRestCommands = true;\r\n            this.on('sync', this._requestRestActions, this);\r\n          }\r\n        },\r\n\r\n        _disableDelayRestCommands: function () {\r\n          if (this.delayRestCommands) {\r\n            this.delayRestCommands = false;\r\n            this.off('sync', this._requestRestActions, this);\r\n          }\r\n        },\r\n\r\n        _enableNonPromotedRestCommands: function () {\r\n          if (!this.enableNonPromotedCommands) {\r\n            this.enableNonPromotedCommands = true;\r\n            this.on('sync', this._requestsNonPromotedRestActions, this);\r\n          }\r\n        },\r\n\r\n        _disableNonPromotedRestCommands: function () {\r\n          this.enableNonPromotedCommands = false;\r\n          this.off('sync', this._requestsNonPromotedRestActions, this);\r\n        },\r\n\r\n        _requestRestActions: function (model, resp, options) {\r\n          // Guard against propagated sync event: if this mixin has been\r\n          // applied to a collection, only fetch of the collection should\r\n          // be handled here; fetching of models should not re-fetch actions\r\n          // for the whole collection.\r\n          // Also do nothing if the collection is empty.\r\n          if (model !== this || this instanceof Backbone.Collection && !this.length) {\r\n            return;\r\n          }\r\n          // request delayed actions only when fetching\r\n          if (options.xhr && options.xhr.settings.type !== 'GET') {\r\n            return;\r\n          }\r\n          if (this.promoteSomeRestCommands) {\r\n            this._requestPromotedActions(model, resp, options);\r\n          } else {\r\n            this._requestDelayedActions(model, resp, options);\r\n          }\r\n        },\r\n\r\n        _requestDelayedActions: function () {\r\n          var defaultActionCommands = this.defaultActionCommands;\r\n          var restCommands = _.reject(this.commands, function (command) {\r\n                return _.contains(defaultActionCommands, command);\r\n              });\r\n          if (restCommands.length) {\r\n            var delayedActions = this.delayedActions;\r\n            delayedActions.resetCommands();\r\n            delayedActions.setCommands(restCommands);\r\n            delayedActions.resetNodes();\r\n            if (this instanceof Backbone.Collection) {\r\n              delayedActions.setNodes(this.pluck('id'));\r\n            } else {\r\n              delayedActions.setNodes([this.get('id')]);\r\n            }\r\n            if (!delayedActions.connector) {\r\n              this.connector.assignTo(delayedActions);\r\n            }\r\n            delayedActions.parent_id = !!this.node ? this.node.get(\"id\") : this.get(\"id\");\r\n            delayedActions\r\n                .once('sync', _.bind(this._updateOriginalActions, this))\r\n                .fetch({reset: true});\r\n          }\r\n        },\r\n\r\n        _requestPromotedActions: function (model) {\r\n          var defaultActionCommands  = this.defaultActionCommands,\r\n              promotedActionCommands = this.promotedActionCommands;\r\n\r\n          //NonPromotedActionCommands = allCommands - defaultActionCommnads - promotedActionCommands\r\n          //DelayActions = (allCommands - defaultActionCommnads) Intersect promotedActionCommands;\r\n          var restCommands        = _.reject(this.commands, function (command) {\r\n                return _.contains(defaultActionCommands, command);\r\n              }),\r\n              promotedCommands    = [],\r\n              nonPromotedCommands = [];\r\n          _.each(restCommands, function (command) {\r\n            if (_.contains(promotedActionCommands, command)) { //CurrentPromotedActions\r\n              promotedCommands.push(command); // Delay Commands\r\n            }\r\n            else {\r\n              nonPromotedCommands.push(command); // nonpromoted Commands\r\n            }\r\n          });\r\n\r\n          this.promotedActionCommands = promotedCommands;\r\n          this.nonPromotedActionCommands = nonPromotedCommands;\r\n          ///remove other commands which are not declared in toolbarItems\r\n          if (promotedCommands.length) {\r\n            var delayedActions = this.delayedActions;\r\n            delayedActions.resetCommands();\r\n            delayedActions.setCommands(promotedCommands);\r\n            delayedActions.resetNodes();\r\n            if (this instanceof Backbone.Collection) {\r\n              var restNodes = [];\r\n              this.each(function (model) {\r\n                //update node model with promoted and nonpromoted commands list, Since we are\r\n                // not fetching every node info individually\r\n                model.nonPromotedActionCommands = nonPromotedCommands;\r\n                model.promotedActionCommands = promotedCommands;\r\n                if (!model.get('csuiDelayedActionsRetrieved')) {\r\n                  restNodes.push(model.get('id'));\r\n                }\r\n              });\r\n              delayedActions.setNodes(restNodes);\r\n            } else {\r\n              model.nonPromotedActionCommands = nonPromotedCommands;\r\n              model.promotedActionCommands = promotedCommands;\r\n              delayedActions.setNodes([this.get('id')]);\r\n            }\r\n            delayedActions.parent_id = !!this.node ? this.node.get(\"id\") : this.get(\"id\");\r\n            if (delayedActions.nodes.length > 0) {\r\n              if (!delayedActions.connector) {\r\n                this.connector.assignTo(delayedActions);\r\n              }\r\n              delayedActions\r\n                  .fetch({\r\n                    reset: true,\r\n                    // Update the actions as soon as possible; event\r\n                    // and promise can be watched by someone else\r\n                    success: _.bind(this._updateOriginalActions, this)\r\n                  });\r\n            }\r\n          } else {\r\n            //update node with promoted and non-promoted commands list If there are no promoted\r\n            // commands\r\n            if (this instanceof Backbone.Collection) {\r\n              this.each(function (model) {\r\n                model.nonPromotedActionCommands = nonPromotedCommands;\r\n                model.promotedActionCommands = promotedCommands;\r\n              });\r\n            } else {\r\n              model.nonPromotedActionCommands = nonPromotedCommands;\r\n              model.promotedActionCommands = promotedCommands;\r\n            }\r\n          }\r\n        },\r\n\r\n        _requestsNonPromotedRestActions: function () {\r\n          var deferred = $.Deferred();\r\n          var nonPromotedActions        = this.nonPromotedActions,\r\n              nonPromotedActionCommands = this.nonPromotedActionCommands.length ?\r\n                                          this.nonPromotedActionCommands :\r\n                                          this.collection.nonPromotedActionCommands;\r\n          nonPromotedActions.resetCommands();\r\n          nonPromotedActions.setCommands(nonPromotedActionCommands);\r\n          nonPromotedActions.resetNodes();\r\n          if (this instanceof Backbone.Collection) {\r\n            var restNodes = [];\r\n            this.each(function (model) {\r\n              if (!model.get('csuiLazyActionsRetrieved') && !model.isLocallyCreated) {\r\n                restNodes.push(model.get('id'));\r\n              }\r\n            });\r\n            nonPromotedActions.parent_id = this.length && this.models[0].get(\"reference_id\");\r\n            nonPromotedActions.setNodes(restNodes);\r\n          } else {\r\n            nonPromotedActions.setNodes([this.get('id')]);\r\n            nonPromotedActions.parent_id = this.get(\"reference_id\");\r\n          }\r\n\r\n          if (!nonPromotedActions.connector) {\r\n            this.connector.assignTo(nonPromotedActions);\r\n          }\r\n          if (nonPromotedActions.commands.length && nonPromotedActions.nodes.length) {\r\n            nonPromotedActions\r\n                .fetch({\r\n                  reset: true,\r\n                  // Update the actions as soon as possible; event\r\n                  // and promise can be watched by someone else\r\n                  success: _.bind(function () {\r\n                    this._updateOriginalActionsAfterLazyActions();\r\n                    //this.attributes.csuiLazyActionsRetrieved =  true;\r\n                    deferred.resolve(this);\r\n                  }, this),\r\n                  fail: function () {\r\n                    this.attributes.csuiLazyActionsRetrieved = true;\r\n                    deferred.reject();\r\n                  }\r\n                });\r\n          } else {\r\n            this.set('csuiLazyActionsRetrieved', true);\r\n            deferred.resolve(this);\r\n          }\r\n          return deferred.promise();\r\n        },\r\n\r\n        _updateOriginalActions: function () {\r\n          var delayedActions = this.delayedActions;\r\n\r\n          function updateNodeActions(node) {\r\n            var actionNode = delayedActions.get(node.get('id'));\r\n            if (actionNode) {\r\n              node.actions.add(actionNode.actions.models);\r\n              node.set('csuiDelayedActionsRetrieved', true);\r\n            }\r\n          }\r\n\r\n          if (this instanceof Backbone.Collection) {\r\n            this.each(updateNodeActions);\r\n          } else {\r\n            updateNodeActions(this);\r\n          }\r\n        },\r\n\r\n        _updateOriginalActionsAfterLazyActions: function () {\r\n          var nonPromotedActions = this.nonPromotedActions,\r\n              updateNodeActions  = function (node) {\r\n                node.attributes.csuiLazyActionsRetrieved = true;\r\n                var actionNode = nonPromotedActions.get(node.get('id'));\r\n                if (actionNode) {\r\n                  _.each(actionNode.actions.models, function (action) {\r\n                    action.attributes.csuiNonPromotedAction = true;\r\n                  });\r\n                  node.actions.add(actionNode.actions.models);\r\n                }\r\n              };\r\n\r\n          if (this instanceof Backbone.Collection) {\r\n            this.each(updateNodeActions);\r\n          } else {\r\n            updateNodeActions(this);\r\n          }\r\n        },\r\n\r\n        setDefaultActionCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(',');\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.defaultActionCommands, name)) {\r\n              this.defaultActionCommands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetDefaultActionCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(',');\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.defaultActionCommands, name);\r\n              if (index >= 0) {\r\n                this.defaultActionCommands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.defaultActionCommands.splice(0, this.defaultActionCommands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          var commands = this.delayRestCommands ?\r\n                         this.defaultActionCommands : this.commands;\r\n          return commands.length && {actions: commands};\r\n        },\r\n\r\n        getAllCommandsUrlQuery: function () {\r\n          var commands = this.commands;\r\n          return commands.length && {actions: commands};\r\n        },\r\n\r\n        // Stop the delayed action enabling for child models and collections.\r\n        // If they want it, they can do so in the constructors, which creates\r\n        // them. Immediate child models of this collection can be enabled by\r\n        // the delayRestCommandsForModels option.\r\n        _prepareModel: function (attrs, options) {\r\n          var delayRestCommands, delayRestCommandsForModels,\r\n              promoteSomeRestCommands;\r\n          options || (options = {});\r\n          // If the collection is populated after the constructor has\r\n          // finished, we can use parameters passed to the constructor\r\n          // as defaults, if the population options are empty.\r\n          delayRestCommands = options.delayRestCommands;\r\n          delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n          promoteSomeRestCommands = options.promoteSomeRestCommands;\r\n          if (this.delayedActions) {\r\n            if (delayRestCommands === undefined) {\r\n              delayRestCommands = this.delayRestCommands;\r\n            }\r\n            if (delayRestCommandsForModels === undefined) {\r\n              delayRestCommandsForModels = this.delayRestCommandsForModels;\r\n            }\r\n            if (promoteSomeRestCommands === undefined) {\r\n              promoteSomeRestCommands = this.promoteSomeRestCommands;\r\n            }\r\n          }\r\n          options.delayRestCommands = delayRestCommandsForModels;\r\n          options.delayRestCommandsForModels = false;\r\n          options.promoteSomeRestCommands = promoteSomeRestCommands;\r\n          var model = originalPrepareModel.call(this, attrs, options);\r\n          options.delayRestCommands = delayRestCommands;\r\n          options.delayRestCommandsForModels = delayRestCommandsForModels;\r\n          return model;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return DelayedCommandableV2Mixin;\r\n});\r\n\n","csui.define('csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',['csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n\r\n  var AdditionalResourcesV2Mixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeAdditionalResourcesV2Mixin: function (options) {\r\n          this._additionalResources = [];\r\n          if (options && options.includeResources) {\r\n            this.includeResources(options.includeResources);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        includeResources: function (names) {\r\n          if (names && !_.isArray(names)) {\r\n            names = names.split(',');\r\n          }\r\n          this._additionalResources = _.union(this._additionalResources, names);\r\n        },\r\n\r\n        excludeResources: function (names) {\r\n          if (names) {\r\n            if (!_.isArray(names)) {\r\n              names = names.split(',');\r\n            }\r\n            this._additionalResources = _.reject(this._additionalResources, names);\r\n          } else {\r\n            this._additionalResources.splice(0, this._additionalResources.length);\r\n          }\r\n        },\r\n\r\n        getAdditionalResourcesUrlQuery: function () {\r\n          return _.reduce(this._additionalResources, function (result, parameter) {\r\n            result[parameter] = '';\r\n            return result;\r\n          }, {});\r\n        }\r\n\r\n      });\r\n\r\n    }\r\n\r\n  };\r\n\r\n  return AdditionalResourcesV2Mixin;\r\n\r\n});\r\n\n","csui.define('csui/models/node.columns2',['csui/lib/backbone'], function (Backbone) {\r\n  'use strict';\r\n\r\n  var NodeColumn2Model = Backbone.Model.extend({\r\n    id: 'column_key',\r\n\r\n    constructor: function NodeColumn2Model(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n    }\r\n  });\r\n\r\n  var NodeColumn2Collection = Backbone.Collection.extend({\r\n    model: NodeColumn2Model,\r\n\r\n    constructor: function NodeColumn2Collection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    }\r\n  });\r\n\r\n  return NodeColumn2Collection;\r\n});\r\n\n","csui.define('csui/models/node/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/models/node/impl/nls/root/lang',{\r\n  sizeColumnTitle: 'Size'\r\n});\r\n\n","\n","csui.define('csui/models/utils/v1tov2',[],function () {\r\n  'use strict';\r\n\r\n  var nodeExpands = ['original_id', 'parent_id', 'volume_id'],\r\n      userExpands = ['create_user_id', 'modify_user_id', 'owner_user_id',\r\n                     'reserved_user_id'],\r\n      groupExpands = ['owner_group_id'],\r\n      memberExpands = userExpands.concat(groupExpands);\r\n\r\n  // Returns a v2 expand scope string or an object with key-array pairs.\r\n  function includeExpandsV1toV2(expands) {\r\n    // An array can be converted to an object with key-array pairs.\r\n    if (Array.isArray(expands)) {\r\n      return expands.reduce(function (result, expand) {\r\n        if (expand === 'node') {\r\n          mergeProperties(result, nodeExpands);\r\n        } else if (expand === 'member') {\r\n          mergeProperties(result, memberExpands);\r\n        } else if (expand === 'user') {\r\n          mergeProperties(result, userExpands);\r\n        } else if (expand === 'group') {\r\n          mergeProperties(result, groupExpands);\r\n        } else {\r\n          result[expand] || (result[expand] = []);\r\n        }\r\n        return result;\r\n      }, {});\r\n    // A v1 string can be converted an object with a single key-array pair.\r\n    } else if (expands === 'node') {\r\n      return {\r\n        properties: nodeExpands.slice()\r\n      };\r\n    // A v1 string can be converted an object with a single key-array pair.\r\n    } else if (expands === 'member') {\r\n      return {\r\n        properties: memberExpands.slice()\r\n      };\r\n    } else if (expands === 'user') {\r\n      return {\r\n        properties: userExpands.slice()\r\n      };\r\n    } else if (expands === 'group') {\r\n      return {\r\n        properties: groupExpands.slice()\r\n      };\r\n    }\r\n    // Leave an object or a v2 string intact.\r\n    return expands;\r\n\r\n    function mergeProperties(result, expands) {\r\n      var properties = result.properties || (result.properties = []);\r\n      expands.forEach(function (property) {\r\n        if (properties.indexOf(property) < 0) {\r\n          properties.push(property);\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  // Returns a v2 expand scope string or an array of them.\r\n  function excludeExpandsV1toV2(expands) {\r\n    if (Array.isArray(expands)) {\r\n      return expands.reduce(function (result, expand) {\r\n        if (expand === 'node' || expand === 'user'  || expand === 'group' ||\r\n            expand === 'member') {\r\n          expand = 'properties';\r\n        }\r\n        if (result.indexOf(expand) < 0) {\r\n          result.push(expand);\r\n        }\r\n        return result;\r\n      }, []);\r\n    } else if (expands === 'node') {\r\n      return nodeExpands.slice();\r\n    } else if (expands === 'member') {\r\n      return memberExpands.slice();\r\n    } else if (expands === 'user' || expands === 'member') {\r\n      return userExpands.slice();\r\n    } else if (expands === 'group') {\r\n      return groupExpands.slice();\r\n    }\r\n    return expands;\r\n  }\r\n\r\n  // Returns a v1 expand scope string or an array with them.\r\n  function expandsV2toV1(expands) {\r\n    // An array can be converted to an array.\r\n    if (Array.isArray(expands)) {\r\n      return expands.reduce(function (result, expand) {\r\n        if (nodeExpands.indexOf(expand) >= 0) {\r\n          result.push('node');\r\n        } else if (userExpands.indexOf(expand) >= 0) {\r\n          result.push('user');\r\n        } else if (groupExpands.indexOf(expand) >= 0) {\r\n          result.push('group');\r\n        }\r\n        return result;\r\n      }, []);\r\n    // An object can be converted to an array with v1 scopes.\r\n    } else if (typeof expands === 'object') {\r\n      var properties = expands.properties;\r\n      if (properties) {\r\n        if (!properties.length) {\r\n          return ['node', 'member'];\r\n        }\r\n        return properties.reduce(function (result, expand) {\r\n          if (nodeExpands.indexOf(expand) >= 0) {\r\n            expand = 'node';\r\n          } else if (userExpands.indexOf(expand) >= 0) {\r\n            expand = 'user';\r\n          } else if (groupExpands.indexOf(expand) >= 0) {\r\n            expand = 'group';\r\n          }\r\n          if (result.indexOf(expand) < 0) {\r\n            result.push(expand);\r\n          }\r\n          return result;\r\n        }, []);\r\n      }\r\n      return [];\r\n    // A v2 string can be converted to a v1 string.\r\n    } else if (expands === 'properties') {\r\n      return ['node', 'member'];\r\n    }\r\n    // Leave a v1 string intact.\r\n    return expands;\r\n  }\r\n\r\n  return {\r\n    includeExpandsV1toV2: includeExpandsV1toV2,\r\n    excludeExpandsV1toV2: excludeExpandsV1toV2,\r\n    expandsV2toV1: expandsV2toV1,\r\n    nodeExpands: nodeExpands,\r\n    userExpands: userExpands\r\n  };\r\n});\r\n\n","csui.define('csui/models/node/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url',\r\n  'i18n!csui/models/node/impl/nls/lang', 'csui/models/utils/v1tov2'\r\n], function (_, $, Url, lang, v1tov2) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          this.fetchExactFields = options && options.fetchExactFields;\r\n          return this;\r\n        },\r\n\r\n        isFetchableDirectly: function () {\r\n          return this.get('id') > 0;\r\n        },\r\n\r\n        // TODO: Remove this method and make the cache layer aware of node URLs.\r\n        urlCacheBase: function () {\r\n          var url = this.urlBase();\r\n          if (url.indexOf('/volumes') < 0) {\r\n            url = url.replace('/api/v1/', '/api/v2/');\r\n          }\r\n          return url + '?';\r\n        },\r\n\r\n        urlBase: function () {\r\n          var id  = this.get('id'),\r\n              url = this.connector.connection.url;\r\n          if (!id) {\r\n            // Create a new node by POST /nodes\r\n            url = Url.combine(url, 'nodes');\r\n          } else if (id === 'volume') {\r\n            // Access an existing volume by VERB /volumes/:type\r\n            url = Url.combine(url, 'volumes', this.get('type'));\r\n          } else if (!_.isNumber(id) || id > 0) {\r\n            // Access an existing node by VERB /nodes/:id\r\n            url = Url.combine(url, 'nodes', id);\r\n          } else {\r\n            throw new Error('Unsupported id value');\r\n          }\r\n          if (this.options.apiVersion) {\r\n            url.getApiBase(this.options.apiVersion);\r\n          }\r\n          return url;\r\n        },\r\n\r\n        url: function () {\r\n          var url = this.urlBase(),\r\n              query;\r\n          if (!this.isNew()) {\r\n            if (this.get('id') === 'volume') {\r\n              var expands = v1tov2.expandsV2toV1(this.expand);\r\n              if (expands.length) {\r\n                query = $.param({expand: expands}, true);\r\n              }\r\n            } else {\r\n              if (this.collection) {\r\n                query = this._getCombinedUrlQuery();\r\n              } else {\r\n                query = Url.combineQueryString(\r\n                  this.getResourceFieldsUrlQuery(),\r\n                  this.getExpandableResourcesUrlQuery(),\r\n                  this.getStateEnablingUrlQuery(),\r\n                  this.getAdditionalResourcesUrlQuery(),\r\n                  this.getRequestedCommandsUrlQuery()\r\n                );\r\n              }\r\n              // Request just common properties by default; do not waste server\r\n              // resources, because it would return all it could by default.\r\n              // If somebody set fields to a subset of properties already, they\r\n              // are responsible for including all needed information.\r\n              if (!this.hasFields('properties') && !this.fetchExactFields) {\r\n                query = Url.combineQueryString(query, 'fields=properties');\r\n              }\r\n            }\r\n          }\r\n\r\n          return query ? url + '?' + query : url;\r\n        },\r\n\r\n        _getCombinedUrlQuery: function () {\r\n          var collection     = this.getV2ParameterSource(),\r\n              queryParts     = [\r\n                'getExpandableResourcesUrlQuery',\r\n                'getAdditionalResourcesUrlQuery',\r\n                'getResourceFieldsUrlQuery'\r\n              ].map(function (method) {\r\n                var parameters = this[method]();\r\n                if (_.isEmpty(parameters)) {\r\n                  // If no data limits were specified in the node\r\n                  // model, try to inherit them from the collection\r\n                  method = collection[method];\r\n                  if (method) {\r\n                    return method.call(collection);\r\n                  }\r\n                }\r\n                return parameters;\r\n              }, this),\r\n              method         = this.delayRestCommands ?\r\n                               'getRequestedCommandsUrlQuery' :\r\n                               'getAllCommandsUrlQuery',\r\n              commands       = this[method](),\r\n              commandOptions = {};\r\n          if (_.isEmpty(commands)) {\r\n            // No delayed actions could be enabled for the node\r\n            // model, unless specifying the default action command.\r\n            // The collection can give non-delayed commands only;\r\n            // if it supports delayed actions or not.\r\n            method = collection.getAllCommandsUrlQuery ||\r\n                     collection.getRequestedCommandsUrlQuery;\r\n            if (method) {\r\n              commands = method.call(collection);\r\n            }\r\n          }\r\n          // TODO: Remove this horrible code breaking componentisation.\r\n          if (!!this.refernce_id || !!this.attributes.reference_id) {\r\n            commandOptions.reference_id = this.refernce_id || this.attributes.reference_id;\r\n          }\r\n          return Url.combineQueryString.apply(Url, queryParts.concat(commands, commandOptions));\r\n        },\r\n\r\n        parse: function (response) {\r\n          // A node obtained from a collection has the properties directly\r\n          // in the object, while if obtained by a single call, they are\r\n          // nested in the data sub-object.\r\n          // node from v2/nodes/:id or v1/nodes/:id\r\n          var results    = response.results || response,\r\n              // If node attributes are re-parsed, they will contain the \"data\"\r\n              // object with properties from additional roles. Detect only \"data\"\r\n              // from a v1 or a v2 response here.\r\n              resultData = results.data,\r\n              data       = resultData && (resultData.id || resultData.properties) && resultData,\r\n              // node from v2/nodes/:id or v2/nodes\r\n              // node from v1/nodes/:id or v1/nodes\r\n              node       = data && data.properties || data || response;\r\n\r\n          // However, some properties are scattered in the response object\r\n          // directly, or even in artificial sub-objects like type_info,versions;\r\n          // speak about developing API serving clients' needs, sigh.\r\n          if (response.type !== undefined) {\r\n            node.type = response.type;\r\n          }\r\n          if (response.type_name !== undefined) {\r\n            node.type_name = response.type_name;\r\n          }\r\n          if (data && data.versions) {\r\n            node.versions = data.versions;\r\n          }\r\n          _.extend(node, response.type_info);\r\n          if (node.versions) {\r\n            var version = node.versions;\r\n            if (_.isArray(version)) {\r\n              version = version[version.length - 1];\r\n            }\r\n            if (version) {\r\n              _.extend(node, _.pick(version, ['file_size', 'mime_type',\r\n                'version_id', 'version_number',\r\n                'version_number_major',\r\n                'version_number_minor']));\r\n            }\r\n          }\r\n\r\n          // Properties out of data are not passed to the constructor.  This\r\n          // may yet get its own sub-model.\r\n          _.defaults(node, {\r\n            perspective: results && results.perspective || response.perspective\r\n          });\r\n\r\n          // Extract state flags like metadata token from the response.\r\n          this.parseState(node, results);\r\n\r\n          // Normalize V1 actions and V2 commands to [{signature}, ...]\r\n          this._parseActions(node, results, response);\r\n\r\n          // Normalize actions in the shortcut target sub-node\r\n          var original = node.original_id && node.original_id.id ?\r\n                         node.original_id : node.original_id_expand;\r\n          if (original) {\r\n            this._parseActions(original, {}, {});\r\n            // No faking default action permissions for shortcut originals;\r\n            // only 'open' was not enough - all default acions are permitted\r\n            // in DefaultActionController\r\n          }\r\n\r\n          // Normalize actions in the parent location sub-node\r\n          var parent = node.parent_id && node.parent_id.id ?\r\n                       node.parent_id : node.parent_id_expand;\r\n          if (parent) {\r\n            this._parseActions(parent, {}, {});\r\n            if (!parent.actions.length) {\r\n              // TODO: Remove this, as soon as the actions for parent\r\n              // locations are returned by the server\r\n              // Add (default) actions used for hyperlinks\r\n              this._makeAccessible(parent);\r\n            }\r\n          }\r\n\r\n          // V1 does not send the URL; if the 'default' command is available,\r\n          // we can red it from there, otherwise it is not possible\r\n          if (node.type === 140 && !node.url) {\r\n            var defaultAction = _.findWhere(node.actions, {signature: 'default'});\r\n            node.url = defaultAction && defaultAction.href;\r\n          }\r\n\r\n          // Make addable types available in the node constructor\r\n          node.addable_types = response.addable_types;\r\n          // Make columns available in the node constructor\r\n          var columns = data && data.columns;\r\n          if (columns) {\r\n            node.columns = this._parseColumns(columns, response);\r\n          }\r\n          // Make definitions available in the node constructor\r\n          var definitions = response.definitions || results.metadata &&\r\n                                                    results.metadata.properties;\r\n          if (definitions) {\r\n            node.definitions = this._parseDefinitions(definitions, columns);\r\n          }\r\n\r\n          // Make additional v2 data accessible in the model attributes;\r\n          // data.properties are accessible as the flat node attributes\r\n          // and columns with metadata are pre-parsed by helper methods\r\n          if (data && data.properties) {\r\n            node.data = _.omit(data, 'columns', 'metadata', 'properties');\r\n          } else {\r\n            node.data = {};\r\n          }\r\n\r\n          // add reference_id to node for children under collection (ie., subtype 298) container.\r\n          if (this.collection && this.collection.node && this.collection.node.get('type') === 298) {\r\n            node.reference_id = this.collection.node.get('id');\r\n          }\r\n          // If node is getting updated by any of its actions, we are fetching entire node info\r\n          // which includes promoted and non-promoted actions also. So to avoid re-fetch\r\n          // nonpromoted actions from inline and toolbar setting 'csuiLazyActionsRetrieved'\r\n          // attribute to node.\r\n          if (this.get('csuiLazyActionsRetrieved') === undefined &&\r\n              !!this.get('csuiDelayedActionsRetrieved') && !_.isEmpty(this.changed)) {\r\n            node.csuiLazyActionsRetrieved = true;\r\n          }\r\n          return node;\r\n        },\r\n\r\n        _parseColumns: function (columns, response) {\r\n          var columnKeys = response.definitions_order ||\r\n                           columns && _.pluck(columns, 'key');\r\n          return _.map(columnKeys, function (key) {\r\n            return {key: key};\r\n          });\r\n        },\r\n\r\n        _parseDefinitions: function (definitions, columns) {\r\n          if (!definitions.size &&\r\n              (definitions.container_size || definitions.file_size)) {\r\n            definitions.size = definitions.container_size ||\r\n                               definitions.file_size;\r\n            definitions.size.key = 'size';\r\n            definitions.size.name = lang.sizeColumnTitle;\r\n          }\r\n          if (columns) {\r\n            _.each(columns, function (column) {\r\n              var columnKey  = column.key,\r\n                  definition = definitions[columnKey];\r\n              if (!definition) {\r\n                definition = definitions[columnKey] = {\r\n                  name: column.name,\r\n                  type: column.data_type,\r\n                  sort: column.sortable\r\n                };\r\n              }\r\n\r\n              // for all user related column attributes let's add definition type as 14.\r\n              var supportedPersonas = ['user', 'group', 'member'];\r\n              if ($.inArray(definition.persona, supportedPersonas) !== -1) {\r\n                definition.type = 14;\r\n              }\r\n\r\n              // Take fileds=columns from v2 into account.\r\n              var sortKey = column.sort_key;\r\n              if (sortKey) {\r\n                definition.sort_key = sortKey;\r\n                definition.sort = true;\r\n              }\r\n            });\r\n            // Update the real value-carrying column, which does not end with\r\n            // \"_formatted\", if only the \"_formatted\" one is present and not\r\n            // the real one. \"_formatted\"  columns should not be used, because\r\n            // they do not provide the real value for sorting, filtering, saving\r\n            // or other scenarios, where it is needed. Also the right formatting\r\n            // is specified in Smart UI. \"_formatted\" columns are for AJAX calls\r\n            // from Classic UI, because they for at according to its design.\r\n            _.each(columns, function (column) {\r\n              var columnKey      = column.key,\r\n                  formattedIndex = columnKey.lastIndexOf('_formatted');\r\n              if (formattedIndex >= 0) {\r\n                var realColumnKey = columnKey.substr(0, columnKey.length - 10),\r\n                    definition    = definitions[realColumnKey];\r\n                if (!definition) {\r\n                  definition = definitions[realColumnKey] = {\r\n                    name: column.name,\r\n                    type: column.data_type,\r\n                    sort: column.sortable\r\n                  };\r\n                }\r\n                // Take fileds=columns from v2 into account.\r\n                var sortKey = column.sort_key;\r\n                if (sortKey) {\r\n                  definition.sort_key = sortKey;\r\n                  definition.sort = true;\r\n                }\r\n              }\r\n            });\r\n          }\r\n          return _.map(definitions, function (definition, key) {\r\n            if (!definition.key) {\r\n              definition.key = key;\r\n            }\r\n            return definition;\r\n          });\r\n        },\r\n\r\n        _parseActions: function (node, results, response) {\r\n          // Normalize V1 actions and V2 commands to [{signature}, ...]\r\n          var actions = node.actions || response.actions ||\r\n                        // v1/volumes/:type actions\r\n                        response.available_actions,\r\n              commands;\r\n          if (_.isArray(actions)) {\r\n            // v1 actions\r\n            _.each(actions, function (action) {\r\n              // normalize the v1/volumes/:type actions\r\n              if (!action.signature) {\r\n                action.signature = action.type;\r\n                action.name = action.type_name;\r\n                delete action.type;\r\n                delete action.type_name;\r\n              }\r\n            });\r\n            commands = _.reduce(actions, function (result, action) {\r\n              result[action.signature] = {};\r\n              return result;\r\n            }, {});\r\n            node.actions = actions;\r\n          } else {\r\n            // v2-like commands added to v1 and v2 commands\r\n            commands = node.commands || response.commands || response.actions ||\r\n                       // v2 actions\r\n                       results && results.actions || {};\r\n            // v2 moved the content of actions to actions.data and left\r\n            // the actions object with the three keys only\r\n            if (commands.data && commands.order && commands.map) {\r\n              commands = commands.data;\r\n            }\r\n            node.actions = _.chain(commands)\r\n                .keys()\r\n                .map(function (key) {\r\n                  var attributes = commands[key];\r\n                  attributes.signature = key;\r\n                  return attributes;\r\n                })\r\n                .value();\r\n            delete node.commands;\r\n            delete node.commands_map;\r\n            delete node.commands_order;\r\n          }\r\n        },\r\n\r\n        // TODO: Remove this, as soon as the actions for shortcut\r\n        // targets, parents or other expanded nodes  are returned\r\n        //  by the server\r\n        _makeAccessible: function (original) {\r\n          original.actions = [\r\n            {signature: 'open'}\r\n          ];\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node/node.model',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/actions', 'csui/models/addabletypes',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/state.carrier/state.carrier.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/node.columns2', 'csui/models/node/server.adaptor.mixin',\r\n  'csui/models/utils/v1tov2', 'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, ActionCollection, AddableTypesCollection,\r\n    ResourceMixin, UploadableMixin, FieldsV2Mixin, ExpandableV2Mixin,\r\n    StateCarrierMixin, DelayedCommandableV2Mixin, AdditionalResourcesV2Mixin,\r\n    NodeColumn2Collection, ServerAdaptorMixin, v1tov2) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    idAttribute: null,\r\n    // ID should be always handles as a black box. The client should send\r\n    // it to the server the same, as it was received. The server should send\r\n    // IDs in object properties; it should not send URLs, which the client\r\n    // would have to parse and extract the ID from them.\r\n    //\r\n    // This flag can be used in the code, that does not follow the best\r\n    // practice and parses an integer ID out of some string.\r\n    usesIntegerId: true\r\n  }, module.config());\r\n\r\n  var NodeDefinition2Collection = Backbone.Collection.extend({\r\n    model: Backbone.Model.extend({\r\n      id: 'key',\r\n      constructor: function NodeDefinition2Model(attributes, options) {\r\n        Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n      }\r\n    }),\r\n    constructor: function NodeDefinition2Collection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    }\r\n  });\r\n\r\n  var NodeModel = Backbone.Model.extend({\r\n    idAttribute: config.idAttribute,\r\n\r\n    constructor: function NodeModel(attributes, options) {\r\n      attributes || (attributes = {});\r\n      options || (options = {});\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.options = _.pick(options, ['connector']);\r\n\r\n      this.makeResource(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateCarrier(options, attributes)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeUploadable(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      this.setState(attributes);\r\n      // Ensure sub-models; these set by _setCollectionProperty should\r\n      // be always available, but this.set called from Backbone.Model\r\n      // constructor creates them only, if they are in the attributes\r\n      if (!attributes.actions) {\r\n        this._setCollectionProperty('actions', ActionCollection,\r\n            attributes, options);\r\n      }\r\n      if (!attributes.addable_types) {\r\n        this._setCollectionProperty('addable_types', AddableTypesCollection,\r\n            attributes, options);\r\n      }\r\n      if (!attributes.definitions) {\r\n        this._setCollectionProperty('definitions', NodeDefinition2Collection,\r\n            attributes, options);\r\n      }\r\n      if (!attributes.columns) {\r\n        this._setCollectionProperty('columns', NodeColumn2Collection,\r\n            attributes, options);\r\n      }\r\n      // Ensure sub-models; these set by _setNodeProperty are optional\r\n      // and if this.set called from Backbone.Model didn't create them,\r\n      // because they are not in the attributes, we won't do it here\r\n    },\r\n\r\n    clone: function () {\r\n      var clone = new this.constructor(this.attributes, {\r\n        connector: this.connector,\r\n        fields: _.deepClone(this.fields),\r\n        expand: _.deepClone(this.expand),\r\n        stateEnabled: this.stateEnabled,\r\n        includeResources: _.clone(this._additionalResources),\r\n        commands: _.clone(this.commands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands\r\n      });\r\n      clone.actions.reset(this.actions.toJSON());\r\n      clone.fetching = this.fetching;\r\n      clone.fetched = this.fetched;\r\n      clone.error = this.error;\r\n      clone.state.set(this.state.toJSON());\r\n      return clone;\r\n    },\r\n\r\n    isNew: function () {\r\n      return !this.has('id');\r\n    },\r\n\r\n    isFetchable: function () {\r\n      // TODO: Remove this condition, as soon as nobody uses -1 as an invalid ID.\r\n      if (NodeModel.usesIntegerId) {\r\n        var id = this.get('id');\r\n        return id > 0 || id === 'volume';\r\n      }\r\n      return !!this.get('id');\r\n    },\r\n\r\n    getV2ParameterSource: function () {\r\n      var collection = this.collection;\r\n      // If the collection suports v2 REST API, use it directly\r\n      // as a URL query source\r\n      if (collection && collection.makeFieldsV2) {\r\n        return collection;\r\n      }\r\n      // Otherwise use a v2 node node model as a URL query source\r\n      // and include parameters from the v1 collection there\r\n      var node = this.clone();\r\n      if (collection) {\r\n        var additionalResources = collection._additionalResources;\r\n        if (additionalResources) {\r\n          node.includeResources(additionalResources);\r\n        }\r\n        var defaultActionCommands = collection.defaultActionCommands;\r\n        if (defaultActionCommands) {\r\n          node.setDefaultActionCommands(defaultActionCommands);\r\n        }\r\n        var commands = collection.includeCommands;\r\n        if (commands) {\r\n          node.setCommands(commands);\r\n        }\r\n        var expand = collection.expand;\r\n        if (expand) {\r\n          node.setExpand(v1tov2.includeExpandsV1toV2(expand));\r\n        }\r\n      }\r\n      return node;\r\n    },\r\n\r\n    set: function (key, val, options) {\r\n      var attrs;\r\n      if (key == null) {\r\n        return this;\r\n      }\r\n\r\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\r\n      if (typeof key === 'object') {\r\n        attrs = key;\r\n        options = val;\r\n      } else {\r\n        (attrs = {})[key] = val;\r\n      }\r\n\r\n      options || (options = {});\r\n      // Using 'skipSetValue' to skip \"sync\" call in case of rename for Grid-view\r\n      this.setState(attrs);\r\n      if (val && val.skipSetValue) {\r\n        return;\r\n      }\r\n\r\n      // TODO: Support sub-models and sub-collections in general\r\n      if (attrs.actions) {\r\n        this._setCollectionProperty('actions', ActionCollection, attrs, options);\r\n      }\r\n      if (attrs.addable_types) {\r\n        this._setCollectionProperty('addable_types', AddableTypesCollection, attrs,\r\n            options);\r\n      }\r\n      if (attrs.definitions) {\r\n        this._setCollectionProperty('definitions', NodeDefinition2Collection, attrs, options);\r\n      }\r\n      if (attrs.columns) {\r\n        this._setCollectionProperty('columns', NodeColumn2Collection, attrs, options);\r\n      }\r\n      if (attrs.original_id !== undefined) {\r\n        this._setNodeProperty('original', attrs, options);\r\n      }\r\n      if (attrs.parent_id !== undefined) {\r\n        this._setNodeProperty('parent', attrs, options);\r\n      }\r\n      if (attrs.volume_id !== undefined) {\r\n        this._setNodeProperty('volume', attrs, options);\r\n      }\r\n\r\n      // do the usual set\r\n      return Backbone.Model.prototype.set.call(this, attrs, options);\r\n    },\r\n\r\n    _setCollectionProperty: function (attribute, Class, attributes, options) {\r\n      var property   = _.str.camelize(attribute),\r\n          models     = attributes[attribute],\r\n          collection = this[property];\r\n      if (collection) {\r\n        collection.reset(models);\r\n      } else {\r\n        this[property] = new Class(models, {\r\n          // When this.set is called from the Backbome.Model constructor,\r\n          // the current node hasn't been conected yet.  Sub-nodes would\r\n          // be disconnected, if just this.connector would be used.  The\r\n          // connector may be in the constructor options, if the caller\r\n          // wanted to connect the node right away.\r\n          connector: this.connector || options && options.connector\r\n        });\r\n      }\r\n    },\r\n\r\n    _setNodeProperty: function (name, source, options) {\r\n      // v1 expands the _id property directly, v2 adds an additional\r\n      // one _id_expand\r\n      var value = source[name + '_id_expand'] || source[name + '_id'];\r\n      // If the property was not expanded, initialize the model just\r\n      // with the object identifier\r\n      if (value && !_.isObject(value)) {\r\n        value = {id: value};\r\n      }\r\n      if (_.isObject(value)) {\r\n        if (this[name]) {\r\n          this[name].set(value);\r\n        } else {\r\n          this[name] = new NodeModel(value, {\r\n            // When this.set is called from the Backbome.Model constructor,\r\n            // the current node hasn't been conected yet.  Sub-nodes would\r\n            // be disconnected, if just this.connector would be used.  The\r\n            // connector may be in the constructor options, if the caller\r\n            // wanted to connect the node right away.\r\n            connector: this.connector || options && options.connector\r\n          });\r\n        }\r\n      } else {\r\n        delete this[name];\r\n      }\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      var parameterSource = this.getV2ParameterSource();\r\n      return _.deepClone({\r\n        fields: _.isEmpty(this.fields) ? parameterSource.fields : this.fields,\r\n        expand: _.isEmpty(this.expand) ? parameterSource.expand : this.expand,\r\n        includeResources: _.isEmpty(this._additionalResources) ?\r\n                          parameterSource._additionalResources :\r\n                          this._additionalResources,\r\n        commands: _.isEmpty(this.commands) ? parameterSource.commands : this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    },\r\n\r\n    toString: function () {\r\n      // Format a string for logging purposes\r\n      var id = this.get('id');\r\n      if (id === 'volume') {\r\n        return 'volume:' + this.get('type');\r\n      } else if (id != null) {\r\n        return 'node:' + id;\r\n      }\r\n      return 'node:invalid';\r\n    }\r\n  }, {\r\n    usesIntegerId: config.usesIntegerId\r\n  });\r\n\r\n  AdditionalResourcesV2Mixin.mixin(NodeModel.prototype);\r\n  FieldsV2Mixin.mixin(NodeModel.prototype);\r\n  ExpandableV2Mixin.mixin(NodeModel.prototype);\r\n  StateCarrierMixin.mixin(NodeModel.prototype);\r\n  DelayedCommandableV2Mixin.mixin(NodeModel.prototype);\r\n  UploadableMixin.mixin(NodeModel.prototype);\r\n  ResourceMixin.mixin(NodeModel.prototype);\r\n  ServerAdaptorMixin.mixin(NodeModel.prototype);\r\n\r\n  var originalFetch = NodeModel.prototype.fetch;\r\n  NodeModel.prototype.fetch = function (options) {\r\n    options || (options = {});\r\n\r\n    // If not overridden, Use the v2 URL for GET requests.\r\n    // If not overridden and the target collection has been specified,\r\n    // let the url method use its data-limiting parameters.\r\n    if (!options.url) {\r\n      var originalCollection = this.collection,\r\n          newCollection      = options.collection;\r\n      if (newCollection) {\r\n        this.collection = newCollection;\r\n      }\r\n      var url = _.result(this, 'url');\r\n      if (newCollection) {\r\n        this.collection = originalCollection;\r\n      }\r\n      if (url.indexOf('/volumes') < 0) {\r\n        url = url.replace('/api/v1/', '/api/v2/');\r\n      }\r\n      options.url = url;\r\n    }\r\n\r\n    return originalFetch.call(this, options);\r\n  };\r\n\r\n  return NodeModel;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorite2.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      var superParseMethod = prototype.parse;\r\n      var superSyncMethod = prototype.sync;\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          if (response.results) {\r\n            response = response.results;\r\n          }\r\n          if (_.isEmpty(response)) {\r\n            return {};\r\n          } else {\r\n            if (options.attrs) {\r\n              var updatedAttributes = {};\r\n              _.each(_.keys(options.attrs), function (attr) {\r\n                updatedAttributes['favorite_' + attr] = options.attrs[attr];\r\n              }, this);\r\n              return updatedAttributes;\r\n            } else {\r\n              if (response.data && response.data.properties && response.data.favorites) {\r\n                response.data.properties.favorite_name = response.data.favorites.name;\r\n                response.data.properties.favorite_tab_id = response.data.favorites.tab_id;\r\n              }\r\n\r\n              var m = superParseMethod.call(this, response);\r\n\r\n              if (m.actions) {\r\n                m.actions = _.reject(m.actions,\r\n                  function (action) {\r\n                    return action.signature == 'rename' || action.signature == 'delete';\r\n                  });\r\n                m.actions.push({signature: 'favorite_rename'});\r\n\r\n                // console.log(\"NODE ACTIONS\");\r\n                // _.each(m.actions, function(a) {\r\n                //   console.log(a.signature);\r\n                // });\r\n              }\r\n              return m;\r\n            }\r\n          }\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var useFavoritesUrl = false;\r\n          if (method === 'update' || method === 'patch') {\r\n\r\n            // if attr key starts with 'favorite_' do the update on the /members/favorites url but\r\n            // remove the prefix to have the original attribute-name from the favorite model\r\n            // otherwise, just pass the attribute-to-update as it is and use the url from he\r\n            // original node model\r\n            var prefix = 'favorite_';\r\n            var attributesToUpdate = {};\r\n            _.each(_.keys(options.attrs), function (k) {\r\n              var newKey = k;\r\n              if (k.indexOf(prefix) === 0) {\r\n                useFavoritesUrl = true;\r\n                newKey = k.substr(prefix.length);\r\n              }\r\n              attributesToUpdate[newKey] = options.attrs[k];\r\n            });\r\n            options.attrs = attributesToUpdate;\r\n            if (useFavoritesUrl) {\r\n              var url = this.connector.connection.url.replace('/v1', '/v2');\r\n              url = Url.combine(url, '/members/favorites');\r\n              url = Url.combine(url, model.id);\r\n\r\n              options.url = url;\r\n            }\r\n          }\r\n          return superSyncMethod.call(this, method, model, options);\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorite2',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url', 'csui/models/node/node.model',\r\n  'csui/models/server.adaptors/favorite2.mixin', 'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, NodeModel, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var Favorite2Model = NodeModel.extend({\r\n\r\n    mustRefreshAfterPut: false,\r\n\r\n    idAttribute: 'id',\r\n\r\n    constructor: function Favorite2Model(attributes, options) {\r\n      NodeModel.prototype.constructor.apply(this, arguments);\r\n      this.makeServerAdaptor(options);\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(Favorite2Model.prototype);\r\n\r\n  return Favorite2Model;\r\n});\r\n\n","csui.define('csui/models/browsable/browsable.mixin',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url'\r\n], function (_, Backbone, Url) {\r\n\r\n  var BrowsableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsable: function (options) {\r\n          options || (options = {});\r\n          this.skipCount = options.skip || 0;\r\n          this.topCount = options.top || 0;\r\n          this.filters = options.filter || {};\r\n          this.orderBy = options.orderBy;\r\n          return this;\r\n        },\r\n\r\n        setFilter: function (value, attributes, options) {\r\n          // TODO: Simplify filer merging and detection of changes.\r\n          var filter = value,\r\n              name, modified;\r\n          if (_.isObject(value) && !_.isArray(value)) {\r\n            options = attributes;\r\n          } else {\r\n            filter = {};\r\n            filter[attributes] = value;\r\n          }\r\n          if (typeof options !== 'object') {\r\n            options = {fetch: options};\r\n          }\r\n          if (!_.isEmpty(filter)) {\r\n            for (name in filter) {\r\n              if (_.has(filter, name)) {\r\n                value = filter[name];\r\n                if (makeFilterValue(this.filters[name], name) !==\r\n                    makeFilterValue(value, name)) {\r\n                  if (value !== undefined) {\r\n                    this.filters[name] = value;\r\n                  }\r\n                  else {\r\n                    delete this.filters[name];\r\n                  }\r\n                  modified = true;\r\n                }\r\n              }\r\n            }\r\n            if (options.clear) {\r\n              for (name in this.filters) {\r\n                if (_.has(this.filters, name) && !_.has(filter, name)) {\r\n                  if (makeFilterValue(this.filters[name], name) !== undefined) {\r\n                    delete this.filters[name];\r\n                    modified = true;\r\n                  }\r\n                }\r\n              }\r\n            }\r\n            if (modified) {\r\n              if (options.fetch !== false) {\r\n                this.fetch();\r\n              }\r\n              return true;\r\n            }\r\n          } else {\r\n            if (options.clear) {\r\n              return this.clearFilter(options.fetch);\r\n            }\r\n          }\r\n        },\r\n\r\n        clearFilter: function (fetch) {\r\n          var modified;\r\n          if (!_.isEmpty(this.filters)) {\r\n            for (var name in this.filters) {\r\n              if (_.has(this.filters, name)) {\r\n                if (makeFilterValue(this.filters[name], name) !== undefined) {\r\n                  delete this.filters[name];\r\n                  modified = true;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          if (modified) {\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setOrder: function (attributes, fetch) {\r\n          if (this.orderBy != attributes) {\r\n            this.orderBy = attributes;\r\n            if (fetch !== false) {\r\n              this.fetch({skipSort: false});\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        resetOrder: function (fetch) {\r\n          if (this.orderBy) {\r\n            this.orderBy = undefined;\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setSkip: function (skip, fetch) {\r\n          if (this.skipCount != skip) {\r\n            this.skipCount = skip;\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setTop: function (top, fetch) {\r\n          if (this.topCount != top) {\r\n            this.topCount = top;\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        setLimit: function (skip, top, fetch) {\r\n          if (this.skipCount != skip || this.topCount != top) {\r\n            this.skipCount = skip;\r\n            this.topCount = top;\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        },\r\n\r\n        resetLimit: function (fetch) {\r\n          if (this.skipCount) {\r\n            this.skipCount = 0;\r\n            if (fetch !== false) {\r\n              this.fetch();\r\n            }\r\n            return true;\r\n          }\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  function makeFilterValue(value, name) {\r\n    if (value !== undefined && value !== null && value !== '') {\r\n      if (_.isArray(value)) {\r\n        value = Url.makeMultivalueParameter('where_' + name, value);\r\n      } else {\r\n        value = 'where_' + name + '=' + encodeURIComponent(value.toString());\r\n      }\r\n      if (value.length > 0) {\r\n        return value;\r\n      }\r\n    }\r\n  }\r\n\r\n  return BrowsableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/browsable/client-side.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/base',\r\n  'csui/models/browsable/browsable.mixin'\r\n], function (_, $, Backbone, base, BrowsableMixin) {\r\n\r\n  var ClientSideBrowsableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      BrowsableMixin.mixin(prototype);\r\n\r\n      var originalFetch = prototype.fetch;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeClientSideBrowsable: function (options) {\r\n          this.listenTo(this, 'add', this._modelAdded)\r\n              .listenTo(this, 'remove', this._modelRemoved)\r\n              .listenTo(this, 'reset', this._modelsReset);\r\n\r\n          if (!this.allModels) {\r\n            this.allModels = [];\r\n          }\r\n          this._filling = 0;\r\n\r\n          return this.makeBrowsable(options);\r\n        },\r\n\r\n        setOrderOnRequest: function (arg) {\r\n          this.orderOnRequest = arg;\r\n        },\r\n\r\n        getBrowsableUrlQuery: function () {\r\n          var query = {};\r\n\r\n          if (this.orderBy && this.orderOnRequest) {\r\n            var first = this.orderBy.split(',')[0].split(' ');\r\n            query.sort = (first[1] || 'asc') + '_' + first[0];\r\n          }\r\n          return $.param(query);\r\n        },\r\n\r\n        fetch: function (options) {\r\n          options = options ? _.clone(options) : {};\r\n          _.defaults(options, {skipSort: this.orderOnRequest});\r\n\r\n          var self = this;\r\n          var partialResponse;\r\n          if (!options.reload && this.lastFilteredAndSortedModels !== undefined) {\r\n            this.trigger('request', this, {}, options);\r\n            // Make the rest of the client side fetch async to behave like real ajax call\r\n            var deferred = $.Deferred();\r\n            setTimeout(function () {\r\n              partialResponse = self._fill(options);\r\n              self._notify(partialResponse, options);\r\n              deferred.resolve(partialResponse);\r\n            }, 0);\r\n            return deferred.promise();\r\n          }\r\n\r\n          var originalSilent = options.silent,\r\n              originalReset  = options.reset;\r\n          options.silent = true;\r\n          options.reset = true;\r\n\r\n          var originalSuccess = options.success,\r\n              originalError   = options.error;\r\n          options.success = function (collection, response, options) {\r\n            self.allModels = _.clone(self.models);\r\n            var originalParse = options.parse;\r\n            options.parse = false;\r\n            self.reset([], options);\r\n            if (originalSilent !== undefined) {\r\n              options.silent = originalSilent;\r\n            } else {\r\n              delete options.silent;\r\n            }\r\n            if (originalReset !== undefined) {\r\n              options.reset = originalReset;\r\n            } else {\r\n              delete options.reset;\r\n            }\r\n            partialResponse = self._fill(options);\r\n            --self._filling;\r\n            if (originalParse !== undefined) {\r\n              options.parse = originalParse;\r\n            } else {\r\n              delete options.parse;\r\n            }\r\n            options.success = originalSuccess;\r\n            if (originalSuccess) {\r\n              originalSuccess.call(options.context, collection, response, options);\r\n            }\r\n          };\r\n          options.error = function (collection, response, options) {\r\n            --self._filling;\r\n            if (originalError) {\r\n              originalError.call(options.context, collection, response, options);\r\n            }\r\n          };\r\n\r\n          ++this._filling;\r\n          this.lastFilteredAndSortedModels = undefined;\r\n          this._lastFilterAndSortCriteria = undefined;\r\n          var pr = originalFetch.call(this, options).then(function () {\r\n            return partialResponse;\r\n          });\r\n          return pr;\r\n        },\r\n\r\n        populate: function (models, options) {\r\n          options = _.extend({parse: true}, options);\r\n          var originalSilent = options.silent,\r\n              originalReset  = options.reset;\r\n          options.silent = true;\r\n          options.reset = true;\r\n          options.skipSort = this.orderOnRequest;\r\n\r\n          ++this._filling;\r\n\r\n          this.lastFilteredAndSortedModels = [];\r\n          this._lastFilterAndSortCriteria = undefined;\r\n          // Reset the filtering, sorting and paging parameters\r\n          this.skipCount = 0;\r\n          // this.topCount = 0;\r\n          this.filters = {};\r\n          this.orderBy = undefined;\r\n          this.reset(models, options);\r\n          this.allModels = _.clone(this.models);\r\n          var originalParse = options.parse;\r\n          options.parse = false;\r\n          this.reset([], options);\r\n          this.trigger('request', this, {}, options);\r\n          options.silent = originalSilent;\r\n          if (this.allModels.length === 0) {\r\n            options.reset = true;\r\n          } else {\r\n            options.reset = originalReset;\r\n          }\r\n          var deferred = $.Deferred();\r\n          var self = this;\r\n          setTimeout(function () {\r\n            self.fetched = true; // this prevents the table from doing a collection.fetch\r\n            var partialResponse = self._fill(options);\r\n            --self._filling;\r\n            options.parse = originalParse;\r\n            self._notify(partialResponse, options);\r\n            deferred.resolve(partialResponse);\r\n          });\r\n          return deferred.promise();\r\n        },\r\n\r\n        // Set the allModels without doing a fetch or reset\r\n        setAllModels: function (models) {\r\n          // make the collection empty\r\n          var options = {};\r\n          options.parse = false;\r\n          var topCount = this.topCount;\r\n          this.reset([], options);\r\n          this.topCount = topCount; // topCount gets lost in reset...\r\n\r\n          this.allModels = _.clone(models);\r\n          this.totalCount = this.allModels.length;\r\n          // Mark this collection as \"fetched\" the actual content will be\r\n          // populated first, when it is needed for the fetch method\r\n          this.lastFilteredAndSortedModels = [];\r\n          this._lastFilterAndSortCriteria = undefined;\r\n          // Reset the filtering, sorting and paging parameters\r\n          this.skipCount = 0;\r\n          // this.topCount = 0;\r\n          this.filters = {};\r\n          this.orderBy = undefined;\r\n        },\r\n\r\n        compareObjectsForSort: function (property, left, right) {\r\n          left = this._parseValue(property, left.get(property));\r\n          right = this._parseValue(property, right.get(property));\r\n          return this._compareValues(property, left, right);\r\n        },\r\n\r\n        _fill: function (options) {\r\n          var filterAndSortCriteria = {\r\n                orderBy: this.orderBy,\r\n                filters: _.clone(this.filters)\r\n              },\r\n              models;\r\n          if (this._lastFilterAndSortCriteria &&\r\n              _.isEqual(this._lastFilterAndSortCriteria, filterAndSortCriteria)) {\r\n            models = this.lastFilteredAndSortedModels;\r\n          } else {\r\n            models = _.clone(this.allModels);\r\n            models = this._filter(models);\r\n            models = options.skipSort ? models : this._sort(models);\r\n            this.lastFilteredAndSortedModels = models;\r\n            this._lastFilterAndSortCriteria = filterAndSortCriteria;\r\n          }\r\n          this.totalCount = this.allModels.length;\r\n          this.filteredCount = models.length;\r\n          models = this._limit(models);\r\n\r\n          var reset = options.reset;\r\n          if (reset === undefined) {\r\n            reset = this.autoreset;\r\n          }\r\n          var method = reset ? 'reset' : 'set';\r\n          // Prevent the 'add' and 'reset' event handlers triggered by\r\n          // filling models from allModels here modify allModels again\r\n          ++this._filling;\r\n          this[method](models, options);\r\n          --this._filling;\r\n\r\n          return models;\r\n        },\r\n\r\n        _notify: function (response, options) {\r\n          if (options.success) {\r\n            options.success.call(options.context, this, response, options);\r\n          }\r\n          this.trigger('sync', this, response, options);\r\n        },\r\n\r\n        _limit: function (models) {\r\n          if (this.skipCount) {\r\n            this.actualSkipCount = Math.min(this.skipCount, models.length);\r\n            models = models.slice(this.skipCount);\r\n          } else {\r\n            this.actualSkipCount = 0;\r\n          }\r\n          if (this.topCount) {\r\n            models = models.slice(0, this.topCount);\r\n          }\r\n          return models;\r\n        },\r\n\r\n        _sort: function (models) {\r\n          var self = this;\r\n          if (this.orderBy) {\r\n            var criteria = _.map(this.orderBy.split(','), function (criterion) {\r\n              var parts = criterion.trim().split(' ');\r\n              return {\r\n                property: parts[0],\r\n                descending: parts[1] === 'desc'\r\n              };\r\n            });\r\n\r\n            models = models.sort(function (left, right) {\r\n              var result = 0;\r\n              _.find(criteria, function (criterion) {\r\n                result = self.compareObjectsForSort(criterion.property, left, right);\r\n                if (result) {\r\n                  if (criterion.descending) {\r\n                    result *= -1;\r\n                  }\r\n                  return true;\r\n                }\r\n              });\r\n              return result;\r\n            });\r\n          }\r\n          return models;\r\n        },\r\n\r\n        _filter: function (models) {\r\n          var self = this;\r\n          for (var name in this.filters) {\r\n            if (_.has(this.filters, name)) {\r\n              var values = this.filters[name];\r\n              if (values != null && values !== '') {\r\n                _.isArray(values) || (values = [values]);\r\n                models = _.filter(models, function (node) {\r\n                  var hay = self._parseValue(name, node.get(name));\r\n                  return _.any(values, function (value) {\r\n                    var needle = self._parseValue(name, value);\r\n                    if (name === 'type' && needle == -1) {\r\n                      return node.get('container');\r\n                    }\r\n                    return self._containsValue(name, hay, needle);\r\n                  });\r\n                });\r\n              }\r\n            }\r\n          }\r\n          return models;\r\n        },\r\n\r\n        _modelAdded: function (model, collection, options) {\r\n          if (this._populate(options)) {\r\n            this.allModels.push(model);\r\n            ++this.totalCount;\r\n            this._lastFilterAndSortCriteria = undefined;\r\n          }\r\n        },\r\n\r\n        _modelRemoved: function (model, collection, options) {\r\n          if (this._populate(options)) {\r\n            var index = _.findIndex(this.allModels, model);\r\n            if (index >= 0) {\r\n              this.allModels.splice(index, 1);\r\n              --this.totalCount;\r\n              this._lastFilterAndSortCriteria = undefined;\r\n            }\r\n          }\r\n        },\r\n\r\n        _modelsReset: function (collection, options) {\r\n          if (this._populate(options)) {\r\n            this.allModels = _.clone(this.models);\r\n            this.totalCount = this.allModels.length;\r\n            // Mark this collection as \"fetched\" the actual content will be\r\n            // populated first, when it is needed for the fetch method\r\n            this.lastFilteredAndSortedModels = [];\r\n            this._lastFilterAndSortCriteria = undefined;\r\n            // Reset the filtering, sorting and paging parameters\r\n            this.skipCount = this.topCount = 0;\r\n            this.filters = {};\r\n            this.orderBy = undefined;\r\n          }\r\n        },\r\n\r\n        _populate: function (options) {\r\n          return !(this._filling || options && options.populate === false);\r\n        },\r\n\r\n        _compareValues: function (property, left, right) {\r\n          //STRING Comparision.\r\n          if (typeof left === 'string' && typeof right === 'string') {\r\n            // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n            // not for values with internal system constants, which can be case-sensitive\r\n            return base.localeCompareString(left, right, {usage: 'sort'});\r\n          } else if (_.isArray(left) || _.isArray(right)) { //ARRAY Comparision.\r\n            if (!_.isArray(left)) {\r\n              left = [left];\r\n            } else if (!_.isArray(right)) {\r\n              right = [right];\r\n            }\r\n            return this._compareArrays(left, right);\r\n          }\r\n          return this._compareObjects(left, right); //OBJECT Comparision.\r\n        },\r\n\r\n        _compareObjects: function (left, right) {\r\n          if (left != right) {\r\n            if (left > right || right === void 0) {\r\n              return 1;\r\n            }\r\n            if (left < right || left === void 0) {\r\n              return -1;\r\n            }\r\n          }\r\n          return 0;\r\n        },\r\n\r\n        _compareArrays: function (left, right) {\r\n          var result = 0,\r\n              len    = Math.min(left.length, right.length),\r\n              i      = 0;\r\n          while (i <= len) {\r\n            if (i === left.length && i === right.length) {\r\n              result = 0;\r\n              break;\r\n            } else if (i === left.length) {\r\n              result = -1;\r\n              break;\r\n            } else if (i === right.length) {\r\n              result = 1;\r\n              break;\r\n            } else {\r\n              if (typeof left[i] === 'string' && typeof right[i] === 'string') {\r\n                result = base.localeCompareString(left[i], right[i], {usage: 'sort'});\r\n              } else {\r\n                result = this._compareObjects(left[i], right[i]);\r\n              }\r\n              if (result !== 0) {\r\n                break;\r\n              }\r\n            }\r\n            i++;\r\n          }\r\n          return result;\r\n        },\r\n\r\n        _containsValue: function (property, hay, needle) {\r\n          if (typeof hay === 'string' && typeof needle === 'string') {\r\n            // FIXME: Implement the locale-specific comparison only for localizable strings;\r\n            // not for values with internal system constants, which can be case-sensitive\r\n            return base.localeContainsString(hay, needle.toString());\r\n          } else if (_.isArray(hay) && typeof needle === 'string') {\r\n            return _.some(hay, function (blade) {\r\n              if (typeof blade === 'string') {\r\n                return base.localeContainsString(blade, needle.toString());\r\n              } else {\r\n                return blade == needle;\r\n              }\r\n            });\r\n          }\r\n\r\n          return hay == needle;\r\n        },\r\n\r\n        // FIXME: Use metadata to get the correct value type for parsing\r\n        _parseValue: function (property, value) {\r\n          if (value != null) {\r\n            if (property === 'type') {\r\n              return +value;\r\n            }\r\n            if (property.indexOf('date') >= 0) {\r\n              if (_.isArray(value)) {\r\n                return value.map(function (val) {\r\n                  return new Date(val);\r\n                });\r\n              } else {\r\n                return new Date(value);\r\n              }\r\n            }\r\n          }\r\n          return value;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return ClientSideBrowsableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/browsable/v2.response.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  'use strict';\r\n\r\n  var BrowsableV2ResponseMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsableV2Response: function (options) {\r\n          this.orderBy = options.orderBy;\r\n          return this;\r\n        },\r\n\r\n        parseBrowsedState: function (response, options) {\r\n          var collection = response.collection || response,\r\n              paging = collection.paging,\r\n              sorting = collection.sorting,\r\n              searching = collection.searching;\r\n          if (paging) {\r\n            this.actualSkipCount = (paging.page - 1) * (paging.limit || 0);\r\n            this.totalCount = paging.total_count;\r\n            this.filteredCount = paging.filtered_count || paging.total_count;\r\n          } else {\r\n            // Support limited v2 collections like favorites\r\n            this.actualSkipCount = 0;\r\n            this.filteredCount = this.totalCount = response.results.length;\r\n          }\r\n          if (sorting) {\r\n            this.sorting = sorting;\r\n          }\r\n          if (searching) {\r\n            this.searching = searching;\r\n          }\r\n        },\r\n\r\n        parseBrowsedItems: function (response, options) {\r\n          return response.results;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return BrowsableV2ResponseMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/models/impl/nls/root/lang',{\r\n  serverCallPrecheckFailedMissingConnector: 'Missing connector data for server call.',\r\n  serverCallPrecheckFailedModelIsNew: 'Model is new.',\r\n\r\n  fav_parent_id: 'Location',\r\n  fav_size: 'Size',\r\n  fav_ungrouped: 'Ungrouped'\r\n});\r\n\n","\n","csui.define('csui/models/favorite2column',['csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'i18n!csui/models/impl/nls/lang'\r\n], function (_, Backbone,\r\n    Url,\r\n    lang) {\r\n  'use strict';\r\n\r\n  var Favorite2ColumnModel = Backbone.Model.extend({\r\n\r\n    idAttribute: null,\r\n\r\n    constructor: function Favorite2ColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'fav_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2ColumnModel;\r\n});\r\n\n","csui.define('csui/models/favorite2columns',['csui/lib/underscore', 'csui/lib/backbone', 'csui/models/favorite2column'\r\n], function (_, Backbone, Favorite2ColumnModel) {\r\n  'use strict';\r\n\r\n  var Favorite2ColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: Favorite2ColumnModel,\r\n\r\n    // Reset the collection.  For performance purpose and prevent UI table redraw, this\r\n    // method will not reset if the models is the same as the cached one.\r\n    resetCollection: function (models, options) {\r\n      if (this.cachedColumns && _.isEqual(models, this.cachedColumns)) {\r\n        return;\r\n      }\r\n      // Make a clone of the model array for the cache to let it be equal even if attributes are\r\n      // added to objects of the array\r\n      this.cachedColumns = _.map(models, function (model) {\r\n        return _.clone(model);\r\n      });\r\n\r\n      this.reset(models, options);\r\n      this.fetched = true;\r\n    },\r\n\r\n    resetFavoritesCollection: function (response, options) {\r\n      var models;\r\n      if (response && response.columns && response.columns instanceof Array) {\r\n        // columns from server\r\n        models = _.map(response.columns, function (column) {\r\n          return new Favorite2ColumnModel(column);\r\n        });\r\n      } else {\r\n        // client-side columns\r\n        models = [\r\n          new Favorite2ColumnModel({\r\n            \"default_action\": true,\r\n            \"column_key\": \"type\",\r\n            \"key_value_pairs\": false,\r\n            \"max_value\": null,\r\n            \"min_value\": null,\r\n            \"multi_value\": false,\r\n            \"name\": \"Type\",\r\n            \"required\": false,\r\n            \"type\": 2,\r\n            \"type_name\": \"Integer\"\r\n          }),\r\n          new Favorite2ColumnModel({\r\n            \"default_action\": true,\r\n            \"column_key\": \"favorite_name\",\r\n            \"max_length\": null,\r\n            \"min_length\": null,\r\n            \"multi_value\": false,\r\n            \"multiline\": false,\r\n            \"multilingual\": false,\r\n            \"name\": \"Name\",\r\n            \"password\": false,\r\n            \"required\": false,\r\n            \"type\": -1,\r\n            \"type_name\": \"String\"\r\n          }),\r\n          new Favorite2ColumnModel({\r\n            \"column_key\": \"reserved\",\r\n            \"key_value_pairs\": false,\r\n            \"multi_value\": false,\r\n            \"name\": \"Reserved\",\r\n            \"required\": false,\r\n            \"type\": 5,\r\n            \"type_name\": \"Boolean\"\r\n          }),\r\n          new Favorite2ColumnModel({\r\n            \"column_key\": \"parent_id\",\r\n            \"key_value_pairs\": false,\r\n            \"max_value\": null,\r\n            \"min_value\": null,\r\n            \"multi_value\": false,\r\n            \"name\": \"Parent ID\",\r\n            \"required\": false,\r\n            \"type\": 2,\r\n            \"type_name\": \"Integer\"\r\n          }),\r\n          new Favorite2ColumnModel({\r\n            \"column_key\": \"favorite\",\r\n            \"key_value_pairs\": false,\r\n            \"multi_value\": false,\r\n            \"name\": \"Favorite\",\r\n            \"required\": false,\r\n            \"type\": 5,\r\n            \"type_name\": \"Boolean\"\r\n          })\r\n        ];\r\n      }\r\n\r\n      this.resetCollection(models, options);\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2ColumnCollection;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorites2.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          // this.setExpand('favorites', 'tab_id');\r\n          var url   = this.connector.connection.url.replace('/v1', '/v2'),\r\n            query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getStateEnablingUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery(),\r\n              this.getSortByOrderUrlQuery()\r\n            );\r\n          url = Url.combine(url, '/members/favorites');\r\n          return query ? url + '?' + query : url;\r\n        },\r\n\r\n        getSortByOrderUrlQuery: function () {\r\n          return {sort: 'order'};\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          this.parseBrowsedState({results: response}, options);\r\n          this.columns && this.columns.resetFavoritesCollection(response, this.options);\r\n          return this.parseBrowsedItems(response, options);\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorites2',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin',\r\n  'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/favorite2',\r\n  'csui/models/favorite2columns',\r\n  'csui/models/server.adaptors/favorites2.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone,\r\n    ConnectableMixin,\r\n    FetchableMixin,\r\n    AdditionalResourcesV2Mixin,\r\n    FieldsV2Mixin,\r\n    ExpandableV2Mixin,\r\n    StateRequestorMixin,\r\n    CommandableV2Mixin,\r\n    ClientSideBrowsableMixin,\r\n    BrowsableV2ResponseMixin,\r\n    DelayedCommandableV2Mixin,\r\n    Favorite2Model,\r\n    Favorite2ColumnCollection,\r\n    ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var Favorite2Collection = Backbone.Collection.extend({\r\n\r\n    model: Favorite2Model,\r\n\r\n    constructor: function Favorite2Collection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.callCounter = 0;\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateRequestor(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      this.columns = new Favorite2ColumnCollection(options.columns);\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        fields: _.deepClone(this.fields),\r\n        expand: _.deepClone(this.expand),\r\n        includeResources: _.clone(this._additionalResources),\r\n        skip: this.skipCount,\r\n        top: this.topCount,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        commands: _.clone(this.commands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands\r\n      });\r\n\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    }\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(Favorite2Collection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(Favorite2Collection.prototype);\r\n  ConnectableMixin.mixin(Favorite2Collection.prototype);\r\n  FetchableMixin.mixin(Favorite2Collection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(Favorite2Collection.prototype);\r\n  FieldsV2Mixin.mixin(Favorite2Collection.prototype);\r\n  ExpandableV2Mixin.mixin(Favorite2Collection.prototype);\r\n  StateRequestorMixin.mixin(Favorite2Collection.prototype);\r\n  CommandableV2Mixin.mixin(Favorite2Collection.prototype);\r\n  DelayedCommandableV2Mixin.mixin(Favorite2Collection.prototype);\r\n  ServerAdaptorMixin.mixin(Favorite2Collection.prototype);\r\n\r\n  return Favorite2Collection;\r\n\r\n});\r\n\n","csui.define('csui/models/favorite2group',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/favorites2', 'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, ResourceMixin, UploadableMixin,\r\n   Favorite2Collection) {\r\n  'use strict';\r\n\r\n  var Favorite2GroupModel = Backbone.Model.extend({\r\n    mustRefreshAfterPut: false,\r\n\r\n    idAttribute: 'tab_id',\r\n\r\n    constructor: function Favorite2GroupModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options);\r\n      this.makeUploadable(options);\r\n\r\n      // initialize favorites of this group with provided favorites and columns\r\n      attributes || (attributes = {});\r\n\r\n      this.favorites = new Favorite2Collection(attributes.favorites, {\r\n        connector: options.connector,\r\n        autoreset: true,\r\n        tab_id: this.get('tab_id'),\r\n        columns: attributes.favorite_columns,\r\n        commands: options && options.commands\r\n      });\r\n    },\r\n\r\n    urlRoot: function () {\r\n      var v2Url = this.connector.connection.url.replace('/v1', '/v2');\r\n      var url = Url.combine(v2Url, \"/members/favorites/tabs/\");\r\n      return url;\r\n    },\r\n\r\n    parse: function (resp, options) {\r\n      if (resp.results && resp.results.data) {\r\n        return {tab_id: resp.results.data.tab_id};\r\n      } else {\r\n        return resp;\r\n      }\r\n    }\r\n  });\r\n\r\n  ResourceMixin.mixin(Favorite2GroupModel.prototype);\r\n  UploadableMixin.mixin(Favorite2GroupModel.prototype);\r\n\r\n  return Favorite2GroupModel;\r\n});\r\n\n","csui.define('csui/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery'\r\n], function (_, $) {\r\n  'use strict';\r\n\r\n  var SyncableFromMultipleSources = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeSyncableFromMultipleSources: function (options) {\r\n          return this;\r\n        },\r\n\r\n        syncFromMultipleSources: function (promises, mergeSources,\r\n            convertError, options) {\r\n          // Convert $.ajax rejected value by default\r\n          function convertAjaxError(result) {\r\n            return Array.isArray(result) ? result[0] : result;\r\n          }\r\n\r\n          // The convertError parameter is optional\r\n          if (options === undefined && typeof convertError === 'object') {\r\n            options = convertError;\r\n            convertError = convertAjaxError;\r\n          } else if (convertError == null) {\r\n            convertError = convertAjaxError;\r\n          }\r\n\r\n          var model = this,\r\n              // Pick only jQuery objects, which support the abort() method,\r\n              // from all promises.\r\n              abortables = promises.filter(function (promise) {\r\n                return promise.abort;\r\n              }),\r\n              deferred = $.Deferred(),\r\n              promise = deferred.promise();\r\n          // Propagate jQuery object aborting interface, if the promises\r\n          // come from $.ajax calls; add inject the abort() method.\r\n          if (abortables.length) {\r\n            promise.abort = function (statusText) {\r\n              statusText || (statusText = 'canceled');\r\n              abortables.forEach(function (promise) {\r\n                promise.abort(statusText);\r\n              });\r\n              return this;\r\n            };\r\n          }\r\n          // Implement Backbone event flow - 'request', callback,\r\n          // promise. (Populating the model and triggering 'sync' or\r\n          // 'error' events takes place in the fetch method.)\r\n          model.trigger('request', model, {}, options);\r\n          $.when.apply($, promises)\r\n           .done(function () {\r\n             var response = mergeSources.apply(model, arguments),\r\n                 success = options.success;\r\n             if (success) {\r\n               success.call(options.context, response, 'success', {});\r\n             }\r\n             deferred.resolve(response, 'success', {});\r\n           })\r\n           .fail(function () {\r\n             var object = convertError.apply(model, arguments),\r\n                 error = options.error;\r\n             if (error) {\r\n               error.call(options.context, object, 'error', object.statusText);\r\n             }\r\n             // Return only the first error for simplicity; the others\r\n             // will be logged by the connector, if they come from\r\n             // failing $.ajax calls.\r\n             deferred.reject.call(deferred, object, 'error', object.statusText);\r\n           });\r\n          return promise;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return SyncableFromMultipleSources;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorite2groups.mixin',[\r\n  'csui/lib/jquery', 'csui/lib/underscore', 'csui/utils/url', 'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Url, lang) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          if (method !== 'read') {\r\n            throw new Error('Only fetching groups with favorites is supported.');\r\n          }\r\n          var groups = this.connector.makeAjaxCall({url: this.url()})\r\n            .then(function (response) {\r\n              return response;\r\n            });\r\n\r\n          var favoritesCollection = this.favorites;\r\n          var favoritesFetchOptions = _.omit(options, ['success', 'error']);\r\n          var favorites = favoritesCollection.fetch(favoritesFetchOptions)\r\n            .then(function (response) {\r\n              return favoritesCollection; // need full object, including columns when merging\r\n            });\r\n\r\n          // Groups will be parsed by _createMergedResponse,\r\n          // favorites were parsed by Favorite2Collection.\r\n          options.parse = false;\r\n\r\n          return this.syncFromMultipleSources([groups, favorites], this._createMergedResponse, options);\r\n        },\r\n\r\n        _createMergedResponse: function (groups, favoritesCollection, options) {\r\n          var favorites = favoritesCollection.toJSON();\r\n          var columns = favoritesCollection.columns;\r\n          // add \"Unspecified group\"\r\n          groups.results.push({data: {name: lang.fav_ungrouped, order: -1, tab_id: -1}});\r\n          var merged = groups.results.map(function (group) {\r\n            group = group.data;\r\n\r\n            var tabId = group.tab_id;\r\n            group.favorites = favorites.filter(function (favorite) {\r\n              return favorite.favorite_tab_id === tabId || tabId === -1 && favorite.favorite_tab_id ===\r\n                null;\r\n            });\r\n            group.favorite_columns = columns.toJSON(); //\r\n            return group;\r\n          });\r\n\r\n          return merged;\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          return response;\r\n        },\r\n\r\n        url: function () {\r\n          // this.setExpand('favorites', 'tab_id');\r\n          var url = this.connector.connection.url.replace('/v1', '/v2'),\r\n            query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getSortByOrderUrlQuery()\r\n              // this.getRequestedCommandsUrlQuery()\r\n            );\r\n          url = Url.combine(url, '/members/favorites/tabs');\r\n          return query ? url + '?' + query : url;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorite2groups',['csui/lib/jquery',\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/utils/base',\r\n  'csui/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/favorite2group', 'csui/models/favorites2',\r\n  'csui/models/server.adaptors/favorite2groups.mixin',\r\n  'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Backbone, Url, base, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, SyncableFromMultipleSources,\r\n    Favorite2GroupModel, Favorite2Collection, ServerAdaptorMixin, lang) {\r\n  'use strict';\r\n\r\n  var Favorite2GroupsCollection = Backbone.Collection.extend({\r\n    model: Favorite2GroupModel,\r\n\r\n    constructor: function Favorite2GroupsCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand' /*, 'commands'*/]);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      if (options) {\r\n        this.favorites = options.favorites;\r\n        this.commands = options.commands;\r\n      }\r\n      if (!this.favorites) {\r\n        this.favorites = new Favorite2Collection(undefined, {\r\n          connector: this.connector,\r\n          autoreset: true,\r\n          commands: this.commands\r\n        });\r\n      }\r\n      this.on('sync', this._setupEventPropagation, this);\r\n      this.on('add', this._propagateFavorite2CollectionOptions, this);\r\n      this.on('reset', function (groups, options) {\r\n        var self = this;\r\n        groups.each(function (group) {\r\n          self._propagateFavorite2CollectionOptions(group, groups, options);\r\n        });\r\n      }, this);\r\n    },\r\n\r\n    _fetch: function (options) {\r\n      options || (options = {});\r\n      options.originalSilent = options.silent;\r\n      // make this fetch silent, because another fetch is done at then reset\r\n      //  event is triggered\r\n      options.silent = true;\r\n\r\n      return this.originalFetch.call(this, options);\r\n    },\r\n\r\n    _prepareModel: function (attrs, options) {\r\n      options || (options = {});\r\n      options.commands = this.commands;\r\n      return Backbone.Collection.prototype._prepareModel.call(this, attrs, options);\r\n    },\r\n\r\n    _setupEventPropagation: function () {\r\n      var self = this;\r\n      this.each(function (group) {\r\n        group.favorites.listenTo(group.favorites, \"reset update\",\r\n            function (favoritesCollection, options) {\r\n              self.trigger('update', self, options);\r\n            });\r\n\r\n      }, this);\r\n    },\r\n\r\n    // Note: this.favorites is the collection that was used to set the resource scope and when group\r\n    // plus the favorites are being merged, reset is triggered for all groups, which then\r\n    // already have the favorites. Then the options get copied or cloned from the original\r\n    // collection to each favorite collection of each group.\r\n    // This is necessary, because if a model of those favorite collections is saved and fetched\r\n    // again, the options from the collection are used if not set at the single model. Otherwise\r\n    // a single favorite model would be fetched without commands, expands, etc.\r\n    _propagateFavorite2CollectionOptions: function (group, collection, options) {\r\n      group.favorites.setFilter(_.deepClone(this.favorites.filters), false);\r\n      group.favorites.setOrder(this.favorites.orderBy, false);\r\n      group.favorites.setExpand(_.deepClone(this.favorites.expand));\r\n      if (this.favorites.commands) {\r\n        group.favorites.setCommands(this.favorites.commands);\r\n      }\r\n    },\r\n\r\n    clone: function () {\r\n      var clone = new this.constructor(this.models, {\r\n        // node: this.node,\r\n        // skip: this.skipCount,\r\n        // top: this.topCount,\r\n        connector: this.connector,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        expand: _.clone(this.expand),\r\n        commands: _.clone(this.commands),\r\n        favorites: this.favorites.clone()\r\n      });\r\n\r\n      return clone;\r\n    },\r\n\r\n    getSortByOrderUrlQuery: function () {\r\n      return {sort: 'order'};\r\n    },\r\n\r\n    // private: reset the collection\r\n    resetCollection: function (models, options) {\r\n      this.reset(models, options);\r\n      this.fetched = true;\r\n    },\r\n\r\n    // todo: this should be a PUT to /members/favorites/tabs with the following hierarchical\r\n    // structure (and it should be moved to the favorites2groups model):\r\n\r\n    // var tabs = [\r\n    //   {\r\n    //     name: \"first group\",\r\n    //     favorites: [\r\n    //       {\r\n    //         name: \"Document for review\",\r\n    //         size: 20099790,\r\n    //         favorite_name: \"Favorite of Document for review\"\r\n    //         // more attributes follow ...\r\n    //       },\r\n    //       {\r\n    //         name: \"Specification\",\r\n    //         size: 98898690,\r\n    //         favorite_name: \"Pump Specification\"\r\n    //         // more attributes follow ...\r\n    //       }\r\n    //     ]\r\n    //   },\r\n    //   {\r\n    //     name: \"second group\",\r\n    //     favorites: [\r\n    //       {\r\n    //         name: \"My Presentation\",\r\n    //         size: 987078,\r\n    //         favorite_name: \"The Presentation for all Managers\"\r\n    //         // more attributes follow ...\r\n    //       }\r\n    //     ]\r\n    //   }\r\n    // ];\r\n\r\n    saveAll: function () {\r\n      var self = this;\r\n      var tabs = this.map(function (group) {\r\n        var groupName;\r\n        var groupId = group.get('tab_id');\r\n        if (groupId == -1) {\r\n          groupName = null; // the ungrouped group has no name\r\n        } else {\r\n          groupName = group.get('name');\r\n        }\r\n        return {\r\n          name: groupName, tab_id: groupId, favorites: group.favorites.map(function (favorite) {\r\n            return {\r\n              id: favorite.get('id'),\r\n              name: favorite.get('favorite_name')\r\n            };\r\n          })\r\n        };\r\n      });\r\n\r\n      // this makes a formdata request\r\n      var putUrl = this.connector.connection.url.replace('/v1', '/v2');\r\n      putUrl = Url.combine(putUrl, '/csui/favorites');\r\n\r\n      // callCounter is for detecting parallel REST calls and to use only response from latest\r\n      this.callCounter++;\r\n\r\n      var options = {\r\n        type: 'PUT',\r\n        url: putUrl,\r\n        data: tabs,\r\n        beforeSend: function (request, settings) {\r\n          request.counter = self.callCounter;\r\n        }\r\n      };\r\n\r\n      var deferred = $.Deferred();\r\n      var jqxhr = this.connector.makeAjaxCall(options);\r\n      jqxhr.then(function (response) {\r\n        if (jqxhr.counter < self.callCounter) {\r\n          // let the caller ignore the results, because a new save operation was already started\r\n          deferred.reject();\r\n        } else {\r\n          // get new tab_ids because with bulk update call, the server invalidates all tab_ids\r\n          options = {\r\n            type: 'GET',\r\n            url: self.url()\r\n          };\r\n          var jqxhrTabs =  self.connector.makeAjaxCall(options)\r\n              .then(function (tabsResp) {\r\n                if (tabsResp.results && tabsResp.results instanceof Array) {\r\n                  // merge the retrieved tab_id and order attributes with the existing models: the\r\n                  // order of the returned list is the same as the order in this collection.\r\n                  // Associate the models one by one, because the sequence is the same (if\r\n                  // nothing changed them again in the meanwhile at the server)\r\n                  // Note, this collection has at the end an additional group with tab_id = -1,\r\n                  // which is the Ungrouped favorite group. This never changes. It's always at\r\n                  // the end.\r\n\r\n                  tabsResp.results.forEach(function (elem, index) {\r\n                    if (elem.data) {\r\n                      var group = self.at(index);\r\n                      // must remove the group from the collection and add it again before\r\n                      // changing the id (in this case tab_id) to let backbone update the byId\r\n                      // structure correctly. this is a hack!\r\n                      self.remove(group, {silent: true});\r\n                      group.set('tab_id', elem.data.tab_id, {silent: true});\r\n                      self.add(group, {at: index, silent: true});\r\n\r\n                      group.set('order', elem.data.order, {silent: true});\r\n                      // also update the tab_id stored in each favorite too, just in case\r\n                      // anybody is using this...\r\n                      for (var i = 0; i < group.favorites.length; i++) {\r\n                        var favorite = group.favorites.at(i);\r\n                        // do the hack also here to let backbone update the byId structure\r\n                        group.favorites.remove(favorite, {silent: true});\r\n                        favorite.set('favorite_tab_id', elem.data.tab_id, {silent: true});\r\n                        group.favorites.add(favorite, {at: i, silent: true});\r\n                      }\r\n                    }\r\n                  });\r\n\r\n                }\r\n                deferred.resolve(response);\r\n                self.trigger('bulk:update:succeed');\r\n              }, function (jqxhrTabs, statusText) {\r\n                var errorTabs = new base.RequestErrorMessage(jqxhrTabs);\r\n                deferred.reject(errorTabs);\r\n                self.trigger('bulk:update:fail');\r\n              });\r\n        }\r\n      }, function (jqxhr, statusText) {\r\n        // if self.callCounter is already higher than the stored value of this request, then\r\n        // a newer request was already started -> ignore the error in that case.\r\n        if (jqxhr.counter < self.callCounter) {\r\n          deferred.reject();\r\n        } else {\r\n          var error = new base.RequestErrorMessage(jqxhr);\r\n          deferred.reject(error);\r\n        }\r\n        self.trigger('bulk:update:fail');\r\n      });\r\n      return deferred.promise();\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(Favorite2GroupsCollection.prototype);\r\n  FetchableMixin.mixin(Favorite2GroupsCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(Favorite2GroupsCollection.prototype);\r\n  FieldsV2Mixin.mixin(Favorite2GroupsCollection.prototype);\r\n  ExpandableV2Mixin.mixin(Favorite2GroupsCollection.prototype);\r\n  SyncableFromMultipleSources.mixin(Favorite2GroupsCollection.prototype);\r\n  ServerAdaptorMixin.mixin(Favorite2GroupsCollection.prototype);\r\n\r\n  return Favorite2GroupsCollection;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/favorite.model.mixin',[\r\n  'csui/lib/jquery', 'csui/lib/underscore', 'csui/utils/url', 'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Url, lang) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.options.connector.connection.url.replace('/v1', '/v2'),\r\n            'members/favorites', this.get('id'));\r\n        },\r\n\r\n        _serverCallPreCheck: function () {\r\n          if (this.isNew()) {\r\n            return {error: lang.serverCallPrecheckFailedModelIsNew};\r\n          }\r\n          if (!this.options || !this.options.connector) {\r\n            return {error: lang.serverCallPrecheckFailedMissingConnector};\r\n          }\r\n          return undefined;\r\n        },\r\n\r\n        _serverCallUpdateFavorite: function (ajaxMethod, deferred, selected) {\r\n          var error = this._serverCallPreCheck();\r\n          if (error !== undefined) {\r\n            deferred.reject(error);\r\n            return;\r\n          }\r\n\r\n          var options = {\r\n            type: ajaxMethod,\r\n            url: this.url()\r\n          };\r\n\r\n          if (ajaxMethod === 'POST') {\r\n            var tabId = this.get('tab_id');\r\n            var name = this.get('name');\r\n            // do this check for code backward compatibility\r\n            if (tabId !== undefined || name !== undefined) {\r\n              var data = {};\r\n              name !== undefined && _.extend(data, {name: name});\r\n              (tabId !== undefined && tabId !== -1) && _.extend(data, {tab_id: tabId});\r\n              _.extend(options, {data: data});\r\n            }\r\n          }\r\n\r\n          this.options.connector.makeAjaxCall(options)\r\n            .done(_.bind(function (resp) {\r\n              this.set('selected', selected);\r\n              if (window.csui && window.csui.mobile) {\r\n                // LPAD-59888: update the favorites list properly by fetching the update node model\r\n                // change does not affect Smart UI\r\n                var selectedNode = this.get('node');\r\n                selectedNode.fetch({\r\n                  force: true\r\n                });\r\n              }\r\n              deferred.resolve(resp);\r\n            }, this))\r\n            .fail(function (err) {\r\n              deferred.reject(err);\r\n            });\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/favorite.model',['csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/base',\r\n  'csui/utils/url', 'csui/models/server.adaptors/favorite.model.mixin', 'i18n!csui/models/impl/nls/lang'\r\n], function ($, _, Backbone, base, Url, ServerAdaptorMixin, lang) {\r\n  \"use strict\";\r\n\r\n  var FavoriteModel = Backbone.Model.extend({\r\n\r\n    constructor: function FavoriteModel(attributes, options) {\r\n      options || (options = {});\r\n      this.options = options;\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    isNew: function () {\r\n      return this.get('id') === undefined;\r\n    },\r\n\r\n    addToFavorites: function () {\r\n      var deferred = $.Deferred();\r\n      this._serverCallUpdateFavorite('POST', deferred, true);\r\n      return deferred.promise();\r\n    },\r\n\r\n    removeFromFavorites: function () {\r\n      var deferred = $.Deferred();\r\n      this._serverCallUpdateFavorite('DELETE', deferred, false);\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(FavoriteModel.prototype);\r\n  return FavoriteModel;\r\n\r\n});\r\n\n","csui.define('csui/models/member/member.model',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/resource/resource.mixin'\r\n], function (_, Backbone, Url, ResourceMixin) {\r\n  'use strict';\r\n\r\n  var MemberModel = Backbone.Model.extend({\r\n    constructor: function MemberModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n      this.groupId = attributes.groupId;\r\n      this.makeResource(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    },\r\n    url: function () {\r\n      var id  = this.get(\"id\"),\r\n          url = this.connector.connection.url;\r\n      url = url.replace('/api/v1', '/api/v2');\r\n      if (id) {\r\n        url = Url.combine(url, \"members/\" + id + \"/members\");\r\n      } else {\r\n        url = Url.combine(url, \"members\");\r\n      }\r\n      return url;\r\n    },\r\n    parse: function (response) {\r\n      var that = this;\r\n      if (response.data !== undefined) {\r\n        var memberId = this.get(\"id\");\r\n        _.each(response.data, function (member) {\r\n          member.parentId = memberId;\r\n        });\r\n\r\n        return response;\r\n      }\r\n      return response;\r\n    }\r\n  });\r\n\r\n  ResourceMixin.mixin(MemberModel.prototype);\r\n\r\n  return MemberModel;\r\n});\r\n\n","csui.define('csui/models/browsable/v1.request.mixin',['csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url'\r\n], function (_, $, Url) {\r\n\r\n  var BrowsableV1RequestMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsableV1Request: function (options) {\r\n          return this;\r\n        },\r\n\r\n        getBrowsableUrlQuery: function () {\r\n          var query = {};\r\n          var limit = this.topCount || 0;\r\n          if (limit) {\r\n            query.limit = limit;\r\n            query.page = Math.floor((this.skipCount || 0) / limit) + 1;\r\n          }\r\n          if (this.orderBy) {\r\n            // TODO: Implement sorting by multiple columns on the server\r\n            var first = this.orderBy.split(',')[0].split(' ');\r\n            query.sort = (first[1] || 'asc') + '_' + first[0];\r\n          }\r\n          query = $.param(query);\r\n          if (!$.isEmptyObject(this.filters)) {\r\n            for (var name in this.filters) {\r\n              if (_.has(this.filters, name)) {\r\n                var value = makeFilterValue(this.filters[name], name);\r\n                if (value !== undefined) {\r\n                  if (query) {\r\n                    query += '&';\r\n                  }\r\n                  query += value;\r\n                }\r\n              }\r\n            }\r\n          }\r\n          return query;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  function makeFilterValue(value, name) {\r\n    if (value !== undefined && value !== null && value !== \"\") {\r\n      if ($.isArray(value)) {\r\n        value = Url.makeMultivalueParameter(\"where_\" + name, value);\r\n      }\r\n      else {\r\n        value = \"where_\" + name + \"=\" + encodeURIComponent(value.toString());\r\n      }\r\n      if (value.length > 0) {\r\n        return value;\r\n      }\r\n    }\r\n  }\r\n\r\n  return BrowsableV1RequestMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/member/membercollection',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/browsable/v1.request.mixin', 'csui/models/member/member.model'\r\n], function (_, Backbone, Url, ResourceMixin, BrowsableMixin, BrowsableV1RequestMixin,\r\n    MemberModel) {\r\n  'use strict';\r\n\r\n  ////-------------- MemberCollection ---------------------------------\r\n  var MemberCollection = Backbone.Collection.extend({\r\n\r\n    model: MemberModel,\r\n\r\n    searchTerm: \"\",\r\n\r\n    constructor: function MemberCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeResource(options);\r\n      this.makeBrowsable(options);\r\n\r\n      if (options !== undefined && options.member !== undefined && options.member !== null) {\r\n        this.parentId = options.member.get(\"id\");\r\n        this.nodeId = options.member.get(\"nodeId\");\r\n        this.categoryId = options.member.get(\"categoryId\");\r\n        this.groupId = options.member.get(\"groupId\");\r\n      } else {\r\n        this.nodeId = options.nodeId;\r\n        this.categoryId = options.categoryId;\r\n        this.groupId = options.groupId;\r\n      }\r\n      this.query = options.query || \"\";\r\n      this.type = options.type;\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        parentId: this.parentId,\r\n        nodeId: this.nodeId,\r\n        categoryId: this.categoryId,\r\n        groupId: this.groupId,\r\n        query: this.query\r\n      });\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.totalCount = this.totalCount;\r\n      return clone;\r\n    },\r\n\r\n    url: function () {\r\n\r\n      var url = this.connector.connection.url;\r\n      var id = this.groupId;\r\n      //var id = 1001;\r\n      if (id === undefined || id === null) {\r\n        id = this.parentId;\r\n        //TODO: need to remove topCount once v2/members supports limit and pagination support\r\n        this.topCount = 20;\r\n      }\r\n\r\n      if (!this.topCount) {\r\n        this.topCount = 20;\r\n      }\r\n\r\n      var query = Url.combineQueryString(\r\n          this.getBrowsableUrlQuery()\r\n      );\r\n\r\n      //TODO: 'where_name' is not supported for now hence replacing it with 'query'\r\n      //TODO: Must be removed once 'where_name' is supported\r\n      query = query.replace('where_name', 'query');\r\n\r\n      url = url.replace('/api/v1', '/api/v2');\r\n\r\n      if (this.type && this.type === 'GroupsOfCurrentUser') {\r\n        url = Url.combine(url, \"members/memberof?\" + query);\r\n      } else if (this.type === 1 && id) {\r\n        url = Url.combine(url, \"members/\" + id + \"/members?where_type=1&\" + query);\r\n      } else if (this.type === 1) {\r\n        url = Url.combine(url, \"members?where_type=1&\" + query);\r\n      } else if (id) {\r\n        url = Url.combine(url, \"members/\" + id + \"/members?\" + query);\r\n      } else {\r\n        url = Url.combine(url, \"members?\" + query);\r\n      }\r\n\r\n      return url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      if (!_.isEmpty(response.results)) {\r\n        var self = this;\r\n        this.totalCount = (response.collection && response.collection.paging) ?\r\n                          response.collection.paging.total_count :\r\n                          response.results.length;\r\n        _.each(response.results, function (member) {\r\n          member.parentId = self.parentId;\r\n          member = _.extend(member, member.data.properties);\r\n        });\r\n\r\n        return response.results;\r\n      }\r\n      this.totalCount = 0;\r\n      return null;\r\n    },\r\n\r\n    search: function (term) {\r\n      this.searchTerm = term;\r\n      this.fetch();\r\n    }\r\n\r\n  });\r\n\r\n  ResourceMixin.mixin(MemberCollection.prototype);\r\n  BrowsableMixin.mixin(MemberCollection.prototype);\r\n  BrowsableV1RequestMixin.mixin(MemberCollection.prototype);\r\n\r\n  return MemberCollection;\r\n});\r\n\n","csui.define('csui/models/members',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/models/member', 'csui/models/mixins/resource/resource.mixin'\r\n], function (_, $, Backbone, Url, MemberModel, ResourceMixin) {\r\n  'use strict';\r\n\r\n  var MemberCollection = Backbone.Collection.extend({\r\n\r\n    constructor: function MemberCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeResource(options);\r\n\r\n      options || (options = {});\r\n\r\n      this.limit = options.limit || 10;\r\n      this.query = options.query || \"\";\r\n      this.expandFields = options.expandFields || [];\r\n      if (options.memberFilter && options.memberFilter.type) {\r\n        this.memberType = options.memberFilter.type;\r\n      }\r\n      // Default is to search users and groups\r\n      this.memberType || (this.memberType = [0, 1]);\r\n    },\r\n\r\n    model: MemberModel,\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {\r\n        connector: this.connector,\r\n        limit: this.limit,\r\n        query: this.query,\r\n        expandFields: _.clone(this.expandFields),\r\n        memberFilter: {type: this.memberType}\r\n      });\r\n    },\r\n\r\n    urlRoot: function () {\r\n      var apiBase = new Url(this.connector.connection.url).getApiBase('v2');\r\n      return Url.combine(apiBase, \"/members\");\r\n    },\r\n\r\n    url: function () {\r\n      var limitClause   = \"limit=\" + this.limit,\r\n          // There can be many where_type clauses in the REST API call, add each.\r\n          // Unsupported types will be ignored by the REST API if they are integers.\r\n          memberClause  = this.memberType.length &&\r\n                          \"where_type=\" + this.memberType.join(\"&where_type=\") || \"\",\r\n\r\n          // Also multiple expand fields like group_id and leader_id can be configured in\r\n          // one REST API call.\r\n          expandClause  = this.expandFields.length &&\r\n                          \"expand=properties{\" + this.expandFields.join(\",\") + \"}\" ||\r\n                          \"\",\r\n\r\n          encodedClause = encodeURIComponent(expandClause),\r\n\r\n          // The filter query.\r\n          queryClause   = \"query=\" + encodeURIComponent(this.query),\r\n          finalClauses  = Url.combineQueryString(limitClause, memberClause,\r\n            encodedClause, queryClause);\r\n\r\n      // Return the query\r\n      return Url.appendQuery(_.result(this, \"urlRoot\"), finalClauses);\r\n    },\r\n\r\n    parse: function (response) {\r\n      if (!_.isEmpty(response.results)) {\r\n        _.each(response.results, function (member) {\r\n          member = _.extend(member, member.data.properties);\r\n          delete member.data;\r\n        });\r\n        return response.results;\r\n      }\r\n      return null;\r\n    }\r\n\r\n  });\r\n\r\n  ResourceMixin.mixin(MemberCollection.prototype);\r\n\r\n  return MemberCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/node.connectable/node.connectable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var NodeConnectableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeNodeConnectable: function (options) {\r\n          if (options && options.node) {\r\n            this.node = options.node;\r\n            options.node.connector && options.node.connector.assignTo(this);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        _prepareModel: function (attrs, options) {\r\n          options || (options = {});\r\n          var node = options.node || this.node;\r\n          options.connector = node && node.connector;\r\n          return originalPrepareModel.call(this, attrs, options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return NodeConnectableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/node.autofetchable/node.autofetchable.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  \"use strict\";\r\n\r\n  var NodeAutoFetchableMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeNodeAutoFetchable: function (options) {\r\n          var autofetchEvent = options && options.autofetchEvent;\r\n          if (autofetchEvent) {\r\n            this._autofetchEvent = options.autofetchEvent;\r\n          }\r\n          var autofetch = options && options.autofetch;\r\n          if (autofetch) {\r\n            this.automateFetch(autofetch);\r\n          }\r\n          return this;\r\n        },\r\n\r\n        automateFetch: function (enable) {\r\n          var event = _.result(this, '_autofetchEvent'),\r\n              method = enable ? 'on' : 'off';\r\n          this.autofetch = !!enable;\r\n          this.node[method](event, _.bind(this._fetchAutomatically, this, enable));\r\n        },\r\n\r\n        isFetchable: function () {\r\n          return this.node.isFetchableDirectly();\r\n        },\r\n\r\n        _autofetchEvent: 'change:id',\r\n\r\n        _fetchAutomatically: function (options) {\r\n          this.isFetchable() && this.fetch(_.isObject(options) && options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return NodeAutoFetchableMixin;\r\n});\r\n\n","csui.define('csui/models/mixins/node.resource/node.resource.mixin',['csui/lib/underscore', 'csui/models/mixins/node.connectable/node.connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/node.autofetchable/node.autofetchable.mixin'\r\n], function (_, NodeConnectableMixin, FetchableMixin, NodeAutoFetchableMixin) {\r\n\r\n  var NodeResourceMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      NodeConnectableMixin.mixin(prototype);\r\n      FetchableMixin.mixin(prototype);\r\n      NodeAutoFetchableMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeNodeResource: function (options) {\r\n          return this.makeNodeConnectable(options)\r\n              .makeFetchable(options)\r\n              .makeNodeAutoFetchable(options);\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return NodeResourceMixin;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/nodesprites',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  'i18n!csui/utils/impl/nls/lang',\r\n  // Load and register external cell views\r\n  'csui-ext!csui/utils/nodesprites'\r\n], function (_, Backbone, RulesMatchingMixin, lang, extraIcons) {\r\n\r\n  var NodeSpriteModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      className: null\r\n    },\r\n\r\n    constructor: function NodeSpriteModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(NodeSpriteModel.prototype);\r\n\r\n  var NodeSpriteCollection = Backbone.Collection.extend({\r\n\r\n    model: NodeSpriteModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function NodeSpriteCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findClass: function (compareType, key, val) {\r\n      var nodeSprite = this.find(function (item) {\r\n        var values = item.get(compareType);\r\n        if (values === undefined) {\r\n          return undefined;\r\n        }\r\n        if (_.isArray(values[key])) {\r\n          var keyValues = values[key];\r\n          for (var i = 0; i < keyValues.length; i++) {\r\n            if (keyValues[i] === val) {\r\n              return true;\r\n            }\r\n          }\r\n        }\r\n\r\n        return (values[key] === val);\r\n      });\r\n      return nodeSprite ? nodeSprite.get('className') : undefined;\r\n    },\r\n\r\n    findTypeByNode: function (node) {\r\n      var typeName = node.get('type_name') || lang.NodeTypeUnknown;\r\n\r\n      var nodeSprite = this.findByNode(node);\r\n      if (nodeSprite) {\r\n        var spriteName = _.result(nodeSprite.attributes, 'mimeType');\r\n        if (spriteName) {\r\n          typeName = spriteName;\r\n        }\r\n      }\r\n\r\n      return typeName;\r\n    },\r\n\r\n    findClassByNode: function (node) {\r\n      var nodeSprite = this.findByNode(node);\r\n      return nodeSprite && _.result(nodeSprite.attributes, 'className') || '';\r\n    },\r\n\r\n    findByNode: function (node) {\r\n      // FIXME: Show the original icon with a shortcut overlay, as soon as agreed\r\n      // If the node is a shortcut and the original_id is expanded to contain\r\n      // the node data, we can show the original icon with a small arrow overlay.\r\n      //if (node.original && node.original.has('type')) {\r\n      //  node = node.original;\r\n      //}\r\n      return this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  // MS Office: http://filext.com/faq/office_mime_types.php\r\n  // OpenOffice: https://www.openoffice.org/framework/documentation/mimetypes/mimetypes.html\r\n\r\n  var nodeSprites = new NodeSpriteCollection([\r\n    {\r\n      // excel\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-excel',\r\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.sheet',\r\n          'application/vnd.openxmlformats-officedocument.spreadsheetml.template',\r\n          'application/vnd.ms-excel.sheet.macroEnabled.12',\r\n          'application/vnd.ms-excel.template.macroEnabled.12',\r\n          'application/vnd.ms-excel.addin.macroEnabled.12',\r\n          'application/vnd.ms-excel.sheet.binary.macroEnabled.12'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_excel',\r\n      mimeType: lang.NodeTypeXLS,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // visio\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/visio',\r\n          'application/x-visio',\r\n          'application/vnd.visio',\r\n          'application/visio.drawing',\r\n          'application/vsd',\r\n          'application/x-vsd',\r\n          'image/x-vsd',\r\n          'application/vnd.visio2013',\r\n          'application/vnd.ms-visio.drawing',\r\n          'application/vnd.ms-visio.viewer',\r\n          'application/vnd.ms-visio.stencil',\r\n          'application/vnd.ms-visio.template'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_visio',\r\n      mimeType: lang.NodeTypeVisio,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // spreadsheets\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.oasis.opendocument.spreadsheet',\r\n          'application/vnd.oasis.opendocument.spreadsheet-template',\r\n          'application/vnd.sun.xml.calc',\r\n          'application/vnd.sun.xml.calc.template',\r\n          'application/vnd.stardivision.calc',\r\n          'application/x-starcalc'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_spreadsheet',\r\n      mimeType: lang.NodeTypeSpreadsheet,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // powerpoint\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-powerpoint',\r\n          'application/vnd.openxmlformats-officedocument.presentationml.presentation',\r\n          'application/vnd.openxmlformats-officedocument.presentationml.template',\r\n          'application/vnd.openxmlformats-officedocument.presentationml.slideshow',\r\n          'application/vnd.ms-powerpoint.addin.macroEnabled.12',\r\n          'application/vnd.ms-powerpoint.presentation.macroEnabled.12',\r\n          'application/vnd.ms-powerpoint.template.macroEnabled.12',\r\n          'application/vnd.ms-powerpoint.slideshow.macroEnabled.12'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_powerpoint',\r\n      mimeType: lang.NodeTypePPT,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // presentations\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.google-apps.presentation', // GSLIDE - Google Drive Presentation\r\n          'application/x-iwork-keynote-sffkey', // KEY, KEYNOTE — Apple Keynote Presentation\r\n          'application/vnd.wolfram.mathematica', // NB — Mathematica Slideshow\r\n          'application/vnd.wolfram.player', // NBP — Mathematica Player slideshow\r\n          'application/vnd.oasis.opendocument.presentation', // ODP — OpenDocument Presentation\r\n          'application/vnd.oasis.opendocument.presentation-template', // OTP - ODP Template\r\n          'application/vnd.sun.xml.impress',\r\n          'application/vnd.sun.xml.impress.template',\r\n          'application/vnd.stardivision.impress',\r\n          'application/vnd.stardivision.impress-packed',\r\n          'application/x-starimpress',\r\n          'application/vnd.lotus-freelance', // PRZ — Lotus Freelance Graphics\r\n          'application/vnd.stardivision.impress', // SDD - Star Office's StarImpress\r\n          'application/vnd.corel-presentations', // SHW — Corel Presentations slide show creation\r\n          'application/vnd.sun.xml.impress', // SXI — OpenOffice.org XML (obsolete) Presentation\r\n          'application/vnd.ms-officetheme', // THMX — Microsoft PowerPoint theme template\r\n          'application/vnd.sun.xml.impress.template '// STI — OpenOffice Impress template\r\n\r\n          // the following extensions could not mapped to a mime-type\r\n          // todo: intro mapping to file extensions\r\n          // WATCH — Dataton Watchout Presentation\r\n          // PEZ — Prezi Desktop Presentation\r\n          // SHF — ThinkFree Show\r\n          // SHOW — Haansoft(Hancom) Presentation software document\r\n          // SLP — Logix-4D Manager Show Control Project\r\n          // SSPSS — SongShow Plus Slide Show\r\n\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_presentation',\r\n      mimeType: lang.NodeTypePresentation,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // MS Office publisher\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-publisher',\r\n          'application/x-mspublisher'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_publisher',\r\n      mimeType: lang.NodeTypePublisher,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // formulas\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.oasis.opendocument.formula',\r\n          'application/vnd.sun.xml.math',\r\n          'application/vnd.stardivision.math',\r\n          'application/x-starmath'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_formula',\r\n      mimeType: lang.NodeTypeFormula,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // pdf\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.pdf',\r\n          'application/x-pdf',\r\n          'application/pdf'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_pdf',\r\n      mimeType: lang.NodeTypePDF,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // word\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/msword',\r\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.document',\r\n          'application/vnd.openxmlformats-officedocument.wordprocessingml.template',\r\n          'application/vnd.ms-word.document.macroEnabled.12',\r\n          'application/vnd.ms-word.template.macroEnabled.12'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_word',\r\n      mimeType: lang.NodeTypeDOC,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // dwg\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'drawing/dwg'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_dwg',\r\n      mimeType: lang.NodeTypeDOC,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // MS OneNote\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/onenote',\r\n          'application/msonenote'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_onenote',\r\n      mimeType: lang.NodeTypeONE,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // MS project\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/vnd.ms-project',\r\n          'application/msproj',\r\n          'application/msproject',\r\n          'application/x-msproject',\r\n          'application/x-ms-project',\r\n          'application/mpp'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_project',\r\n      mimeType: lang.NodeTypeMPP,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // image\r\n      startsWithNoCase: {mime_type: 'image/'},\r\n      className: 'csui-icon mime_image',\r\n      mimeType: lang.NodeTypeImage,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // audio\r\n      startsWithNoCase: {mime_type: 'audio/'},\r\n      className: 'csui-icon mime_audio',\r\n      mimeType: lang.NodeTypeAudio,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // text\r\n      startsWithNoCase: {mime_type: 'text/'},\r\n      className: 'csui-icon mime_paper',\r\n      mimeType: lang.NodeTypeText,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // text\r\n      equalsNoCase: {mime_type: 'text/html'},\r\n      className: 'csui-icon mime_html',\r\n      mimeType: lang.NodeTypeHtml,\r\n      // startsWith 'text/' operation happens first, which would decide the icon otherwise;\r\n      // it has the sequence number 50 in common\r\n      // do not set sequence to 30 that would take over the 'type' that has this MIME type\r\n      // and do not set to 50 because this object with this MIME type would have a different icon\r\n      sequence: 40\r\n    },\r\n    {\r\n      // video\r\n      startsWithNoCase: {mime_type: 'video/'},\r\n      className: 'csui-icon mime_video',\r\n      mimeType: lang.NodeTypeVideo,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // zip\r\n      equalsNoCase: {\r\n        mime_type: [\r\n          'application/x-rar-compressed',\r\n          'application/zip',\r\n          'application/x-zip',\r\n          'application/x-zip-compressed'\r\n        ]\r\n      },\r\n      className: 'csui-icon mime_zip',\r\n      mimeType: lang.NodeTypeCompressed,\r\n      sequence: 50\r\n    },\r\n    {\r\n      // compound document\r\n      equals: {type: 136},\r\n      className: 'csui-icon compound_document',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // document\r\n      equals: {type: 144},\r\n      className: 'csui-icon mime_document',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // CAD\r\n      equals: {type: 736},\r\n      className: 'csui-icon mime_drawing',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // saved search query\r\n      equals: {type: 258},\r\n      className: 'csui-icon csui-icon-saved-search-query',\r\n      mimeType: lang.NodeTypeSearchQuery,\r\n      sequence: 100\r\n    },\r\n    {\r\n      // URL link\r\n      equals: {type: 140},\r\n      className: 'csui-icon url1',\r\n      mimeType: lang.NodeTypeURL,\r\n      sequence: 100\r\n    },\r\n    {\r\n      // shortcut\r\n      equals: {type: 1},\r\n      className: 'csui-icon shortcut1',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // generation\r\n      // note: since the RestAPI at the moment does not return the document version, showing the\r\n      // latest document mime-type icon with the shortcut overlay is incorrect.  Use the\r\n      // generation icon for now.  When the RestAPI and UI supports Generation, switch this to\r\n      // generation-overlay.\r\n      equals: {type: 2},\r\n      className: 'csui-icon mime_generation',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // category\r\n      equals: {type: 131},\r\n      className: 'csui-icon category1',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // project\r\n      equals: {type: 202},\r\n      className: 'csui-icon csui-icon-project',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // collection\r\n      equals: {type: 298},\r\n      className: 'csui-icon collection',\r\n      sequence: 100\r\n    },\r\n    {\r\n      equals: {type: 141},\r\n      className: 'csui-icon csui-icon-enterprise-volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      equals: {type: 142},\r\n      className: 'csui-icon csui-icon-personal-volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      equals: {type: 133},\r\n      className: 'csui-icon csui-icon-category-volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Category Folder\r\n      equals: {type: 132},\r\n      className: 'csui-icon csui-icon-node-category-folder',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // LiveReport\r\n      equals: {type: 299},\r\n      className: 'csui-icon csui-icon-node-livereport',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Milestone\r\n      equals: {type: 212},\r\n      className: 'csui-icon csui-icon-node-milestone',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Poll\r\n      equals: {type: 218},\r\n      className: 'csui-icon csui-icon-node-poll',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Prospector\r\n      equals: {type: 384},\r\n      className: 'csui-icon csui-icon-node-prospector',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Task\r\n      equals: {type: 206},\r\n      className: 'csui-icon csui-icon-node-task',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Task Group\r\n      equals: {type: 205},\r\n      className: 'csui-icon csui-icon-node-task-group',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Task List\r\n      equals: {type: 204},\r\n      className: 'csui-icon csui-icon-node-task-list',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Perspective Assets Folder\r\n      equals: {type: 955},\r\n      className: 'csui-icon csui-icon-perspective-assets-folder',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Perspective Assets Volume\r\n      equals: {type: 954},\r\n      className: 'csui-icon csui-icon-perspective-assets-volume',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Virtual Folder\r\n      equals: {type: 899},\r\n      className: 'csui-icon csui-icon-node-virtual-folder',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Custom View\r\n      equals: {type: 146},\r\n      className: 'csui-icon mime_custom_view',\r\n      // Custom View has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    },\r\n    {\r\n      // Workflow Step\r\n      equals: {type: 153},\r\n      className: 'csui-icon assignment-workflow',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Workflow Map\r\n      equals: {type: 128},\r\n      className: 'csui-icon mime_workflow_map',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Workflow Status\r\n      equals: {type: 190},\r\n      className: 'csui-icon mime_workflow_status',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Channel\r\n      equals: {type: 207},\r\n      className: 'csui-icon mime_channel',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // News item\r\n      equals: {type: 208},\r\n      className: 'csui-icon mime_news',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // Discussion\r\n      equals: {type: 215},\r\n      className: 'csui-icon mime_discussion',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // XML DTD\r\n      equals: {type: 335},\r\n      className: 'csui-icon mime_xml_dtd',\r\n      // XML DTD has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    },\r\n    {\r\n      // form\r\n      equals: {type: 223},\r\n      className: 'csui-icon mime_form',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // form template\r\n      equals: {type: 230},\r\n      className: 'csui-icon mime_form_template',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // pulse comments\r\n      equals: {type: 1281},\r\n      className: 'csui-icon icon-pulse-comment',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // wiki pages\r\n      equals: {type: 5574},\r\n      className: 'csui-icon mime_wiki_page',\r\n      sequence: 10\r\n    },\r\n    // wikis\r\n    {\r\n      equals: {type: 5573},\r\n      className: 'csui-icon mime_wiki',\r\n      sequence: 10\r\n    },\r\n    {\r\n      // default container\r\n      equals: {container: 'nonselectable'},\r\n      className: 'csui-icon mime_folder_nonselectable',\r\n      sequence: 1000\r\n    },\r\n    {\r\n      // default container; covers folder-like nodes too\r\n      equals: {container: true},\r\n      className: 'csui-icon mime_folder',\r\n      sequence: 1000\r\n    },\r\n    {\r\n      // default node\r\n      className: 'csui-icon mime_document',\r\n      sequence: 10000\r\n    }\r\n  ]);\r\n\r\n  if (extraIcons) {\r\n    nodeSprites.add(_.flatten(extraIcons, true));\r\n  }\r\n\r\n  return nodeSprites;\r\n\r\n});\r\n\n","csui.define('csui/models/node.addable.type/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url', 'csui/models/node/node.model', 'csui/utils/nodesprites'\r\n], function (_, Url, NodeModel, NodeSpriteCollection) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.node.urlBase(), 'addablenodetypes');\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          // The server returns very inconvenient structure, where the types\r\n          // have textual keys and no subtype numbers.  An array of object\r\n          // literals describing the addable type is put together from the\r\n          // number parsed out of the form URL (!) from the data object\r\n          // and the name from the definition object.\r\n          var data        = response.data,\r\n            definitions = response.definitions;\r\n          var self = this;\r\n          return _.chain(data)\r\n            .keys()\r\n            .map(function (key) {\r\n              var url        = data[key],\r\n                definition = definitions[key];\r\n              if (url && definition) {\r\n                var match = url && /[?&]type=([^&]+)(?:&.*)?$/.exec(url);\r\n                if (match) {\r\n                  var subtype = parseInt(match[1], 10);\r\n                  var type_name = NodeSpriteCollection.findTypeByNode(\r\n                    new NodeModel({type: subtype, type_name: definition.name}));\r\n                  return {\r\n                    type: subtype,\r\n                    type_name: type_name\r\n                  };\r\n                }\r\n              }\r\n            })\r\n            .compact()\r\n            .value();\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node/node.addable.type.collection',['csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'csui/models/node/node.model',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/node.addable.type/server.adaptor.mixin'\r\n], function (_,\r\n    Backbone,\r\n    Url,\r\n    NodeModel,\r\n    NodeResourceMixin,\r\n    ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var AddableTypeModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      type: null,\r\n      type_name: null\r\n    },\r\n\r\n    idAttribute: 'type',\r\n\r\n    constructor: function AddableTypeModel() {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var NodeAddableTypeCollection = Backbone.Collection.extend({\r\n\r\n    model: AddableTypeModel,\r\n\r\n    constructor: function NodeAddableTypeCollection(models, options) {\r\n      NodeAddableTypeCollection.__super__.constructor.apply(this, arguments);\r\n\r\n      this.makeNodeResource(options)\r\n        .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {node: this.node});\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    }\r\n\r\n  });\r\n\r\n  NodeResourceMixin.mixin(NodeAddableTypeCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeAddableTypeCollection.prototype);\r\n\r\n  return NodeAddableTypeCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/node.children2/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url',\r\n  'csui/models/browsable/v1.request.mixin',\r\n  'csui/models/browsable/v2.response.mixin'\r\n], function (_, Url, BrowsableV1RequestMixin, BrowsableV2ResponseMixin) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      BrowsableV2ResponseMixin.mixin(prototype);\r\n      BrowsableV1RequestMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          this.makeBrowsableV1Request(options)\r\n              .makeBrowsableV2Response(options);\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var apiUrl = new Url(this.node.connector.connection.url).getApiBase(2),\r\n              url = Url.combine(apiUrl, 'nodes', this.node.get('id'), 'nodes'),\r\n              query = Url.combineQueryString(\r\n                  this.getBrowsableUrlQuery(),\r\n                  this.getResourceFieldsUrlQuery(),\r\n                  this.getExpandableResourcesUrlQuery(),\r\n                  this.getStateEnablingUrlQuery(),\r\n                  this.getAdditionalResourcesUrlQuery(),\r\n                  this.getRequestedCommandsUrlQuery()\r\n              );\r\n          return Url.appendQuery(url, query);\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          this.parseBrowsedState(response, options);\r\n          return this.parseBrowsedItems(response, options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/node.children2/node.children2',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/node/node.model',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/node.children2/server.adaptor.mixin',\r\n  'csui/models/utils/v1tov2', 'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, NodeModel, NodeResourceMixin,\r\n    BrowsableMixin, AdditionalResourcesV2Mixin, FieldsV2Mixin,\r\n    ExpandableV2Mixin, StateRequestorMixin, DelayedCommandableV2Mixin,\r\n    ServerAdaptorMixin, v1tov2) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultPageSize: 30\r\n  });\r\n\r\n  var NodeChildren2Collection = Backbone.Collection.extend({\r\n    model: NodeModel,\r\n\r\n    constructor: function NodeChildren2Collection(models, options) {\r\n      options = _.defaults({}, options, {\r\n        top: config.defaultPageSize\r\n      }, options);\r\n\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n\r\n      this.makeNodeResource(options)\r\n          .makeBrowsable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateRequestor(options)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    clone: function () {\r\n      var clone = new this.constructor(this.models, {\r\n        node: this.node,\r\n        skip: this.skipCount,\r\n        top: this.topCount,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        fields: _.deepClone(this.fields),\r\n        expand: _.deepClone(this.expand),\r\n        includeResources: _.clone(this._additionalResources),\r\n        commands: _.clone(this.commands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands,\r\n        autofetch: this.autofetch,\r\n        autofetchEvent: this._autofetchEvent\r\n      });\r\n      clone.fetching = this.fetching;\r\n      clone.fetched = this.fetched;\r\n      clone.error = this.error;\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    }\r\n  });\r\n\r\n  BrowsableMixin.mixin(NodeChildren2Collection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  FieldsV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  ExpandableV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  StateRequestorMixin.mixin(NodeChildren2Collection.prototype);\r\n  DelayedCommandableV2Mixin.mixin(NodeChildren2Collection.prototype);\r\n  NodeResourceMixin.mixin(NodeChildren2Collection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeChildren2Collection.prototype);\r\n\r\n  // Provide compatibility with v1. Mostly, at least.\r\n  var prototype = NodeChildren2Collection.prototype;\r\n\r\n  var makeExpandableV2 = prototype.makeExpandableV2,\r\n      setExpand = prototype.setExpand,\r\n      resetExpand = prototype.resetExpand;\r\n  prototype.makeExpandableV2 = function (options) {\r\n    var expand = options && options.expand;\r\n    if (Array.isArray(expand)) {\r\n      options.expand = v1tov2.includeExpandsV1toV2(expand);\r\n    }\r\n    return makeExpandableV2.call(this, options);\r\n  };\r\n\r\n  prototype.setExpand = function (role, names) {\r\n    if (!names) {\r\n      role = v1tov2.includeExpandsV1toV2(role);\r\n    }\r\n    return setExpand.call(this, role, names);\r\n  };\r\n\r\n  prototype.resetExpand = function (role, names) {\r\n    if (!names) {\r\n      role = v1tov2.excludeExpandsV1toV2(role);\r\n    }\r\n    return resetExpand.call(this, role, names);\r\n  };\r\n\r\n  var makeCommandableV2 = prototype.makeCommandableV2;\r\n  prototype.makeCommandableV2 = function (options) {\r\n    makeCommandableV2.call(this, options);\r\n    this.includeCommands = this.commands;\r\n    return this;\r\n  };\r\n\r\n  return NodeChildren2Collection;\r\n});\r\n\n","csui.define('csui/models/node.ancestors/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/models/ancestor', 'csui/utils/url'\r\n], function (_, AncestorModel, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.node.urlBase(), \"ancestors\");\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          // TODO: Currently the breadcrumb parameters are set in the\r\n          // constructor. Should this be moved to public methods like\r\n          // ChildNodeCollection is controlled?  It would enable more\r\n          // flexible usage of the model class and view changes.  The\r\n          // server doesn't allow filtering, ordering or limiting of\r\n          // the ancestor list.\r\n\r\n          response = response.ancestors;\r\n\r\n          if (this.options.stop) {\r\n            var id = this.options.stop.get ? this.options.stop.get(\"id\") :\r\n              this.options.stop.id;\r\n            var skip;\r\n            response = _\r\n              .filter(response.reverse(), function (ancestor) {\r\n                var result = !skip;\r\n                if (ancestor.id == id) {\r\n                  skip = true;\r\n                }\r\n                return result;\r\n              })\r\n              .reverse();\r\n          }\r\n\r\n          if (this.options.limit && response.length > this.options.limit) {\r\n            response.splice(0, response.length - this.options.limit);\r\n            response.unshift({\r\n              type: AncestorModel.Hidden\r\n            });\r\n          }\r\n\r\n          // Help DefaultActionBehavior generate a link to open a node from\r\n          // breadcrumb.  Ancestor items are not complete node infos, but\r\n          // they have to be containers and setting {container:true} is enough\r\n          // to render correct link to open the container.\r\n          _.each(response, function (node) {\r\n            node.container = true;\r\n          });\r\n\r\n          return response;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/nodeancestors',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/utils/log', 'csui/models/ancestor',\r\n  'csui/models/ancestors', 'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/node.ancestors/server.adaptor.mixin'\r\n], function (module, _, $, Backbone, Url, log, AncestorModel,\r\n    AncestorCollection, NodeResourceMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var NodeAncestorCollection = AncestorCollection.extend({\r\n\r\n    constructor: function NodeAncestorCollection(models, options) {\r\n      AncestorCollection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeNodeResource(options)\r\n        .makeServerAdaptor(options);\r\n\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    }\r\n\r\n  });\r\n\r\n  NodeResourceMixin.mixin(NodeAncestorCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeAncestorCollection.prototype);\r\n\r\n  return NodeAncestorCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/nodechildrencolumn',['module', 'csui/lib/backbone', 'csui/utils/log',\r\n  'i18n!csui/models/impl/nls/lang'\r\n], function (module, Backbone, log, lang) {\r\n  'use strict';\r\n\r\n  //\r\n  // Column model from the node children call (nodes/{id}/nodes)\r\n  //\r\n  var NodeChildrenColumnModel = Backbone.Model.extend({\r\n\r\n    constructor: function NodeChildrenColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var titleTranslated = lang[attributes.column_key];\r\n        if (titleTranslated !== undefined) {\r\n          attributes.title = titleTranslated;\r\n        }\r\n      }\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n    },\r\n\r\n    idAttribute: null\r\n\r\n  });\r\n\r\n  return NodeChildrenColumnModel;\r\n\r\n});\r\n\n","csui.define('csui/models/nodechildrencolumns',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\",\r\n  \"csui/utils/log\", \"csui/models/nodechildrencolumn\"\r\n], function (module, _, Backbone,\r\n             log, NodeChildrenColumnModel) {\r\n  \"use strict\";\r\n\r\n  //\r\n  // Column model collection from the node children call (nodes/{id}/nodes) and other browse calls\r\n  //\r\n  var NodeChildrenColumnCollection = Backbone.Collection.extend({\r\n\r\n    model: NodeChildrenColumnModel,\r\n\r\n    constructor: function NodeChildrenColumnCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n      this.fetched = false;\r\n    },\r\n\r\n    // private: reset the collection.  For performance purpose and prevent UI table redraw, this\r\n    //          method will not reset if the models is the same as the cached one.\r\n    resetCollection: function (models, options) {\r\n      if (this.cachedColumns && _.isEqual(models, this.cachedColumns)) {\r\n        return;\r\n      }\r\n      // Make a clone of the model array for the cache to let it be equal even if attributes are\r\n      // added to objects of the array (which is done in this.reset where the constructor of the\r\n      // NodeChildrenColumnModel adds a translated title attribute\r\n      this.cachedColumns = _.map(models, function (model) {\r\n        return _.clone(model);\r\n      });\r\n\r\n      this.reset(models, options);\r\n      this.fetched = true;\r\n    },\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = _.reduce(columnKeys, function (colArray, column) {\r\n        if (column.indexOf('_formatted') >= 0) {\r\n          var shortColumnName = column.replace(/_formatted$/, '');\r\n          if (definitions[shortColumnName]) {\r\n            // there is also the column without the trailing _formatted: skip this and use this\r\n            // instead\r\n            return colArray;\r\n          }\r\n        } else {\r\n          // copy the definitions_order from the *_formatted column to the non-formatted column\r\n          var definition_short = definitions[column];\r\n          if (definition_short && !definition_short.definitions_order) {\r\n            var definition_formatted = definitions[column + '_formatted'];\r\n            if (definition_formatted && definition_formatted.definitions_order) {\r\n              definition_short.definitions_order = definition_formatted.definitions_order;\r\n            }\r\n          }\r\n        }\r\n        var definition = definitions[column];\r\n\r\n        // Code from old code to keep node table code working.  Will look more into this after June.\r\n        // TODO: support these attributes on the server too.\r\n        switch (column) {\r\n          case \"name\":\r\n            definition = _.extend(definition, {\r\n              default_action: true,\r\n              contextual_menu: false,\r\n              editable: true,\r\n              filter_key: \"name\"\r\n            });\r\n            break;\r\n          case \"type\":\r\n            definition = _.extend(definition, {\r\n              default_action: true\r\n            });\r\n            break;\r\n          case \"modify_date\":\r\n            definition = _.extend(definition, {\r\n              initialSortingDescending: true\r\n            });\r\n            break;\r\n        }\r\n\r\n        colArray.push(_.extend({column_key: column}, definition));\r\n        return colArray;\r\n      }, []);\r\n      return columns;\r\n    },\r\n\r\n    //\r\n    // methods for REST API V1\r\n    //\r\n\r\n    // public\r\n    resetColumns: function (response, options) {\r\n      this.resetCollection(this.getV1Columns(response, options), options);\r\n    },\r\n\r\n    // private\r\n    getV1Columns: function (response, options) {\r\n      var definitions = response.definitions,\r\n        columnKeys = options && options.columnsFromDefinitionsOrder ?\r\n          response.definitions_order : _.keys(definitions);\r\n\r\n      // merge definitions_order into definitions as definitions_order attribute\r\n      if (response.definitions_order) {\r\n        for (var idx = 0; idx < response.definitions_order.length; idx++) {\r\n          var column_key = response.definitions_order[idx],\r\n              definition = definitions[column_key];\r\n          // definitions_order can be passed via options and does not need\r\n          // to match with the server response; guard against mismatches\r\n          if (definition) {\r\n            definition.definitions_order = 500 + idx;\r\n          }\r\n        }\r\n      }\r\n\r\n      return this.getColumnModels(columnKeys, definitions);\r\n    },\r\n\r\n    //\r\n    // methods for REST API V2\r\n    //\r\n\r\n    // public\r\n    resetColumnsV2: function (response, options) {\r\n      this.resetCollection(this.getV2Columns(response), options);\r\n    },\r\n\r\n    // private: convert v2 'metadata' to v1 'definitions' for backward code compatibility and\r\n    //          reuse purpose\r\n    getV2Columns: function (response) {\r\n\r\n      // Note: from a long discussion with the server developer, use the common 'metadata' (or\r\n      // called 'definitions' in v1) in the first element. Elements in the collection can have\r\n      // different extended metadata (definitions).  If a business case arises that\r\n      // extended definitions are needed, will discuss again with them and add that support.\r\n\r\n      var definitions = (response.results &&\r\n        response.results[0] &&\r\n        response.results[0].metadata &&\r\n        response.results[0].metadata.properties) || {};\r\n\r\n      // For v2 calls, the 'size' column is not available.  Either the 'container_size' or\r\n      // 'file_size' is available.  Create a 'size' definition here for compatibility with existing\r\n      // code.\r\n      if (!definitions.size &&\r\n        (definitions.container_size ||\r\n        (definitions.versions && definitions.versions.file_size))) {\r\n        definitions.size = definitions.container_size || definitions.versions.file_size;\r\n        definitions.size.align = 'right';\r\n        definitions.size.key = 'size';\r\n        definitions.size.name = 'Size';\r\n      }\r\n\r\n      var columnKeys = _.keys(definitions);\r\n\r\n      return this.getColumnModels(columnKeys, definitions);\r\n    }\r\n\r\n  });\r\n  NodeChildrenColumnCollection.version = '1.0';\r\n\r\n  return NodeChildrenColumnCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/nodes',[\"module\", \"csui/lib/backbone\", 'csui/models/node/node.model', \"csui/utils/log\",\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin'\r\n], function (module, Backbone, NodeModel, log, DelayedCommandableV2Mixin) {\r\n\r\n  var Nodes = Backbone.Collection.extend({\r\n\r\n    model: NodeModel,\r\n\r\n    constructor: function Nodes(models,options) {\r\n      options || (options = {});\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n      this.makeDelayedCommandableV2(options);\r\n    },\r\n\r\n    automateFetch: function (enable) {\r\n    }\r\n\r\n  });\r\n  DelayedCommandableV2Mixin.mixin(Nodes.prototype);\r\n  Nodes.version = '1.0';\r\n\r\n  return Nodes;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/commandable/commandable.mixin',['csui/lib/underscore'], function (_) {\r\n  'use strict';\r\n\r\n  var CommandableV1Mixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeCommandable: function (options) {\r\n          var commands = options && options.commands;\r\n          if (typeof commands === 'string') {\r\n            commands = commands.split(',');\r\n          }\r\n          this.includeCommands = commands || [];\r\n          return this;\r\n        },\r\n\r\n        setCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(\",\");\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.includeCommands, name)) {\r\n              this.includeCommands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(\",\");\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.includeCommands, name);\r\n              if (index >= 0) {\r\n                this.includeCommands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.includeCommands.splice(0, this.includeCommands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          return this.includeCommands.length && {commands: this.includeCommands};\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return CommandableV1Mixin;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/delayed.commandable/delayed.commandable.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/models/node.actions',\r\n  'csui/models/mixins/commandable/commandable.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, NodeActionCollection, CommandableMixin) {\r\n  'use strict';\r\n\r\n  var DelayedCommandableMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      CommandableMixin.mixin(prototype);\r\n\r\n      var originalPrepareModel = prototype._prepareModel;\r\n\r\n      return _.extend(prototype, {\r\n\r\n        makeDelayedCommandable: function (options) {\r\n          options || (options = {});\r\n          var defaultActionCommands = options.defaultActionCommands;\r\n          if (typeof defaultActionCommands === 'string') {\r\n            defaultActionCommands = defaultActionCommands.split(',');\r\n          }\r\n          this.defaultActionCommands = defaultActionCommands || [];\r\n\r\n          this.delayedActions = new NodeActionCollection(undefined, {\r\n            connector: options.connector\r\n          });\r\n\r\n          this.delayRestCommands = options.delayRestCommands;\r\n          if (this.delayRestCommands) {\r\n            this.on('sync', this._requestRestActions);\r\n          }\r\n\r\n          this.delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n\r\n          return this.makeCommandable(options);\r\n        },\r\n\r\n        _requestRestActions: function (model) {\r\n          // Guard against propagated sync event: if this mixin has been\r\n          // applied to a collection, only fetch of the collection should\r\n          // be handled here; fetching of models should not re-fetch actions\r\n          // for the whole collection.\r\n          // Also do nothing if the collection is empty.\r\n          if (model !== this ||\r\n              this instanceof Backbone.Collection && !this.length) {\r\n            return;\r\n          }\r\n          var defaultActionCommands = this.defaultActionCommands,\r\n              restCommands = _.reject(this.includeCommands, function (command) {\r\n                return _.contains(defaultActionCommands, command);\r\n              });\r\n          if (restCommands.length) {\r\n            var delayedActions = this.delayedActions;\r\n            delayedActions.resetCommands();\r\n            delayedActions.setCommands(restCommands);\r\n            delayedActions.resetNodes();\r\n            if (this instanceof Backbone.Collection) {\r\n              delayedActions.setNodes(this.pluck('id'));\r\n            } else {\r\n              delayedActions.setNodes([this.get('id')]);\r\n            }\r\n            if (!delayedActions.connector) {\r\n              this.connector.assignTo(delayedActions);\r\n            }\r\n            delayedActions.parent_id = !!this.node ? this.node.get(\"id\") : this.get(\"id\");\r\n            delayedActions\r\n                .fetch({\r\n                  reset: true,\r\n                  // Update the actions as soon as possible; event\r\n                  // and promise can be watched by someone else\r\n                  success: _.bind(this._updateOriginalActions, this)\r\n                });\r\n          }\r\n        },\r\n\r\n        _updateOriginalActions: function () {\r\n          var delayedActions = this.delayedActions;\r\n\r\n          function updateNodeActions(node) {\r\n            var actionNode = delayedActions.get(node.get('id'));\r\n            if (actionNode) {\r\n              node.actions.add(actionNode.actions.models);\r\n            }\r\n          }\r\n\r\n          if (this instanceof Backbone.Collection) {\r\n            this.each(updateNodeActions);\r\n          } else {\r\n            updateNodeActions(this);\r\n          }\r\n        },\r\n\r\n        setDefaultActionCommands: function (name) {\r\n          if (!_.isArray(name)) {\r\n            name = name.split(',');\r\n          }\r\n          _.each(name, function (name) {\r\n            if (!_.contains(this.defaultActionCommands, name)) {\r\n              this.defaultActionCommands.push(name);\r\n            }\r\n          }, this);\r\n        },\r\n\r\n        resetDefaultActionCommands: function (name) {\r\n          if (name) {\r\n            if (!_.isArray(name)) {\r\n              name = name.split(',');\r\n            }\r\n            _.each(name, function (name) {\r\n              var index = _.indexOf(this.defaultActionCommands, name);\r\n              if (index >= 0) {\r\n                this.defaultActionCommands.splice(index, 1);\r\n              }\r\n            }, this);\r\n          } else {\r\n            this.defaultActionCommands.splice(0, this.defaultActionCommands.length);\r\n          }\r\n        },\r\n\r\n        getRequestedCommandsUrlQuery: function () {\r\n          var commands = this.delayRestCommands ?\r\n                         this.defaultActionCommands : this.includeCommands;\r\n          return commands.length && {commands: commands};\r\n        },\r\n\r\n        getAllCommandsUrlQuery: function () {\r\n          var commands = this.includeCommands;\r\n          return commands.length && {commands: commands};\r\n        },\r\n\r\n        // Stop the delayed action enabling for child models and collections.\r\n        // If they want it, they can do so in the constructors, which creates\r\n        // them. Immediate child models of this collection can be enabled by\r\n        // the delayRestCommandsForModels option.\r\n        _prepareModel: function (attrs, options) {\r\n          var delayRestCommands, delayRestCommandsForModels;\r\n          options || (options = {});\r\n          // If the collection is populated after the constructor has\r\n          // finished, we can use parameters passed to the constructor\r\n          // as defaults, if the population options are empty.\r\n          if (this.delayedActions) {\r\n            delayRestCommands = options.delayRestCommands;\r\n            if (delayRestCommands === undefined) {\r\n              delayRestCommands = this.delayRestCommands;\r\n            }\r\n            delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n            if (delayRestCommandsForModels === undefined) {\r\n              delayRestCommandsForModels = this.delayRestCommandsForModels;\r\n            }\r\n          } else {\r\n            delayRestCommands = options.delayRestCommands;\r\n            delayRestCommandsForModels = options.delayRestCommandsForModels;\r\n          }\r\n          options.delayRestCommands = delayRestCommandsForModels;\r\n          options.delayRestCommandsForModels = false;\r\n          var model = originalPrepareModel.call(this, attrs, options);\r\n          options.delayRestCommands = delayRestCommands;\r\n          options.delayRestCommandsForModels = delayRestCommandsForModels;\r\n          return model;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return DelayedCommandableMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/browsable/v1.response.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n\r\n  var BrowsableV1ResponseMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeBrowsableV1Response: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parseBrowsedState: function (response, options) {\r\n          // FIXME: Confirm sorting and filtering parameters too.\r\n          if (response.page) {\r\n            this.actualSkipCount = (response.page - 1) * (response.limit || 0);\r\n          }\r\n          var totalCount = response.total_count ? response.total_count : 0;\r\n          this.totalCount = totalCount;\r\n          this.filteredCount = response.filtered_count || totalCount;\r\n        },\r\n\r\n        parseBrowsedItems: function (response, options) {\r\n          return response.data;\r\n        }\r\n\r\n      });\r\n    }\r\n\r\n  };\r\n\r\n  return BrowsableV1ResponseMixin;\r\n\r\n});\r\n\n","csui.define('csui/models/node.children/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url',\r\n  'csui/models/browsable/v1.request.mixin',\r\n  'csui/models/browsable/v1.response.mixin'\r\n], function (_, Url, BrowsableV1RequestMixin, BrowsableV1ResponseMixin) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      BrowsableV1ResponseMixin.mixin(prototype);\r\n      BrowsableV1RequestMixin.mixin(prototype);\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          this.makeBrowsableV1Request(options)\r\n              .makeBrowsableV1Response(options);\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var includeActions = !!this.includeActions,\r\n              query = Url.combineQueryString({\r\n                // Do not request the v1 actions, which are sent by default\r\n                extra: includeActions,\r\n                actions: includeActions\r\n              },\r\n              this.getBrowsableUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery()\r\n          );\r\n          return Url.combine(this.node.urlBase(),\r\n              query ? '/nodes?' + query : '/nodes');\r\n        },\r\n\r\n        // TODO: Remove this method and make the cache layer aware of node URLs.\r\n        urlCacheBase: function(){\r\n          return Url.combine(this.node.urlBase(),'/nodes?');\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          this.parseBrowsedState(response, options);\r\n          this.columns && this.columns.resetColumns(response, this.options);\r\n          return this.parseBrowsedItems(response, options);\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/nodechildren',[\r\n  'module', 'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/url', 'csui/models/node/node.model', 'csui/models/nodes',\r\n  'csui/models/nodechildrencolumns',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/mixins/delayed.commandable/delayed.commandable.mixin',\r\n  'csui/models/node.children/server.adaptor.mixin',\r\n  'csui/utils/log', 'csui/utils/deepClone/deepClone'\r\n], function (module, $, _, Backbone, Url, NodeModel, NodeCollection,\r\n    NodeChildrenColumnCollection, NodeResourceMixin, ExpandableMixin,\r\n    BrowsableMixin, DelayedCommandableMixin, ServerAdaptorMixin, log) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultPageSize: 30\r\n  });\r\n\r\n  log = log(module.id);\r\n\r\n  var NodeChildrenCollection = NodeCollection.extend({\r\n\r\n    constructor: function NodeChildrenCollection(models, options) {\r\n      options = _.defaults({}, options, {\r\n        top: config.defaultPageSize,\r\n        columnsFromDefinitionsOrder: false\r\n      }, options);\r\n\r\n      NodeCollection.prototype.constructor.call(this, models, options);\r\n\r\n      this.makeNodeResource(options)\r\n          .makeExpandable(options)\r\n          .makeDelayedCommandable(options)\r\n          .makeBrowsable(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      this.options = options;\r\n      this.includeActions = options.includeActions;\r\n      this.columns = new NodeChildrenColumnCollection();\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.models, {\r\n        node: this.node,\r\n        skip: this.skipCount,\r\n        top: this.topCount,\r\n        filter: _.deepClone(this.filters),\r\n        orderBy: this.orderBy,\r\n        expand: _.clone(this.expand),\r\n        includeActions: this.includeActions,\r\n        commands: _.clone(this.includeCommands),\r\n        defaultActionCommands: _.clone(this.defaultActionCommands),\r\n        delayRestCommands: this.delayRestCommands\r\n      });\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.node.isFetchable();\r\n    }\r\n  });\r\n\r\n  BrowsableMixin.mixin(NodeChildrenCollection.prototype);\r\n  ExpandableMixin.mixin(NodeChildrenCollection.prototype);\r\n  DelayedCommandableMixin.mixin(NodeChildrenCollection.prototype);\r\n  ServerAdaptorMixin.mixin(NodeChildrenCollection.prototype);\r\n  NodeResourceMixin.mixin(NodeChildrenCollection.prototype);\r\n\r\n  // TODO: Remove this, as soon as all abandoned this.Fetchable.\r\n  var originalFetch = NodeChildrenCollection.prototype.fetch;\r\n  NodeChildrenCollection.prototype.Fetchable = {\r\n    fetch: function (options) {\r\n      // log.warn('Using this.Fetchable.fetch has been deprecated.  ' +\r\n      //          'Use NodeChildrenCollection.prototype.fetch. ' +\r\n      //          'this.Fetchable is going to be removed.') && console.warn(log.last);\r\n      // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n      return originalFetch.call(this, options);\r\n    }\r\n  };\r\n\r\n  return NodeChildrenCollection;\r\n});\r\n\n","csui.define('csui/models/permission/nodepermission.model',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin'\r\n], function (module, _, $, Backbone, Url, ConnectableMixin, UploadableMixin) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    idAttribute: null\r\n  }, module.config());\r\n\r\n  var NodePermissionModel = Backbone.Model.extend({\r\n    idAttribute: config.idAttribute,\r\n\r\n    defaults: {\r\n      \"addEmptyAttribute\": true\r\n    },\r\n\r\n    constructor: function NodePermissionModel(attributes, options) {\r\n      attributes || (attributes = {});\r\n      options || (options = {});\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.options = _.pick(options, ['connector']);\r\n      this.makeConnectable(options)\r\n          .makeUploadable(options);\r\n    },\r\n\r\n    isNew: function () {\r\n      return !this.get('type') || !(this.has('right_id') || this.get('type') === 'public');\r\n    },\r\n\r\n    urlBase: function () {\r\n      var type              = this.get('type'),\r\n          right_id          = this.get('right_id'),\r\n          nodeId            = this.nodeId,\r\n          apply_to          = this.apply_to,\r\n          include_sub_types = this.include_sub_types,\r\n          queryString       = \"\",\r\n          url               = this.options.connector.connection.url;\r\n      if (!_.isNumber(nodeId) || nodeId > 0) {\r\n        // Add an existing node by VERB /nodes/:id\r\n        url = Url.combine(url, 'nodes', nodeId, 'permissions');\r\n        if (apply_to) {\r\n          queryString = Url.combineQueryString(queryString, {apply_to: apply_to});\r\n        }\r\n        if (include_sub_types) {\r\n          _.each(include_sub_types, function (subtype) {\r\n            queryString = Url.combineQueryString(queryString, {include_sub_types: subtype});\r\n          });\r\n        }\r\n\r\n        queryString = queryString.length > 0 ? \"?\" + queryString : queryString;\r\n        if (!type) {\r\n          // Create a new permission model by POST\r\n          url = Url.combine(url, 'custom' + queryString);\r\n        } else if (type !== 'custom') {\r\n          //Access an existing permission model by VERB /:type where type is public/owner/group\r\n          url = Url.combine(url, type + queryString);\r\n        } else if (!_.isNumber(right_id) || right_id > 0) {\r\n          //Access an existing permission model by VERB /custom/:right_id\r\n          url = Url.combine(url, type, right_id + queryString);\r\n        } else {\r\n          throw new Error('Unsupported permission type or user id');\r\n        }\r\n      } else {\r\n        throw new Error('Unsupported id value');\r\n      }\r\n      return url;\r\n    },\r\n\r\n    url: function () {\r\n      var url   = this.urlBase(),\r\n          query = null;\r\n      url = url.replace(\"/v1\", \"/v2\");\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function(response, options) {         \r\n      if (this.collection) {\r\n        var addItemsOptionIndex = response.permissions ? response.permissions.indexOf('add_items') : -1;   \r\n        if (!this.collection.isContainer) {\r\n          if (addItemsOptionIndex !== -1) {\r\n            response.permissions.splice(addItemsOptionIndex, 1);\r\n          }          \r\n          var addMajorVersionOptionIndex = response.permissions ? response.permissions.indexOf(\"add_major_version\") : -1;      \r\n          if (!this.collection.isAdvancedVersioning && addMajorVersionOptionIndex !== -1) {\r\n            response.permissions.splice(addMajorVersionOptionIndex, 1);\r\n          }\r\n        }        \r\n      }\r\n      return response;\r\n    },\r\n\r\n    getPermissionLevel: function () {\r\n      return NodePermissionModel.getPermissionLevel(this.get(\"permissions\"), this.collection.isContainer, this.collection.isAdvancedVersioning);\r\n    }\r\n  }, {\r\n    getPermissionLevel: getPermissionLevel,\r\n    getReadPermissions: getReadPermissions,\r\n    getWritePermissions: getWritePermissions,\r\n    getFullControlPermissions: getFullControlPermissions,\r\n    getPermissionsByLevelExceptCustom: getPermissionsByLevelExceptCustom\r\n  });\r\n\r\n  function getPermissionLevel(permissions, isContainer, versionControlAdvanced) {\r\n    var value            = NodePermissionModel.PERMISSION_LEVEL_NONE,\r\n        permissionsCount = 9;    \r\n    if (isContainer) {\r\n      permissionsCount++;\r\n    } else if (!versionControlAdvanced) {\r\n      permissionsCount--;\r\n    }\r\n    if (permissions && permissions.length > 0) {\r\n      if (permissions.indexOf(\"edit_permissions\") >= 0 &&\r\n          permissions.length === permissionsCount) {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_FULL_CONTROL;\r\n      } else if (permissions.indexOf(\"edit_permissions\") < 0 &&\r\n                 permissions.indexOf(\"delete\") >= 0 &&\r\n                 permissions.length === (permissionsCount - 1)) {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_WRITE;\r\n      } else if (permissions.indexOf(\"see_contents\") >= 0 &&\r\n                 permissions.length === 2) {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_READ;\r\n      } else {\r\n        value = NodePermissionModel.PERMISSION_LEVEL_CUSTOM;\r\n      }\r\n    }\r\n    return value;\r\n  }\r\n\r\n  function getReadPermissions() {\r\n    return [\"see\", \"see_contents\"];\r\n  }\r\n\r\n  function getWritePermissions(isContainer, versionControlAdvanced) {\r\n    var permissions = [\"see\", \"see_contents\", \"modify\", \"edit_attributes\", \"add_items\", \"reserve\",\r\n      \"add_major_version\", \"delete_versions\", \"delete\"];\r\n      if (!isContainer) {\r\n        permissions.splice(permissions.indexOf('add_items'), 1);\r\n        if (!versionControlAdvanced) {\r\n          permissions.splice(permissions.indexOf('add_major_version'), 1);\r\n        }\r\n      }\r\n      return permissions;\r\n  }\r\n\r\n  function getFullControlPermissions(isContainer, versionControlAdvanced) {\r\n    var permissions = [\"see\", \"see_contents\", \"modify\", \"edit_attributes\", \"add_items\", \"reserve\",\r\n      \"add_major_version\", \"delete_versions\", \"delete\", \"edit_permissions\"]; \r\n      if (!isContainer) {\r\n        permissions.splice(permissions.indexOf('add_items'), 1);\r\n        if (!versionControlAdvanced) {\r\n          permissions.splice(permissions.indexOf('add_major_version'), 1);\r\n        } \r\n      }      \r\n      return permissions;\r\n  }\r\n\r\n  function getPermissionsByLevelExceptCustom(level, isContainer, versionControlAdvanced) {\r\n    var permissions = null;\r\n    switch (level) {\r\n    case NodePermissionModel.PERMISSION_LEVEL_NONE:\r\n      permissions = [];\r\n      break;\r\n    case NodePermissionModel.PERMISSION_LEVEL_READ:\r\n      permissions = getReadPermissions();\r\n      break;\r\n    case NodePermissionModel.PERMISSION_LEVEL_WRITE:\r\n      permissions = getWritePermissions(isContainer, versionControlAdvanced);\r\n      break;\r\n    case NodePermissionModel.PERMISSION_LEVEL_FULL_CONTROL:\r\n      permissions = getFullControlPermissions(isContainer, versionControlAdvanced);\r\n      break;\r\n    }\r\n    return permissions;\r\n  }\r\n\r\n  NodePermissionModel.prototype.PERMISSION_LEVEL_NONE = NodePermissionModel.PERMISSION_LEVEL_NONE = 0;\r\n  NodePermissionModel.prototype.PERMISSION_LEVEL_READ = NodePermissionModel.PERMISSION_LEVEL_READ = 1;\r\n  NodePermissionModel.prototype.PERMISSION_LEVEL_WRITE = NodePermissionModel.PERMISSION_LEVEL_WRITE = 2;\r\n  NodePermissionModel.prototype.PERMISSION_LEVEL_FULL_CONTROL = NodePermissionModel.PERMISSION_LEVEL_FULL_CONTROL = 3;\r\n  NodePermissionModel.prototype.PERMISSION_LEVEL_CUSTOM = NodePermissionModel.PERMISSION_LEVEL_CUSTOM = 4;\r\n\r\n  NodePermissionModel.prototype.getReadPermissions = NodePermissionModel.getReadPermissions;\r\n  NodePermissionModel.prototype.getWritePermissions = NodePermissionModel.getWritePermissions;\r\n  NodePermissionModel.prototype.getFullControlPermissions = NodePermissionModel.getFullControlPermissions;\r\n  NodePermissionModel.prototype.getPermissionsByLevelExceptCustom = NodePermissionModel.getPermissionsByLevelExceptCustom;\r\n\r\n  ConnectableMixin.mixin(NodePermissionModel.prototype);\r\n  UploadableMixin.mixin(NodePermissionModel.prototype);\r\n\r\n  return NodePermissionModel;\r\n});\r\n\n","csui.define('csui/models/permission/permission.response.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/base'\r\n], function (_, base) {\r\n  'use strict';\r\n\r\n  var PermissionResponseMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makePermissionResponse: function (options) {\r\n          return this;\r\n        },\r\n\r\n        /**\r\n         * This method update the response data for the following fields....\r\n         * removes public access record if no permission data exists,\r\n         * @param resp\r\n         * @param options\r\n         */\r\n        parsePermissionResponse: function (resp, options, clearEmptyPermissionModel) {\r\n          if (!!resp.results && !!resp.results.data && !!resp.results.data.permissions &&\r\n              !_.isEmpty(resp.results.data.permissions)) {\r\n            var permissionsList = resp.results.data.permissions;\r\n            if (_.isArray(permissionsList)) {\r\n              //Removing public access entry from response if there is no permissions available\r\n              permissionsList = _.reject(permissionsList,\r\n                  function (child) { return (child.type === 'public' && !child.permissions); });\r\n              var ownerData = _.find(permissionsList, function (item) {\r\n                    return item.type === 'owner';\r\n                  }),\r\n                  groupData = _.find(permissionsList, function (item) {\r\n                    return item.type === 'group';\r\n                  });\r\n              //Removing group entry from response if owner is available and group is not available\r\n              if ((ownerData && ownerData.permissions) && (groupData && !groupData.permissions)) {\r\n                permissionsList = _.reject(permissionsList,\r\n                    function (child) { return (child.type === 'group' && !child.permissions); });\r\n              }\r\n              //Removing owner entry from response if group is available and owner is not available\r\n              if ((ownerData && !ownerData.permissions) && (groupData && groupData.permissions)) {\r\n                permissionsList = _.reject(permissionsList,\r\n                    function (child) { return (child.type === 'owner' && !child.permissions); });\r\n              }\r\n              //Removing group entry from response if there is no permissions available for owner\r\n              // and owner group\r\n              if ((ownerData && !ownerData.permissions) && (groupData && !groupData.permissions)) {\r\n                permissionsList = _.reject(permissionsList,\r\n                    function (child) { return (child.type === 'group' && !child.permissions); });\r\n              }\r\n            } else if (_.isObject(permissionsList)) {\r\n              permissionsList = [];\r\n              if (resp.results.data.permissions &&\r\n                  resp.results.data.permissions.permissions.length > 0) {\r\n                permissionsList.push(resp.results.data.permissions);\r\n              }\r\n            }\r\n            resp.results.data.permissions = permissionsList;\r\n          }\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return PermissionResponseMixin;\r\n});\r\n\n","csui.define('csui/models/permission/nodeuserpermissions',['module',\r\n  'csui/lib/jquery',\r\n  'csui/lib/underscore',\r\n  'csui/lib/backbone',\r\n  'csui/utils/url',\r\n  'csui/models/permission/nodepermission.model',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/permission/permission.response.mixin'\r\n], function (module, $, _, Backbone, Url, NodePermissionModel,\r\n    ConnectableMixin, FetchableMixin, BrowsableMixin,\r\n    BrowsableV2ResponseMixin, ExpandableV2Mixin, PermissionResponseMixin) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultPageSize: 30\r\n  });\r\n\r\n  var NodeUserPermissionCollection = Backbone.Collection.extend({\r\n\r\n    model: NodePermissionModel,\r\n\r\n    constructor: function NodeUserPermissionCollection(models, options) {\r\n      options = _.defaults({}, options, {\r\n        top: config.defaultPageSize\r\n      }, options);\r\n\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      this.makeFetchable(options);\r\n\r\n      this.options = options;\r\n      this.includeActions = options.includeActions;\r\n      this.query = this.options.query;\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeBrowsable(options)\r\n          .makeBrowsableV2Response(options)\r\n          .makePermissionResponse(options);\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return true;\r\n    },\r\n\r\n    url: function () {\r\n      var url = Url.combine(this.connector.connection.url, 'nodes',\r\n          this.options.node.get('id')), query;\r\n      url = url.replace(\"/v1\", \"/v2\");\r\n      if (!!this.options.memberId) {\r\n        url += '/permissions/effective/' + this.options.memberId;\r\n        query = Url.combineQueryString(\r\n            {\r\n              expand: 'permissions{right_id}'\r\n            }, query);\r\n      } else {\r\n        query = Url.combineQueryString(\r\n            {\r\n              fields: ['properties{container, name, type, versions_control_advanced,' +\r\n                       ' permissions_model}',\r\n                'permissions{right_id, permissions, type}', 'versions{version_id, version_number_name}'],\r\n              expand: ['permissions{right_id}']\r\n            }, query);\r\n      }\r\n      if (query) {\r\n        url += '?' + query;\r\n      }\r\n\r\n      return url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      if (!!response.results && !!response.results.data) {\r\n        this.parsePermissionResponse(response, options, this.options.clearEmptyPermissionModel);\r\n        //Add name in the permission collection\r\n        if (!this.options.node.get(\"isNotFound\")) {\r\n          this.nodeName = response.results.data.properties ? response.results.data.properties.name :\r\n                          \"\";\r\n          if (this.isContainer === undefined || response.results.data.properties) {\r\n            this.isContainer = response.results.data.properties ?\r\n                               response.results.data.properties.container : true;\r\n          }\r\n          this.isAdvancedVersioning = this.options.node &&\r\n              this.options.node.get('advanced_versioning');\r\n          return response.results.data.permissions;\r\n        }\r\n      }\r\n    },\r\n\r\n    setOrder: function (attributes, fetch) {\r\n      if (this.orderBy != attributes) {\r\n        this.orderBy = attributes;\r\n        if (fetch !== false) {\r\n          this.fetch({skipSort: false});\r\n        }\r\n        return true;\r\n      }\r\n    },\r\n\r\n    processForEmptyOwner: function () {\r\n      if (!this.findWhere({type: 'owner'}) && !this.findWhere({type: 'group'})) {\r\n        //Add dummy model at index 0, for no owner assigned row\r\n        this.add({permissions: null, right_id: null, type: 'owner'}, {at: 0});\r\n      }\r\n    },\r\n\r\n    addPublicAccess: function (publicAccessModel) {\r\n      if (this.findWhere({type: 'owner'}) && this.findWhere({type: 'group'})) {\r\n        //Add dummy model at index 0, for no owner assigned row\r\n        this.add(publicAccessModel, {at: 2});\r\n      } else {\r\n        //Add public access at index 1, if anyone is present from owner or group\r\n        this.add(publicAccessModel, {at: 1});\r\n      }\r\n    },\r\n\r\n    addOwnerOrGroup: function (nodePermissionModel, flag) {\r\n      var owner = this.findWhere({type: 'owner'});\r\n      if (owner && owner.get('permissions') === null) { //No owner or group\r\n        var currentModel = this.at(0);\r\n        this.remove(currentModel, {silent:flag});\r\n        this.add(nodePermissionModel, {at: 0});\r\n      }\r\n      else {\r\n        this.add(nodePermissionModel, {at: (nodePermissionModel.get('type') === 'owner') ? 0 : 1});\r\n      }\r\n    }\r\n  });\r\n\r\n  FetchableMixin.mixin(NodeUserPermissionCollection.prototype);\r\n  BrowsableMixin.mixin(NodeUserPermissionCollection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(NodeUserPermissionCollection.prototype);\r\n  ConnectableMixin.mixin(NodeUserPermissionCollection.prototype);\r\n  ExpandableV2Mixin.mixin(NodeUserPermissionCollection.prototype);\r\n  PermissionResponseMixin.mixin(NodeUserPermissionCollection.prototype);\r\n\r\n  return NodeUserPermissionCollection;\r\n\r\n});\r\n\r\n\n","csui.define('csui/models/tool.item.config/tool.item.config.collection',[\r\n  'module', 'require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone'\r\n], function (module, require, _, $, Backbone) {\r\n  'use strict';\r\n\r\n  var configs = module.config().configs || [];\r\n  // Support either array of module IDs or a map with keys pointing\r\n  // to arrays of module IDs; the latter can be used for decentralized\r\n  // configuration (multiple calls to require.config, which merge maps,\r\n  // but not arrays)\r\n  if (!Array.isArray(configs)) {\r\n    configs = Object\r\n        .keys(configs)\r\n        .reduce(function (result, key) {\r\n          return result.concat(configs[key]);\r\n        }, []);\r\n  }\r\n  // Convert the array of tool item config module names to model attributes\r\n  configs = configs.map(function (name) {\r\n    return {\r\n      id: name\r\n    };\r\n  });\r\n\r\n  var ToolItemConfigCollection = Backbone.Collection.extend({\r\n\r\n    constructor: function ToolItemConfigCollection(models, options) {\r\n      models || (models = configs);\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n     },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching tool item configurations is supported.');\r\n      }\r\n      var self = this;\r\n      options = _.extend({}, this.options, options);\r\n      return this._resolveConfigs(options)\r\n                 .then(function () {\r\n                   var response = self.toJSON();\r\n                   options.success && options.success(response, options);\r\n                   self.trigger('sync', self, response, options);\r\n                 });\r\n    },\r\n\r\n    _resolveConfigs: function (options) {\r\n      var modules = this.chain()\r\n                        .filter(function (model) {\r\n                          // A resolvable config must have an ID\r\n                          // and not be already resolved\r\n                          return model.has('id') &&\r\n                                 !(model.has('config') ||\r\n                                   model.has('error'));\r\n                        })\r\n                        .pluck('id')\r\n                        .value(),\r\n          deferred = $.Deferred(),\r\n          self = this;\r\n      if (modules.length) {\r\n        require(modules, function () {\r\n          var configs = arguments;\r\n          modules.forEach(function (module, index) {\r\n            var model = self.get(module);\r\n            model.set('config', configs[index]);\r\n          });\r\n          deferred.resolve();\r\n        }, function (error) {\r\n          self.forEach(function (module) {\r\n            module.set('error', error);\r\n          });\r\n          if (options.ignoreErrors) {\r\n            deferred.resolve();\r\n          } else {\r\n            deferred.reject(error);\r\n          }\r\n        });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return ToolItemConfigCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/tool.item.mask/tool.item.mask.collection',[\r\n  'module', 'require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone'\r\n], function (module, require, _, $, Backbone) {\r\n  'use strict';\r\n\r\n  var masks = module.config().masks || [];\r\n  // Support either array of module IDs or a map with keys pointing\r\n  // to arrays of module IDs; the latter can be used for decentralized\r\n  // configuration (multiple calls to require.config, which merge maps,\r\n  // but not arrays)\r\n  if (!Array.isArray(masks)) {\r\n    masks = Object\r\n        .keys(masks)\r\n        .reduce(function (result, key) {\r\n          return result.concat(masks[key]);\r\n        }, []);\r\n  }\r\n  // Convert the array of tool item mask module names to model attributes\r\n  masks = masks.map(function (name) {\r\n    return {\r\n      id: name\r\n    };\r\n  });\r\n\r\n  var ToolItemMaskCollection = Backbone.Collection.extend({\r\n\r\n    constructor: function ToolItemMaskCollection(models, options) {\r\n      models || (models = masks);\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching tool item masks is supported.');\r\n      }\r\n      var self = this;\r\n      options = _.extend({}, this.options, options);\r\n      return this._resolveMasks(options)\r\n                 .then(function () {\r\n                   var response = self.toJSON();\r\n                   options.success && options.success(response, options);\r\n                   self.trigger('sync', self, response, options);\r\n                 });\r\n    },\r\n\r\n    _resolveMasks: function (options) {\r\n      var modules = this.chain()\r\n                        .filter(function (model) {\r\n                          // A resolvable mask must have an ID\r\n                          // and not be already resolved\r\n                          return model.has('id') &&\r\n                                 !(model.has('mask') ||\r\n                                   model.has('error'));\r\n                        })\r\n                        .pluck('id')\r\n                        .value(),\r\n          deferred = $.Deferred(),\r\n          self = this;\r\n      if (modules.length) {\r\n        require(modules, function () {\r\n          var masks = arguments;\r\n          modules.forEach(function (module, index) {\r\n            var model = self.get(module);\r\n            model.set('mask', masks[index]);\r\n          });\r\n          deferred.resolve();\r\n        }, function (error) {\r\n          self.forEach(function (module) {\r\n            module.set('error', error);\r\n          });\r\n          if (options.ignoreErrors) {\r\n            deferred.resolve();\r\n          } else {\r\n            deferred.reject(error);\r\n          }\r\n        });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return ToolItemMaskCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/server.module/server.module.collection',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone'\r\n], function (module, _, $, Backbone) {\r\n  'use strict';\r\n\r\n  // Map with ids as keys and attributes as values\r\n  var sourceModules = module.config().modules || {},\r\n  // Convert the configuration map to an array of model attributes\r\n      serverModules = _.map(sourceModules, function (attributes, id) {\r\n        attributes.id = id;\r\n        return attributes;\r\n      });\r\n\r\n  var ServerModuleModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      id: null,   // Require.js module prefix used by the server module\r\n      title: null // Displayable title of the server module\r\n    },\r\n\r\n    constructor: function ServerModuleModel(attributes, options) {\r\n      ServerModuleModel.__super__.constructor.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var ServerModuleCollection = Backbone.Collection.extend({\r\n\r\n    model: ServerModuleModel,\r\n\r\n    constructor: function ServerModuleCollection(models, options) {\r\n      models || (models = serverModules);\r\n      ServerModuleCollection.__super__.constructor.call(this, models, options);\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching the server modules is supported.');\r\n      }\r\n      var self = this;\r\n      options || (options = {});\r\n      return this._resolveServerModules()\r\n          .then(function () {\r\n            var response = self.toJSON();\r\n            options.success && options.success(response, options);\r\n            self.trigger('sync', self, response, options);\r\n          });\r\n    },\r\n\r\n    _resolveServerModules: function (options) {\r\n      options = _.extend({}, this.options, options);\r\n      var deferred = $.Deferred(),\r\n          missing = this.find(function (serverModule) {\r\n            var sourceModule = sourceModules[serverModule.id];\r\n            if (sourceModule) {\r\n              serverModule.set(sourceModule.attributes);\r\n            } else {\r\n              if (!options.ignoreErrors) {\r\n                return true;\r\n              }\r\n            }\r\n          });\r\n      if (missing) {\r\n        var error = new Error('Invalid module prefix: ' + missing.id);\r\n        return deferred.reject(error);\r\n      }\r\n      return deferred.resolve().promise();\r\n    }\r\n\r\n  });\r\n\r\n  return ServerModuleCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/specificnodemodel',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/node.resource/node.resource.mixin'\r\n], function (_, Backbone, Url, NodeResourceMixin) {\r\n  'use strict';\r\n\r\n  var SpecificNodeModel = Backbone.Model.extend({\r\n\r\n    constructor: function SpecificNodeModel(attributes, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.call(this, arguments);\r\n      this.makeNodeResource(options);\r\n    },\r\n\r\n    parse: function (response) {\r\n      return response;\r\n    },\r\n\r\n    url: function () {\r\n\r\n      var node   = this.options.node,\r\n          nodeId = node.get('id'),\r\n          url;\r\n      url = _.str.sformat('forms/nodes/properties/specific?id={0}',\r\n          nodeId);\r\n\r\n      return Url.combine(this.options.connector.connection.url, url);\r\n\r\n    }\r\n\r\n  });\r\n\r\n  NodeResourceMixin.mixin(SpecificNodeModel.prototype);\r\n\r\n  return SpecificNodeModel;\r\n\r\n});\r\n\n","csui.define('csui/models/autofetchable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function AutoFetchableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeAutoFetchable: function (options) {\r\n        // log.warn('Module \"csui/models/autofetchable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/autofetchable/autofetchable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        options && options.autofetch && this.automateFetch(options.autofetch);\r\n        return this;\r\n      },\r\n\r\n      automateFetch: function (enable) {\r\n        this[enable ? 'on' : 'off'](_.result(this, '_autofetchEvent'),\r\n          _.bind(this._fetchAutomatically, this, enable));\r\n      },\r\n\r\n      isFetchable: function () {\r\n        return !!this.get('id');\r\n      },\r\n\r\n      _autofetchEvent: 'change:id',\r\n\r\n      _fetchAutomatically: function (enableOptions, model, value, options) {\r\n        if (this.isFetchable()) {\r\n         var fullOptions = _.extend({}, enableOptions, options);\r\n        this.fetch(fullOptions);\r\n        }\r\n      }\r\n\r\n    };\r\n    prototype.AutoFetchable = _.clone(prototype);\r\n    \r\n    return prototype;\r\n  }\r\n\r\n  return AutoFetchableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/connectable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function ConnectableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeConnectable: function (options) {\r\n        // log.warn('Module \"csui/models/connectable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/connectable/connectable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        options && options.connector && options.connector.assignTo(this);\r\n        options && options.connector && this.original && options.connector.assignTo(this.original);\r\n        return this;\r\n      },\r\n\r\n      _prepareModel: function (attrs, options) {\r\n        options || (options = {});\r\n        options.connector = this.connector;\r\n        return ParentModel.prototype._prepareModel.call(this, attrs, options);\r\n      }\r\n\r\n    };\r\n    prototype.Connectable = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return ConnectableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/fetchable',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/log'\r\n], function (module, _, $, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function FetchableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeFetchable: function (options) {\r\n        // log.warn('Module \"csui/models/fetchable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/fetchable/fetchable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        this.autoreset = options && options.autoreset;\r\n        // Workaround for change/add/reset events, which are fired before\r\n        // the caller is informed by sync that fetch successed.\r\n        return this.on('reset', this._beforeFetchSucceeded, this)\r\n            .on('add', this._beforeFetchSucceeded, this)\r\n            .on('change', this._beforeFetchSucceeded, this);\r\n      },\r\n\r\n      _beforeFetchSucceeded: function () {\r\n        this.fetching && this._fetchSucceeded();\r\n      },\r\n\r\n      _fetchSucceeded: function () {\r\n        this.fetching = false;\r\n        this.fetched = true;\r\n      },\r\n\r\n      _fetchFailed: function () {\r\n        this.fetching = false;\r\n      },\r\n\r\n      fetch: function (options) {\r\n        if (!this.fetching) {\r\n          this.fetched = false;\r\n          log.debug('Fetching is starting for {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          options = this._prepareFetch(options);\r\n          // Ensure that the model is marked fetched before other events are\r\n          // triggered.  If fetching is not silent, change/add/reset will be\r\n          // triggered earlier: change/add/reset, options.*, sync, promise.\r\n          var self = this,\r\n              success = options.success,\r\n              error = options.error;\r\n          options.success = function () {\r\n            log.debug('Fetching succeeded for {0} ({1}).',\r\n                log.getObjectName(self), self.cid) && console.log(log.last);\r\n            self._fetchSucceeded();\r\n            success && success.apply(this, arguments);\r\n          };\r\n          options.error = function () {\r\n            log.debug('Fetching failed for {0} ({1}).',\r\n                log.getObjectName(self), self.cid) && console.log(log.last);\r\n            self._fetchFailed();\r\n            error && error.apply(this, arguments);\r\n          };\r\n          this.fetching = ParentModel.prototype.fetch.call(this, options);\r\n        } else {\r\n          log.debug('Fetching is in progress for {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n        }\r\n        return this.fetching;\r\n      },\r\n\r\n      _prepareFetch: function (options) {\r\n        // Trigger just one item adding operation after fetching if wanted.\r\n        options || (options = {});\r\n        options.reset === undefined && this.autoreset && (options.reset = true);\r\n        return options;\r\n      },\r\n\r\n      ensureFetched: function (options) {\r\n        if (this.fetched) {\r\n          log.debug('No need to fetch {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          if (options && options.success) {\r\n            options.success(this);\r\n          }\r\n          return $.Deferred()\r\n              .resolve(this, {}, options)\r\n              .promise();\r\n        }\r\n        return this.fetch(options);\r\n      }\r\n\r\n    };\r\n    prototype.Fetchable = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return FetchableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/including.additional.resources',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function IncludingAdditionalResources(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeIncludingAdditionalResources: function (options) {\r\n        // log.warn('Module \"csui/models/including.additional.resources\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/including.additional.resources/including.additional.resources.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        this._additionalResources = [];\r\n        if (options && options.includeResources) {\r\n          this.includeResources(options.includeResources);\r\n        }\r\n        return this;\r\n      },\r\n\r\n      includeResources: function (names) {\r\n        if (!_.isArray(names)) {\r\n          names = names.split(',');\r\n        }\r\n        this._additionalResources = _.union(this._additionalResources, names);\r\n      },\r\n\r\n      excludeResources: function (names) {\r\n        if (names) {\r\n          if (!_.isArray(names)) {\r\n            names = names.split(',');\r\n          }\r\n          this._additionalResources = _.reject(this._additionalResources, names);\r\n        } else {\r\n          this._additionalResources = [];\r\n        }\r\n      },\r\n\r\n      getAdditionalResourcesUrlQuery: function () {\r\n        return _.reduce(this._additionalResources, function (result, parameter) {\r\n          result[parameter] = 'true';\r\n          return result;\r\n        }, {});\r\n      }\r\n\r\n    };\r\n    prototype.IncludingAdditionalResources = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return IncludingAdditionalResources;\r\n\r\n});\r\n\n","csui.define('csui/models/nodeautofetchable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function NodeAutoFetchableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeNodeAutoFetchable: function (options) {\r\n        // log.warn('Module \"csui/models/fetchable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/fetchable/fetchable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        options && options.autofetch && this.automateFetch(options.autofetch);\r\n        return this;\r\n      },\r\n\r\n      automateFetch: function (enable) {\r\n        this.node[enable ? 'on' : 'off'](_.result(this, '_autofetchEvent'),\r\n          _.bind(this._fetchAutomatically, this, enable));\r\n      },\r\n\r\n      isFetchable: function () {\r\n        return this.node.isFetchableDirectly();\r\n      },\r\n\r\n      _autofetchEvent: 'change:id',\r\n\r\n      _fetchAutomatically: function (options) {\r\n        this.isFetchable() && this.fetch(_.isObject(options) && options);\r\n      }\r\n\r\n    };\r\n    prototype.NodeAutoFetchable = _.clone(prototype);\r\n    \r\n    return prototype;\r\n  }\r\n\r\n  return NodeAutoFetchableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/nodeconnectable',['module', 'csui/lib/underscore', 'csui/utils/log'\r\n], function (module, _, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function NodeConnectableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeNodeConnectable: function (options) {\r\n        // log.warn('Module \"csui/models/connectable\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/connectable/connectable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        if (options && options.node) {\r\n          this.node = options.node;\r\n          options.node.connector && options.node.connector.assignTo(this);\r\n        }\r\n        return this;\r\n      },\r\n\r\n      _prepareModel: function (attrs, options) {\r\n        options.connector = this.node && this.node.connector;\r\n        return ParentModel.prototype._prepareModel.call(this, attrs, options);\r\n      }\r\n\r\n    };\r\n    prototype.NodeConnectable = _.clone(prototype);\r\n    \r\n    return prototype;\r\n  }\r\n\r\n  return NodeConnectableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/noderesource',['module', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/models/nodeconnectable', 'csui/models/fetchable',\r\n  'csui/models/nodeautofetchable'\r\n], function (module, _, log, NodeConnectableModel, FetchableModel,\r\n    NodeAutoFetchableModel) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function NodeResourceModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeNodeResource: function (options) {\r\n        // log.warn('Module \"csui/models/noderesource\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/node.resource/node.resource.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        return this.makeNodeConnectable(options)\r\n            .makeFetchable(options)\r\n            .makeNodeAutoFetchable(options);\r\n      }\r\n\r\n    };\r\n    prototype.NodeResource = _.clone(prototype);\r\n\r\n    return _.extend({},\r\n        NodeConnectableModel(ParentModel),\r\n        FetchableModel(ParentModel),\r\n        NodeAutoFetchableModel(ParentModel),\r\n        prototype);\r\n  }\r\n\r\n  return NodeResourceModel;\r\n\r\n});\r\n\n","csui.define('csui/models/resource',['module', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/models/connectable', 'csui/models/fetchable',\r\n  'csui/models/autofetchable'\r\n], function (module, _, log, ConnectableModel, FetchableModel,\r\n  AutoFetchableModel) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function ResourceModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeResource: function (options) {\r\n        // log.warn('Module \"csui/models/resource\" has been deprecated and' +\r\n        //          ' is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/resource/resource.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        return this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAutoFetchable(options);\r\n      }\r\n\r\n    };\r\n    prototype.Resource = _.clone(prototype);\r\n    \r\n    return _.extend({},\r\n      ConnectableModel(ParentModel),\r\n      FetchableModel(ParentModel),\r\n      AutoFetchableModel(ParentModel),\r\n      prototype);\r\n  }\r\n\r\n  return ResourceModel;\r\n\r\n});\r\n\n","csui.define('csui/models/uploadable',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/log'\r\n], function (module, _, $, Backbone, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  function UploadableModel(ParentModel) {\r\n    var prototype = {\r\n\r\n      makeUploadable: function (options) {\r\n        // log.warn('Module \"csui/models/uploadable\" has been deprecated and is going to be removed.' +\r\n        //          '  Use \"csui/models/mixins/uploadable/uploadable.mixin\" instead.')\r\n        // && console.warn(log.last);\r\n        // log.warn('Occurred ' + log.getStackTrace(2)) && console.warn(log.last);\r\n        return this;\r\n      },\r\n\r\n      sync: function (method, model, options) {\r\n        var data = options.data || options.attrs || this.attributes;\r\n        // Make sure, that POST and PUT urls do not contain the URL query\r\n        // part.  It is not possible to ensure it inside the url function.\r\n        function currectUpdatingUrl() {\r\n          var url = options.url || _.result(model, 'url');\r\n          return url.replace(/\\?.*$/, '');\r\n        }\r\n\r\n        if (method === 'create') {\r\n          log.debug('Creating {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          var formData = new FormData();\r\n          formData.append('body', JSON.stringify(data));\r\n\r\n          // append file, if there is\r\n          _.each(_.keys(options.files || {}), function (key) {\r\n            var files = options.files[key], i;\r\n            if (_.isArray(files) && files.length > 1) {\r\n              // TODO: Adapt this according to the server support.\r\n              for (i = 0; i < files.length; ++i) {\r\n                var name = i ? key + i : key;\r\n                formData.append(name, files[i]);\r\n              }\r\n            } else if (files) {\r\n              formData.append(key, files);\r\n            }\r\n          });\r\n\r\n          _.extend(options, {\r\n            data: formData,\r\n            contentType: false,\r\n            url: currectUpdatingUrl()\r\n          });\r\n        } else if (method === 'update' || method === 'patch') {\r\n          log.debug('Updating {0} ({1}).',\r\n              log.getObjectName(this), this.cid) && console.log(log.last);\r\n          method = 'update';\r\n          data = {body: JSON.stringify(data)};\r\n          _.extend(options, {\r\n            data: $.param(data),\r\n            contentType: 'application/x-www-form-urlencoded',\r\n            url: currectUpdatingUrl()\r\n          });\r\n        }\r\n        return Backbone.sync(method, model, options);\r\n      }\r\n\r\n    };\r\n    prototype.Uploadable = _.clone(prototype);\r\n\r\n    return prototype;\r\n  }\r\n\r\n  return UploadableModel;\r\n\r\n});\r\n\n","csui.define('csui/models/mixins/versions/v2.versions.response.mixin',['csui/lib/underscore'\r\n], function (_) {\r\n  'use strict';\r\n\r\n  var VersionsV2ResponseMixin = {\r\n\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n\r\n        makeVersionableV2Response: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parseVersionsResponse: function (response) {\r\n          if (!!response.results && !!response.results.data) {\r\n            return response.results.data.versions;\r\n          }\r\n          return response;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n  return VersionsV2ResponseMixin;\r\n});\r\n\n","csui.define('csui/models/server.adaptors/version.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var url = Url.combine(this.connector.connection.url, 'nodes',\r\n            this.get('id'), 'versions');\r\n          if (!this.isNew()) {\r\n            url = Url.combine(url.replace(\"/v1\", \"/v2\"), this.get('version_number'));\r\n            var query = Url.combineQueryString(\r\n              this.getExpandableResourcesUrlQuery()\r\n            );\r\n            if (query) {\r\n              url += '?' + query;\r\n            }\r\n          }\r\n\r\n          return url;\r\n        },\r\n\r\n        parse: function (response) {\r\n          // Handle both version objects when parsed from the single\r\n          // /versions/:id and the collection /versions responses.\r\n          var version = response.data || this.parseVersionsResponse(response);\r\n\r\n          // TODO: Remove this.  Version properties should have its own general\r\n          // property panel instead of using the node and breaking each other\r\n          // when one of them gets changed\r\n          /*if (version.type === undefined) {\r\n            version.type = 144;\r\n          }*/\r\n\r\n          // get node type info from NodeVersionCollection for Version Collection, if it is single\r\n          // fetch then collect it from rest api response id_expand object\r\n          if (version.id_expand && version.id_expand.type) {\r\n            version.type = version.id_expand.type;\r\n          }\r\n\r\n          if (!!version.version_number_name) {\r\n            version.version_number_name_formatted = version.version_number_name;\r\n          }\r\n\r\n          if (version.commands) {\r\n            var commands = version.commands;\r\n            version.actions = _\r\n              .chain(commands)\r\n              .keys()\r\n              .map(function (key) {\r\n                var attributes = commands[key];\r\n                attributes.signature = key;\r\n                return attributes;\r\n              })\r\n              .value();\r\n            delete version.commands;\r\n            delete version.commands_map;\r\n            delete version.commands_order;\r\n          }\r\n\r\n          return version;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/version',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/log', 'csui/utils/url', 'csui/models/actions',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/mixins/versions/v2.versions.response.mixin',\r\n  'csui/models/server.adaptors/version.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, log, Url, ActionCollection,\r\n    ExpandableMixin, ResourceMixin, UploadableMixin, VersionsableV2ResponseMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var VersionModel = Backbone.Model.extend({\r\n\r\n    idAttribute: 'version_number',\r\n\r\n    constructor: function VersionModel(attributes, options) {\r\n      attributes || (attributes = {});\r\n      options = _.extend({expand: ['user', 'versions{id, owner_id}']}, options);\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.makeResource(options)\r\n          .makeUploadable(options)\r\n          .makeVersionableV2Response(options)\r\n          .makeExpandable(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      if (!attributes.actions) {\r\n        this.actions = new ActionCollection();\r\n      }\r\n    },\r\n\r\n    clone: function () {\r\n      return new this.constructor(this.attributes, {\r\n        connector: this.connector,\r\n        expand: _.deepClone(this.expand)\r\n      });\r\n    },\r\n\r\n    set: function (key, val, options) {\r\n      var attrs;\r\n      if (key == null) {\r\n        return this;\r\n      }\r\n\r\n      // Handle both `\"key\", value` and `{key: value}` -style arguments.\r\n      if (typeof key === 'object') {\r\n        attrs = key;\r\n        options = val;\r\n      } else {\r\n        (attrs = {})[key] = val;\r\n      }\r\n\r\n      options || (options = {});\r\n\r\n      // TODO: Support sub-models and sub-collections in general\r\n      if (attrs.actions) {\r\n        if (this.actions) {\r\n          this.actions.reset(attrs.actions, options);\r\n        } else {\r\n          this.actions = new ActionCollection(attrs.actions);\r\n        }\r\n      }\r\n\r\n      // do the usual set\r\n      return Backbone.Model.prototype.set.call(this, attrs, options);\r\n    },\r\n\r\n    isNew: function () {\r\n      return !this.has('version_number');\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return !!(this.get('id') && this.get('version_number'));\r\n    }\r\n\r\n  });\r\n\r\n  ExpandableMixin.mixin(VersionModel.prototype);\r\n  UploadableMixin.mixin(VersionModel.prototype);\r\n  ResourceMixin.mixin(VersionModel.prototype);\r\n  VersionsableV2ResponseMixin.mixin(VersionModel.prototype);\r\n  ServerAdaptorMixin.mixin(VersionModel.prototype);\r\n\r\n  return VersionModel;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/widget.model',[\r\n  'require', 'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/utils/log',\r\n  'csui/models/server.module/server.module.collection',\r\n  'csui/models/tool.item.config/tool.item.config.collection',\r\n  'csui/models/tool.item.mask/tool.item.mask.collection'\r\n], function (require, module, _, $, Backbone, log,\r\n    ServerModuleCollection, ToolItemConfigCollection, ToolItemMaskCollection) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var WidgetModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      id: null,       // Require.js module ID\r\n      view: null,     // Resolved function object of the widget's view controller\r\n      manifest: null, // Resolved meta-data describing the widget\r\n      error: null     // Error from the widget's resolution if it failed\r\n    },\r\n\r\n    constructor: function WidgetModel(attributes, options) {\r\n      this.options = _.defaults({}, options, {\r\n        includeView: true,\r\n        includeManifest: true,\r\n        includeServerModule: true,\r\n        includeToolItems: true\r\n      });\r\n      if (this.options.includeToolItems) {\r\n        this.options.includeManifest = true;\r\n      }\r\n      WidgetModel.__super__.constructor.call(this, attributes, this.options);\r\n      this.serverModule = new ServerModuleCollection.prototype.model();\r\n      this.actions = new Backbone.Collection();\r\n    },\r\n\r\n    getDefaultData: function () {\r\n      var manifest = this.get('manifest');\r\n      return manifest ? this._getDefaultPropertyValue(manifest.schema) : {};\r\n    },\r\n\r\n    _getDefaultPropertyValue: function (schema) {\r\n      if (schema) {\r\n        if (schema.type === 'object') {\r\n          return _.reduce(schema.properties,\r\n              function (result, propertySchema, propertyName) {\r\n                result[propertyName] = this._getDefaultPropertyValue(propertySchema);\r\n                return result;\r\n              }, {}, this);\r\n        }\r\n        return schema['default'];\r\n      }\r\n    },\r\n\r\n    _getDefaultPrimitiveValue: function (schema) {\r\n      if (schema) {\r\n        var value = schema['default'];\r\n        if (value !== undefined) {\r\n          return value;\r\n        }\r\n        switch (schema.type) {\r\n        case 'string':\r\n          return '';\r\n        case 'integer':\r\n        case 'number':\r\n          return 0;\r\n        case 'boolean':\r\n          return false;\r\n        case 'array':\r\n          return [];\r\n        case 'null':\r\n          return null;\r\n        }\r\n      }\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching the widget is supported.');\r\n      }\r\n      options = _.extend({}, this.options, options);\r\n      _.defaults(options, {\r\n        includeView: this.options.includeView,\r\n        includeManifest: this.options.includeManifest,\r\n        includeServerModule: this.options.includeServerModule,\r\n        includeToolItems: this.options.includeToolItems\r\n      });\r\n      if (options.includeToolItems) {\r\n        options.includeManifest = true;\r\n      }\r\n      var serverModulesPromise = this._resolveServerModules(options),\r\n          toolItemsPromise     = this._resolveToolItems(options),\r\n          toolItemMasksPromise = this._resolveToolItemMasks(options),\r\n          self = this;\r\n      return $.when(serverModulesPromise, toolItemsPromise, toolItemMasksPromise)\r\n              .then(_.bind(this._resolveWidget, this, options))\r\n              .then(function () {\r\n                var response = self.toJSON();\r\n                options.success && options.success(response, options);\r\n                self.trigger('sync', self, response, options);\r\n              }, function () {\r\n                var error = self.get('error');\r\n                options.error && options.error(error, options);\r\n                self.trigger('error', self, error, options);\r\n                return $.Deferred().reject(error);\r\n              });\r\n    },\r\n\r\n    _resolveWidget: function (options) {\r\n      var viewPromise     = this._resolveView(options),\r\n          manifestPromise = this._resolveManifest(options),\r\n          self = this;\r\n      return $.when(viewPromise, manifestPromise)\r\n              .then(function () {\r\n                self._updateServerModule(options);\r\n                self._updateActions(options);\r\n              });\r\n    },\r\n\r\n    _resolveView: function (options) {\r\n      var deferred = $.Deferred();\r\n      if (options.includeView) {\r\n        var self       = this,\r\n            widgetData = this.getModuleData(),\r\n            viewPath   = this.getViewModulePath(widgetData);\r\n        require([viewPath],\r\n            function (View) {\r\n              self.set('view', View);\r\n              deferred.resolve();\r\n            }, function (error) {\r\n              self.set('error', error);\r\n              if (options.ignoreErrors) {\r\n                deferred.resolve();\r\n              } else {\r\n                deferred.reject(error);\r\n              }\r\n            });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    _resolveManifest: function (options) {\r\n      var deferred = $.Deferred();\r\n      if (options.includeManifest) {\r\n        var self         = this,\r\n            widgetData   = this.getModuleData(),\r\n            manifestPath = this.getManifestModulePath(widgetData);\r\n        require([manifestPath],\r\n            function (manifest) {\r\n              if (self._needsLocalization(manifest)) {\r\n                var manifestLocalizedPath = self.getLocalizedManifestModulePath(widgetData);\r\n                require([manifestLocalizedPath],\r\n                    function (manifestLocalized) {\r\n                      manifest = self._renderLocalizedManifest(manifestPath,\r\n                          manifest, manifestLocalized);\r\n                      self.set('manifest', manifest);\r\n                      deferred.resolve();\r\n                    }, function (error) {\r\n                      if (!self.has('error')) {\r\n                        self.set('error', error);\r\n                      }\r\n                      if (options.ignoreErrors || options.ignoreManifestErrors) {\r\n                        // If errors are ignored, return not localized manifest;\r\n                        // if it were undefined, non-robust consumers might crash\r\n                        self.set('manifest', manifest);\r\n                        deferred.resolve();\r\n                      } else {\r\n                        deferred.reject(error);\r\n                      }\r\n                    });\r\n              } else {\r\n                self.set('manifest', manifest);\r\n                deferred.resolve();\r\n              }\r\n            }, function (error) {\r\n              if (!self.has('error')) {\r\n                self.set('error', error);\r\n              }\r\n              if (options.ignoreErrors || options.ignoreManifestErrors) {\r\n                // If errors are ignored, return an empty manifest;\r\n                // if it were undefined, non-robust consumers might crash\r\n                self.set('manifest', {});\r\n                deferred.resolve();\r\n              } else {\r\n                deferred.reject(error);\r\n              }\r\n            });\r\n      } else {\r\n        deferred.resolve();\r\n      }\r\n      return deferred.promise();\r\n    },\r\n\r\n    _resolveServerModules: function (options) {\r\n      var serverModules;\r\n      if (options.includeServerModule && !options.serverModules) {\r\n        options.serverModules = serverModules = new ServerModuleCollection();\r\n        return serverModules.fetch({ignoreErrors: options.ignoreErrors});\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _resolveToolItems: function (options) {\r\n      var toolItems;\r\n      if (options.includeToolItems && !options.toolItems) {\r\n        options.toolItems = toolItems = new ToolItemConfigCollection();\r\n        return toolItems.fetch({ignoreErrors: options.ignoreErrors});\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _resolveToolItemMasks: function (options) {\r\n      var toolItemMasks;\r\n      if (options.includeToolItems && !options.toolItemMasks) {\r\n        options.toolItemMasks = toolItemMasks = new ToolItemMaskCollection();\r\n        return toolItemMasks.fetch({ignoreErrors: options.ignoreErrors});\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _getModulePrefix: function () {\r\n      var name       = this.get('id'),\r\n          firstSlash = name.indexOf('/');\r\n      // Enable widget names without the module path for the core widgets;\r\n      // compatibility for early perspectives, which did not use full paths\r\n      return firstSlash < 0 ? 'csui' : name.substring(0, firstSlash);\r\n    },\r\n\r\n    getModuleData: function () {\r\n      var name      = this.get('id'),\r\n          lastSlash = name.lastIndexOf('/'),\r\n          path;\r\n      // Enable widget names without the module path for the core widgets;\r\n      // compatibility for early perspectives, which did not use full paths\r\n      if (lastSlash < 0) {\r\n        path = 'csui/widgets/' + name;\r\n      } else {\r\n        path = name;\r\n        name = name.substring(lastSlash + 1);\r\n      }\r\n      return {\r\n        name: name,\r\n        path: path\r\n      };\r\n    },\r\n\r\n    getViewModulePath: function (moduleData) {\r\n      return moduleData.path + '/' + moduleData.name + '.view';\r\n    },\r\n\r\n    getManifestModulePath: function (moduleData) {\r\n      return 'json!' + moduleData.path + '/' + moduleData.name + '.manifest.json';\r\n    },\r\n\r\n    getLocalizedManifestModulePath: function (moduleData) {\r\n      return 'i18n!' + moduleData.path + '/impl/nls/' + moduleData.name + '.manifest';\r\n    },\r\n\r\n    _updateServerModule: function (options) {\r\n      if (options.includeServerModule) {\r\n        var modulePrefix = this._getModulePrefix(),\r\n            serverModule = options.serverModules.get(modulePrefix),\r\n            attributes   = serverModule && serverModule.toJSON() ||\r\n                {id: modulePrefix};\r\n        this.serverModule.set(attributes);\r\n      }\r\n    },\r\n\r\n    _updateActions: function (options) {\r\n      if (options.includeToolItems) {\r\n        var manifest = this.get('manifest'),\r\n            actions = manifest && manifest.actions;\r\n        this.actions.reset(actions, {silent: true});\r\n        this.actions.each(function (action) {\r\n          action.toolItems = options.toolItems.get(action.get('toolItems'));\r\n          action.toolItemMasks = options.toolItemMasks.get(action.get('toolItemMasks'));\r\n          action.toolbars = new Backbone.Collection(action.get('toolbars'));\r\n        });\r\n        if (!options.silent) {\r\n          this.actions.trigger('reset', this.actions, options);\r\n        }\r\n      }\r\n    },\r\n\r\n    _renderLocalizedManifest: function (manifestPath, manifest, localizedManifest) {\r\n      function traverseManifest(object, localizedManifestParent) {\r\n        var key, value, localizationKey, arrayItem, localizationArrayItem, i;\r\n        function getLocalizationKey(value) {\r\n          return _.isString(value) && value.indexOf('{{') === 0 &&\r\n                 value.lastIndexOf('}}') === value.length - 2 &&\r\n                 value.substring(2, value.length - 2);\r\n        }\r\n        for (key in object) {\r\n          if (object.hasOwnProperty(key)) {\r\n            value = object[key];\r\n            localizationKey = getLocalizationKey(value);\r\n            if (localizationKey) {\r\n              // Support both real and dummy localization keys\r\n              object[key] = localizedManifestParent[localizationKey] ||\r\n                            localizedManifestParent[key] ||\r\n                            // Show the localization string key in case\r\n                            // the value is missing\r\n                            value;\r\n            } else if (_.isArray(value)) {\r\n              localizationArrayItem = localizedManifestParent[key] || [];\r\n              for (i = 0; i < value.length; ++i) {\r\n                arrayItem = value[i];\r\n                localizationKey = getLocalizationKey(arrayItem);\r\n                if (localizationKey) {\r\n                  // Support both array of dummy placeholders and flat\r\n                  // localization by unique property names.\r\n                  value[i] = localizationArrayItem[i] ||\r\n                             // Support both real and dummy localization keys\r\n                             localizedManifestParent[localizationKey] ||\r\n                             localizedManifestParent[key] ||\r\n                             // Show the localization string key in case\r\n                             // the value is missing\r\n                             arrayItem;\r\n                } else if (_.isObject(arrayItem)) {\r\n                  // Support both hierarchical and flat localization modules\r\n                  value[i] = traverseManifest(arrayItem, localizationArrayItem[i] ||\r\n                                                         localizedManifestParent);\r\n                }\r\n              }\r\n            } else if (_.isObject(value)) {\r\n              if (localizedManifestParent[key]) {\r\n                log.warn(\r\n                    'Hierarchical format has been detected in the localization ' +\r\n                    'module \"{0}\". It has been deprecated and the support for it ' +\r\n                    'will be removed. Please, change it to the flat format as soon ' +\r\n                    'as possible. Although JSON format allows using nested objects, ' +\r\n                    'automated translation tools can handle only key-value pairs. ' +\r\n                    'That is why localization modules has to contain only one ' +\r\n                    'object with properties pointing to strings.', manifestPath)\r\n                && console.log(log.last);\r\n              }\r\n              // Support both hierarchical and flat localization modules\r\n              object[key] = traverseManifest(value, localizedManifestParent[key] ||\r\n                                                    localizedManifestParent);\r\n            }\r\n          }\r\n        }\r\n        return object;\r\n      }\r\n\r\n      return traverseManifest(manifest, localizedManifest);\r\n    },\r\n\r\n    _needsLocalization: function (object) {\r\n      function isLocalizableString(value) {\r\n        return typeof value === 'string' && value.indexOf('{{') === 0 &&\r\n               value.lastIndexOf('}}') === value.length - 2;\r\n      }\r\n\r\n      var value;\r\n\r\n      for (var key in object) {\r\n        if (object.hasOwnProperty(key)) {\r\n          value = object[key];\r\n          if (isLocalizableString(value)) {\r\n            return true;\r\n          } else if (_.isArray(value)) {\r\n            for (var i = 0; i < value.length; i++) {\r\n              if (isLocalizableString(value[i])) {\r\n                return true;\r\n              }\r\n            }\r\n          } else if (typeof value === 'object') {\r\n            return this._needsLocalization(value);\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return WidgetModel;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/widget.collection',[\r\n  'require', 'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/backbone', 'csui/models/widget/widget.model',\r\n  'csui/models/server.module/server.module.collection',\r\n  'csui/models/tool.item.config/tool.item.config.collection',\r\n  'csui/models/tool.item.mask/tool.item.mask.collection'\r\n], function (require, module, _, $, Backbone, WidgetModel,\r\n    ServerModuleCollection, ToolItemConfigCollection, ToolItemMaskCollection) {\r\n  'use strict';\r\n\r\n  var widgets = module.config().widgets || [];\r\n  // Support either array of module IDs or a map with keys pointing\r\n  // to arrays of module IDs; the latter can be used for decentralized\r\n  // configuration (multiple calls to require.config, which merge maps,\r\n  // but not arrays)\r\n  if (!_.isArray(widgets)) {\r\n    widgets = Array.prototype.concat.apply([], _.values(widgets));\r\n  }\r\n  // Convert the array of widget names to model attributes\r\n  widgets = _.map(widgets, function (name) {\r\n    return {\r\n      id: name\r\n    };\r\n  });\r\n\r\n  var WidgetCollection = Backbone.Collection.extend({\r\n\r\n    model: WidgetModel,\r\n\r\n    constructor: function WidgetCollection(models, options) {\r\n      // Store the options before calling the parent constructor;\r\n      // model processing in _prepareModel may access the options\r\n      this.options = _.defaults({}, options, {\r\n        includeView: true,\r\n        includeManifest: true,\r\n        includeServerModule: true,\r\n        includeToolItems: true\r\n      });\r\n      if (this.options.includeToolItems) {\r\n        this.options.includeManifest = true;\r\n      }\r\n      models || (models = widgets);\r\n      WidgetCollection.__super__.constructor.call(this, models, options);\r\n    },\r\n\r\n    sync: function (method, collection, options) {\r\n      if (method !== 'read') {\r\n        throw new Error('Only fetching the widgets is supported.');\r\n      }\r\n      var self = this;\r\n      options = _.extend({}, this.options, options);\r\n      if (options.includeToolItems) {\r\n        options.includeManifest = true;\r\n      }\r\n      var serverModulesPromise = this._resolveServerModules(options),\r\n          toolItemsPromise     = this._resolveToolItems(options),\r\n          toolItemMasksPromise = this._resolveToolItemMasks(options);\r\n      return $.when(serverModulesPromise, toolItemsPromise, toolItemMasksPromise)\r\n              .then(_.bind(this._resolveWidgets, this, options))\r\n              .then(function () {\r\n                var response = self.toJSON();\r\n                options.success && options.success(response, options);\r\n                self.trigger('sync', self, response, options);\r\n              });\r\n    },\r\n\r\n    _prepareModel: function (attrs, options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        includeView: this.options.includeView,\r\n        includeManifest: this.options.includeManifest,\r\n        includeServerModule: this.options.includeServerModule,\r\n        includeToolItems: this.options.includeToolItems\r\n      });\r\n      return WidgetCollection.__super__._prepareModel.call(this, attrs, options);\r\n    },\r\n\r\n    _resolveServerModules: function (options) {\r\n      var serverModules = options.serverModules;\r\n      if (serverModules || !options.includeServerModule) {\r\n        return $.Deferred().resolve().promise();\r\n      }\r\n      serverModules = options.serverModules = new ServerModuleCollection();\r\n      return serverModules.fetch({ignoreErrors: options.ignoreErrors !== false});\r\n    },\r\n\r\n    _resolveToolItems: function (options) {\r\n      var toolItems = options.toolItems;\r\n      if (toolItems || !options.includeToolItems) {\r\n        return $.Deferred().resolve().promise();\r\n      }\r\n      toolItems = options.toolItems = new ToolItemConfigCollection();\r\n      return toolItems.fetch({ignoreErrors: options.ignoreErrors !== false});\r\n    },\r\n\r\n    _resolveToolItemMasks: function (options) {\r\n      var toolItemMasks = options.toolItemMasks;\r\n      if (toolItemMasks || !options.includeToolItems) {\r\n        return $.Deferred().resolve().promise();\r\n      }\r\n      toolItemMasks = options.toolItemMasks = new ToolItemMaskCollection();\r\n      return toolItemMasks.fetch({ignoreErrors: options.ignoreErrors !== false});\r\n    },\r\n\r\n    _resolveWidgets: function (options) {\r\n      var resolvableModels = this.filter(function (model) {\r\n            // A resolvable widget must have an ID and it was already resolved\r\n            // neither with a success nor with a failure\r\n            return model.has('id') &&\r\n                   !(model.has('view') || model.has('manifest') || model.has('error'));\r\n          }),\r\n          promises = _.invoke(resolvableModels, 'fetch', {\r\n            ignoreErrors: options.ignoreErrors !== false,\r\n            ignoreManifestErrors: options.ignoreManifestErrors !== false,\r\n            includeView: options.includeView,\r\n            includeManifest: options.includeManifest,\r\n            includeServerModule: options.includeServerModule,\r\n            includeToolItems: options.includeToolItems,\r\n            serverModules: options.serverModules,\r\n            toolItems: options.toolItems,\r\n            toolItemMasks: options.toolItemMasks\r\n          });\r\n      return $.when.apply($, promises);\r\n    }\r\n\r\n  });\r\n\r\n  return WidgetCollection;\r\n\r\n});\r\n\n","csui.define('csui/models/zipanddownload/zipanddownload.preflight',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin'\r\n], function (module, _, $, Backbone, Url, ConnectableMixin, UploadableMixin) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    idAttribute: null\r\n  }, module.config());\r\n\r\n  var PreFlightModel = Backbone.Model.extend({\r\n\r\n    constructor: function PreFlightModel(attributes, options) {\r\n      attributes || (attributes = {});\r\n      options || (options = {});\r\n      this.options = options;\r\n\r\n      Backbone.Model.prototype.constructor.call(this, attributes, options);\r\n\r\n      this.options.connector = options.collection && options.collection.connector ||\r\n                               options.container && options.container.connector ||\r\n                               options.nodes.models && options.nodes.models[0].connector;\r\n      this.makeConnectable(options)\r\n          .makeUploadable(options);\r\n    },\r\n\r\n    urlBase: function () {\r\n      var queryString = \"\",\r\n          url         = this.options.connector.connection.url;\r\n      url = Url.combine(url, 'zipanddownload');\r\n\r\n      if (this.preflight) {\r\n        // Create a new permission model by POST\r\n        url = Url.combine(url, 'preflight', queryString);\r\n      } else {\r\n        url = Url.combine(url, queryString);\r\n      }\r\n      return url;\r\n    },\r\n\r\n    url: function () {\r\n      var url   = this.urlBase(),\r\n          query = null;\r\n      url = url.replace(\"/v1\", \"/v2\");\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      return response;\r\n    }\r\n  });\r\n  ConnectableMixin.mixin(PreFlightModel.prototype);\r\n  UploadableMixin.mixin(PreFlightModel.prototype);\r\n\r\n  return PreFlightModel;\r\n});\r\n\n","csui.define('csui/models/zipanddownload/zipanddownload.stages',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin'\r\n], function (_, $, Backbone, URL, ConnectableMixin) {\r\n  'use strict';\r\n\r\n  var StagesModel = Backbone.Model.extend({\r\n    constructor: function StageModel(attributes, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeConnectable(options);\r\n    },\r\n\r\n    url: function () {\r\n      var url = this.options.connector.connection.url.replace('/v1', '/v2');\r\n      return URL.combine(url, 'zipanddownload', this.get('id'));\r\n    },\r\n\r\n    parse: function (response) {\r\n      this.updateLocation(response.results.data.jobs);\r\n      return response.results.data.jobs;\r\n    },\r\n\r\n    updateLocation: function (jobs) {\r\n      if (jobs.complete && jobs.unprocessed_items_list && jobs.unprocessed_items_list.length > 0) {\r\n        _.each(jobs.unprocessed_items_list, function (model, value) {\r\n          if (model.path) {\r\n            var locations = model.path.split('\\\\');\r\n            if (locations.length > 0 && locations[locations.length - 1] !== \"\") {\r\n              model.parentLocation = locations[locations.length - 1];\r\n            } else if (locations.length > 0) {\r\n              model.parentLocation = locations[locations.length - 2];\r\n            }\r\n          }\r\n        });\r\n      }\r\n    }\r\n  });\r\n  ConnectableMixin.mixin(StagesModel.prototype);\r\n  return StagesModel;\r\n});\n","\n","csui.define('csui/utils/classic.nodes/classic.nodes',[\r\n  'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external Classic UI node rules\r\n  'csui-ext!csui/utils/classic.nodes/classic.nodes'\r\n], function (_, Backbone, Url, RulesMatchingMixin, rules) {\r\n  'use strict';\r\n\r\n  var ClassicNodeModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100,\r\n      url: null,\r\n      urlQuery: null,\r\n      force: false\r\n    },\r\n\r\n    constructor: function ClassicNodeModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(ClassicNodeModel.prototype);\r\n\r\n  var ClassicNodeCollection = Backbone.Collection.extend({\r\n    model: ClassicNodeModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function ClassicNodeCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByNode: function (node, options) {\r\n      var model = this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n      if (model) {\r\n        return {\r\n          url: this._getUrl(model, node, options),\r\n          forced: model.get('forced')\r\n        };\r\n      }\r\n    },\r\n\r\n    isForced: function (node, options) {\r\n      return this.some(function (item) {\r\n        return item.get('forced') &&\r\n               item.matchRules(node, item.attributes);\r\n      });\r\n    },\r\n\r\n    isSupported: function (node, options) {\r\n      return this.some(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    },\r\n\r\n    getUrl: function (node, options) {\r\n      var model = this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n      if (model) {\r\n        return this._getUrl(model, node, options);\r\n      }\r\n    },\r\n\r\n    _getUrl: function (model, node, options) {\r\n      var url = model.get('url');\r\n      if (url) {\r\n        // Receive a complete URL\r\n        if (typeof url === 'string') {\r\n          url = this._replaceParameters(url, node.attributes);\r\n        } else if (typeof url === 'function') {\r\n          url = url(node);\r\n        }\r\n      } else {\r\n        var urlQuery = model.get('urlQuery');\r\n        if (urlQuery) {\r\n          // Receive a URL query to be appended to the CGI URL\r\n          if (typeof urlQuery === 'string') {\r\n            urlQuery = this._replaceParameters(urlQuery, node.attributes);\r\n          } else if (typeof urlQuery === 'function') {\r\n            urlQuery = urlQuery(node);\r\n          }\r\n          var connector = options && options.connector || node.connector;\r\n          if (connector) {\r\n            url = new Url(connector.connection.url).getCgiScript();\r\n          } else {\r\n            url = '';\r\n          }\r\n          urlQuery = Url.combineQueryString(urlQuery);\r\n          url = Url.appendQuery(url, urlQuery);\r\n        }\r\n      }\r\n      return url;\r\n    },\r\n\r\n    _replaceParameters: function (expression, node) {\r\n      var attributes = node.attributes,\r\n          parameter = /{([^}]+)}/g,\r\n          match, names, value, index;\r\n      // Go over every parameter placeholder found\r\n      while ((match = parameter.exec(expression))) {\r\n        names = match[1].split('.');\r\n        value = attributes;\r\n        // Nested object property names are separated by dots\r\n        _.find(names, function (name) {\r\n          value = value[name];\r\n          if (value == null) {\r\n            value = '';\r\n            return true;\r\n          }\r\n        });\r\n        // Replace the placeholder with the value found\r\n        index = match.index;\r\n        expression = expression.substring(0, index) +\r\n                     encodeURIComponent(value) +\r\n                     expression.substring(index + match[0].length);\r\n      }\r\n      return expression;\r\n    }\r\n  });\r\n\r\n  var classicNodes = new ClassicNodeCollection();\r\n\r\n  if (rules) {\r\n    classicNodes.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return classicNodes;\r\n});\r\n\n","\n","csui.define('csui/utils/authenticators/authenticators',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external authenticator rules\r\n  'csui-ext!csui/utils/authenticators/authenticators'\r\n], function (_, Backbone, RulesMatchingMixin, rules) {\r\n  'use strict';\r\n\r\n  var AuthenticatorModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100,\r\n      authenticator: null\r\n    },\r\n\r\n    constructor: function AuthenticatorModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(AuthenticatorModel.prototype);\r\n\r\n  var AuthenticatorCollection = Backbone.Collection.extend({\r\n    model: AuthenticatorModel,\r\n    comparator: 'sequence',\r\n\r\n    constructor: function AuthenticatorCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.call(this, models, options);\r\n    },\r\n\r\n    findByConnection: function (connection) {\r\n      var rule = this.find(function (item) {\r\n        return item.matchRules(connection, item.attributes);\r\n      });\r\n      return rule && rule.get('authenticator');\r\n    }\r\n  });\r\n\r\n  var authenticators = new AuthenticatorCollection();\r\n\r\n  if (rules) {\r\n    authenticators.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return authenticators;\r\n});\r\n\n","csui.define('csui/utils/connector',[\r\n  'require', 'module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/lib/backbone', 'csui/utils/log', 'csui/utils/base',\r\n  'csui/utils/url', 'i18n', 'i18n!csui/utils/impl/nls/lang',\r\n  'csui/utils/authenticators/authenticators',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/lib/jquery.ajax-progress'\r\n], function (require, module, $, _, Backbone, log, base,\r\n  Url, i18n, lang, authenticators, UploadableMixin) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    connectionTimeout: undefined\r\n  }, module.config());\r\n\r\n  var pageUnloading = false;\r\n  $(window).bind('beforeunload.' + module.id, function (event) {\r\n    pageUnloading = true;\r\n  });\r\n\r\n  function Connector(options) {\r\n    this.connection = options.connection;\r\n    this.authenticator = options.authenticator;\r\n    if (!this.authenticator) {\r\n      var Authenticator = authenticators.findByConnection(this.connection);\r\n      if (!Authenticator) {\r\n        throw new Error(\r\n          'No authenticator found. Load csui-extensions.json to enable built-in authenticators.');\r\n      }\r\n      this.authenticator = new Authenticator();\r\n    }\r\n    // The connection is owned by the connector but the authenticator\r\n    // may be created by the client independently on the connector\r\n    // and passed in. The connection must come from the connector.\r\n    this.authenticator.connection = this.connection;\r\n    this.authenticator.connectionTimeout = this.connectionTimeout;\r\n    this.authenticationPending = false;\r\n    this.waitingRequests = [];\r\n    this.restartRequests = [];\r\n  }\r\n\r\n  function assignTo(model) {\r\n    // Allow multiple calls when connectable is mixed\r\n    // with node.connectable, for example\r\n    if (model.connector) {\r\n      if (model.connector === this) {\r\n        return;\r\n      }\r\n      // The sync() method cannot be overridden twice\r\n      throw new Error('Impossible to re-assign connector.');\r\n    }\r\n    model.connector = this;\r\n    return overrideBackboneSync.call(this, model);\r\n  }\r\n\r\n  function overrideBackboneSync(model) {\r\n    var self = this;\r\n    var originalSync = model.sync;\r\n    model.sync = function (method, model, options) {\r\n      var jqxhr;\r\n\r\n      function executeSync() {\r\n        // If we caught unload event earlier and now a new request is going\r\n        // to be executed, let's assume, that page unloading was cancelled\r\n        pageUnloading = false;\r\n\r\n        var restartRequest = {\r\n          execute: originalSync,\r\n          thisObj: model,\r\n          executeOptionsArray: [method, model, originalOptions]\r\n        };\r\n        self.extendAjaxOptions(options, restartRequest);\r\n        var originalOptions = _.clone(options);\r\n        _.extend(restartRequest, {\r\n          options: originalOptions,\r\n          deferred: options.deferred,\r\n          executeOptionsArray: [method, model, originalOptions]\r\n        });\r\n\r\n        // The options for the $.ajax() serve as the carrier of the\r\n        // deferred object; jQuery AJAX callbacks are on a lower level\r\n        // and  do not have access to the Backbone model.\r\n        var deferred = options.deferred;\r\n        jqxhr = originalSync.call(model, method, model, options)\r\n            .progress(deferred.notify)\r\n            .done(deferred.resolve)\r\n            .fail(function (request, message, statusText) {\r\n              if (request.status === 401) {\r\n                // request will be restarted, but still let listeners (blockingView, etc.) know\r\n                // to unblock correctly with its counter, etc.\r\n                model.trigger('error');\r\n              } else {\r\n                // Let the promise akceptors wait forever on page unload\r\n                if (!pageUnloading) {\r\n                  deferred.reject(request, message, statusText);\r\n                }\r\n              }\r\n            });\r\n        return addAbort(deferred.promise());\r\n      }\r\n\r\n      function addAbort(promise) {\r\n        // extend the locally created promise with an additional abort method\r\n        // not to break the Backbone.sync contract - it returns the jqxhr\r\n        // object, which includes not only the promise methods, but also AJAX\r\n        // call controlling methods like abort\r\n        promise.abort = function () {\r\n          // If noabort method exists, the model either does not support it\r\n          // or the request was aborted while still in the waiting queue\r\n          if (jqxhr.abort) {\r\n            jqxhr.abort();\r\n          }\r\n          return this;\r\n        };\r\n        return promise;\r\n      }\r\n\r\n      if (self.authenticator.isAuthenticated()) {\r\n        return executeSync();\r\n      }\r\n\r\n      var executor = {\r\n        execute: executeSync,\r\n        deferred: $.Deferred()\r\n      };\r\n      self.waitingRequests.push(executor);\r\n\r\n      authenticate.call(self, function success() {\r\n        executeWaitingRequests.call(self);\r\n      }, function fail(error) {\r\n        cancelWaitingRequests.call(self);\r\n        reportError(error);\r\n      });\r\n\r\n      return addAbort(executor.deferred.promise());\r\n    };\r\n    return this;\r\n  }\r\n\r\n  function getConnectionUrl() {\r\n    return new Url(this.connection.url);\r\n  }\r\n\r\n  function extendAjaxOptions(options, restartRequest) {\r\n    options.headers || (options.headers = {});\r\n    _.extend(options.headers, this.connection.headers);\r\n    _.extend(options.headers, {\r\n      'Accept-Language': i18n.settings.locale\r\n    });\r\n    this.authenticator.setAuthenticationHeaders(options.headers);\r\n    options.timeout = this.connectionTimeout;\r\n    // jQuery doesn't notify the promises about the data transfer\r\n    // progress; we do it by our progress event handler below and\r\n    // just relay the other promise events as they come.\r\n    options.deferred = $.Deferred();\r\n\r\n    var self = this;\r\n    var originalOptions;\r\n\r\n    var beforeSend = options.beforeSend;\r\n    options.beforeSend = function (request, settings) {\r\n      // Progress event handler doesn't have access to the the jQuery AJAX\r\n      // object; let's use the options in this scope as its carrier.\r\n      options.request = request;\r\n      request.settings = settings;\r\n      if (self.reportSending) {\r\n        self.reportSending(request, settings);\r\n      }\r\n      if (beforeSend) {\r\n        beforeSend(request, settings);\r\n      }\r\n      // There's no progress event at the very start of uploading; it may be\r\n      // useful to be notified about it though.  jQuery promises have no\r\n      // start event; just notify and done, that's why we send one extra\r\n      // notification with non-computable length to notify about the very\r\n      // start.\r\n      options.progress({\r\n        lengthComputable: false,\r\n        beforeSend: true\r\n      });\r\n    };\r\n\r\n    var progress = options.progress;\r\n    options.progress = function (event) {\r\n      if (self.reportProgress) {\r\n        self.reportProgress(event, options.request);\r\n      }\r\n      if (progress) {\r\n        progress(event);\r\n      }\r\n      // jQuery doesn't notify the promises about the data transfer progress.\r\n      options.deferred.notify(event, options.request);\r\n    };\r\n\r\n    var success = options.success;\r\n    options.success = function (data, result, request) {\r\n      self.authenticator.updateAuthenticatedSession(request);\r\n      self._succeeded = true;\r\n      if (self.reportSuccess) {\r\n        self.reportSuccess(request);\r\n      }\r\n\r\n      if (success) {\r\n        success(data, result, request);\r\n      }\r\n    };\r\n\r\n    var error = options.error;\r\n    options.error = function (request, message, statusText) {\r\n      // Do not report any errors when the page is unloading; aborted AJAX\r\n      // calls are expected to fail silently\r\n      if (pageUnloading) {\r\n        return;\r\n      }\r\n\r\n      function reportError() {\r\n        // Ensure a readable message, when the posted object is obsolete.\r\n        if (request.status == 409) {\r\n          setConflictMessage(request);\r\n        }\r\n        if (self.reportError) {\r\n          self.reportError(request);\r\n        }\r\n        if (error) {\r\n          error(request, message, statusText);\r\n        }\r\n      }\r\n\r\n      if (request.status == 401) {\r\n        var requestObj = restartRequest || {\r\n              options: originalOptions,\r\n              deferred: options.restartDeferred || options.deferred,\r\n              execute: $.ajax,\r\n              thisObj: undefined,\r\n              executeOptionsArray: [originalOptions]\r\n            };\r\n        self.restartRequests.push(requestObj);\r\n        // in case of OTDS SSO, automatically reauthenticate and restart the request again\r\n        self.authenticator.unauthenticate({reason: 'logged-out'});  // clear expired session\r\n        self.authenticator.authenticate(function () {  // success\r\n          executeRestartRequests.call(self);\r\n        }, function (error) {  // failure\r\n          self.restartRequests = [];\r\n          // If the user refuses to reload the page to sign in again, that\r\n          // question will not be asked anymore.  Only error messages will\r\n          // continue showing.\r\n          if (!self.confirmingReload) {\r\n            self.confirmingReload = true;\r\n            var failure     = new base.RequestErrorMessage(request),\r\n                dialogTitle = self._succeeded ? lang.SessionExpiredDialogTitle :\r\n                              lang.AuthenticationFailureDialogTitle;\r\n            log.warn(failure) && console.warn(log.last);\r\n\r\n            require(['csui/dialogs/modal.alert/modal.alert'], function (alertDialog) {\r\n              alertDialog\r\n                .showWarning(lang.AuthenticationFailureDialogText, dialogTitle, {\r\n                  buttons: alertDialog.buttons.Ok\r\n                })\r\n                .always(function () {\r\n                  self.authenticator.unauthenticate({reason: 'expired'});\r\n                });\r\n            });\r\n          }\r\n        });\r\n      } else {\r\n        reportError();\r\n      }\r\n    };\r\n\r\n    originalOptions = _.clone(options);\r\n    return options;\r\n  }\r\n\r\n  function formatAjaxData(data) {\r\n    data = JSON.stringify(data);\r\n    return UploadableMixin.useJSON || UploadableMixin.mock ?\r\n           data : {body: data};\r\n  }\r\n\r\n  function getAjaxContentType() {\r\n    return UploadableMixin.useJSON || UploadableMixin.mock ?\r\n           'application/json' : 'application/x-www-form-urlencoded';\r\n  }\r\n\r\n  function makeAjaxCall(options) {\r\n    options = this.extendAjaxOptions(options);\r\n    var method = options.method || options.type || 'GET',\r\n        data = options.data;\r\n    if (data) {\r\n      if (method === 'GET') {\r\n        // Normalize the request, so that the parameters are always in\r\n        // the URL query, to make the request mockable by mockjax\r\n\t\t    if (typeof data !== 'string') {\r\n          data = $.param(data, true);\r\n\t\t    }\r\n        var url = options.url || location.href;\r\n        url += url.indexOf('?') >= 0 ? '&' : '?';\r\n        url += data;\r\n        delete options.data;\r\n      } else {\r\n        var contentType = options.contentType;\r\n        if (data instanceof FormData) {\r\n          // Unless set by the caller, ensure the MIME type, which can\r\n          // accomodate both primitive and file fields\r\n          if (contentType === undefined) {  // Note: 'false' is a valid value, don't change it\r\n            options.contentType = 'multipart/form-data';\r\n          }\r\n          options.processData = false;\r\n        } else {\r\n          // Unless serialized to string by the caller, wither serialize\r\n          // to application/json or application/x-www-form-urlencoded,\r\n          // depending on the server capabilities\r\n          if (typeof data !== 'string') {\r\n            options.data = formatAjaxData(data);\r\n          }\r\n          if (contentType === undefined) {  // Note: 'false' is a valid value, don't change it\r\n            options.contentType = getAjaxContentType();\r\n          }\r\n        }\r\n      }\r\n    }\r\n\r\n    var deferred = $.Deferred();\r\n    _.extend(options, {restartDeferred: deferred});\r\n    $.ajax(options)\r\n        .progress(deferred.notify)\r\n        .done(deferred.resolve)\r\n        .fail(function (request, message, statusText) {\r\n          if (request.status !== 401) {\r\n            // Let the promise akceptors wait forever on page unload\r\n            if (!pageUnloading) {\r\n              deferred.reject(request, message, statusText);\r\n            }\r\n          }\r\n        });\r\n    return deferred.promise();\r\n  }\r\n\r\n  function executeRestartRequests() {\r\n    var self = this;\r\n    var executors = this.restartRequests.slice(0);\r\n    this.restartRequests = [];\r\n    _.each(executors, function (executor) {\r\n      self.extendAjaxOptions(executor.options);\r\n      executor.execute.apply(executor.thisObj, executor.executeOptionsArray)\r\n          .progress(executor.deferred.notify)\r\n          .done(executor.deferred.resolve)\r\n          .fail(function (request, message, statusText) {\r\n            // Let the promise akceptors wait forever on page unload\r\n            if (!pageUnloading) {\r\n              executor.deferred.reject(request, message, statusText);\r\n            }\r\n          });\r\n    });\r\n  }\r\n\r\n  function executeWaitingRequests() {\r\n    var executors = this.waitingRequests.slice(0);\r\n    this.waitingRequests = [];\r\n    _.each(executors, function (executor) {\r\n      executor.execute()\r\n        .progress(executor.deferred.notify)\r\n        .done(executor.deferred.resolve)\r\n        .fail(function (request, message, statusText) {\r\n          // Let the promise akceptors wait forever on page unload\r\n          if (!pageUnloading) {\r\n            executor.deferred.reject(request, message, statusText);\r\n          }\r\n        });\r\n    });\r\n  }\r\n\r\n  function cancelWaitingRequests() {\r\n    var executors = this.waitingRequests.slice(0);\r\n    this.waitingRequests = [];\r\n    _.each(executors, function (executor) {\r\n      executor.deferred.reject();\r\n    });\r\n  }\r\n\r\n  function authenticate(success, failure) {\r\n    if (!this.authenticationPending) {\r\n      this.authenticationPending = true;\r\n      var self = this;\r\n      this.authenticator.authenticate(function () {\r\n          self.authenticationPending = false;\r\n          success();\r\n        }, function (error) {\r\n          self.authenticationPending = false;\r\n          failure(error);\r\n        });\r\n    }\r\n  }\r\n\r\n  function reportSending(request, settings) {\r\n    if (request && settings) {\r\n      log.debug('Sending request as {0} to {1}.', settings.type, settings.url) &&\r\n      console.log(log.last);\r\n    }\r\n  }\r\n\r\n  function reportProgress(event, request) {\r\n    var progress = event.lengthComputable ? _.str.sformat(\r\n      '{0} from {1} bytes transferred', event.loaded, event.total) :\r\n                   event.beforeSend ? 'connection opened' : 'no information';\r\n    log.debug('Progress of {0} from {1}: {2}.', request.settings.type,\r\n      request.settings.url, progress) && console.log(log.last);\r\n  }\r\n\r\n  function reportSuccess(request) {\r\n    if (request && request.settings) {\r\n      log.debug('Receiving response for {0} from {1}.', request.settings.type,\r\n        request.settings.url) && console.log(log.last);\r\n    }\r\n  }\r\n\r\n  function reportError(request, error) {\r\n    if (!error) {\r\n      if (request instanceof Error) {\r\n        error = request;\r\n        request = undefined;\r\n      } else {\r\n        error = new base.RequestErrorMessage(request);\r\n      }\r\n    }\r\n    if (request && request.settings) {\r\n      log.warn('{0} request to {1} failed:', request.settings.type, request.settings.url) &&\r\n      console.warn(log.last);\r\n    }\r\n    log.warn(error) && console.warn(log.last);\r\n    base.MessageHelper.addMessage(error.toString());\r\n  }\r\n\r\n  function requestContentAuthToken(node) {\r\n    // TODO: Refactor this to be able to share the code with the connector\r\n    // above.  And have a look how to share more with the authenticator too.\r\n    var attributes = base.isBackbone(node) ? node.attributes : node,\r\n        url        = Url.combine(this.connection.url, 'contentauth?id=' + attributes.id),\r\n        headers    = _.extend({\r\n          'Accept-Language': i18n.settings.locale\r\n        }, this.connection.headers);\r\n    this.authenticator.setAuthenticationHeaders(headers);\r\n    return $.ajax({\r\n      type: 'GET',\r\n      url: url,\r\n      headers: headers,\r\n      timeout: this.connectionTimeout,\r\n      context: this,\r\n      beforeSend: _.bind(function (request, settings) {\r\n        request.settings = settings;\r\n        if (this.reportSending) {\r\n          this.reportSending(request, settings);\r\n        }\r\n      }, this),\r\n      success: _.bind(function (data, result, request) {\r\n        this.authenticator.updateAuthenticatedSession(request);\r\n        if (this.reportSuccess) {\r\n          this.reportSuccess(request);\r\n        }\r\n      }, this),\r\n      error: _.bind(function (request, message, statusText) {\r\n        if (this.reportError) {\r\n          this.reportError(request);\r\n        }\r\n      }, this)\r\n    });\r\n  }\r\n\r\n  function setConflictMessage(request) {\r\n    if (request.responseText) {\r\n      try {\r\n        request.responseJSON = JSON.parse(request.responseText);\r\n      } catch (failure) {\r\n        log.warn(\"Parsing error response failed: {0}.\", failure)\r\n        && console.warn(log.last);\r\n      }\r\n    }\r\n    if (request.responseJSON) {\r\n      var data = request.responseJSON;\r\n      data.error = lang.resourceConflict;\r\n      request.responseText = JSON.stringify(data);\r\n    }\r\n  }\r\n\r\n  _.extend(Connector.prototype, Backbone.Events, {\r\n    constructor: Connector,\r\n    // Makes a Backbone model working with the REST API connector.\r\n    assignTo: assignTo,\r\n    // Returns a URL object with convenience methods like getApiBase,\r\n    // which wraps the connection.url\r\n    getConnectionUrl: getConnectionUrl,\r\n    // Prepares options for the Backbone fetch method to work\r\n    // with the REST API connector. It can be used for custom models.\r\n    extendAjaxOptions: extendAjaxOptions,\r\n    // Deprecated and to be removed.\r\n    extendFetchOptions: extendAjaxOptions,\r\n    // Preprocess the data property in $.ajax options, so that CS\r\n    // can accept JSON in POST and PUT requests\r\n    formatAjaxData: formatAjaxData,\r\n    // Returns the correct content type for $.ajax options, so that CS\r\n    // can accept JSON in POST and PUT requests\r\n    getAjaxContentType: getAjaxContentType,\r\n    // Shortens making an ajax call by applying extendAjaxOptions,\r\n    // formatAjaxData and getAjaxContentType together and callig $.ajax.\r\n    makeAjaxCall: makeAjaxCall,\r\n    // Overridables to extend or replace logging and/or error reporting.\r\n    reportSending: reportSending,\r\n    reportProgress: reportProgress,\r\n    reportSuccess: reportSuccess,\r\n    reportError: reportError,\r\n    // Other utility methods and properties.\r\n    requestContentAuthToken: requestContentAuthToken,\r\n    connectionTimeout: config.connectionTimeout,\r\n    // authentication\r\n    authenticate: authenticate\r\n  });\r\n  Connector.version = '1.0';\r\n\r\n  return Connector;\r\n});\r\n\n","\n","csui.define('csui/utils/defaultactionitems',[\r\n  'csui/lib/underscore', 'csui/models/actionitems',\r\n  // Load and register external default action rules\r\n  'csui-ext!csui/utils/defaultactionitems'\r\n], function (_, ActionItemCollection, rules) {\r\n  'use strict';\r\n\r\n  var defaultActionItems = new ActionItemCollection();\r\n\r\n  if (rules) {\r\n    defaultActionItems.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return defaultActionItems;\r\n});\r\n\n","csui.define('csui/utils/authenticators/authenticator',[\r\n  'csui/lib/underscore', 'csui/lib/backbone'\r\n], function (_, Backbone) {\r\n  'use strict';\r\n\r\n  // Defines the authentication interface.\r\n  function Authenticator(options) {\r\n    this.connection = options && options.connection || {};\r\n  }\r\n\r\n  _.extend(Authenticator.prototype, Backbone.Events, {\r\n    authenticate: function (options, succeeded, failed) {\r\n      // Normalize input parameters, which are all optional.\r\n      if (typeof options === 'function') {\r\n        failed = succeeded;\r\n        succeeded = options;\r\n        options = undefined;\r\n      }\r\n      options || (options = {});\r\n\r\n      this.syncStorage(options.session);\r\n      if (this.doAuthenticate(options, succeeded, failed)) {\r\n        return this;\r\n      }\r\n\r\n      if (this.isAuthenticated()) {\r\n        if (succeeded) {\r\n          succeeded(this.connection);\r\n        }\r\n      } else {\r\n        var error = new Error('Missing authentication parameters.');\r\n        if (failed) {\r\n          failed(error, this.connection);\r\n        } else {\r\n          throw error;\r\n        }\r\n      }\r\n      return this;\r\n    },\r\n\r\n    doAuthenticate: function (options) {\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      return false;\r\n    },\r\n\r\n    syncStorage: function (session) {\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n    },\r\n\r\n    updateAuthenticatedSession: function (session) {\r\n    }\r\n  });\r\n\r\n  Authenticator.extend = Backbone.View.extend;\r\n\r\n  return Authenticator;\r\n});\r\n\n","csui.define('csui/utils/objectstorage',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\", \"csui/utils/log\", \"csui/lib/jquery\"\r\n], function (module, _, Backbone, log, $) {\r\n  'use strict';\r\n  function ObjectStorage() {\r\n    this.items = {};\r\n  }\r\n\r\n  _.extend(ObjectStorage.prototype,{\r\n    constructor: ObjectStorage,\r\n    setItem: function (k, v) {\r\n      this.items[k] = v;\r\n    },\r\n\r\n    getItem: function (k) {\r\n      return this.items[k];\r\n    },\r\n\r\n    removeItem: function (k) {\r\n      delete this.items[k];\r\n    }\r\n  });\r\n\r\n  return ObjectStorage;\r\n});\n","csui.define('csui/utils/namedstorage',[\"module\", \"csui/lib/underscore\", \"csui/lib/backbone\", \"csui/utils/log\",\r\n  \"csui/utils/objectstorage\"\r\n], function (module, _, Backbone, log, ObjectStorage) {\r\n\r\n  function NamedStorage(storage, name) {\r\n    this.storage = storage;\r\n    this.name = name;\r\n    try {\r\n      this.storage.setItem(\"testkey\",\"testvalue\");\r\n    } catch(e) {\r\n      this.os = new ObjectStorage();\r\n    }\r\n  }\r\n\r\n  _.extend(NamedStorage.prototype, Backbone.Events, {\r\n\r\n    constructor: NamedStorage,\r\n\r\n    get: function (key, value) {\r\n      return getContent.call(this)[key];\r\n    },\r\n\r\n    set: function (key, value) {\r\n      var content = getContent.call(this);\r\n      content[key] = value;\r\n      saveContent.call(this, content);\r\n    },\r\n\r\n    remove: function (key) {\r\n      var content = getContent.call(this);\r\n      delete content[key];\r\n      saveContent.call(this, content);\r\n    },\r\n\r\n    destroy: function () {\r\n      this.storage.removeItem(this.name);\r\n    }\r\n\r\n  });\r\n\r\n  function getContent() {\r\n    var content;\r\n    if (!!this.os) {\r\n      content = this.os.getItem(this.name);\r\n    } else {\r\n      content = this.storage && this.storage.getItem(this.name);\r\n    }\r\n    return (content && JSON.parse(content)) || {};\r\n  }\r\n\r\n  function saveContent(content) {\r\n    if(!!this.os) {\r\n      this.os.setItem(this.name, JSON.stringify(content));\r\n    } else {\r\n      this.storage && this.storage.setItem(this.name, JSON.stringify(content));\r\n    }\r\n  }\r\n\r\n  NamedStorage.extend = Backbone.View.extend;\r\n  NamedStorage.version = '1.0';\r\n\r\n  return NamedStorage;\r\n\r\n});\r\n\n","csui.define('csui/utils/namedsessionstorage',[\"module\", \"csui/utils/log\", \"csui/utils/namedstorage\"\r\n], function (module, log, NamedStorage) {\r\n\r\n  if (sessionStorage === undefined) {\r\n    log.warn(\"Session storage is not available.\" +\r\n             \"  Some information will not be able to save temporarily;\" +\r\n             \" authenticated state, for example.\") && console.warn(log.last);\r\n  }\r\n\r\n  var NamedSessionStorage = NamedStorage.extend({\r\n\r\n    constructor: function NamedSessionStorage(name) {\r\n      NamedStorage.prototype.constructor.call(this, sessionStorage, name);\r\n    }\r\n\r\n  });\r\n\r\n  NamedSessionStorage.version = '1.0';\r\n\r\n  return NamedSessionStorage;\r\n\r\n});\r\n\n","csui.define('csui/utils/authenticators/ticket.authenticator',[\r\n  'module', 'csui/lib/underscore', 'csui/utils/authenticators/authenticator',\r\n  'csui/utils/namedsessionstorage'\r\n], function (module, _, Authenticator, NamedSessionStorage) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n      .config['csui/utils/authenticator'] || {};\r\n  config = _.extend({\r\n    rememberTicket: true,\r\n    ticketHeader: 'OTCSTicket',\r\n    ticketExpirationHeader: 'OTCSTicketExpires'\r\n  }, config, module.config());\r\n  config.ticketHeader = config.ticketHeader.toLowerCase();\r\n  config.ticketExpirationHeader = config.ticketExpirationHeader.toLowerCase();\r\n\r\n  var storage = new NamedSessionStorage(module.id);\r\n\r\n  // Supports authentication using the explicit ticket provided\r\n  // in {session: titket}.\r\n  var TicketAuthenticator = Authenticator.extend({\r\n    constructor: function TicketAuthenticator(options) {\r\n      Authenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      this.connection.session = undefined;\r\n      if (config.rememberTicket) {\r\n        storage.remove(this.connection.url);\r\n      }\r\n      this.trigger('loggedOut', {\r\n        sender: this,\r\n        connection: this.connection,\r\n        reason: options && options.reason\r\n      });\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      var session = this.connection.session;\r\n      return !!(session && session.ticket);\r\n    },\r\n\r\n    syncStorage: function (session) {\r\n      session || (session = this.connection.session);\r\n      if (!session && config.rememberTicket) {\r\n        // no session -> try to get from session storage\r\n        session = storage.get(this.connection.url);\r\n      }\r\n      if (session) {\r\n        // session -> update\r\n        this.connection.session || (this.connection.session = {});\r\n        _.extend(this.connection.session, session);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n      var session = this.connection.session,\r\n          ticket = session && session.ticket;\r\n      if (ticket) {\r\n        headers[config.ticketHeader] = ticket;\r\n        return true;\r\n      }\r\n    },\r\n\r\n    updateAuthenticatedSession: function (data, request) {\r\n      data || (data = {});\r\n      if (!request && data.getResponseHeader) {\r\n        request = data;\r\n        data = {};\r\n      }\r\n      var ticket = data.ticket || request &&\r\n                   request.getResponseHeader(config.ticketHeader);\r\n      if (ticket) {\r\n        var session = this.connection.session ||\r\n                      (this.connection.session = {});\r\n        _.extend(session, {\r\n          ticket: ticket,\r\n          expires: data.expires || request &&\r\n                   request.getResponseHeader(config.ticketExpirationHeader)\r\n        });\r\n        if (config.rememberTicket) {\r\n          storage.set(this.connection.url, session);\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  return TicketAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/request.authenticator',[\r\n  'module', 'csui/lib/jquery', 'csui/lib/underscore',\r\n  'csui/utils/base', 'csui/utils/url', 'csui/utils/log',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/utils/authenticators/ticket.authenticator',\r\n  'csui/lib/jquery.parse.param'\r\n], function (module, $, _, base, Url, log, UploadableMixin,\r\n     TicketAuthenticator) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n  .config['csui/utils/requestauthenticator'] || {};\r\n  config = _.extend({\r\n    connectionTimeout: 60 * 1000\r\n  }, config, module.config());\r\n\r\n  // Performs authentication using an initial request, which is supposed to\r\n  // obtain the OTCSTicket.  Descendants decide what request and how to\r\n  // process its response.\r\n  var RequestAuthenticator = TicketAuthenticator.extend({\r\n    constructor: function RequestAuthenticator(options) {\r\n      TicketAuthenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    login: function (options, succeeded, failed) {\r\n      delete this.connection.session;\r\n      log.debug('Sending authentication request to {0}.', this.connection.url)\r\n      && console.log(log.last);\r\n      var settings = this.prepareRequest(options);\r\n      this.updateRequestBody(settings);\r\n      return this.makeRequest(settings, succeeded, failed);\r\n    },\r\n\r\n    prepareRequest: function (options) {\r\n      return options;\r\n    },\r\n\r\n    parseResponse: function (response, request) {\r\n      return response;\r\n    },\r\n\r\n    makeRequest: function (options, succeeded, failed) {\r\n      var headers = _.extend({}, this.connection.headers, options.headers);\r\n      return $.ajax(_.extend({\r\n        // TODO: Deprecate and remove this. This is an abstract object.\r\n        // Descendant authenticators should be used to make calls.\r\n        url: Url.combine(this.connection.url, 'auth'),\r\n\r\n        timeout: this.connectionTimeout,\r\n        context: this,\r\n\r\n        beforeSend: function (request, settings) {\r\n          request.settings = settings;\r\n        },\r\n\r\n        success: function (response, textStatus, request) {\r\n          log.debug('Receiving authentication response from {0}.', this.connection.url)\r\n          && console.log(log.last);\r\n          response = this.parseResponse(response, request);\r\n          if (this.authenticateSession(response, request)) {\r\n            if (succeeded) {\r\n              succeeded.call(this, this.connection);\r\n            }\r\n            this.trigger('loggedIn', {\r\n              sender: this,\r\n              connection: this.connection\r\n            });\r\n          }\r\n        },\r\n\r\n        error: function (request) {\r\n          var error = new base.RequestErrorMessage(request);\r\n          log.warn('Logging in to {0} failed:\\r\\n{1}',\r\n            this.connection.url, error) && console.warn(log.last);\r\n          if (failed) {\r\n            failed.call(this, error, this.connection);\r\n          }\r\n        }\r\n      }, options, {\r\n        headers: headers\r\n      }));\r\n    },\r\n\r\n    updateRequestBody: function (settings) {\r\n      var data;\r\n      if (UploadableMixin.useJSON || UploadableMixin.mock) {\r\n        if (settings.contentType !== 'application/json') {\r\n          settings.contentType = 'application/json';\r\n          data = settings.data;\r\n          if (typeof data === 'string') {\r\n            data = $.parseParam(data);\r\n          }\r\n          if (UploadableMixin.mock) {\r\n            settings.data = data;\r\n          } else {\r\n            settings.data = JSON.stringify(data);\r\n          }\r\n          settings.processData = false;\r\n        }\r\n      } else {\r\n        if (settings.contentType === 'application/json') {\r\n          settings.contentType = 'application/x-www-form-urlencoded';\r\n          data = settings.data;\r\n          if (typeof data === 'string') {\r\n            settings.data = JSON.parse(data);\r\n          }\r\n          if (UploadableMixin.mock) {\r\n            settings.data = data;\r\n          }\r\n          settings.processData = true;\r\n        }\r\n      }\r\n    },\r\n\r\n    authenticateSession: function (response, request) {\r\n      if (response && response.ticket) {\r\n        if (request && request.settings && request.settings.data) {\r\n          log.info('Logging in to {0} as {1} succeeded.',\r\n              this.connection.url, request.settings.data.username)\r\n          && console.log(log.last);\r\n        }\r\n        this.updateAuthenticatedSession(response, request);\r\n        return true;\r\n      }\r\n      return true;\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      var first = this.isAuthenticated();\r\n      TicketAuthenticator.prototype.unauthenticate.apply(this, arguments);\r\n      if (first) {\r\n        this.trigger('loggedOut', {\r\n          sender: this,\r\n          connection: this.connection,\r\n          reason: options && options.reason\r\n        });\r\n      }\r\n      return this;\r\n    },\r\n\r\n    connectionTimeout: config.connectionTimeout\r\n  });\r\n\r\n  return RequestAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/server.adaptors/initial.header.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url',\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        prepareRequest: function (options) {\r\n          // Allow calling the login() method directly with partial\r\n          // request settings overriding the authenticator defaults.\r\n          var headers = options && options.headers ||\r\n                        this.connection.authenticationHeaders;\r\n          return {\r\n            url: Url.combine(this.connection.url, 'auth'),\r\n            headers: headers\r\n          };\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/utils/authenticators/initial.header.authenticator',[\r\n  'require', 'csui/utils/log',\r\n  'csui/utils/authenticators/request.authenticator',\r\n  'csui/utils/authenticators/server.adaptors/initial.header.mixin'\r\n], function (require, log, RequestAuthenticator, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var InitialHeaderAuthenticator = RequestAuthenticator.extend({\r\n    constructor: function InitialHeaderAuthenticator(options) {\r\n      RequestAuthenticator.prototype.constructor.call(this, options);\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var headers = options.headers ||\r\n                    this.connection.authenticationHeaders,\r\n          self = this;\r\n      if (headers) {\r\n        this.connection.authenticationHeaders = headers;\r\n        this.login({}, succeeded, function (error, connection) {\r\n          self._reportError(error);\r\n          self.unauthenticate({reason: 'failed'});\r\n          if (failed) {\r\n            failed(error, connection);\r\n          }\r\n        });\r\n        return true;\r\n      }\r\n    },\r\n\r\n    authenticateSession: function (response, request) {\r\n      if (response && response.data) {\r\n        log.info('Logging in to {0} as {1} succeeded.',\r\n            this.connection.url, response.data.name)\r\n        && console.log(log.last);\r\n        this.updateAuthenticatedSession(request);\r\n        return true;\r\n      }\r\n    },\r\n\r\n    _reportError: function (error) {\r\n      require(['csui/dialogs/modal.alert/modal.alert'\r\n      ], function (ModalAlert) {\r\n        ModalAlert.showError(error.toString());\r\n      });\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(InitialHeaderAuthenticator.prototype);\r\n\r\n  return InitialHeaderAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/headerauthenticator',[\r\n  'csui/utils/authenticators/initial.header.authenticator'\r\n], function (InitialHeaderAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation.\r\n  return InitialHeaderAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/interactive.credentials.authenticator',[\r\n  'require', 'module', 'csui/lib/underscore',\r\n  'csui/utils/authenticators/request.authenticator'\r\n], function (require, module, _, RequestAuthenticator) {\r\n  'use strict';\r\n\r\n  // Warns, that the developer did not specify any authentication ticket\r\n  // or other header.  There is no interactive authentication in CS UI\r\n  // Widgets.  Integrators have to authenticate, preferably by SSO.\r\n  var InteractiveCredentialsAuthenticator = RequestAuthenticator.extend({\r\n    constructor: function InteractiveCredentialsAuthenticator(options) {\r\n      RequestAuthenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    authenticate: function (options, succeeded, failed) {\r\n      // Normalize input parameters, which are all optional.\r\n      if (typeof options === 'function') {\r\n        failed = succeeded;\r\n        succeeded = options;\r\n        options = undefined;\r\n      }\r\n\r\n      RequestAuthenticator.prototype.authenticate.call(this, options,\r\n          succeeded, _.bind(this.openSignInDialog, this, succeeded));\r\n    },\r\n\r\n    openSignInDialog: function (succeeded) {\r\n      if (this.reauthenticating) {\r\n        return;\r\n      }\r\n      var self = this;\r\n      self.reauthenticating = true;\r\n      require([\r\n        'csui/utils/impl/signin.dialog/signin.dialog', 'csui/controls/progressblocker/blocker'\r\n      ], function (SignInDialog, BlockingView) {\r\n        var dialog = new SignInDialog({\r\n          connection: self.connection\r\n        });\r\n        BlockingView.suppressAll();\r\n        dialog.show()\r\n              .done(function (args) {\r\n                self.connection.session = args.session;\r\n                self.reauthenticating = false;\r\n                BlockingView.resumeAll();\r\n                succeeded(self.connection);\r\n              });\r\n      });\r\n    }\r\n  });\r\n\r\n  return InteractiveCredentialsAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/interactiveauthenticator',[\r\n  'csui/utils/authenticators/interactive.credentials.authenticator'\r\n], function (InteractiveCredentialsAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation.\r\n  return InteractiveCredentialsAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/namedlocalstorage',[\"module\", \"csui/utils/log\", \"csui/utils/namedstorage\"\r\n], function (module, log, NamedStorage) {\r\n\r\n  if (localStorage === undefined) {\r\n    log.warn(\"Local storage is not available.\" +\r\n             \"  Some information will not be able to be persisted;\" +\r\n             \" expanded/collapsed state of facet filters, for example.\") &&\r\n    console.warn(log.last);\r\n  }\r\n\r\n  var NamedLocalStorage = NamedStorage.extend({\r\n\r\n    constructor: function NamedLocalStorage(name) {\r\n      NamedStorage.prototype.constructor.call(this, localStorage, name);\r\n    }\r\n\r\n  });\r\n\r\n  NamedLocalStorage.version = '1.0';\r\n\r\n  return NamedLocalStorage;\r\n\r\n});\r\n\n","csui.define('csui/utils/page.leaving.blocker',['module', 'csui/lib/jquery'], function (module, $) {\r\n\r\n  var listenerRegistered,\r\n      forceDisabled,\r\n      messages = [],\r\n\r\n      PageLeavingBlocker = {\r\n\r\n        isEnabled: function () {\r\n          return !forceDisabled && messages.length;\r\n        },\r\n\r\n        enable: function (message) {\r\n          // The most recent message will be shown, when the user\r\n          // tries to leave the page\r\n          messages.unshift(message);\r\n          ensureListener();\r\n        },\r\n\r\n        disable: function () {\r\n          messages.shift();\r\n        },\r\n\r\n        forceDisable: function () {\r\n          forceDisabled = true;\r\n        }\r\n\r\n      };\r\n\r\n  function ensureListener() {\r\n    if (!listenerRegistered) {\r\n      listenerRegistered = true;\r\n      $(window).bind('beforeunload.' + module.id, function (event) {\r\n        if (PageLeavingBlocker.isEnabled()) {\r\n          var message = messages[0];\r\n          if (event) {\r\n            event.originalEvent.returnValue = message; // Gecko, Trident, Chrome 34+\r\n          }\r\n          return message; // Gecko, WebKit, Chrome <34\r\n        }\r\n      });\r\n    }\r\n  }\r\n\r\n  return PageLeavingBlocker;\r\n\r\n});\r\n\n","csui.define('csui/utils/requestauthenticator',[\r\n  'csui/utils/authenticators/request.authenticator'\r\n], function (RequestAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of using\r\n  // the new one.\r\n  return RequestAuthenticator;\r\n});\r\n\n","\n","csui.define('csui/utils/smart.nodes/smart.nodes',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external Smart UI node rules\r\n  'csui-ext!csui/utils/smart.nodes/smart.nodes'\r\n], function (_, Backbone, RulesMatchingMixin, rules) {\r\n  'use strict';\r\n\r\n  var SmartNodeModel = Backbone.Model.extend({\r\n    defaults: {\r\n      sequence: 100\r\n    },\r\n\r\n    constructor: function SmartNodeModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(SmartNodeModel.prototype);\r\n\r\n  var SmartNodeCollection = Backbone.Collection.extend({\r\n    model: SmartNodeModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function SmartNodeCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    isSupported: function (node, options) {\r\n      return this.some(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    }\r\n  });\r\n\r\n  var smartNodes = new SmartNodeCollection();\r\n\r\n  if (rules) {\r\n    smartNodes.add(_.flatten(rules, true));\r\n  }\r\n\r\n  return smartNodes;\r\n});\r\n\n","csui.define('csui/utils/authenticators/server.adaptors/basic.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        prepareRequest: function (options) {\r\n          // Allow calling the login() method directly with partial\r\n          // request settings overriding the authenticator defaults.\r\n          var credentials = options && options.data ||\r\n                            this.connection.credentials;\r\n          return {\r\n            url: Url.combine(this.connection.url, 'auth'),\r\n            headers: {\r\n              authorization: this.formatAuthorizationHeader(credentials)\r\n            }\r\n          };\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/utils/authenticators/basic.authenticator',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/base',\r\n  'csui/utils/url', 'csui/utils/log', 'csui/utils/namedsessionstorage',\r\n  'csui/utils/authenticators/authenticator',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/utils/authenticators/server.adaptors/basic.mixin'\r\n], function (module, _, $, base, Url, log, NamedSessionStorage,\r\n    Authenticator, UploadableMixin, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    rememberCredentials: true\r\n  }, module.config());\r\n\r\n  var storage = new NamedSessionStorage(module.id);\r\n\r\n  // Authenticates the requests using the Base Authentication standard;\r\n  // by sending encoded credentials in every request.\r\n  var BasicAuthenticator = Authenticator.extend({\r\n    constructor: function BasicAuthenticator(options) {\r\n      Authenticator.prototype.constructor.call(this, options);\r\n      this.credentials = options && options.credentials;\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    check: function (options, succeeded, failed) {\r\n      log.debug('Checking credentials with {0}.', this.connection.url)\r\n      && console.log(log.last);\r\n      var settings = this.prepareRequest(options);\r\n      return this.makeRequest(settings, succeeded, failed);\r\n    },\r\n\r\n    prepareRequest: function (options) {\r\n      return options;\r\n    },\r\n\r\n    makeRequest: function (options, succeeded, failed) {\r\n      var headers = _.extend({}, this.connection.headers, options.headers);\r\n      return $.ajax(_.extend({\r\n        timeout: this.connectionTimeout,\r\n        context: this,\r\n\r\n        beforeSend: function (request, settings) {\r\n          request.settings = settings;\r\n        },\r\n\r\n        success: function (response, textStatus, request) {\r\n          log.debug('Receiving credentials-checking response from {0}.',\r\n              this.connection.url) && console.log(log.last);\r\n          this.doAuthenticate(options);\r\n          if (succeeded) {\r\n            succeeded(this.connection);\r\n          }\r\n          this.trigger('loggedIn', {\r\n            sender: this,\r\n            connection: this.connection\r\n          });\r\n        },\r\n\r\n        error: function (request) {\r\n          var error = new base.RequestErrorMessage(request);\r\n          log.warn('Check credentials with {0} failed:\\r\\n{1}',\r\n            this.connection.url, error) && console.warn(log.last);\r\n          if (failed) {\r\n            failed(error, this.connection);\r\n          }\r\n        }\r\n      }, options, {\r\n        headers: headers\r\n      }));\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var credentials = options.credentials ||\r\n                        this.credentials ||\r\n                        this.connection.credentials;\r\n      if (credentials) {\r\n        this.connection.credentials = credentials;\r\n        if (config.rememberCredentials) {\r\n          storage.set(this.connection.url, credentials);\r\n        }\r\n      }\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      var first = this.isAuthenticated();\r\n      this.connection.credentials = undefined;\r\n      if (config.rememberCredentials) {\r\n        storage.remove(this.connection.url);\r\n      }\r\n      if (first) {\r\n        this.trigger('loggedOut', {\r\n          sender: this,\r\n          connection: this.connection,\r\n          reason: options && options.reason\r\n        });\r\n      }\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      return !!this.connection.credentials;\r\n    },\r\n\r\n    syncStorage: function () {\r\n      if (!this.connection.credentials && config.rememberCredentials) {\r\n        this.connection.credentials = storage.get(this.connection.url);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n      headers.authorization = this.formatAuthorizationHeader(\r\n        this.connection.credentials);\r\n    },\r\n\r\n    formatAuthorizationHeader: function (credentials) {\r\n      return 'Basic ' + btoa(unescape(encodeURIComponent(\r\n        credentials.username + ':' + credentials.password)));\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(BasicAuthenticator.prototype);\r\n\r\n  return BasicAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/server.adaptors/credentials.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        prepareRequest: function (options) {\r\n          // Allow calling the login() method directly with partial\r\n          // request settings overriding the authenticator defaults.\r\n          var credentials = options && options.data ||\r\n                            this.connection.credentials;\r\n          return {\r\n            type: 'POST',\r\n            url: Url.combine(this.connection.url, 'auth'),\r\n            data: {\r\n              username: credentials.username,\r\n              password: credentials.password,\r\n              domain: ''\r\n            }\r\n          };\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/utils/authenticators/credentials.authenticator',[\r\n  'require', 'csui/utils/authenticators/request.authenticator',\r\n  'csui/utils/authenticators/server.adaptors/credentials.mixin'\r\n], function (require, RequestAuthenticator, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  // Authenticates the requests using the Base Authentication standard;\r\n  // by sending encoded credentials in every request.\r\n  var CredentialsAuthenticator = RequestAuthenticator.extend({\r\n    constructor: function CredentialsAuthenticator(options) {\r\n      RequestAuthenticator.prototype.constructor.call(this, options);\r\n      this.credentials = options && options.credentials;\r\n      this.makeServerAdaptor(options);\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var credentials = options.credentials ||\r\n                        this.credentials ||\r\n                        this.connection.credentials,\r\n          self = this;\r\n      if (credentials) {\r\n        this.connection.credentials = credentials;\r\n        this.login({}, succeeded, function (error, connection) {\r\n          self._reportError(error);\r\n          self.unauthenticate({reason: 'failed'});\r\n          if (failed) {\r\n            failed(error, connection);\r\n          }\r\n        });\r\n        return true;\r\n      }\r\n    },\r\n\r\n    _reportError: function (error) {\r\n      require(['csui/dialogs/modal.alert/modal.alert'\r\n      ], function (ModalAlert) {\r\n        ModalAlert.showError(error.toString());\r\n      });\r\n    }\r\n  });\r\n\r\n  ServerAdaptorMixin.mixin(CredentialsAuthenticator.prototype);\r\n\r\n  return CredentialsAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/regular.header.authenticator',[\r\n  'module', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/utils/authenticators/authenticator', 'csui/utils/namedsessionstorage'\r\n], function (module, _, log, Authenticator, NamedSessionStorage) {\r\n  'use strict';\r\n\r\n  var config = _.extend({\r\n    rememberAuthenticationHeaders: true\r\n  }, module.config());\r\n\r\n  var storage = new NamedSessionStorage(module.id);\r\n\r\n  var RegularHeaderAuthenticator = Authenticator.extend({\r\n    constructor: function RegularHeaderAuthenticator(options) {\r\n      Authenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    doAuthenticate: function (options, succeeded, failed) {\r\n      var headers = options.headers ||\r\n                    this.connection.authenticationHeaders;\r\n      if (headers) {\r\n        this.connection.authenticationHeaders = headers;\r\n        if (config.rememberAuthenticationHeaders) {\r\n          storage.remove(this.connection.url);\r\n        }\r\n      }\r\n    },\r\n\r\n    unauthenticate: function (options) {\r\n      this.connection.authenticationHeaders = undefined;\r\n      if (config.rememberAuthenticationHeaders) {\r\n        storage.remove(this.connection.url);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    isAuthenticated: function () {\r\n      return !!this.connection.authenticationHeaders;\r\n    },\r\n\r\n    syncStorage: function () {\r\n      if (!this.connection.authenticationHeaders &&\r\n          config.rememberAuthenticationHeaders) {\r\n        this.connection.authenticationHeaders = storage.get(this.connection.url);\r\n      }\r\n      return this;\r\n    },\r\n\r\n    setAuthenticationHeaders: function (headers) {\r\n      _.extend(headers, this.connection.authenticationHeaders);\r\n    }\r\n  });\r\n\r\n  return RegularHeaderAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/redirecting.form.authenticator',[\r\n  'require', 'csui/lib/underscore', 'csui/utils/log',\r\n  'csui/utils/authenticators/ticket.authenticator'\r\n], function (require, _, log, TicketAuthenticator) {\r\n  'use strict';\r\n\r\n  // Warns, that the developer did not specify any authentication ticket\r\n  // or other header.  There is no interactive authentication in CS UI\r\n  // Widgets.  Integrators have to authenticate, preferably by SSO.\r\n  var RedirectingFormAuthenticator = TicketAuthenticator.extend({\r\n    constructor: function RedirectingFormAuthenticator(options) {\r\n      TicketAuthenticator.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    authenticate: function (options, succeeded, failed) {\r\n      // Normalize input parameters, which are all optional.\r\n      if (typeof options === 'function') {\r\n        failed = succeeded;\r\n        succeeded = options;\r\n        options = undefined;\r\n      }\r\n\r\n      TicketAuthenticator.prototype.authenticate.call(this, options,\r\n          succeeded, _.bind(this.initiateLoginSequence, this, succeeded));\r\n    },\r\n\r\n    initiateLoginSequence: function (succeeded) {\r\n      // this method is trying to reauthenticate with OTDS in the background\r\n      var self = this;\r\n      var timer, dialog, urlOrigin;\r\n\r\n      function createIFrame() {\r\n        require(['csui/lib/marionette', 'csui/controls/dialog/dialog.view', 'csui/utils/url'],\r\n            function (Marionette, DialogView, Url) {\r\n              var reauthPage = new Url(self.connection.url).getCgiScript() + '?func=csui.ticket';\r\n              urlOrigin = new Url(self.connection.url).getOrigin();\r\n\r\n              var iFrame = '<iframe width=\"100%\" height=\"100%\" src=\"' + reauthPage + '\"></iframe>';\r\n              var view = new Marionette.View({\r\n                el: iFrame\r\n              });\r\n\r\n              dialog = new DialogView({\r\n                standardHeader: false,\r\n                view: view,\r\n                fullSize: true\r\n              });\r\n              dialog.show();\r\n              dialog.$el.addClass('binf-hidden');\r\n              setDialogStyling();\r\n            });\r\n      }\r\n\r\n      function removeIFrame() {\r\n        self.reauthenticating = false;\r\n        resumeBlockingView();\r\n        dialog && dialog.destroy();\r\n        dialog = undefined;\r\n      }\r\n\r\n      function suppressBlockingView() {\r\n        require(['csui/controls/progressblocker/blocker'],\r\n            function (BlockingView) {\r\n              BlockingView.suppressAll();\r\n            });\r\n      }\r\n\r\n      function resumeBlockingView() {\r\n        require(['csui/controls/progressblocker/blocker'],\r\n            function (BlockingView) {\r\n              BlockingView.resumeAll();\r\n            });\r\n      }\r\n\r\n      function setDialogStyling() {\r\n        dialog.$el.css({'z-index': '1061'});  // higher than popover\r\n        dialog.$el.find('.binf-modal-content').css({'width': '100%', 'height': '100%'});\r\n        dialog.$el.find('.binf-modal-body').css({'width': '100%', 'height': '100%'});\r\n        dialog.$el.find('.binf-modal-header').addClass('binf-hidden');\r\n      }\r\n\r\n      function receiveMessage(event) {\r\n        if (event.origin !== urlOrigin) {\r\n          return;\r\n        }\r\n        if (event.data.ticket) {\r\n          log.debug('Redirecting Form Authenticator received new ticket.') && console.log(log.last);\r\n          window.removeEventListener('message', receiveMessage, false);\r\n          timer && clearTimeout(timer);\r\n          timer = undefined;\r\n          removeIFrame();\r\n          var session = self.connection.session || (self.connection.session = {});\r\n          session.ticket = event.data.ticket;\r\n          succeeded && succeeded(self.connection);\r\n        }\r\n      }\r\n\r\n      if (!this.reauthenticating) {\r\n        this.reauthenticating = true;\r\n        window.addEventListener('message', receiveMessage, false);\r\n        createIFrame();\r\n        // if the server doesn't response after a few seconds, show the OTDS page\r\n        timer = setTimeout(function () {\r\n          // show modal dialog containing the iFrame that shows the OTDS login page\r\n          if (dialog) {\r\n            dialog.$el.removeClass('binf-hidden');\r\n            setDialogStyling();\r\n            suppressBlockingView();\r\n          }\r\n        }, 3000);\r\n      }\r\n    }\r\n  });\r\n\r\n  return RedirectingFormAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/authenticators/core.authenticators',[\r\n  'module', 'csui/lib/underscore',\r\n  'csui/utils/authenticators/ticket.authenticator',\r\n  'csui/utils/authenticators/basic.authenticator',\r\n  'csui/utils/authenticators/credentials.authenticator',\r\n  'csui/utils/authenticators/regular.header.authenticator',\r\n  'csui/utils/authenticators/initial.header.authenticator',\r\n  'csui/utils/authenticators/interactive.credentials.authenticator',\r\n  'csui/utils/authenticators/redirecting.form.authenticator'\r\n], function (module, _, TicketAuthenticator, BasicAuthenticator,\r\n     CredentialsAuthenticator, RegularHeaderAuthenticator,\r\n     InitialHeaderAuthenticator, InteractiveCredentialsAuthenticator,\r\n     RedirectingFormAuthenticator) {\r\n  'use strict';\r\n\r\n  var config = window.csui.requirejs.s.contexts._.config\r\n      .config['csui/utils/interactiveauthenticator'] || {},\r\n      enableInteractiveAuthenticator = config.enabled;\r\n  config = _.extend({\r\n    // If there is no ticket, show a modal dialog with a login form and\r\n    // allow the user to enter credentials and get a ticket.\r\n    enableInteractiveAuthenticator: enableInteractiveAuthenticator !== false,\r\n    // If there is no ticket, try to get it using a request in a hidden\r\n    // iframe. Using response redirection it either posts back a ticket\r\n    // automatically, or it renders a login form and waits. The iframe\r\n    // will be shown to the user, who will log in manually and let the\r\n    // redirection to the pahe posting back tyhe ticket continue.\r\n    enableRedirectingFormAuthenticator: false,\r\n    // Even if there are no credentials, use Basic Authenticaton and hope\r\n    // for satisfying the authentication challenge later.\r\n    forceBasicAuthenticator: false,\r\n    // If credentials are provided, use Basic Authenticstion for all calls\r\n    // instead of making just an initial call with them to get a ticket.\r\n    preferBasicAuthenticator: false,\r\n    // If custom headers are provided, use them for all calls\r\n    // instead of making just an initial call with them to get a ticket.\r\n    preferRegularHeaderAuthenticator: false\r\n  }, module.config());\r\n\r\n  // If no custom authentication means are detected, authentication\r\n  // will assume the native ticket. There are two authenticators, which\r\n  // can be enabled to prompt for login, or fetch the ticket\r\n  // automatically, is it is missing.\r\n  var FallbackAuthenticator =\r\n    config.enableInteractiveAuthenticator ?\r\n      InteractiveCredentialsAuthenticator :\r\n      config.enableRedirectingFormAuthenticator ?\r\n        RedirectingFormAuthenticator :\r\n        TicketAuthenticator;\r\n\r\n  return [\r\n    {\r\n      authenticator: BasicAuthenticator,\r\n      sequence: 50,\r\n      decides: function (connection) {\r\n        return config.forceBasicAuthenticator ||\r\n               connection.credentials && config.preferBasicAuthenticator;\r\n      }\r\n    },\r\n    {\r\n      authenticator: RegularHeaderAuthenticator,\r\n      sequence: 50,\r\n      and: {\r\n        has: 'authenticationHeaders',\r\n        decides: function () {\r\n          return config.preferRegularHeaderAuthentication;\r\n        }\r\n      }\r\n    },\r\n    {\r\n      authenticator: CredentialsAuthenticator,\r\n      has: 'credentials'\r\n    },\r\n    {\r\n      authenticator: InitialHeaderAuthenticator,\r\n      has: 'authenticationHeaders'\r\n    },\r\n    {\r\n      sequence: 1000,\r\n      authenticator: FallbackAuthenticator\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/authenticator',[\r\n  'csui/utils/authenticators/ticket.authenticator'\r\n], function (TicketAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation, or using the new one.\r\n  return TicketAuthenticator;\r\n});\r\n\n","csui.define('csui/utils/basicauthenticator',[\r\n  'csui/utils/authenticators/credentials.authenticator'\r\n], function (CredentialsAuthenticator) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module in favour of depending\r\n  // on the connector automation.\r\n  return CredentialsAuthenticator;\r\n});\r\n\n","csui.define('bundles/csui-models',[\r\n  // Models\r\n  'csui/models/action',\r\n  'csui/models/actions',\r\n  'csui/models/actionitem',\r\n  'csui/models/actionitems',\r\n  'csui/models/addabletype',\r\n  'csui/models/addabletypes',\r\n  'csui/models/ancestor',\r\n  'csui/models/ancestors',\r\n  'csui/models/authenticated.user',\r\n  'csui/models/authenticated.user.node.permission',\r\n  'csui/models/authentication',\r\n  'csui/models/clientsidecollection',\r\n  'csui/models/column',\r\n  'csui/models/columns',\r\n  'csui/models/datadefinition',\r\n  'csui/models/datadefinitions',\r\n  'csui/models/favorite2',\r\n  'csui/models/favorite2group',\r\n  'csui/models/favorite2groups',\r\n  'csui/models/favorites2',\r\n  'csui/models/favorite2column',\r\n  'csui/models/favorite2columns',\r\n  'csui/models/favorite.model',\r\n  'csui/models/member',\r\n  'csui/models/member/member.model',\r\n  'csui/models/member/membercollection',\r\n  'csui/models/members',\r\n  'csui/models/node/node.addable.type.collection',\r\n  'csui/models/node/node.model',\r\n  'csui/models/node.children2/node.children2',\r\n  'csui/models/node.columns2',\r\n  'csui/models/nodeancestors',\r\n  'csui/models/nodechildrencolumn',\r\n  'csui/models/nodechildrencolumns',\r\n  'csui/models/nodechildren',\r\n  'csui/models/nodes',\r\n  'csui/models/permission/nodepermission.model',\r\n  'csui/models/permission/nodeuserpermissions',\r\n  'csui/models/tool.item.config/tool.item.config.collection',\r\n  'csui/models/tool.item.mask/tool.item.mask.collection',\r\n  'csui/models/server.module/server.module.collection',\r\n  'csui/models/specificnodemodel',\r\n\r\n  // Model mixins\r\n  'csui/models/browsable/browsable.mixin',\r\n  'csui/models/browsable/client-side.mixin',\r\n  'csui/models/browsable/v1.request.mixin',\r\n  'csui/models/browsable/v1.response.mixin',\r\n  'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/mixins/autofetchable/autofetchable.mixin',\r\n  'csui/models/mixins/commandable/commandable.mixin',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/expandable/expandable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/including.additional.resources/including.additional.resources.mixin',\r\n  'csui/models/mixins/node.autofetchable/node.autofetchable.mixin',\r\n  'csui/models/mixins/node.connectable/node.connectable.mixin',\r\n  'csui/models/mixins/node.resource/node.resource.mixin',\r\n  'csui/models/mixins/resource/resource.mixin',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  'csui/models/mixins/state.carrier/state.carrier.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/syncable.from.multiple.sources/syncable.from.multiple.sources.mixin',\r\n  'csui/models/mixins/uploadable/uploadable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/autofetchable',\r\n  'csui/models/connectable',\r\n  'csui/models/fetchable',\r\n  'csui/models/including.additional.resources',\r\n  'csui/models/nodeautofetchable',\r\n  'csui/models/nodeconnectable',\r\n  'csui/models/noderesource',\r\n  'csui/models/resource',\r\n  'csui/models/uploadable',\r\n  'csui/models/utils/v1tov2',\r\n  'csui/models/version',\r\n  'csui/models/version',\r\n  'csui/models/version',\r\n  'csui/models/widget/widget.collection',\r\n  'csui/models/widget/widget.model',\r\n  'csui/models/zipanddownload/zipanddownload.preflight',\r\n  'csui/models/zipanddownload/zipanddownload.stages',\r\n\r\n  // Utilities\r\n  'csui/utils/base',\r\n  'csui/utils/classic.nodes/classic.nodes',\r\n  'csui/utils/connector',\r\n  'csui/utils/defaultactionitems',\r\n  'csui/utils/promoted.actionitems',\r\n  'csui/utils/deepClone/deepClone',\r\n  'csui/utils/errormessage',\r\n  'csui/utils/headerauthenticator',\r\n  'csui/utils/interactiveauthenticator',\r\n  'csui/utils/log',\r\n  'csui/utils/messagehelper',\r\n  'csui/utils/namedlocalstorage',\r\n  'csui/utils/namedsessionstorage',\r\n  'csui/utils/namedstorage',\r\n  'csui/utils/nodesprites',\r\n  'i18n!csui/utils/impl/nls/lang',\r\n  'csui/utils/page.leaving.blocker',\r\n  'csui/utils/requestauthenticator',\r\n  'csui/utils/smart.nodes/smart.nodes',\r\n  'csui/utils/types/date',\r\n  'csui/utils/types/localizable',\r\n  'csui/utils/types/member',\r\n  'csui/utils/types/number',\r\n  'csui/utils/url',\r\n\r\n  // Authenticators\r\n  'csui/utils/authenticators/authenticator',\r\n  'csui/utils/authenticators/authenticators',\r\n  'csui/utils/authenticators/basic.authenticator',\r\n  'csui/utils/authenticators/core.authenticators',\r\n  'csui/utils/authenticators/credentials.authenticator',\r\n  'csui/utils/authenticators/initial.header.authenticator',\r\n  'csui/utils/authenticators/interactive.credentials.authenticator',\r\n  'csui/utils/authenticators/regular.header.authenticator',\r\n  'csui/utils/authenticators/request.authenticator',\r\n  'csui/utils/authenticators/ticket.authenticator',\r\n  'csui/utils/authenticator',\r\n  'csui/utils/basicauthenticator',\r\n  'csui/utils/headerauthenticator',\r\n  'csui/utils/interactiveauthenticator',\r\n  'csui/utils/requestauthenticator',\r\n\r\n  // Server Adaptors\r\n  // TODO: Move them to the csui-server-adaptors bundle.\r\n  'csui/models/authenticated.user/server.adaptor.mixin',\r\n  'csui/models/member/server.adaptor.mixin',\r\n  'csui/models/node/server.adaptor.mixin',\r\n  'csui/models/node.children/server.adaptor.mixin',\r\n  'csui/models/node.children2/server.adaptor.mixin',\r\n  'csui/utils/authenticators/server.adaptors/basic.mixin',\r\n  'csui/utils/authenticators/server.adaptors/credentials.mixin',\r\n  'csui/utils/authenticators/server.adaptors/initial.header.mixin'\r\n], {});\r\n\n"]}