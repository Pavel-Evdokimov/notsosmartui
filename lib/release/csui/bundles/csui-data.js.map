{"version":3,"sources":["../../src/utils/contexts/factories/factory.js","../../src/utils/contexts/factories/connector.js","../../src/utils/contexts/factories/next.node.js","../../src/utils/contexts/factories/search.query.factory.js","../../src/controls/tile/behaviors/impl/perfect.scrolling!css","../../src/controls/tile/behaviors/perfect.scrolling.behavior.js","../../src/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang.js","../../src/controls/globalmessage/impl/progresspanel/impl/nls/root/progresspanel.lang.js","../../src/controls/globalmessage/impl/progresspanel/impl/progresspanel!hbs","../../src/controls/globalmessage/impl/progresspanel/impl/progressbar!hbs","../../src/controls/globalmessage/impl/progresspanel/impl/progresspanel!css","../../src/controls/globalmessage/globalmessage_icons!css","../../src/controls/globalmessage/impl/progresspanel/progresspanel.view.js","../../src/controls/globalmessage/impl/nls/globalmessage.lang.js","../../src/controls/globalmessage/impl/nls/root/globalmessage.lang.js","../../src/controls/globalmessage/impl/messagedialog!hbs","../../src/controls/globalmessage/impl/messagedialog!css","../../src/controls/globalmessage/impl/messagedialog.view.js","../../src/controls/globalmessage/impl/custom.wrapper.view.js","../../src/controls/globalmessage/impl/loaderpanel/impl/loaderpanel!hbs","../../src/controls/globalmessage/impl/loaderpanel/impl/loaderpanel!css","../../src/controls/globalmessage/impl/loaderpanel/loaderpanel.view.js","../../src/controls/globalmessage/globalmessage.js","../../src/behaviors/default.action/impl/command.js","../../src/behaviors/default.action/impl/defaultaction.js","../../src/behaviors/default.action/default.action.behavior.js","../../src/controls/error/impl/error!hbs","../../src/controls/error/impl/error!css","../../src/controls/error/error.view.js","../../src/widgets/error/error.view.js","../../src/behaviors/widget.container/impl/nls/lang.js","../../src/behaviors/widget.container/impl/nls/root/lang.js","../../src/behaviors/widget.container/widget.container.behavior.js","../../src/controls/mixins/view.events.propagation/view.events.propagation.mixin.js","../../src/controls/grid/grid.view.js","../../src/controls/node-type.icon/impl/nls/lang.js","../../src/controls/node-type.icon/impl/nls/root/lang.js","hbs!csui/controls/node-type.icon/node-type.icon","../../src/controls/node-type.icon/node-type.icon.view.js","../../src/controls/progressblocker/impl/nls/lang.js","../../src/controls/progressblocker/impl/nls/root/lang.js","../../src/controls/progressblocker/impl/blocker!hbs","../../src/controls/progressblocker/impl/blocker!css","../../src/controls/progressblocker/blocker.js","../../src/controls/perspective.panel/perspective.animator.js","../../src/controls/perspective.panel/perspective.factory.js","../../src/controls/perspective.panel/impl/perspective.panel!css","../../src/controls/perspective.panel/perspective.panel.view.js","../../src/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin.js","../../src/controls/mixins/global.alert/global.alert.mixin.js","../../src/controls/tile/behaviors/blocking.behavior.js","../../src/controls/tile/behaviors/infinite.scrolling.behavior.js","../../src/controls/tile/behaviors/parent.scrollbar.updating.behavior.js","../../src/controls/tile/behaviors/impl/searching.behavior!hbs","../../src/controls/tile/behaviors/searching.behavior.js","../../src/behaviors/drag.drop/dnd.item.behaviour.js","../../src/behaviors/drag.drop/dnd.container.behaviour.js","../../src/perspectives/impl/nls/lang.js","../../src/perspectives/impl/nls/root/lang.js","../../src/perspectives/impl/nls/lang!i18n","../../src/perspectives/mixins/perspective.edit.mixin.js","../../src/perspectives/flow/impl/nls/lang.js","../../src/perspectives/flow/impl/nls/root/lang.js","../../src/perspectives/flow/impl/flow.perspective!css","../../src/perspectives/flow/flow.perspective.view.js","../../src/perspectives/grid/grid.perspective.view.js","../../src/pages/start/perspective.router.js","../../src/pages/start/perspective.routing.js","../../src/utils/contexts/factories/application.scope.factory.js","../../src/utils/contexts/factories/user.js","../../src/pages/start/nls/lang.js","../../src/pages/start/nls/root/lang.js","../../src/pages/start/nls/lang!i18n","../../src/pages/start/impl/nls/lang.js","../../src/pages/start/impl/nls/root/lang.js","../../src/pages/start/impl/nls/lang!i18n","../../src/pages/start/impl/landing.perspective.router.js","../../src/pages/start/impl/node.perspective.router.js","../../src/pages/start/impl/search.perspective.router.js","../../src/utils/classic.nodes/impl/core.classic.nodes.js","../../src/utils/content.helper.js","../../src/utils/handlebars/l10n.js","../../src/utils/impl/core.defaultactionitems.js","../../src/utils/node.links/impl/core.node.links.js","../../src/utils/open.authenticated.page.js","../../src/utils/smart.nodes/impl/core.smart.nodes.js","../../src/utils/contexts/factories/node.js","../../src/models/node/node.addable.type.factory.js","../../src/utils/contexts/context.js","../../src/utils/contexts/context.plugin.js","../../src/utils/contexts/impl/node.opening.context.js","../../src/utils/contexts/factories/previous.node.js","../../src/utils/contexts/impl/delayed.actions.for.node.js","../../src/utils/contexts/browsing/browsing.context!csui-ext","../../src/utils/contexts/browsing/browsing.context.js","../../src/utils/contexts/page/page.context!csui-ext","../../src/utils/contexts/page/page.context.js","../../src/utils/contexts/portal/portal.context!csui-ext","../../src/utils/contexts/portal/portal.context.js","../../src/utils/contexts/perspective/perspective.context.plugin.js","../../src/utils/contexts/perspective/landing.perspectives!csui-ext","../../src/utils/contexts/perspective/landing.perspectives.js","../../src/utils/contexts/perspective/impl/landing.perspective.context.plugin.js","../../src/utils/contexts/perspective/node.perspectives!csui-ext","../../src/utils/contexts/perspective/node.perspectives.js","../../src/utils/contexts/perspective/impl/node.perspective.context.plugin.js","../../src/utils/contexts/perspective/search.perspectives!csui-ext","../../src/utils/contexts/perspective/search.perspectives.js","../../src/utils/contexts/perspective/impl/search.perspective.context.plugin.js","../../src/utils/contexts/factories/global.error.js","../../src/utils/contexts/perspective/perspective.guide.js","../../src/utils/contexts/perspective/perspective.context!csui-ext","../../src/utils/contexts/perspective/perspective.context.js","../../src/utils/contexts/factories/ancestors.js","../../src/utils/contexts/factories/children.js","../../src/utils/contexts/factories/children2.js","../../src/utils/contexts/factories/columns.js","../../src/utils/contexts/factories/columns2.js","../../src/utils/contexts/factories/usernodepermission.js","../../src/utils/contexts/factories/volume.js","../../src/models/widget/nls/lang.js","../../src/models/widget/nls/root/lang.js","../../src/models/widget/nls/lang!i18n","../../src/models/widget/favorites.model.js","../../src/utils/contexts/factories/favorites.js","../../src/utils/contexts/factories/favoritescolumns.js","../../src/utils/contexts/factories/favorites2.js","../../src/utils/contexts/factories/favorite2groups.js","../../src/utils/contexts/factories/favorite2columns.js","../../src/models/widget/myassignments.model.js","../../src/utils/contexts/factories/myassignments.js","../../src/utils/contexts/factories/myassignmentscolumns.js","../../src/models/widget/recentlyaccessed/server.adaptor.mixin.js","../../src/models/widget/recentlyaccessed.model.js","../../src/utils/contexts/factories/recentlyaccessed.js","../../src/utils/contexts/factories/recentlyaccessedcolumns.js","../../src/utils/contexts/factories/member.js","../../src/models/widget/search.results/search.metadata/search.metadata.mixin.js","../../src/models/widget/search.results/search.metadata/search.metadata.items.js","../../src/models/widget/search.results/search.metadata/server.adaptor.mixin.js","../../src/models/widget/search.results/search.metadata/search.metadata.model.js","../../src/utils/contexts/factories/search.metadata.factory.js","../../src/utils/contexts/perspective/impl/perspectives/search.json!json","../../src/models/widget/search.box/server.adaptor.mixin.js","../../src/models/widget/search.box.model.js","../../src/utils/contexts/factories/search.box.factory.js","../../src/temporary/activeviews/icons/icons.js","../../src/temporary/appearances/icons/icons.js","../../src/temporary/cop/icons/icons!css","../../src/temporary/cop/icons/icons.js","csui-data.js","../../src/pages/start/impl/perspective.factory.js","../../src/pages/start/impl/perspective.router.js","../../src/pages/start/impl/perspective.panel/perspective.animator.js","../../src/pages/start/impl/perspective.panel/perspective.panel.view.js"],"names":["csui","define","Marionette","Controller","extend","constructor","context","options","this","propertyPrefix","module","_","ObjectFactory","Connector","prototype","apply","arguments","connector","config","connection","defaults","property","$","Backbone","ModelFactory","ConnectorFactory","NodeModel","commands","prefetch","exec","location","search","initialResourceFetched","nextNode","initialResponse","Model","getObject","creationOptions","fields","properties","versions.element(0)","expand","stateEnabled","getAllSignatures","attributes","isFetchable","fetch","promise","SearchQueryModel","__super__","toJSON","searchQuery","models","base","getOption","source","value","isFunction","call","view","usePerfectScrollbar","test","defaultPluginOptions","minScrollbarLength","stopPropagationOnClick","PerfectScrollingRegion","Region","_swapping","listenTo","_requestScrollbarUpdate","_parent","trigger","PerfectScrollingBehavior","Behavior","contentParent","_applyClasses","_useScrollbar","_usePerfectScrollbar","updateOnWindowResize","_renderState","listenToOnce","$el","on","cid","bind","_updateScrollbarFromPropagation","window","_updateScrollbar","off","unbind","_ensureScrollbar","_destroyScrollbar","_refreshScrollbar","CollectionView","collection","_resetTriggered","classes","_contentParent","_getContentParent","suppressScrollX","suppressScrollY","addClass","Error","Object","getPrototypeOf","name","_perfectScrollbar","perfectScrollbar","reduce","result","_setClickEventFocus","yRail","find","xRail","isChrome","_setClickEventRailFocus","yScrollBar","xScrollBar","_setClickEventBarFocus","xyBar","xyRail","self","e","addXYFocus","removeClass","blur","length","event","stopPropagation","insertAfter","isElement","isTouchBrowser","isIE11","isEdge","root","en-us","en","BytesOfSize","UploadingItems","UploadingOneItem","UploadingSomeItems","UploadOneItemSuccessMessage","UploadSomeItemsSuccessMessage","UploadManyItemsSuccessMessage","UploadOneItemFailMessage","UploadSomeItemsFailMessage","UploadManyItemsFailMessage","UploadSomeItemsFailMessage2","UploadManyItemsFailMessage2","State_pending","State_processing","State_resolved","State_rejected","State_aborted","StateAction_pending","StateAction_processing","StateAction_resolved","StateAction_rejected","StateAction_aborted","Cancel","CancelAria","StateAction_all_pending","StateAction_all_processing","StateAction_all_resolved","StateAction_all_rejected","StateAction_all_aborted","Expand","ExpandAria","Collapse","CollapseAria","Close","CloseAria","hbs","Handlebars","t","template","1","depth0","helpers","partials","data","compiler","main","stack1","helper","escapeExpression","progressTitleId","helperMissing","hash","title","percentage","state_pending","state_processing","state_resolved","state_rejected","state_aborted","stateaction_all_pending","stateaction_pending","stateaction_all_processing","stateaction_processing","expandAria","collapseAria","collapse","processing","fn","program","inverse","noop","closeAria","close","registerPartial","enableCancel","2","cancel","cancelAria","4","type_icon_class","error","5","commandName","NodeSprites","i18n","Base","lang","panelTemplate","barTemplate","BarStateValues","updateProgressArea","elem","info","errorElem","undefined","dynamic","state","progressBar","messageHelper","switchField","bytesOfSize","str","sformat","getReadableFileSizeString","count","total","text","attr","css","label","stateAriaLabel","errorMessage","ProgressBarView","ItemView","model","node","get","set","container","type","mime_type","silent","_updateItem","_computeProgress","Math","floor","oneFilePending","getItemLabel","className","templateHelpers","findClassByNode","forEach","onRender","ui","pendingAction","processingAction","events","click @ui.pendingAction","click @ui.processingAction","doCancel","abort","CompositeView","oneFileSuccess","multiFileSuccess","multiFilePending","oneFileFailure","multiFileFailure","someFileSuccess","someFilePending","someFileFailure","panelStateValues","_updateHeader","originatingView","onDestroy","handleProgressComplete","behaviors","PerfectScrolling","behaviorClass","isProgressFailed","inArray","isProgressCompleted","langTitle","collLen","_getFormatString","failed","header","toggleClass","closeAction","parent","focus","stateExpandCollapse","arrow","hasClass","doExpand","doCollapse","isempty","str1","str2","str5","collen","allDone","allAborted","item","childView","childViewContainer","childViewOptions","uniqueId","collapseAction","expandAction","click @ui.closeAction","click @ui.collapseAction","click @ui.expandAction","animated","items","collapsePanel","expandPanel","one","transitionEnd","doShow","relatedView","parentView","showPanel","doResize","currentlyFocusedElement","doClose","panel","csuiAfterHide","destroy","fadeoutPanel","sizeToParentContainer","minWidth","parseInt","parentWidth","width","uncompressedMinWidth","newWidth","translateX","settings","rtl","transform","FewerDetails","MoreDetails","GotoLocationLinkLabel","CloseDialog","closeDialogAria","link_url","link_label","3","detailsId","details_text","action_moredetails","action_fewerdetails","headerId","header_text","closeDialog","message_with_link","messageClassMap","success","success_with_link","warning","none","stateIconClassMap","closeIconClassMap","nextNodeModelFactory","_nextNode","getModel","stateIcon","closeIcon","messageLink","click @ui.messageLink","focusout @ui.closeIcon","_clearTimeout","details","detailsText","existingDialogs","existingDialogCount","last","top","margin","currentDialogDetailsWrapper","margin-right","margin-left","csuiAfterShow","_setTimeout","enablePermanentHeaderMessages","timeout","setTimeout","clearTimeout","message","targetFolder","onClickLink","preventDefault","stateClass","closeClass","replaceDummyBackImg","contentView","View","region","el","show","empty","click @ui.cancel","cancelAndHide","xhr","updateXHRReference","MessageHelper","ProgressPanelView","MessageView","CustomWrapperView","LoaderPanelView","hasDefaultRegion","globals","setMessageRegionView","messageRegionView","_cleanupPreviousMessageRegion","useClass","classNames","fileUploadCollection","progressPanel","_makeProgressPanel","setFileUploadCollection","hideFileUploadProgress","showFileUploadProgress","relativeView","showPermissionApplyingProgress","permissionAppliedCollection","__makePermissionProgressPanel","showLoader","loaderPanel","_makeLoaderPanel","args","always","resp","changeLoaderMessage","showMessage","_showMessageView","showCustomView","customView","_ensureMessageRegion","messageView","activatePanel","createPanel","_addEventHandlers","resizeHandler","resizePanel","once","stopListening","modalContainer","binf_modal","getDefaultContainer","messageContainer","style","appendTo","remove","GlobalMessage","CommandHelper","CommandController","executeAction","action","status","signature","command","findWhere","promises","execute","isArray","when","fail","showOfflineMessage","NodeCollection","defaultActionItems","DefaultActionController","actionItems","fakedActions","original","_fakeActions","getAction","nodes","_resetFakedActions","mobile","enabled","actionItem","hasAction","actions","map","getAllCommandSignatures","reset","version","Url","log","NextNodeModelFactory","SearchQueryModelFactory","nodeLinks","id","_searchQuery","defaultActionController","onExecuteDefaultAction","can","warn","JSON","stringify","pick","console","getDefaultActionNodeUrl","url","getUrl","lastIndexOf","substr","suggestion","low","modelEvents","change","messageArea","mouseenter","mouseleave","canShowPopover","onShow","that","closest","binf_popover","content","html","placement","popOverSource","maxWidth","maxHeight","height","offset","window_left","left","window_top","window_right","outerWidth","window_bottom","outerHeight","showPopover","hidePopover","ErrorControlView","cvclass","loadingWidgetFailedMessage","loadingWidgetFailedSuggestion","require","ErrorView","WidgetContainerBehavior","widgetsResolved","_resolveWidgets","enumerateWidgets","widget","push","resolveWidget","whenAll","getErrorWidget","originalWidget","_loadWidget","then","Widget","getStackTrace","Deferred","resolve","path","deferred","lastSlash","substring","reject","propagateEventsToViews","views","Array","slice","each","_eventsToPropagateToViews","_propagateEventToViews","cancelEventsToViewsPropagation","_cancelEventToViewsPropagation","_isShown","_isAttached","_isRendered","isNodeAttached","parameters","unshift","triggerMethodOn","ViewEventsPropagationMixin","ColumnView","_addSizeClasses","_addOffsetClasses","_addPullClasses","_addPushClasses","_addHeightClasses","unique","join","tmpAttributes","widgetType","data-csui-widget_type","data-csui-cell_address","cellAddress","cellBehaviours","_init","_createRows","_createCell","_registerModelEvents","cell","rows","_updateWidget","_updateSizes","newWidget","attrs","render","_renderContent","onBeforeDestroy","_destroyContent","sizes","xs","sm","md","lg","xl","xxl","pulls","pushes","heights","RowsView","grid","CellView","_getCellView","cellViewOptions","_getCellViewOptions","fullOptions","cellView","RowView","child","rowBehaviours","columns","reorderOnSort","GridRowView","_convertCollection","Collection","_convertRows","addressPrefix","row","rowIndex","_convertColumns","column","colIndex","shortcutTypeLabel","nodeTypeUnknown","lambda","mainClassName","overlayClassNames","nodeSpriteCollection","NodeTypeIconModel","_getAttributesFromNode","_updateModelFromNode","mimeTypeFromNodeSprite","exactNodeSprite","findByNode","exactClassName","originalNodeSprite","clear","tagName","class","aria-label","NodeTypeIconView","ownModel","_updateTitle","loadingText","suppressBlockingView","debug","getObjectName","hideImage","suppressedViews","releaseBlockingViews","globalBlockingView","showImage","element","logParentBlockActions","indicator","blockingView","counter","logChildBlockActions","childWithBlockingView","toggleSuppression","suppress","method","delay","disableDelay","globalOnly","detachableBlockingView","enableDelay","BlockingView","serializeData","enable","local","_getGlobalBlockingView","disableTimeout","enableTimeout","_show","disable","_hide","_clearTimeouts","_resetGlobalBlockingView","makeGlobal","detachable","ParentWithBlockingView","blockActions","_blockingCounter","blockWithoutIndicator","unblockActions","showBlockingView","append","destroyBlockingView","imbue","blockingPrototype","ChildWithBlockingView","suppressAll","resumeAll","delegate","childWithBlockingViewPrototype","PerspectiveAnimator","perspectivePanelView","ltrAnimation","startAnimation","perspectiveView","redraw","triggerMethod","swapPerspective","currentPerspectiveView","upcomingPerspectiveView","_transitionEnd","showPerspective","finishAnimation","transition","transitions","WebkitTransition","MozTransition","OTransition","document","createElement","PerspectiveFactory","createPerspective","_loadPerspective","PerspectiveView","progressWheel","waitForData","perspectiveShowDelay","limitTimeToWaitForData","maximumTimeToWaitForData","pageUnloading","perspectiveFactory","perspectiveAnimator","_addMaximizedWidget","_removeMaximizedWidget","onChangePerspective","onEnterEditPerspective","onExitEditPerspective","onSerializePerspective","retainPerspective","onRendered","_maximizedWidgets","_currentPespectiveStack","_currentPerspectiveSignature","perspectiveToEdit","isSwitchingEditMode","doChangePerspective","perspectiveModel","serializePerspective","done","perspective","_showModalError","targetPerspective","_swapPerspective","splice","indexOf","_showError","_isInPerspectiveEditMode","currentPerspective","perspectiveMode","_setSupportMaximizeWidget","_supportMaximizeWidget","_setShowingMaximizedWidget","showingMaximizedWidget","ev","_getCurrentPerspectiveSignature","maximizedWidgetInfo","perspectiveSignature","getCellAddress","_maximizeWidgetView","widgetView","children","_restoreWidgetViewSize","_ensureWidgetViewMaximized","currentMaximizedWidgetInfo","_supportMaximizeWidgetOnDisplay","cellSignatures","address","perspectiveShown","_showPerspective","fetchData","statusCode","href","scopeId","eventName","_showPerspectiveForEditMode","_showWidgetInMaximizeMode","finishShowingPerspective","body","scrollTop","perViewIndex","previousPerspectiveView","previousPerspective","perspectiveType","perspectiveOptions","noOfWidgets","maximizeWidgets","right","center","widgets","ModalAlert","showError","propagateEventsToRegions","_eventsToPropagateToRegions","_propagateEventToRegions","regions","regionManager","getRegions","currentView","prepareForGlobalAlert","handleAlertInProgress","handleAlertComplete","disableCurrentFocusElementHandler","originalCurrentlyFocusedElement","blockingParentView","fetchMoreItemsThreshold","_bindScrollingEvents","_unbindScrollingEvents","_checkScrollPosition","_content","first","contentH","sum","scrollableHeight","_checkScrollPositionFetch","totalCount","fetching","skipCount","setSkip","merge","triggerScrollbarUpdate","ParentScrollbarUpdatingRegion","searchPlaceholder","searchIconTitle","searchIconAria","headerTitle","searchButton","searchBox","searchInput","clearer","triggers","click .icon-search","_renderSearchButton","_toggleSearching","searchButtonSelector","iconTitle","iconAria","_bindUIElements","val","toggle","direction","is","DragAndDropItemBehaviour","_registerListeners","_initDnD","DRAGGABLE_CLASSNAME","DRAGGABLE_DATA_ATTR","DnDItemBehaviour","placeholder","handle","draggableItem","disableDraggable","over","receive","_initSorting","_getPlaceholder","currentItem","isString","nodeName","toLowerCase","sortable","update","start","_onSortStart","stop","_onSortStop","out","dragItemId","modelIndex","updatedIndex","index","add","at","invalidWidgetOptions","invalidWidget","WidgetModel","CONSTANT_FIELD_TYPES","mixin","prepareForEditMode","isValid","_resolveWidget","widgetModel","serializeWidget","constantsDataSeed","kind","c_id","removeNullsInObject","widgetManifest","constantsData","collectionConstantData","constants","seed","isEmpty","key","isObject","obj","_checkAndRemove","isNull","isUndefined","i","executeCallbacks","perspectiveWidgets","filter","loadCallbacks","widgetsWithCallback","widgetWithCallback","initializeWidget","chain","groupBy","deferredEach","widgetCallback","callback","compact","results","mode","priority","overrideType","scope","containerType","perspectiveParentId","overrideObjId","assetContainerId","previousPerspectiveWidgets","getPreviousWidgets","previousWidgets","callbackPromise","getHiddenWidgetOptions","responseParameters","deferredOptions","deferredContainer","widgetPromises","errors","ensureContainerPromise","useOverrideContainer","has","ensureContainer","response","ac","promiseBefore","defineWidgetOptionsCommon","commonOptions","newOptions","defineWidgetOptionsEach","errorMsg","now","random","toString","isNaN","perspectiveAssetsVolume","collectOptions","parent_id","makeAjaxCall","tileLabel","headerLabel","fullpageLabel","WidgetCollection","GridView","DnDContainerBehaviour","PerspectiveEditMixin","defaultWidgetKind","widgetSizes","fullpage","widths","widetile","tile","FlowPerspectiveView","parentClassName","_prepareOptionsForEditMode","extWidgets","values","flatten","_wrapped","contains","_createCollection","_registerEditEvents","PerspectiveWidgetConfig","_createDnDPlaceholderWidget","_getDnDPlaceholder","popoverTarget","hide","placeholderWidget","removeData","sender","position","pespectiveWidgetView","widgetUpdates","_prepareGridCell","_makesurePlaceholderAtLast","cells","placeholderCell","resolvedWidget","cellOptions","dndPlaceholderCell","dragEl","manifest","_replaceWidget","currentWidget","widgetToReplace","getPManPlaceholderWidget","w","newCell","uniqueWidgets","pluck","resolvedWidgets","_createColumns","columnIndex","widgetConfig","supportedKinds","getSupportedWidgetSizes","suppKind","selected","widgetModels","constant_data","constant_extraction_mode","WidgetContainer","supportedWidgets","_enumerateWidgetRow","Router","_routeWithSlashes","routeWithSlashes","onOtherRoute","navigate","fragment","routing","extraRouters","PerspectiveRouting","DefaultRouters","Routers","isDefault","concat","reverse","routesWithSlashes","_routers","router","_informOthers","_context","_originalHistoryLength","history","instance","handlerUrlPathSuffix","rootUrlPath","Events","historyOptions","pushState","combine","pathname","getCgiScript","getPath","decodeFragment","hasRouted","akceptor","getInstance","ApplicationScopeModel","applicationScope","AuthenticatedUserModel","user","authentication","UserTitle","NodeTitle","SearchTitle","UserLoadingTitle","NodeLoadingTitle","Home","mainNavigationAria","profileMenuTitle","profileMenuAria","profileImageAlt","PerspectiveRouter","ApplicationScopeModelFactory","UserModelFactory","publicLang","routes","*other","_updateHomeUrl","_updatePageTitle","openLandingPerspective","formatMemberName","nodes/:id","_updateNodeUrl","openNodePerspective","usesIntegerId","showTitle","search/*path","_updateSearchUrl","openSearchPerspective","split","decodeURIComponent","trim","routerURL","encodeURIComponent","_extractParameters","route","params","param","equals","forced","urlQuery","func","objAction","objId","nexturl","order","summaries","RS_FUNCTION","RSID","VersionModel","getContentPageUrl","cgiUrl","nodeid","vernum","appendQuery","combineQueryString","registerHelper","getClosestLocalizedString","classicNodes","smartNodes","sequence","decides","isForced","isSupported","openAuthenticatedPage","createField","field","contentDocument","setAttribute","form","appendChild","ticket","session","openInNewTab","open","submit","CollectionFactory","NodeModelFactory","NodeAddableTypeCollection","addableTypes","autoreset","Factory","_getFactory","hasObject","_factories","factories","object","internal","getCollection","hasModel","hasCollection","getFactory","all","_destroyAllFactories","_destroyNonPermanentFactories","_destroyTemporaryFactories","factory","_isFetchable","clonedOptions","clone","request","statusText","messageText","detached","temporary","permanent","_getPropertyName","stamp","createIfNotFound","objectOptions","nameOptions","factoryOptions","globalOptions","omit","propertyName","factoryName","ContextPlugin","Context","nodeOptions","includeResources","onNextNodeChanged","openNodePage","delayCommands","resetCommands","resetDefaultActionCommands","setCommands","setDefaultActionCommands","setEnabledDelayRestCommands","relayActionEvents","delayedActions","relayRequestNodeActions","relaySyncNodeActions","relayErrorNodeActions","relayUpdateNodeActions","resumeRelayingActionEvents","relayingActionEvents","_fetchStarted","_fetchSucceeded","_fetchFailed","updateNodeActions","suppressRelayingActionEvents","NodeOpeningContext","PreviousNodeModelFactory","contextPlugins","_changeNode","previousNode","Plugins","_plugins","Plugin","plugin","enterContainer","openNewNodePage","_enteringContainer","continueFetching","onCreate","onClear","onRefresh","RulesMatchingMixin","extraPerspectives","UserPerspectiveModel","important","makeRulesMatching","UserPerspectiveCollection","comparator","findByUser","matchRules","userPerspectives","PerspectiveContextPlugin","landingPerspectives","_fetchLandingPerspective","userFactory","_changePerspective","rejectPerspective","sourceModel","perspectiveModule","overridePerspective","applyPerspective","NodePerspectiveModel","NodePerspectiveCollection","nodePerspectives","createNodeModel","nextNodeFactory","_fetchNodePerspective","_clearModels","recreateNode","nextNodeId","classicUrl","replace","perspectiveCollection","SearchPerspectiveModel","SearchPerspectiveCollection","findByQuery","query","searchPerspectives","_fetchSearchPerspective","loadPerspective","GlobalError","globalError","PerspectiveGuide","isNew","oldPerspective","newPerspective","isEqual","GlobalErrorModelFactory","LandingPerspectiveContextPlugin","online","perspectiveGuide","_applicationScope","_user","fetchPerspective","invoke","loadingPerspective","wrapperModel","informFailure","_informFailure","errorDetails","errorHandled","offlineErrorHandler","alertDialog","NodeAncestorCollection","ancestors","NodeChildrenCollection","allCommands","NodeChildren2Collection","children2","NodeChildrenFactory","NodeColumn2Collection","completeDefinitions","definitions","definitionMap","definition","column_key","default_action","contextual_menu","editable","filter_key","initialSortingDescending","sort_key","sort","markDisplayableColumn","columnKey","formattedIndex","definitions_order","areDifferent","objects","some","expected","columnProperties","actual","Column2CollectionFactory","columns2","_resetColumns","AuthenticatedUserNodePermissionModel","userNodePermission","volume","setExpand","searchResults","ra_access_date_last","ra_parent_id","ra_size","ma_type","ma_name","ma_location_name","ma_date_due","ma_priority","ma_status","ma_from_user_name","fav_parent_id","fav_size","owner","created","createdBy","modified","size","ConnectableMixin","FetchableMixin","AdditionalResourcesV2Mixin","FieldsV2Mixin","ExpandableV2Mixin","CommandableV2Mixin","ClientSideBrowsableMixin","BrowsableV2ResponseMixin","NodeChildrenColumnModel","NodeChildrenColumnCollection","FavoriteColumnModel","FavoriteColumnCollection","getColumnModels","columnKeys","FavoriteModel","parse","fav","fav_version","versions","short_name","container_size","file_size","FavoriteCollection","makeConnectable","makeFetchable","makeAdditionalResourcesV2Mixin","makeFieldsV2","makeExpandableV2","makeCommandableV2","makeClientSideBrowsable","makeBrowsableV2Response","actualSkipCount","filteredCount","getAdditionalResourcesUrlQuery","getResourceFieldsUrlQuery","getExpandableResourcesUrlQuery","getRequestedCommandsUrlQuery","getBrowsableUrlQuery","parseBrowsedState","resetColumnsV2","parseBrowsedItems","getResourceScope","deepClone","_additionalResources","setResourceScope","excludeResources","resetFields","setFields","resetExpand","FavoritesCollection","FavoritesCollectionFactory","favorites","getDefaultResourceScope","FavoriteCollectionFactory","Favorites2Collection","Favorite2CollectionFactory","getLimitedResourceScope","defaultActionCommands","getDefaultsOnlyResourceScope","Favorite2GroupsCollection","Favorite2GroupsCollectionFactory","favoriteGroups","StateRequestorMixin","MyAssignmentColumnModel","MyAssignmentColumnCollection","getV2Columns","metadata","assignments","location_id_expand","from_user_id_expand","location_name","from_user_name","keys","MyAssignmentModel","location_expand","workflow_subworkflow_id_expand","workflow_id_expand","workflow_subworkflow_task_id_expand","first_name","last_name","MyAssignmentCollection","makeStateRequestor","getStateEnablingUrlQuery","originalCompareValues","_compareValues","MyAssignmentCollectionFactory","myassignments","fetched","MyAssignmentsCollectionFactory","makeServerAdaptor","_getSubtypesUrlQuery","where_types","recentlyAccessedSubtypes","DelayedCommandableV2Mixin","ServerAdaptorMixin","RecentlyAccessedColumnModel","RecentlyAccessedColumnCollection","access_date_last","modify_date","parent_name","RecentlyAccessedModel","ra","ra_version","ra_propertiesUser","ra_parentIdExpanded","properties_user","parent_id_expand","parent_id_expanded","RecentlyAccessedCollection","makeDelayedCommandableV2","topCount","filters","orderBy","includeActions","includeCommands","RecentlyAccessedCollectionFactory","recentlyAccessed","recentlyaccessed","MemberModel","member","makeSearchMetadataResponse","parseSearchMetadataResponse","column_name","column_type","search_index","permanentColumn","metadataCollection","sync","SearchMetadataMixin","SearchMetadataItemModel","idAttribute","SearchMetadataItemsCollection","getColumnKeys","SearchMetadataModel","sliceLabels","optionLabels","sliceIds","schema","enum","returnData","slices","sliceIdx","sliceId","sliceDisplayName","SearchBoxModel","autofetch","styleLoad","PerspectivePanelView"],"mappings":"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","file":"csui-data.js","sourcesContent":["csui.define('csui/utils/contexts/factories/factory',['csui/lib/marionette'], function (Marionette) {\r\n\r\n  // These class is usually consumed under names ObjectFactory, ModelFactory or CollectionFactory,\r\n  // depending on the descendant object (see Context.getObject for more information)\r\n  var Factory = Marionette.Controller.extend({\r\n\r\n    constructor: function Factory(context, options) {\r\n      this.context = context;\r\n      this.options = options || {};\r\n    },\r\n\r\n    // Descendants must set a string ID, which will uniquely identify the model in the context\r\n    propertyPrefix: null\r\n\r\n  });\r\n\r\n  return Factory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/connector',['module', 'csui/lib/underscore', 'csui/utils/contexts/factories/factory',\r\n  'csui/utils/connector'\r\n], function (module, _, ObjectFactory, Connector) {\r\n\r\n  var ConnectorFactory = ObjectFactory.extend({\r\n\r\n    propertyPrefix: 'connector',\r\n\r\n    constructor: function ConnectorFactory(context, options) {\r\n      ObjectFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var connector = this.options.connector || {};\r\n      if (!(connector instanceof Connector)) {\r\n        var config = module.config(),\r\n            // The single connection object is used to share authentication\r\n            // among contexts if stored in config; it cannot be cloned\r\n            // TODO: Clone the connection. Modifying the global configuration\r\n            // makes it accessible globally and sensive data easier to steal.\r\n            connection = connector.connection || config.connection || {};\r\n        // The connection object can be merged from multiple sources, which\r\n        // may define connection and authentication parameters separately\r\n        _.defaults(connection, connector.connection, config.connection);\r\n        connector = new Connector(_.defaults({\r\n          connection: connection\r\n        }, connector, config));\r\n      }\r\n      this.property = connector;\r\n    }\r\n\r\n  });\r\n\r\n  return ConnectorFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/next.node',[\r\n  'module', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector', 'csui/models/node/node.model',\r\n  'csui/utils/commands'\r\n], function (module, $, Backbone, ModelFactory, ConnectorFactory,\r\n    NodeModel, commands) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var NextNodeModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'nextNode',\r\n\r\n    constructor: function NextNodeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var nextNode = this.options.nextNode || {},\r\n          config   = module.config();\r\n      if (prefetch) {\r\n        this.initialResponse = nextNode.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(nextNode instanceof Backbone.Model)) {\r\n        var connector       = context.getObject(ConnectorFactory, options),\r\n            creationOptions = $.extend(true, {\r\n              connector: connector,\r\n              // Do not waste server resources; it returns all it can by default\r\n              fields: {\r\n                properties: [],\r\n                'versions.element(0)': ['owner_id']\r\n              },\r\n              // Command enabling for shortcuts needs the original node info\r\n              expand: {\r\n                properties: ['original_id']\r\n              },\r\n              // Make sure, that the metadata token is returned for nodes\r\n              // requesated via this factory, because they are supposed to\r\n              // be shared and may be the subject of changes.\r\n              stateEnabled: true,\r\n              // Command enabling needs permitted actions\r\n              commands: commands.getAllSignatures()\r\n            }, config.options, nextNode.options);\r\n        // Next node can be fetshed just like node; keep their defaults in sync\r\n        nextNode = new NodeModel(nextNode.attributes || config.attributes,\r\n            creationOptions);\r\n      }\r\n      this.property = nextNode;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        var promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n        return promise;\r\n      } else {\r\n        return this.property.fetch(options);\r\n      }\r\n    }\r\n  });\r\n\r\n  return NextNodeModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/search.query.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var SearchQueryModel = Backbone.Model.extend({\r\n\r\n    constructor: function SearchQueryModel(attributes, options) {\r\n      SearchQueryModel.__super__.constructor.apply(this, arguments);\r\n    },\r\n\r\n    toJSON: function () {\r\n      return SearchQueryModel.__super__.toJSON.apply(this, arguments);\r\n    }\r\n\r\n  });\r\n\r\n  var SearchQueryModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'searchQuery',\r\n\r\n    constructor: function SearchQueryModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var searchQuery = this.options.searchQuery || {};\r\n      if (!(searchQuery instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        searchQuery = new SearchQueryModel(searchQuery.models, _.extend({},\r\n            searchQuery.options, config.options));\r\n      }\r\n      this.property = searchQuery;\r\n    }\r\n\r\n  });\r\n\r\n  return SearchQueryModelFactory;\r\n\r\n});\r\n\n","\ncsui.define('css!csui/controls/tile/behaviors/impl/perfect.scrolling',[],function(){});\n","csui.define('csui/controls/tile/behaviors/perfect.scrolling.behavior',['module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/utils/base', 'csui/lib/perfect-scrollbar',\r\n  'css!csui/controls/tile/behaviors/impl/perfect.scrolling'\r\n], function (module, _, $, Marionette, base) {\r\n  'use strict';\r\n\r\n  // Default static options for the behaviour object\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    usePerfectScrollbar: false\r\n  });\r\n  // TODO: Remove this, as soon as we don't need to test.\r\n  if (/\\bperfectScrollbar[^=]/.test(location.search) ||\r\n      /\\bperfectScrollbar=true\\b/.test(location.search)) {\r\n    config.usePerfectScrollbar = true;\r\n  }\r\n\r\n  // Default options for the perfect scrollbar plugin to be created with\r\n  var defaultPluginOptions = {\r\n    minScrollbarLength: 32,\r\n    stopPropagationOnClick: false\r\n  };\r\n\r\n  var PerfectScrollingRegion = Marionette.Region.extend({\r\n    constructor: function PerfectScrollingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n      // Set when before:swapOut is triggered and reset when its finishing\r\n      // counterpart is triggered to optimize the event handlers for view\r\n      // swapping in the region\r\n      this._swapping = false;\r\n\r\n      // Support scrollbar updates on populating and emptying regions\r\n      this\r\n          .listenTo(this, 'before:swapOut', function () {\r\n            this._swapping = true;\r\n          })\r\n          .listenTo(this, 'swapOut', function () {\r\n            this._swapping = false;\r\n          })\r\n          .listenTo(this, 'show', function () {\r\n            this._requestScrollbarUpdate();\r\n          })\r\n          .listenTo(this, 'empty', function () {\r\n            if (!this._swapping) {\r\n              this._requestScrollbarUpdate();\r\n            }\r\n          });\r\n    },\r\n\r\n    _requestScrollbarUpdate: function () {\r\n      // {this.region}.{owning region manager}.{owning layout view}\r\n      this._parent._parent.trigger('update:scrollbar');\r\n    }\r\n  });\r\n\r\n  var PerfectScrollingBehavior = Marionette.Behavior.extend({\r\n    defaults: {\r\n      contentParent: null\r\n    },\r\n\r\n    constructor: function PerfectScrollingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      this.listenTo(view, 'render', this._applyClasses);\r\n\r\n      if (this._useScrollbar() && this._usePerfectScrollbar()) {\r\n        var updateOnWindowResize = getOption.call(this, 'updateOnWindowResize');\r\n        // Increase when before:render and before:render:collection events\r\n        // are triggered and decrease, when their finishing counterparts are\r\n        // triggered to optimize the event handlers for single view adding\r\n        // or removal\r\n        this._renderState = 0;\r\n\r\n        this\r\n        // Bubbling from a child view with ParentScrollbarUpdatingBehavior\r\n        // and window resizing (if the view resizes itself by CSS only)\r\n            .listenToOnce(view, 'render', function () {\r\n              this.view.$el.on('csui:update:scrollbar.' + view.cid,\r\n                  _.bind(this._updateScrollbarFromPropagation, this));\r\n              if (updateOnWindowResize !== false) {\r\n                $(window).bind('resize.' + view.cid, _.bind(this._updateScrollbar, this));\r\n              }\r\n            })\r\n            .listenToOnce(view, 'before:destroy', function () {\r\n              this.view.$el.off('csui:update:scrollbar.' + view.cid);\r\n              if (updateOnWindowResize !== false) {\r\n                $(window).unbind('resize.' + view.cid);\r\n              }\r\n            })\r\n            // Maintain the rendering state for the events triggered between\r\n            // before:render and render\r\n            .listenTo(view, 'before:render', function () {\r\n              this._renderState = 1;\r\n              // console.log('Perfect scrollbar expects render event',\r\n              //     Object.getPrototypeOf(this.view).constructor.name);\r\n            })\r\n            .listenTo(view, 'render', function () {\r\n              this._renderState = 0;\r\n            })\r\n            // Create and destroy the perfect scrollbar plugin\r\n            .listenTo(view, 'dom:refresh', this._ensureScrollbar)\r\n            .listenTo(view, 'ensure:scrollbar', this._ensureScrollbar)\r\n            .listenTo(view, 'before:render', this._destroyScrollbar)\r\n            .listenTo(view, 'before:destroy', this._destroyScrollbar)\r\n            // Listen to requests for an explicit scrollbar update\r\n            .listenTo(view, 'update:scrollbar', this._refreshScrollbar)\r\n            // Delay listening to the collection events; the collection may\r\n            // not be present in the view or its options yet\r\n            .listenToOnce(view, 'before:render', function () {\r\n              // Support optimized adding and removing child views\r\n              // in CollectionView, which does not call render\r\n              if (view instanceof Marionette.CollectionView && view.collection) {\r\n                this\r\n                    .listenTo(view.collection, 'reset', function () {\r\n                      this._resetTriggered = true;\r\n                      // console.log('Perfect scrollbar expects reset event processed',\r\n                      //     Object.getPrototypeOf(this.view).constructor.name);\r\n                    })\r\n                    .listenTo(view, 'before:render:collection', function () {\r\n                      ++this._renderState;\r\n                      // console.log('Perfect scrollbar expects render:collection event',\r\n                      //     Object.getPrototypeOf(this.view).constructor.name);\r\n                    })\r\n                    .listenTo(view, 'render:collection', function () {\r\n                      this._resetTriggered = false;\r\n                      --this._renderState;\r\n                      // console.log('Perfect scrollbar received render:collection event',\r\n                      //     Object.getPrototypeOf(this.view).constructor.name);\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, single child view updates were skipped\r\n                      if (!this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from children reset');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'render:empty', function () {\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, no child view updates were performed\r\n                      if (this._resetTriggered || !this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from children emptied');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'add:child', function () {\r\n                      // If a child view was added alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from child add');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'remove:child', function () {\r\n                      // If a child view was removed alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._resetTriggered && !this._renderState) {\r\n                        // console.log('Perfect scrollbar got update from child remove');\r\n                        this._updateScrollbar();\r\n                      }\r\n                    });\r\n              }\r\n            });\r\n      }\r\n    },\r\n\r\n    _applyClasses: function () {\r\n      // console.log('Perfect scrollbar got render in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      var classes;\r\n      this._contentParent = this._getContentParent();\r\n      if (this._useScrollbar()) {\r\n        if (this._usePerfectScrollbar()) {\r\n          classes = 'csui-perfect-scrolling';\r\n        } else {\r\n          var suppressScrollX = getOption.call(this, 'suppressScrollX'),\r\n              suppressScrollY = getOption.call(this, 'suppressScrollY');\r\n          classes = 'csui-normal-scrolling';\r\n          if (suppressScrollX) {\r\n            classes += ' csui-no-scroll-x';\r\n          }\r\n          if (suppressScrollY) {\r\n            classes += ' csui-no-scroll-y';\r\n          }\r\n        }\r\n      } else {\r\n        classes = 'csui-no-scrolling';\r\n      }\r\n      this._contentParent.addClass(classes);\r\n    },\r\n\r\n    _ensureScrollbar: function () {\r\n      // obtain content parent from options if it is available.\r\n      this._contentParent = !!this._contentParent ? this._contentParent : this._getContentParent();\r\n      // console.log('Perfect scrollbar got dom:refresh in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (!this._contentParent) {\r\n        throw new Error('The \"dom:refresh\"\" event was triggered earlier ' +\r\n                        'than the \"render\" event in view ' + this.view.cid +\r\n                        '(' + Object.getPrototypeOf(this.view).constructor.name + ')');\r\n      }\r\n      if (this._perfectScrollbar) {\r\n        //if (!this._contentParent.data('perfect-scrollbar')) { // 'ps-id' for 0.6.7\r\n        //  throw new Error('Uninitialized perfect-scrollbar in view ' + this.view.cid +\r\n        //                  '(' + Object.getPrototypeOf(this.view).constructor.name + ')');\r\n        //}\r\n        this._contentParent.perfectScrollbar('update');\r\n      } else {\r\n        var options = _.reduce(['suppressScrollX', 'suppressScrollY', 'scrollXMarginOffset',\r\n          'scrollYMarginOffset', 'maxScrollbarLength', 'minScrollbarLength'\r\n        ], function (result, property) {\r\n          result[property] = getOption.call(this, property);\r\n          return result;\r\n        }, {}, this);\r\n        _.defaults(options, defaultPluginOptions);\r\n        this._contentParent.perfectScrollbar(options);\r\n        this._perfectScrollbar = true;\r\n\r\n        //Keep focus on scroll rail if focus was removed due to an inline click event.\r\n        this._setClickEventFocus();\r\n      }\r\n    },\r\n\r\n    _setClickEventFocus: function () {\r\n      var yRail = this._contentParent.find('.ps-scrollbar-y-rail');\r\n      var xRail = this._contentParent.find('.ps-scrollbar-x-rail');\r\n\r\n      //For chrome only, when you click within a rail to scroll, a mouseleave event is\r\n      //triggered removing focus and hover from the rail. To maintain hover status, a\r\n      //class is added to the scroll rail\r\n      if (base.isChrome()) {\r\n        this._setClickEventRailFocus(yRail);\r\n        this._setClickEventRailFocus(xRail);\r\n      }\r\n      //For FF and IE, when you click to drag a scrollbar, a mouseleave event is\r\n      //triggered removing focus and hover from the rail. To maintain hover status, a\r\n      //class is added to the scroll rail\r\n      else {\r\n        var yScrollBar = this._contentParent.find('.ps-scrollbar-y');\r\n        var xScrollBar = this._contentParent.find('.ps-scrollbar-x');\r\n        this._setClickEventBarFocus(yScrollBar, yRail);\r\n        this._setClickEventBarFocus(xScrollBar, xRail);\r\n      }\r\n    },\r\n\r\n    _setClickEventBarFocus: function (xyBar, xyRail) {\r\n      var self = this;\r\n      xyBar.bind('mousedown', function (e) {\r\n        self.addXYFocus = true;\r\n        xyRail.addClass('binf-focus');\r\n      });\r\n      xyRail.bind('mouseout', function (e) {\r\n        if (!self.addXYFocus) {\r\n          xyRail.removeClass('binf-focus');\r\n          xyRail.blur();\r\n        }\r\n        self.addXYFocus = false;\r\n      });\r\n    },\r\n\r\n    _setClickEventRailFocus: function (xyRail) {\r\n      var self = this;\r\n      if (xyRail.length > 0) {\r\n        xyRail.bind('mouseup', function (e) {\r\n          $(this).addClass('binf-focus');\r\n          self.addXYFocus = true;\r\n        });\r\n        xyRail.bind('mouseleave', function (e) {\r\n          if (!self.addXYFocus) {\r\n            $(this).removeClass('binf-focus');\r\n          }\r\n          self.addXYFocus = false;\r\n        });\r\n      }\r\n    },\r\n\r\n    _refreshScrollbar: function () {\r\n      // console.log('Perfect scrollbar was refreshed in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (this._contentParent && this._perfectScrollbar) {\r\n        // Workaround for broken views, which re-render their content\r\n        // but do not trigger the render event, like table view.\r\n        if (!(this._contentParent.find('.ps-scrollbar-y-rail').length ||\r\n            this._contentParent.find('.ps-scrollbar-x-rail').length)) {\r\n          this._destroyScrollbar();\r\n          this._ensureScrollbar();\r\n        } else {\r\n          this._updateScrollbar();\r\n        }\r\n      }\r\n    },\r\n\r\n    _updateScrollbar: function () {\r\n      // console.log('Perfect scrollbar got update in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (this._perfectScrollbar) {\r\n        this._contentParent.perfectScrollbar('update');\r\n      }\r\n    },\r\n\r\n    _updateScrollbarFromPropagation: function (event) {\r\n      // console.log('Perfect scrollbar got update from a child in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      event.stopPropagation();\r\n      this._updateScrollbar();\r\n    },\r\n\r\n    _destroyScrollbar: function () {\r\n      // console.log('Perfect scrollbar got destroy or re-render in',\r\n      //     Object.getPrototypeOf(this.view).constructor.name);\r\n      if (this._perfectScrollbar) {\r\n        this._contentParent.perfectScrollbar('destroy');\r\n        this._contentParent.find('.ps-scrollbar-y-rail').off();\r\n        this._contentParent.find('.ps-scrollbar-x-rail').off();\r\n        this._perfectScrollbar = false;\r\n      }\r\n    },\r\n\r\n    _getContentParent: function () {\r\n      var contentParent = getOption.call(this, 'contentParent');\r\n      if (contentParent) {\r\n        if (contentParent.insertAfter) { // check for a jQuery object\r\n          return contentParent;\r\n        }\r\n        if (_.isElement(contentParent)) { // check for a HTML element\r\n          return $(contentParent);\r\n        }\r\n        return this.view.$(contentParent); // DOM selector\r\n      }\r\n      return this.view.$el; // use the view root element by default\r\n    },\r\n\r\n    _useScrollbar: function () {\r\n      var scrollingDisabled = getOption.call(this, 'scrollingDisabled') ||\r\n                              getOption.call(this, 'scrollingDisabled', this.view.options);\r\n      return !scrollingDisabled;\r\n    },\r\n\r\n    _usePerfectScrollbar: function () {\r\n      return PerfectScrollingBehavior.usePerfectScrollbar();\r\n    }\r\n  }, {\r\n    // Support showing and emptying regions in LayoutView,\r\n    // which does not call render\r\n    Region: PerfectScrollingRegion,\r\n\r\n    usePerfectScrollbar: function () {\r\n      return config.usePerfectScrollbar &&\r\n             !(base.isTouchBrowser() || base.isIE11() || base.isEdge());\r\n    }\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, source) {\r\n    var options = source || this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return PerfectScrollingBehavior;\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('csui/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/globalmessage/impl/progresspanel/impl/nls/root/progresspanel.lang',{\r\n  // Upload\r\n  BytesOfSize: '{0} of {1}',\r\n  UploadingItems: 'Uploading {0} items',\r\n  UploadingOneItem: 'Uploading item',\r\n  UploadingSomeItems: 'Uploading {0} items',\r\n  UploadOneItemSuccessMessage: \"1 item succeeded to upload.\",\r\n  UploadSomeItemsSuccessMessage: \"{0} items succeeded to upload.\",\r\n  UploadManyItemsSuccessMessage: \"{0} items succeeded to upload.\",\r\n  UploadOneItemFailMessage: \"1 item failed to upload.\",\r\n  UploadSomeItemsFailMessage: \"{0} items failed to upload.\",\r\n  UploadManyItemsFailMessage: \"{0} items failed to upload.\",\r\n  UploadSomeItemsFailMessage2: \"{2} items failed to upload.\",   // {2} !!\r\n  UploadManyItemsFailMessage2: \"{2} items failed to upload.\",   // {2} !!\r\n\r\n  // states\r\n  State_pending: 'Waiting',\r\n  State_processing: 'Processing',\r\n  State_resolved: 'Done',\r\n  State_rejected: 'Failed',\r\n  State_aborted: 'Canceled',\r\n  StateAction_pending: 'Waiting',\r\n  StateAction_processing: 'Cancel',\r\n  StateAction_resolved: 'Done',\r\n  StateAction_rejected: 'Done',\r\n  StateAction_aborted: 'Done',\r\n  Cancel: 'Cancel',\r\n  CancelAria: 'Cancel upload of {0} item',\r\n  StateAction_all_pending: 'Waiting for upload of all items',\r\n  StateAction_all_processing: 'Cancel upload of all items',\r\n  StateAction_all_resolved: 'All items uploaded',\r\n  StateAction_all_rejected: 'All items rejected to upload',\r\n  StateAction_all_aborted: 'All items aborted to upload',\r\n  Expand: 'Expand',\r\n  ExpandAria: 'Expand the view of detailed item upload states',\r\n  Collapse: 'Collapse',\r\n  CollapseAria: 'Collapse the view of detailed item upload states',\r\n  Close: 'Close',\r\n  CloseAria: 'Close the progress panel'\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"binf-hidden \";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-header\\\">\\r\\n  <div class=\\\"csui-progressrow csui-height-target\\\">\\r\\n    <div class=\\\"csui-names-progress\\\">\\r\\n      <div class=\\\"csui-names csui-progresscell\\\">\\r\\n        <div class=\\\"csui-header-icon csui-icon binf-hidden\\\"></div>\\r\\n        <div class=\\\"csui-title\\\" tabindex=\\\"-1\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.progressTitleId || (depth0 != null ? depth0.progressTitleId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"progressTitleId\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n          \"\n    + this.escapeExpression(((helper = (helper = helpers.title || (depth0 != null ? depth0.title : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"title\",\"hash\":{}}) : helper)))\n    + \"\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"csui-progress csui-progresscell\\\"  tabindex=\\\"0\\\">\\r\\n        <div class=\\\"csui-progress-dynamic binf-hidden\\\" aria-hidden=\\\"true\\\">\\r\\n          <div class=\\\"csui-progress-textbar\\\">\\r\\n            <div class=\\\"binf-progress\\\">\\r\\n              <div class=\\\"binf-progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.percentage || (depth0 != null ? depth0.percentage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"percentage\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                   aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width:\"\n    + this.escapeExpression(((helper = (helper = helpers.percentage || (depth0 != null ? depth0.percentage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"percentage\",\"hash\":{}}) : helper)))\n    + \"%\\\">\\r\\n              </div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"csui-percent\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"csui-progress-static\\\" aria-hidden=\\\"true\\\">\\r\\n          <div class=\\\"csui-progress-textbar\\\">\\r\\n            <div class=\\\"csui-progress-static-pending\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_pending || (depth0 != null ? depth0.state_pending : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_pending\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-processing binf-hidden\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_processing || (depth0 != null ? depth0.state_processing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_processing\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-resolved binf-hidden\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_resolved || (depth0 != null ? depth0.state_resolved : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_resolved\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-rejected binf-hidden\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_rejected || (depth0 != null ? depth0.state_rejected : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_rejected\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-aborted binf-hidden\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_aborted || (depth0 != null ? depth0.state_aborted : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_aborted\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n          </div>\\r\\n          <div class=\\\"csui-percent\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-states-actions\\\">\\r\\n      <div class=\\\"csui-stateaction csui-progresscell\\\">\\r\\n        <button type=\\\"button\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.stateaction_all_pending || (depth0 != null ? depth0.stateaction_all_pending : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stateaction_all_pending\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                class=\\\"csui-stateaction-pending\\r\\n        csui-icon-like-btn binf-btn binf-btn-default\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.stateaction_pending || (depth0 != null ? depth0.stateaction_pending : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stateaction_pending\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n        <button type=\\\"button\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.stateaction_all_processing || (depth0 != null ? depth0.stateaction_all_processing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stateaction_all_processing\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                class=\\\"csui-stateaction-processing csui-icon-like-binf-btn binf-hidden binf-btn binf-btn-default\\\">\\r\\n            \"\n    + this.escapeExpression(((helper = (helper = helpers.stateaction_processing || (depth0 != null ? depth0.stateaction_processing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"stateaction_processing\",\"hash\":{}}) : helper)))\n    + \"</button>\\r\\n      </div>\\r\\n      <div class=\\\"csui-expand csui-progresscell\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"csui-expand-down csui-button-icon icon-expandArrowDown binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.expandAria || (depth0 != null ? depth0.expandAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"expandAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.expand || (depth0 != null ? depth0.expand : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"expand\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"false\\\"/>\\r\\n        <button type=\\\"button\\\" class=\\\"csui-expand-up binf-hidden csui-button-icon icon-expandArrowUp binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.collapseAria || (depth0 != null ? depth0.collapseAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"collapseAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.collapse || (depth0 != null ? depth0.collapse : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"collapse\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-haspopup=\\\"true\\\" aria-expanded=\\\"true\\\"/>\\r\\n      </div>\\r\\n      <div class=\\\"csui-close csui-progresscell \"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.processing : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"csui-action-close csui-icon binf-btn binf-btn-default\\\"\\r\\n                aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.closeAria || (depth0 != null ? depth0.closeAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"closeAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.close || (depth0 != null ? depth0.close : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"close\",\"hash\":{}}) : helper)))\n    + \"\\\" />\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n<div class=\\\"csui-items-wrapper\\\">\\r\\n  <div class=\\\"csui-items\\\" role=\\\"list\\\">\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_progresspanel_impl_progresspanel', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/progresspanel/impl/progressbar',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"  <div class=\\\"csui-progressbar csui-progressrow\\\" style=\\\"height:48px;\\\">\\r\\n    <div class=\\\"csui-name-status\\\" role=\\\"listitem\\\">\\r\\n      <div class=\\\"csui-names-progress \\\">\\r\\n        <div class=\\\"csui-names csui-progresscell\\\">\\r\\n          <div class=\\\"csui-name csui-progresscell\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n            \"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\r\\n          </div>\\r\\n        </div>\\r\\n        <div class=\\\"csui-states-actions\\\">\\r\\n          <div class=\\\"csui-stateaction csui-progresscell\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.enableCancel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(2, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"            <div\\r\\n                class=\\\"csui-stateaction-resolved binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-success\\\" />\\r\\n            <div\\r\\n                class=\\\"csui-stateaction-rejected binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-error\\\" />\\r\\n            <div class=\\\"csui-stateaction-aborted binf-hidden\\\" />\\r\\n          </div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n\\r\\n\";\n},\"2\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"              <button type=\\\"button\\\" class=\\\"csui-stateaction-pending binf-btn binf-btn-default icon csui-icon\\r\\n            circle_delete\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\" />\\r\\n              <button type=\\\"button\\\" class=\\\"csui-stateaction-processing binf-hidden binf-btn binf-btn-default icon\\r\\n            csui-icon circle_delete\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancelAria || (depth0 != null ? depth0.cancelAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancelAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\" />\\r\\n\";\n},\"4\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"  <div class=\\\"csui-name-status\\\" role=\\\"listitem\\\">\\r\\n    <div class=\\\"csui-names-progress\\\">\\r\\n      <div class=\\\"csui-names csui-progresscell\\\">\\r\\n        <div class=\\\"csui-type \"\n    + this.escapeExpression(((helper = (helper = helpers.type_icon_class || (depth0 != null ? depth0.type_icon_class : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"type_icon_class\",\"hash\":{}}) : helper)))\n    + \"\\\" />\\r\\n        <div class=\\\"csui-name\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n          \"\n    + this.escapeExpression(((helper = (helper = helpers.name || (depth0 != null ? depth0.name : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"name\",\"hash\":{}}) : helper)))\n    + \"\\r\\n        </div>\\r\\n      </div>\\r\\n      <div class=\\\"csui-progress csui-progresscell\\\" tabindex=\\\"0\\\">\\r\\n        <div class=\\\"csui-progress-dynamic binf-hidden\\\" aria-hidden=\\\"true\\\">\\r\\n          <div class=\\\"csui-progress-textbar\\\">\\r\\n            <div class=\\\"csui-progress-text\\\"></div>\\r\\n            <div class=\\\"binf-progress\\\">\\r\\n              <div class=\\\"binf-progress-bar\\\" role=\\\"progressbar\\\" aria-valuenow=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.percentage || (depth0 != null ? depth0.percentage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"percentage\",\"hash\":{}}) : helper)))\n    + \"\\\"\\r\\n                   aria-valuemin=\\\"0\\\" aria-valuemax=\\\"100\\\" style=\\\"width:\"\n    + this.escapeExpression(((helper = (helper = helpers.percentage || (depth0 != null ? depth0.percentage : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"percentage\",\"hash\":{}}) : helper)))\n    + \"%\\\" ></div>\\r\\n            </div>\\r\\n          </div>\\r\\n          <div class=\\\"csui-percent\\\"></div>\\r\\n        </div>\\r\\n        <div class=\\\"csui-progress-static\\\"  aria-hidden=\\\"true\\\">\\r\\n          <div class=\\\"csui-progress-textbar\\\">\\r\\n            <div class=\\\"csui-progress-static-pending\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_pending || (depth0 != null ? depth0.state_pending : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_pending\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-processing binf-hidden\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_processing || (depth0 != null ? depth0.state_processing : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_processing\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-resolved binf-hidden\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_resolved || (depth0 != null ? depth0.state_resolved : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_resolved\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-rejected binf-hidden\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_rejected || (depth0 != null ? depth0.state_rejected : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_rejected\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n            <div class=\\\"csui-progress-static-aborted binf-hidden\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.state_aborted || (depth0 != null ? depth0.state_aborted : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"state_aborted\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n          </div>\\r\\n          <div class=\\\"csui-percent\\\"></div>\\r\\n        </div>\\r\\n      </div>\\r\\n    </div>\\r\\n    <div class=\\\"csui-states-actions\\\">\\r\\n      <div class=\\\"csui-stateaction csui-progresscell\\\">\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.enableCancel : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(5, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"        <div\\r\\n            class=\\\"csui-stateaction-resolved binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-success\\\" />\\r\\n        <div\\r\\n            class=\\\"csui-stateaction-rejected binf-hidden icon csui-icon csui-icon-like-btn csui-icon-notification-error\\\" />\\r\\n        <div class=\\\"csui-stateaction-aborted binf-hidden\\\" />\\r\\n      </div>\\r\\n    </div>\\r\\n  </div>\\r\\n  <div class=\\\"csui-error\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.error || (depth0 != null ? depth0.error : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"error\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n    \"\n    + this.escapeExpression(((helper = (helper = helpers.error || (depth0 != null ? depth0.error : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"error\",\"hash\":{}}) : helper)))\n    + \"\\r\\n  </div></div>\\r\\n\\r\\n\";\n},\"5\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"          <button type=\\\"button\\\" class=\\\"csui-stateaction-pending binf-btn binf-btn-default icon csui-icon\\r\\n            circle_delete\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancelAria || (depth0 != null ? depth0.cancelAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancelAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\" />\\r\\n          <button type=\\\"button\\\" class=\\\"csui-stateaction-processing binf-hidden binf-btn binf-btn-default icon\\r\\n            csui-icon circle_delete\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancelAria || (depth0 != null ? depth0.cancelAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancelAria\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.cancel || (depth0 != null ? depth0.cancel : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"cancel\",\"hash\":{}}) : helper)))\n    + \"\\\" />\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1;\n\n  return ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.commandName : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.program(4, data, 0)})) != null ? stack1 : \"\")\n    + \"\\r\\n\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_progresspanel_impl_progressbar', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',[],function(){});\n","\ncsui.define('css!csui/controls/globalmessage/globalmessage_icons',[],function(){});\n","// An application widget is exposed via a RequireJS module\r\ncsui.define('csui/controls/globalmessage/impl/progresspanel/progresspanel.view',[\r\n  'csui/lib/underscore',                             // Cross-browser utility belt\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',                             // MVC application support\r\n  'csui/utils/nodesprites',\r\n  'i18n',\r\n  'csui/utils/base',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'i18n!csui/controls/globalmessage/impl/progresspanel/impl/nls/progresspanel.lang',  // Use localizable texts\r\n  'hbs!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',            // Template to render the HTML\r\n  'hbs!csui/controls/globalmessage/impl/progresspanel/impl/progressbar',              // Template to render the HTML\r\n  'css!csui/controls/globalmessage/impl/progresspanel/impl/progresspanel',            // Stylesheet needed for this view\r\n  'css!csui/controls/globalmessage/globalmessage_icons'\r\n], function (_, $, Marionette, NodeSprites, i18n, Base, PerfectScrollingBehavior,\r\n    lang, panelTemplate, barTemplate) {\r\n  'use strict';\r\n\r\n  var BarStateValues = [\"pending\", \"processing\", \"rejected\", \"resolved\", \"aborted\"];\r\n\r\n  var updateProgressArea = function (elem, info) {\r\n    var errorElem = elem.find(\".csui-error\");\r\n    // update progress indicator\r\n    if (info.dynamic === undefined ? info.state === \"processing\" : info.dynamic) {\r\n      var progressBar = elem.find(\".binf-progress-bar\");\r\n      this.options.messageHelper.switchField(elem, \".csui-progress\", \"dynamic\",\r\n          [\"static\", \"dynamic\"]);\r\n      // update progressbar\r\n      var bytesOfSize = _.str.sformat(lang.BytesOfSize,\r\n          Base.getReadableFileSizeString(info.count),\r\n          Base.getReadableFileSizeString(info.total));\r\n      elem.find(\".csui-progress-text\").text(bytesOfSize);\r\n      progressBar.attr(\"aria-valuenow\", info.percentage);\r\n      progressBar.css(\"width\", _.str.sformat(\"{0}%\", info.percentage));\r\n\r\n      // update percent field\r\n      elem.find(\".csui-progress-dynamic .csui-percent\").text(\r\n          _.str.sformat(\"{0}%\", info.percentage));\r\n      elem.find('.csui-progress').attr('aria-label',\r\n          _.str.sformat(\"{0} {1}%\", info.label, info.percentage));\r\n\r\n    } else {\r\n      this.options.messageHelper.switchField(elem, \".csui-progress\", \"static\",\r\n          [\"static\", \"dynamic\"]);\r\n      // update state field\r\n      this.options.messageHelper.switchField(elem, \".csui-progress-static\", info.state,\r\n          BarStateValues);\r\n      var stateAriaLabel = _.str.sformat(\"{0} {1}\", info.label,\r\n          lang[\"State_\" + info.state]);\r\n      elem.find('.csui-progress')\r\n          .attr('aria-label', stateAriaLabel);\r\n    }\r\n    errorElem.text(info.errorMessage);\r\n    errorElem.attr(\"title\", info.errorMessage);\r\n    if (info.errorMessage) {\r\n      elem.addClass('csui-error');\r\n    }\r\n\r\n    // update action field\r\n    this.options.messageHelper.switchField(elem, \".csui-stateaction\", info.state,\r\n        BarStateValues);\r\n  };\r\n\r\n  var ProgressBarView = Marionette.ItemView.extend({\r\n\r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function ProgressBarView(options) {\r\n\r\n      // Models and collections passed via options to the parent constructor\r\n      // are wired to\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n\r\n      // TODO: Make the progressbar a reusable component; do not\r\n      // misuse the file-upload-progressbar for other scenarios.\r\n      // For upload, the model has the MIME type set from the file\r\n      // object available. For copy, delete and move commnds\r\n      // the model does not have it set and the node is complete\r\n      // by fetching it from the server.\r\n      var model = this.model;\r\n      if (!!model.node && model.node.get('mime_type') === undefined) {\r\n        model.node.set({\r\n          container: false,\r\n          type: 144,\r\n          mime_type: model.get('mime_type') || model.get('type')\r\n        }, {silent: true});\r\n      }\r\n\r\n      // Whenever properties of the model change, re-render the view\r\n      this.listenTo(this.model, 'change', this._updateItem);\r\n    },\r\n\r\n    _updateItem: function () {\r\n\r\n      var info = this._computeProgress(),\r\n          elem = this.$el;\r\n      updateProgressArea.call(this, elem, info);\r\n    },\r\n\r\n    _computeProgress: function () {\r\n      var count      = this.model.get('count'),\r\n          total      = this.model.get('total'),\r\n          state      = this.model.get(\"state\"),\r\n          percentage = Math.floor(count / total * 100);\r\n      // 100% will be reached, when the file gets uploaded, but then\r\n      // the server will start saving the document.  Do not show the\r\n      // end-user 100%, when they still need to wait.\r\n      if (percentage === 100 && state === 'processing') {\r\n        percentage = 99;\r\n      }\r\n      return {\r\n        count: count,\r\n        total: total,\r\n        percentage: percentage,\r\n        state: state,\r\n        errorMessage: this.model.get(\"errorMessage\"),\r\n        label: _.str.sformat(\"{0} {1}\", this.options.oneFilePending, this.getItemLabel())\r\n      };\r\n    },\r\n\r\n    className: \"csui-progressbar csui-progressrow\",\r\n    template: barTemplate,\r\n\r\n    getItemLabel: function () {\r\n      return this.model.get('newName') || this.model.get('name');\r\n    },\r\n\r\n    templateHelpers: function () {\r\n      var info        = this._computeProgress(),\r\n          model       = this.model,\r\n          name        = this.getItemLabel(),\r\n          cancelAria  = _.str.sformat(lang.CancelAria, name),\r\n          commandName = !!model.get('commandName') || model.get('commandName');\r\n      info.name = name;\r\n      info.enableCancel = this.options.enableCancel;\r\n      info.type_icon_class = this.model.node ? NodeSprites.findClassByNode(this.model.node) : \"\";\r\n      BarStateValues.forEach(function (value) {\r\n        info[\"state_\" + value] = lang[\"State_\" + value];\r\n      });\r\n      info.cancel = lang.Cancel;\r\n      info.cancelAria = cancelAria;\r\n      info.expand = lang.Expand;\r\n      info.collapse = lang.Collapse;\r\n      info.close = lang.Close;\r\n      return info;\r\n    },\r\n\r\n    onRender: function () {\r\n      this._updateItem();\r\n    },\r\n\r\n    ui: {\r\n      pendingAction: '.csui-stateaction-pending',\r\n      processingAction: '.csui-stateaction-processing',\r\n      error: '.csui-error'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.pendingAction': 'doCancel',\r\n      'click @ui.processingAction': 'doCancel'\r\n    },\r\n\r\n    doCancel: function () {\r\n      this.model.abort();\r\n    }\r\n  });\r\n\r\n  var ProgressPanelView = Marionette.CompositeView.extend({\r\n\r\n    // Constructor gives an explicit name to the object in the debugger and\r\n    // can update the options for the parent view, which `initialize` cannot\r\n    constructor: function ProgressPanelView(options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        oneFileSuccess: lang.UploadOneItemSuccessMessage,\r\n        multiFileSuccess: lang.UploadManyItemsSuccessMessage,\r\n        oneFilePending: lang.UploadingOneItem,\r\n        multiFilePending: lang.UploadingItems,\r\n        oneFileFailure: lang.UploadOneItemFailMessage,\r\n        multiFileFailure: lang.UploadManyItemsFailMessage2,\r\n        someFileSuccess: lang.UploadSomeItemsSuccessMessage,\r\n        someFilePending: lang.UploadingSomeItems,\r\n        someFileFailure: lang.UploadSomeItemsFailMessage2,\r\n        enableCancel: true\r\n      });\r\n      if (options.enableCancel) {\r\n        this.panelStateValues = [\"resolved\", \"rejected\", \"aborted\", \"processing\"];\r\n      }\r\n      else {\r\n        this.panelStateValues = [\"resolved\", \"rejected\", \"aborted\"];\r\n      }\r\n\r\n      // Models and collections passed via options to the parent constructor\r\n      // are wired to\r\n      Marionette.CompositeView.prototype.constructor.call(this, options);\r\n\r\n      // Whenever properties of the model change, re-render the view\r\n      this.listenTo(this.collection, 'change', this._updateHeader);\r\n      this.originatingView = options.originatingView;\r\n      if (!!this.originatingView) {\r\n        this.originatingView.trigger('global.alert.inprogress');\r\n      }\r\n    },\r\n\r\n    onDestroy: function () {\r\n      this.handleProgressComplete();\r\n    },\r\n\r\n    handleProgressComplete: function () {\r\n      if (this.originatingView) {\r\n        this.originatingView.trigger('global.alert.completed');\r\n      }\r\n    },\r\n\r\n    behaviors: {\r\n      PerfectScrolling: {\r\n        behaviorClass: PerfectScrollingBehavior,\r\n        contentParent: '> .csui-items-wrapper',\r\n        suppressScrollX: true\r\n      }\r\n    },\r\n\r\n    isProgressFailed: function () {\r\n      return $.inArray(this.state, ['rejected', 'aborted']) !== -1;\r\n    },\r\n\r\n    isProgressCompleted: function () {\r\n      return $.inArray(this.state, ['resolved', 'rejected', 'aborted']) !== -1;\r\n    },\r\n\r\n    _updateHeader: function () {\r\n      var info = this._computeProgress();\r\n      var options = this.options;\r\n\r\n      // update title\r\n      var langTitle;\r\n      var collLen = this.collection.length;\r\n      if (info.state === 'pending' || info.state === 'processing') {\r\n        langTitle = this._getFormatString(options.oneFilePending, options.someFilePending,\r\n            options.multiFilePending, collLen);\r\n      } else if (info.state === 'resolved') {\r\n        langTitle = this._getFormatString(options.oneFileSuccess, options.someFileSuccess,\r\n            options.multiFileSuccess, collLen);\r\n      } else {\r\n        langTitle = this._getFormatString(options.oneFileFailure, options.someFileFailure,\r\n            options.multiFileFailure, collLen);\r\n      }\r\n      info.label = langTitle = _.str.sformat(langTitle,\r\n          this.collection.length, this.collection.length - info.failed, info.failed);\r\n      this.ui.header.find(\".csui-title\").text(langTitle);\r\n      this.state = info.state;\r\n      if (this.isProgressFailed()) {\r\n        this.ui.header\r\n            .addClass('csui-error')\r\n            .find('.csui-header-icon')\r\n            .toggleClass('csui-icon-notification-warning-white binf-hidden');\r\n        this.ui.processingAction\r\n            .addClass('binf-hidden');\r\n        this.ui.closeAction.parent('.csui-close')\r\n            .removeClass('binf-hidden');\r\n        this.ui.header.find('.csui-progress').addClass('binf-hidden');\r\n        this.ui.header.find(\".csui-title\").attr('tabindex', '0').focus();\r\n      }\r\n\r\n      if (this.isProgressCompleted()) {\r\n        this.handleProgressComplete();\r\n      }\r\n\r\n      updateProgressArea.call(this, this.ui.header, info);\r\n\r\n      // update collapse/expand\r\n      if (!this.stateExpandCollapse) {\r\n        // only on initial rendering collapse/expand and take state from template\r\n        var arrow = this.ui.header.find(\".csui-expand\").find(\":not(.binf-hidden)\");\r\n        if (arrow.hasClass(\"csui-expand-up\")) {\r\n          this.doExpand(false);\r\n        } else if (arrow.hasClass(\"csui-expand-down\")) {\r\n          this.doCollapse(false);\r\n        }\r\n      }\r\n\r\n      // and for better layout possibilities, mark empty panel\r\n      var isempty = !this.collection || this.collection.length === 0;\r\n      if (this.$el.hasClass(\"csui-empty\")) {\r\n        if (!isempty) {\r\n          this.$el.removeClass(\"csui-empty\");\r\n        }\r\n      } else {\r\n        if (isempty) {\r\n          this.$el.addClass(\"csui-empty\");\r\n        }\r\n      }\r\n    },\r\n\r\n    _getFormatString: function (str1, str2, str5, collen) {\r\n      var res;\r\n      if (collen <= 1) {\r\n        res = str1;\r\n      } else if (collen > 1 && collen < 5) {\r\n        res = str2;\r\n      } else {\r\n        res = str5;\r\n      }\r\n      return res;\r\n    },\r\n\r\n    _computeProgress: function () {\r\n      var allDone    = true,\r\n          processing = false,\r\n          allAborted = true,\r\n          failed     = 0,\r\n          count      = 0,\r\n          total      = 0;\r\n      this.collection.forEach(function (item) {\r\n        count += item.get('count');\r\n        total += item.get('total');\r\n        if (item.get(\"state\") === \"pending\" || item.get(\"state\") === \"processing\") {\r\n          allDone = false;\r\n        }\r\n        if (item.get(\"state\") !== \"pending\") {\r\n          processing = true;\r\n        }\r\n        if (item.get(\"state\") === \"rejected\" || item.get(\"state\") === \"aborted\") {\r\n          ++failed;\r\n        }\r\n        if (item.get(\"state\") === \"resolved\" || item.get(\"state\") === \"rejected\") {\r\n          allAborted = false;\r\n        }\r\n      });\r\n      var percentage = (total > 0) ? Math.floor(count / total * 100) : 0;\r\n      // 100% will be reached, when the file gets uploaded, but then\r\n      // the server will start saving the document.  Do not show the\r\n      // end-user 100%, when they still need to wait.\r\n      if (percentage === 100 && !allDone) {\r\n        percentage = 99;\r\n      }\r\n      var state   = allDone ? failed ? allAborted ? \"aborted\" : \"rejected\" : \"resolved\" :\r\n                    processing ? \"processing\" : \"pending\",\r\n          dynamic = state !== \"pending\";\r\n      return {\r\n        count: count,\r\n        total: total,\r\n        failed: failed,\r\n        percentage: percentage,\r\n        state: state,\r\n        dynamic: dynamic\r\n      };\r\n    },\r\n\r\n    // Outermost parent element should contain a unique widget-specific class\r\n    className: 'csui-progresspanel',\r\n\r\n    childView: ProgressBarView,\r\n    childViewContainer: \".csui-items\",\r\n    childViewOptions: function () {\r\n      return _.extend(this.options, {\r\n        enableCancel: this.options.enableCancel,\r\n        messageHelper: this.options.messageHelper\r\n      });\r\n    },\r\n\r\n    // Template method rendering the HTML for the view\r\n    template: panelTemplate,\r\n\r\n    templateHelpers: function () {\r\n      var info = this._computeProgress();\r\n      BarStateValues.forEach(function (value) {\r\n        info[\"state_\" + value] = lang[\"State_\" + value];\r\n      });\r\n      this.panelStateValues.forEach(function (value) {\r\n        info[\"stateaction_\" + value] = lang[\"StateAction_\" + value];\r\n        info[\"stateaction_all_\" + value] = lang[\"StateAction_all_\" + value];\r\n      });\r\n      info.cancel = lang.Cancel;\r\n      info.expand = lang.Expand;\r\n      info.expandAria = lang.ExpandAria;\r\n      info.collapse = lang.Collapse;\r\n      info.collapseAria = lang.CollapseAria;\r\n      info.close = lang.Close;\r\n      info.closeAria = lang.CloseAria;\r\n      info.processing = (info.state === \"processing\") ? true : false;\r\n      info.progressTitleId = _.uniqueId(\"progressTitle\");\r\n      return info;\r\n    },\r\n\r\n    onRender: function () {\r\n      this._updateHeader();\r\n    },\r\n\r\n    ui: {\r\n      header: '.csui-header',\r\n      pendingAction: '.csui-header .csui-stateaction-pending',\r\n      processingAction: '.csui-header .csui-stateaction-processing',\r\n      closeAction: '.csui-header .csui-action-close',\r\n      collapseAction: '.csui-header .csui-expand-up',\r\n      expandAction: '.csui-header .csui-expand-down'\r\n    },\r\n    events: {\r\n      'click @ui.pendingAction': 'doCancel',\r\n      'click @ui.processingAction': 'doCancel',\r\n      'click @ui.closeAction': 'doClose',\r\n      'click @ui.collapseAction': 'doCollapse',\r\n      'click @ui.expandAction': 'doExpand'\r\n    },\r\n\r\n    doCancel: function () {\r\n      this.collection.forEach(function (item) {\r\n        item.abort();\r\n      });\r\n    },\r\n\r\n    doCollapse: function (animated) {\r\n      animated = (animated === false) ? false : true;\r\n      var items = this.$el.find(\".csui-items\");\r\n      this.options.messageHelper.switchField(this.$el.find(\".csui-header\"),\r\n          \".csui-expand\", \"down\",\r\n          [\"up\", \"down\"]);\r\n      this.options.messageHelper.collapsePanel(this, items, items, animated);\r\n      this.stateExpandCollapse = \"collapsed\";\r\n      this.$el.find('.csui-expand-down').focus();\r\n    },\r\n\r\n    doExpand: function (animated) {\r\n      var items = this.$el.find(\".csui-items\"),\r\n          self  = this;\r\n      animated = (animated === false) ? false : true;\r\n      this.options.messageHelper.switchField(this.$el.find(\".csui-header\"),\r\n          \".csui-expand\", \"up\",\r\n          [\"up\", \"down\"]);\r\n      this.options.messageHelper.expandPanel(this, items, items, animated);\r\n      this.stateExpandCollapse = \"expanded\";\r\n      this.$el.find('.csui-expand-up').focus();\r\n      this.$el.one(this.options.messageHelper.transitionEnd(), function () {\r\n        // TODO: DOM refresh will remove focusable of progress element by setting tabindex -1\r\n        // self.trigger('dom:refresh');\r\n        // event to ensure perfect scrollbar after 'dom:refresh' event is commented out above\r\n        self.trigger('ensure:scrollbar');\r\n      });\r\n    },\r\n\r\n    doShow: function (relatedView, parentView) {\r\n      this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n      this.doResize();\r\n      this.$el.trigger('globalmessage.shown', this);\r\n      // Set focus to close button if visible. Otherwise, first focusable element\r\n      this.currentlyFocusedElement().focus();\r\n    },\r\n\r\n    currentlyFocusedElement: function () {\r\n      return this.ui.header.find('.csui-progress');\r\n    },\r\n\r\n    doClose: function () {\r\n      var self = this, panel = _.extend({\r\n        csuiAfterHide: function () {\r\n          self.destroy();\r\n          // Set focus back to origin view only when progress failed.\r\n          // Otherwise, Success message will be showing and it will take care of preserving focus.\r\n          if (self.isProgressFailed()) {\r\n            // Set focus back to Origin element which trigger the alert\r\n            self.trigger('escaped:focus');\r\n          }\r\n        }\r\n      }, this);\r\n      this.options.messageHelper.fadeoutPanel(panel);\r\n    },\r\n\r\n    doResize: function () {\r\n      if (this.options.sizeToParentContainer) {\r\n        var minWidth = parseInt(this.$el.css('min-width'), 10);\r\n        var width = this.$el.width();\r\n        var parentWidth = this.$el.parent().width();\r\n        this.uncompressedMinWidth || (this.uncompressedMinWidth = minWidth);\r\n        if (this.uncompressedMinWidth > parentWidth) {\r\n          this.$el.addClass('compressed');\r\n        }\r\n        else {\r\n          this.$el.removeClass('compressed');\r\n        }\r\n        var newWidth = this.$el.width();\r\n        var translateX = (parentWidth - newWidth) / 2;\r\n        translateX > 0 || (translateX = 0);\r\n        translateX = !!i18n.settings.rtl ? -translateX : translateX;\r\n        translateX = 'translateX(' + translateX + 'px)';\r\n        this.$el.css({'transform': translateX});\r\n      }\r\n    }\r\n  });\r\n\r\n  return ProgressPanelView;\r\n\r\n});\r\n\n","// Lists explicit locale mappings and fallbacks\r\n\r\ncsui.define('csui/controls/globalmessage/impl/nls/globalmessage.lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/globalmessage/impl/nls/root/globalmessage.lang',{\r\n  FewerDetails: \"Fewer details\",\r\n  MoreDetails: \"More details...\",\r\n  GotoLocationLinkLabel: \"Go to location\",\r\n  CloseDialog: \"Close\",\r\n  closeDialogAria: \"Close message dialog\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/messagedialog',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <div class=\\\"csui-message-link-div\\\">\\r\\n    <a href=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.link_url || (depth0 != null ? depth0.link_url : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"link_url\",\"hash\":{}}) : helper)))\n    + \"\\\" class=\\\"csui-message-link\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.link_label || (depth0 != null ? depth0.link_label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"link_label\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n  </div>\\r\\n\";\n},\"3\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"csui-details-wrapper\\\">\\r\\n  <div id=\\\"csui-message-details\\\" class=\\\"csui-details csui-minheight\\\">\\r\\n    <div class=\\\"csui-text binf-hidden\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.detailsId || (depth0 != null ? depth0.detailsId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"detailsId\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.details_text || (depth0 != null ? depth0.details_text : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"details_text\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"csui-action csui-message-details-heightsource\\\">\\r\\n      <a href=\\\"javascript:void(0);\\\" class=\\\"csui-action-moredetails\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.action_moredetails || (depth0 != null ? depth0.action_moredetails : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"action_moredetails\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n      <a href=\\\"javascript:void(0);\\\" class=\\\"csui-action-fewerdetails binf-hidden\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.action_fewerdetails || (depth0 != null ? depth0.action_fewerdetails : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"action_fewerdetails\",\"hash\":{}}) : helper)))\n    + \"</a>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-header csui-height-target\\\">\\r\\n    <div class=\\\"csui-state\\\">\\r\\n        <span class=\\\"csui-state-icon csui-icon\\\"></span>\\r\\n    </div>\\r\\n    <div class=\\\"csui-text\\\" id=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.headerId || (depth0 != null ? depth0.headerId : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"headerId\",\"hash\":{}}) : helper)))\n    + \"\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.header_text || (depth0 != null ? depth0.header_text : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"header_text\",\"hash\":{}}) : helper)))\n    + \"\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.header_text || (depth0 != null ? depth0.header_text : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"header_text\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n    <div class=\\\"csui-action\\\">\\r\\n        <button type=\\\"button\\\" class=\\\"csui-action-close binf-btn binf-btn-default csui-icon\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.closeDialog || (depth0 != null ? depth0.closeDialog : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"closeDialog\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.closeDialogAria || (depth0 != null ? depth0.closeDialogAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"closeDialogAria\",\"hash\":{}}) : helper)))\n    + \"\\\"/>\\r\\n    </div>\\r\\n</div>\\r\\n\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.message_with_link : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\")\n    + \"\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.details_text : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(3, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_messagedialog', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/globalmessage/impl/messagedialog',[],function(){});\n","csui.define('csui/controls/globalmessage/impl/messagedialog.view',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette', 'i18n',\r\n  'i18n!csui/controls/globalmessage/impl/nls/globalmessage.lang',\r\n  'hbs!csui/controls/globalmessage/impl/messagedialog',\r\n  'css!csui/controls/globalmessage/impl/messagedialog',\r\n  'css!csui/controls/globalmessage/globalmessage_icons'\r\n], function (_, $, Marionette, i18n, lang, template, css) {\r\n  'use strict';\r\n\r\n  var messageClassMap = {\r\n    info: \"csui-info\",\r\n    success: \"csui-success\",\r\n    success_with_link: \"csui-success-with-link\",\r\n    warning: \"csui-warning\",\r\n    error: \"csui-error\",\r\n    processing: \"csui-processing\",\r\n    none: \"csui-none\"\r\n  };\r\n\r\n  var stateIconClassMap = {\r\n    info: \"csui-icon-notification-information-white\",\r\n    success: \"csui-icon-notification-success-white\",\r\n    success_with_link: \"csui-icon-notification-success-white\",\r\n    warning: \"csui-icon-notification-warning-white\",\r\n    error: \"csui-icon-notification-error-white\",\r\n    processing: null,\r\n    none: null\r\n  };\r\n\r\n  var closeIconClassMap = {\r\n    info: \"csui-icon-dismiss-white\",\r\n    success: \"csui-icon-dismiss-white\",\r\n    success_with_link: \"csui-icon-dismiss-white\",\r\n    warning: \"csui-icon-dismiss-white\",\r\n    error: \"csui-icon-dismiss-white\",\r\n    processing: null,\r\n    none: \"csui-icon-dismiss\"\r\n  };\r\n\r\n  var className = \"csui-messagepanel\";\r\n\r\n  var View = Marionette.ItemView.extend({\r\n\r\n    constructor: function MessageDialog(options) {\r\n      this.css = css;\r\n      options.info || (options.info = \"info\");\r\n      this.className = className + \" \" + messageClassMap[options.info];\r\n\r\n      if (options.context && options.nextNodeModelFactory) {\r\n        this._nextNode = options.context.getModel(options.nextNodeModelFactory);\r\n      }\r\n\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    className: className + \" \" + messageClassMap[\"info\"],\r\n    template: template,\r\n\r\n    ui: {\r\n      closeAction: '.csui-header .csui-action-close',\r\n      collapseAction: '.csui-details .csui-action-fewerdetails',\r\n      expandAction: '.csui-details .csui-action-moredetails',\r\n      stateIcon: '.csui-state-icon',\r\n      closeIcon: '.csui-action-close',\r\n      messageLink: '.csui-message-link'\r\n    },\r\n\r\n    events: {\r\n      'click @ui.closeAction': 'doClose',\r\n      'click @ui.collapseAction': 'doCollapse',\r\n      'click @ui.expandAction': 'doExpand',\r\n      'click @ui.messageLink': 'onClickLink',\r\n      'focusout @ui.closeIcon': 'replaceDummyBackImg'\r\n    },\r\n\r\n    doResize: function () {\r\n      var header = this.$el.find(\".csui-header\");\r\n      var details = this.$el.find(\".csui-details\");\r\n      details.width(header.width());\r\n      if (this.options.sizeToParentContainer) {\r\n        var width = this.$el.width();\r\n        var parentWidth = this.$el.parent().width();\r\n        var translateX = (parentWidth - width) / 2;\r\n        translateX > 0 || (translateX = 0);\r\n        translateX = !!i18n.settings.rtl ? -translateX : translateX;\r\n        translateX = 'translateX(' + translateX + 'px)';\r\n        this.$el.css({'transform': translateX});\r\n      }\r\n    },\r\n\r\n    doCollapse: function (animated) {\r\n      this._clearTimeout();\r\n      animated = (animated === false) ? false : true;\r\n      var details = this.$el.find(\".csui-details\");\r\n      var detailsText = details.find(\".csui-text\");\r\n      this.options.messageHelper.switchField(details, \".csui-action\", \"moredetails\",\r\n          [\"moredetails\", \"fewerdetails\"]);\r\n      var panel = _.extend({csuiAfterHide: function () { details.css(\"width\", \"\"); }},\r\n          this);\r\n      this.options.messageHelper.collapsePanel(panel, details, detailsText, animated);\r\n      this.stateExpandCollapse = \"collapsed\";\r\n    },\r\n\r\n    doExpand: function (animated) {\r\n      this._clearTimeout();\r\n      animated = (animated === false) ? false : true;\r\n      var details = this.$el.find(\".csui-details\");\r\n      var detailsText = details.find(\".csui-text\");\r\n      this.options.messageHelper.switchField(details, \".csui-action\", \"fewerdetails\",\r\n          [\"moredetails\", \"fewerdetails\"]);\r\n      details.css(\"width\", this.$el.find(\".csui-header\").width());\r\n      this.options.messageHelper.expandPanel(this, details, detailsText, animated);\r\n      this.stateExpandCollapse = \"expanded\";\r\n    },\r\n\r\n    doShow: function (relatedView, parentView) {\r\n      var existingDialogs = parentView.$el.find('.csui-global-message.position-show');\r\n      if (existingDialogs.length) {\r\n        var latestDialog        = existingDialogs.last().find('.csui-header'),\r\n            existingDialogCount = existingDialogs.length,\r\n            currentDialogHeader = this.$el.find('.csui-header');\r\n        currentDialogHeader.css({\r\n          'top': 4 * existingDialogCount + 'px',\r\n          'margin': '0 ' + (-8 * existingDialogCount) + 'px'\r\n        });\r\n        var currentDialogDetailsWrapper = this.$el.find('.csui-details-wrapper');\r\n        if (currentDialogDetailsWrapper.length) {\r\n          currentDialogDetailsWrapper.css({\r\n            'margin-right': (-8 * existingDialogCount) + (-5) + 'px',\r\n            'margin-left': (-8 * existingDialogCount) + (-5) + 'px'\r\n          });\r\n        }\r\n      }\r\n      if (this.options.info === \"success\") {\r\n        var self = this;\r\n        var panel = _.extend({\r\n          csuiAfterShow: function () {\r\n            self.doResize();\r\n            self._setTimeout();\r\n          }\r\n        }, this);\r\n        this.options.messageHelper.showPanel(panel, relatedView, parentView);\r\n      } else {\r\n        this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n      }\r\n      this.doResize();\r\n\r\n      // Fire message show to make this message dialog tabbale\r\n      this.$el.trigger('globalmessage.shown', this);\r\n      this.$el.find('.csui-action-close').focus();\r\n    },\r\n\r\n    doClose: function () {\r\n      this._clearTimeout();\r\n      var self = this, panel = _.extend({\r\n        csuiAfterHide: function () {\r\n          self.destroy();\r\n          // Set focus back to Origin element which trigger the alert\r\n          self.trigger('escaped:focus');\r\n        }\r\n      }, this);\r\n      this.options.messageHelper.fadeoutPanel(panel);\r\n    },\r\n\r\n    _setTimeout: function () {\r\n      var self = this;\r\n      if (!this.options.enablePermanentHeaderMessages) {\r\n        // at least the fixed timeout can be deactivated, to comply with BITV 2.2.1a, configurable time limits\r\n        this.options.timeout = window.setTimeout(function () {\r\n          self.doClose();\r\n        }, 5000);\r\n      }\r\n    },\r\n\r\n    _clearTimeout: function () {\r\n      if (this.options.timeout) {\r\n        window.clearTimeout(this.options.timeout);\r\n        this.options.timeout = undefined;\r\n      }\r\n    },\r\n\r\n    headerId: undefined,\r\n    detailsId: undefined,\r\n\r\n    templateHelpers: function () {\r\n      var closeAria = lang.closeDialogAria;\r\n      if (!this.headerId) {\r\n        this.headerId = _.uniqueId('header');\r\n      }\r\n      if (!this.detailsId) {\r\n        this.detailsId = this.options.details ? _.uniqueId('details') : undefined;\r\n      }\r\n\r\n      var info = {\r\n        header_text: this.options.message,\r\n        headerId: this.headerId,\r\n        details_text: this.options.details,\r\n        detailsId: this.detailsId,\r\n        action_moredetails: lang.MoreDetails,\r\n        action_fewerdetails: lang.FewerDetails,\r\n        closeDialog: lang.CloseDialog,\r\n        closeDialogAria: closeAria\r\n      };\r\n\r\n      if (this.options.link_url && this.options.targetFolder) {\r\n        info = _.extend(info, {\r\n          message_with_link: true,\r\n          link_label: lang.GotoLocationLinkLabel,\r\n          link_url: this.options.link_url\r\n        });\r\n      }\r\n\r\n      return info;\r\n    },\r\n\r\n    onClickLink: function (event) {\r\n      event.preventDefault();\r\n      event.stopPropagation();\r\n      this.doClose();\r\n      if (this.options.targetFolder && this._nextNode) {\r\n        this._nextNode.set('id', this.options.targetFolder.get('id'));\r\n      }\r\n    },\r\n\r\n    onRender: function () {\r\n      // Set proper role and related fields\r\n      this.$el.attr('role', 'alertdialog');\r\n      this.$el.attr('aria-labelledby', this.headerId);\r\n      if (this.detailsId) {\r\n        this.$el.attr('aria-describedby', this.detailsId);\r\n      }\r\n\r\n      // Apply the right state icon\r\n      var stateClass = stateIconClassMap[this.options.info];\r\n      if (stateClass) {\r\n        this.ui.stateIcon.addClass(stateClass);\r\n      } else {\r\n        this.$el.addClass('csui-no-icon');\r\n      }\r\n\r\n      // Apply the right close icon\r\n      var closeClass = closeIconClassMap[this.options.info];\r\n      if (closeClass) {\r\n        this.ui.closeIcon.addClass(closeClass);\r\n      }\r\n\r\n      // Update collapse/expand\r\n      if (!this.stateExpandCollapse) {\r\n        // only on initial rendering collapse/expand and take state from template\r\n        var arrow = this.$el.find(\".csui-details .csui-action\").find(\r\n            \":not(.binf-hidden)\");\r\n        if (arrow.hasClass(\"csui-action-fewerdetails\")) {\r\n          this.doExpand(false);\r\n        } else if (arrow.hasClass(\"csui-action-moredetails\")) {\r\n          this.doCollapse(false);\r\n        }\r\n      }\r\n    },\r\n\r\n    replaceDummyBackImg: function(){\r\n      this.ui.closeIcon.addClass('csui-action-close-replace-dummy');\r\n    }\r\n\r\n  });\r\n\r\n  return View;\r\n\r\n});\r\n\n","csui.define('csui/controls/globalmessage/impl/custom.wrapper.view',[\r\n  'csui/lib/backbone', 'csui/lib/marionette',\r\n  'css!csui/controls/globalmessage/impl/messagedialog',\r\n], function (Backbone, Marionette) {\r\n  'use strict';\r\n\r\n  var CustomWrapperView = Marionette.ItemView.extend({\r\n\r\n    constructor: function CustomWrapperView(options) {\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n\r\n      var contentView = this.getOption('contentView');\r\n      if (!(contentView instanceof Backbone.View)) {\r\n        contentView = contentView.call(this);\r\n      }\r\n      this.view = contentView;\r\n\r\n      this.listenTo(contentView, 'destroy', this.destroy);\r\n      this.region = new Marionette.Region({el: this.el});\r\n    },\r\n\r\n    className: 'csui-messagepanel',\r\n\r\n    template: false,\r\n\r\n    onRender: function () {\r\n      this.region.show(this.view);\r\n    },\r\n\r\n    onDestroy: function () {\r\n      this.region.empty();\r\n    },\r\n\r\n    doShow: function (relatedView, parentView) {\r\n      this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n    }\r\n\r\n  });\r\n\r\n  return CustomWrapperView;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"csui-loaderpanel\\\">\\r\\n  <div class=\\\"binf-row\\\">\\r\\n    <div class=\\\"binf-col-sm-6\\\" id=\\\"csui-zipanddownload-stage\\\">\\r\\n      \"\n    + this.escapeExpression(((helper = (helper = helpers.label || (depth0 != null ? depth0.label : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"label\",\"hash\":{}}) : helper)))\n    + \"\\r\\n    </div>\\r\\n    <div class=\\\"binf-col-sm-4\\\">\\r\\n      <div class=\\\"csui-loaderpanel-inner\\\"></div>\\r\\n    </div>\\r\\n    <div class=\\\"binf-col-sm-2 bin-pull-right\\\">\\r\\n      <a class=\\\"binf-pull-right csui-loader-cancel\\\">Cancel</a>\\r\\n    </div>\\r\\n  </div>\\r\\n</div>\";\n}});\nHandlebars.registerPartial('csui_controls_globalmessage_impl_loaderpanel_impl_loaderpanel', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel',[],function(){});\n","csui.define('csui/controls/globalmessage/impl/loaderpanel/loaderpanel.view',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/lib/marionette', 'i18n',\r\n  'hbs!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel',\r\n  'css!csui/controls/globalmessage/impl/loaderpanel/impl/loaderpanel'\r\n], function (_, $, Backbone, Marionette, i18n, template) {\r\n  var LoaderPanelView = Marionette.ItemView.extend({\r\n    template: template,\r\n    templateHelpers: function () {\r\n      return {label: this.options.label};\r\n    },\r\n\r\n    ui: {\r\n      cancel: '.csui-loader-cancel'\r\n    },  \r\n\r\n    events: {\r\n      'click @ui.cancel': 'cancelAndHide'\r\n    },\r\n\r\n    constructor: function LoaderPanelView(options) {\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    cancelAndHide: function(event) {\r\n      // view will be destroyed in xhr.always callback of globalmessage's showLoader\r\n      if (this.options.xhr && this.options.xhr.abort) {\r\n        this.options.xhr.abort();   \r\n      }      \r\n      this.destroy(false);\r\n    },\r\n\r\n    doShow: function (relatedView, parentView, xhr) {\r\n      this.options.messageHelper.showPanel(this, relatedView, parentView);\r\n      this.doResize();\r\n      this.$el.trigger('globalmessage.shown', this);\r\n      // Set focus to close button if visible. Otherwise, first focusable element\r\n      this.ui.cancel.focus();      \r\n      this.updateXHRReference(xhr);\r\n    },\r\n\r\n    updateXHRReference: function(xhr) {\r\n      if (xhr) {        \r\n        this.options.xhr && this.options.xhr.abort();\r\n        this.options.xhr = xhr;\r\n      }\r\n    },\r\n\r\n    doResize: function () {\r\n      if (this.options.sizeToParentContainer) {\r\n        var minWidth = parseInt(this.$el.css('min-width'), 10);\r\n        var width = this.$el.width();\r\n        var parentWidth = this.$el.parent().width();\r\n        this.uncompressedMinWidth || (this.uncompressedMinWidth = minWidth);\r\n        if (this.uncompressedMinWidth > parentWidth) {\r\n          this.$el.addClass('compressed');\r\n        }\r\n        else {\r\n          this.$el.removeClass('compressed');\r\n        }\r\n        var newWidth = this.$el.width();\r\n        var translateX = (parentWidth - newWidth) / 2;\r\n        translateX > 0 || (translateX = 0);\r\n        translateX = !!i18n.settings.rtl ? -translateX : translateX;\r\n        translateX = 'translateX(' + translateX + 'px)';\r\n        this.$el.css({'transform': translateX});\r\n      }\r\n    }\r\n  });\r\n  return LoaderPanelView;\r\n});\n","csui.define('csui/controls/globalmessage/globalmessage',['module',\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/messagehelper',\r\n  'csui/controls/globalmessage/impl/progresspanel/progresspanel.view',\r\n  'csui/controls/globalmessage/impl/messagedialog.view',\r\n  'csui/controls/globalmessage/impl/custom.wrapper.view',\r\n  'csui/controls/globalmessage/impl/loaderpanel/loaderpanel.view'\r\n], function ( module, _, $, Backbone, MessageHelper, ProgressPanelView,\r\n    MessageView, CustomWrapperView, LoaderPanelView) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    enablePermanentHeaderMessages: false\r\n  });\r\n\r\n  var messageHelper = new MessageHelper(),\r\n      globals = {},\r\n      hasDefaultRegion;\r\n\r\n  var GlobalMessage = {\r\n\r\n    setMessageRegionView: function (messageRegionView, options) {\r\n      this._cleanupPreviousMessageRegion();\r\n      // Global messages span over the entire view height without these options\r\n      options = _.defaults({}, options, {\r\n        useClass: true,\r\n        sizeToParentContainer: true\r\n      });\r\n      options.classes && (globals.classNames = options.classes);\r\n      globals.relatedView = options.useClass ? undefined : messageRegionView;\r\n      //Size to parent container instead of browser view port. This is needed for cases where the\r\n      //global messaging and progress bar are to display within a widget.\r\n      globals.sizeToParentContainer = options.sizeToParentContainer;\r\n      globals.messageRegionView = messageRegionView;\r\n      if (globals.messageRegionView && globals.fileUploadCollection &&\r\n          globals.progressPanel) {\r\n        globals.progressPanel = this._makeProgressPanel();\r\n      }\r\n    },\r\n\r\n    setFileUploadCollection: function (fileUploadCollection) {\r\n      globals.fileUploadCollection = fileUploadCollection;\r\n      if (globals.progressPanel) {\r\n        if (globals.fileUploadCollection) {\r\n          globals.progressPanel = this._makeProgressPanel();\r\n        } else {\r\n          this.hideFileUploadProgress();\r\n        }\r\n      }\r\n    },\r\n\r\n    hideFileUploadProgress: function () {\r\n      if (globals.progressPanel) {\r\n        globals.progressPanel.doClose();\r\n        globals.progressPanel.destroy();\r\n        globals.progressPanel = undefined;\r\n      }\r\n    },\r\n\r\n    showFileUploadProgress: function (fileUploadCollection, options) {\r\n      if (fileUploadCollection) {\r\n        if (globals.fileUploadCollection !== fileUploadCollection) {\r\n          this.hideFileUploadProgress();\r\n        }\r\n        globals.fileUploadCollection = fileUploadCollection;\r\n      }\r\n      if (!globals.progressPanel || fileUploadCollection) {\r\n        globals.progressPanel = this._makeProgressPanel(options);\r\n      }\r\n      if (globals.progressPanel) {\r\n        globals.progressPanel.doShow(globals.relativeView, globals.messageRegionView);\r\n      }\r\n    },\r\n\r\n    showPermissionApplyingProgress: function (permissionAppliedCollection, options) {\r\n      if(permissionAppliedCollection)\r\n      {\r\n        globals.permissionAppliedCollection = permissionAppliedCollection;\r\n        globals.progressPanel =  this.__makePermissionProgressPanel(options);\r\n      }\r\n\r\n      if (!globals.progressPanel || permissionAppliedCollection) {\r\n        globals.progressPanel = this._makeProgressPanel(options);\r\n      }\r\n      if (globals.progressPanel) {\r\n        globals.progressPanel.doShow(globals.relativeView, globals.messageRegionView);\r\n      }\r\n    },\r\n\r\n    showLoader: function(xhr, options) {\r\n      if (!globals.loaderPanel) {\r\n       globals.loaderPanel = this._makeLoaderPanel(_.extend({xhr: xhr}, options));\r\n      } else {\r\n        globals.loaderPanel.doShow(globals.relativeView, globals.messageRegionView, xhr);\r\n      }\r\n      globals.loaderPanel.listenTo(globals.loaderPanel, 'destroy', function(args) {\r\n        options.onDestroy && options.onDestroy(args);\r\n        globals.loaderPanel = undefined;\r\n      });\r\n      xhr && xhr.always(function(resp) {        \r\n        globals.loaderPanel && globals.loaderPanel.destroy();\r\n        options.onDestroy && options.onDestroy(resp); \r\n        globals.loaderPanel = undefined;\r\n      });\r\n    },\r\n    \r\n    changeLoaderMessage: function(message, xhr) {   \r\n      if (globals.loaderPanel)   {\r\n        globals.loaderPanel.$el.find(\"#csui-zipanddownload-stage\").text(message);\r\n        globals.loaderPanel.updateXHRReference(xhr);\r\n      }      \r\n    },\r\n\r\n    /* Shows an error message in the global message location.\r\n      @Params:\r\n        - info - the type of the message:\r\n          - \"info\" (default)\r\n          - \"success\"\r\n          - \"success_with_link\"\r\n          - \"warning\"\r\n          - \"error\"\r\n          - \"processing\"\r\n          - \"none\"\r\n        - text - the message text\r\n        - details - a detailed message text\r\n        - options - object containing other options\r\n     */\r\n    showMessage: function (info, text, details, options) {\r\n      return this._showMessageView(MessageView,\r\n          _.extend ({\r\n            info: info,\r\n            message: text,\r\n            details: details,\r\n            messageHelper: messageHelper,\r\n            sizeToParentContainer: globals.sizeToParentContainer,\r\n            enablePermanentHeaderMessages: config.enablePermanentHeaderMessages\r\n          }, options)\r\n      );\r\n    },\r\n\r\n    showCustomView: function (customView) {\r\n      return this._showMessageView(CustomWrapperView, {\r\n        contentView: customView,\r\n        messageHelper: messageHelper\r\n      });\r\n    },\r\n\r\n    _showMessageView: function (View, options) {\r\n      this._ensureMessageRegion();\r\n      var messageView = messageHelper.activatePanel(\r\n          messageHelper.createPanel(globals, View, options),\r\n          globals.relatedView, globals.messageRegionView);\r\n      this._addEventHandlers(messageView);\r\n      return messageView;\r\n    },\r\n\r\n    _makeProgressPanel: function (options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        collection: globals.fileUploadCollection,\r\n        sizeToParentContainer: globals.sizeToParentContainer,\r\n        messageHelper: messageHelper\r\n      });\r\n      this._ensureMessageRegion();\r\n      var progressPanel = messageHelper.activatePanel(\r\n          messageHelper.createPanel(globals, ProgressPanelView, options,\r\n              globals.progressPanel),\r\n          globals.relatedView, globals.messageRegionView, globals.progressPanel);\r\n      this._addEventHandlers(progressPanel);\r\n      return progressPanel;\r\n    },\r\n\r\n    __makePermissionProgressPanel: function (options) {\r\n      options || (options = {});\r\n      _.defaults(options, {\r\n        collection: globals.permissionAppliedCollection,\r\n        sizeToParentContainer: globals.sizeToParentContainer,\r\n        messageHelper: messageHelper\r\n      });\r\n      this._ensureMessageRegion();\r\n      var progressPanel = messageHelper.activatePanel(\r\n          messageHelper.createPanel(globals, ProgressPanelView, options,\r\n              globals.progressPanel),\r\n          globals.relatedView, globals.messageRegionView, globals.progressPanel);\r\n      this._addEventHandlers(progressPanel);\r\n      return progressPanel;\r\n    },\r\n\r\n    _makeLoaderPanel: function(options) {\r\n      options || (options = {});\r\n      _.defaults(options, {        \r\n        sizeToParentContainer: globals.sizeToParentContainer,\r\n        messageHelper: messageHelper\r\n      });\r\n      this._ensureMessageRegion();\r\n      var loaderPanel = messageHelper.activatePanel(\r\n        messageHelper.createPanel(globals, LoaderPanelView, options, globals.progressPanel), globals.relatedView, globals.messageRegionView, globals.progressPanel\r\n      );\r\n      this._addEventHandlers(loaderPanel);\r\n      return loaderPanel;\r\n    },\r\n\r\n    _addEventHandlers: function (view) {\r\n      // should listen to resize of region (only), but as this does not fire\r\n      // we have to listen to window as well :-(.\r\n      var resizeHandler = function () {\r\n        messageHelper.resizePanel(view, globals.relatedView);\r\n      };\r\n      $(window).on('resize', resizeHandler);\r\n      view.listenTo(globals.messageRegionView, 'resize', resizeHandler);\r\n      view.once('before:destroy', function () {\r\n        $(window).off('resize', resizeHandler);\r\n        view.stopListening(globals.messageRegionView, 'resize', resizeHandler);\r\n      });\r\n    },\r\n\r\n    _ensureMessageRegion: function () {\r\n      if (globals.messageRegionView) {\r\n        return;\r\n      }\r\n\r\n      // Reserve a view as big as the screen for high panels like\r\n      // the progress panel.  No width - this is no modal backdrop.\r\n      var modalContainer = $.fn.binf_modal.getDefaultContainer(),\r\n          messageContainer = $('<div>', {\r\n            'style': 'position:absolute; top: 0; left: 0; width: 0; height: 100vh;'\r\n          }).appendTo(modalContainer);\r\n      globals.messageRegionView = new Backbone.View({el: messageContainer});\r\n      hasDefaultRegion = true;\r\n    },\r\n\r\n    _cleanupPreviousMessageRegion: function () {\r\n      if (hasDefaultRegion) {\r\n        globals.messageRegionView.remove();\r\n        hasDefaultRegion = false;\r\n      }\r\n      if (globals.progressPanel) {\r\n        globals.progressPanel.destroy();\r\n      }\r\n      globals = {};\r\n    }\r\n\r\n  };\r\n\r\n  return GlobalMessage;\r\n\r\n});\r\n\n","csui.define('csui/behaviors/default.action/impl/command',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/commands', 'csui/controls/globalmessage/globalmessage', \r\n  'csui/utils/commandhelper'\r\n], function ( _, $, Backbone, commands, GlobalMessage, CommandHelper) {\r\n  'use strict';\r\n\r\n  function CommandController(options) {\r\n    options || (options = {});\r\n    this.commands = options.commands || commands;\r\n  }\r\n\r\n  _.extend(CommandController.prototype, {\r\n\r\n    executeAction: function (action, status, options) {\r\n      var signature = action.get(\"signature\"),\r\n          command = this.commands.findWhere({signature: signature});\r\n\r\n      if (!command) {\r\n        throw new Error('Invalid command: ' + signature);\r\n      }\r\n\r\n      var promises = command.execute(status, options);\r\n      if (!_.isArray(promises)) {\r\n        promises = [promises];\r\n      }\r\n      return $.when\r\n          .apply($, promises)\r\n          .fail(function (error) {\r\n            if (error) {\r\n              if(!CommandHelper.showOfflineMessage(error)) {\r\n                GlobalMessage.showMessage('error', error.message);\r\n              }\r\n            }\r\n          });\r\n    }\r\n  });\r\n\r\n  CommandController.extend = Backbone.View.extend;\r\n\r\n  return CommandController;\r\n\r\n});\r\n\n","csui.define('csui/behaviors/default.action/impl/defaultaction',['csui/lib/underscore', 'csui/behaviors/default.action/impl/command',\r\n  'csui/models/nodes', 'csui/utils/defaultactionitems'\r\n], function (_, CommandController, NodeCollection, defaultActionItems) {\r\n  'use strict';\r\n\r\n  var DefaultActionController = CommandController.extend({\r\n\r\n    constructor: function DefaultActionController(options) {\r\n      CommandController.prototype.constructor.apply(this, arguments);\r\n      options || (options = {});\r\n      this.actionItems = options.actionItems || defaultActionItems;\r\n    },\r\n\r\n    executeAction: function (node, options) {\r\n      // Apply the default action always to the shortcut target;\r\n      // the original node reference must be expanded.\r\n      var fakedActions;\r\n      if (node.original && node.original.get('id') > 0) {\r\n        fakedActions = this._fakeActions(node.original);\r\n        // Do not switch to original for generations. Commands have to\r\n        // handle them themselves, until we support them properly.\r\n        if (node.get('type') === 1) {\r\n          node = node.original;\r\n        }\r\n      }\r\n      var action = this.getAction(node),\r\n          status = {nodes: new NodeCollection([node])};\r\n      if (fakedActions) {\r\n        this._resetFakedActions(node);\r\n      }\r\n      return action && CommandController.prototype.executeAction.call(\r\n              this, action, status, options);\r\n    },\r\n\r\n    getAction: function (node) {\r\n      // Check the default action always against the shortcut or generation\r\n      // target; the original node reference must be expanded.\r\n      // TODO: Support for Generations (type 2) has not yet been added in\r\n      // the mobile app, so they are disabled for now. This is why we\r\n      // currently do not enter the if clause if node is a Generation\r\n      // and window.csui.mobile is true.\r\n      var type = node.get('type'),\r\n          fakedActions;\r\n      if ((type === 1 || ((!window.csui || !window.csui.mobile) && type === 2))\r\n          && node.original && node.original.get('id') > 0) {\r\n        node = node.original;\r\n        fakedActions = this._fakeActions(node);\r\n      }\r\n      var status = {nodes: new NodeCollection([node])},\r\n          // Do not search for the first action, which is assigned\r\n          // to the object and its command is enabled; as soon as\r\n          // the first action for the object is found, the result\r\n          // of its command enabling is returned.\r\n          // TODO: Reconsider using the first enabled command again.\r\n          // Disabling a node shoudl be done by a special feature\r\n          // and not by disabling all default actions.\r\n          enabled = false,\r\n          action = this.actionItems.find(function (actionItem) {\r\n            if (actionItem.enabled(node)) {\r\n              var command = this.commands.findWhere({\r\n                signature: actionItem.get(\"signature\")\r\n              });\r\n              enabled = command && command.enabled(status);\r\n              // Stop enumeration after the first action was found,\r\n              // which can handle the specified node\r\n              return true;\r\n            }\r\n          }, this);\r\n      if (fakedActions) {\r\n        this._resetFakedActions(node);\r\n      }\r\n      return enabled && action;\r\n    },\r\n\r\n    hasAction: function (node) {\r\n      return !!this.getAction(node);\r\n    },\r\n\r\n    // Core REST API does not provide permitted actions for shortcut\r\n    // originals. We always allow clicks on them and let the user\r\n    // watch how the operation fails, when they have no permission.\r\n\r\n    _fakeActions: function (node) {\r\n      if (!node.actions.length) {\r\n        var actions = _.map(\r\n            this.actionItems.getAllCommandSignatures(this.commands),\r\n            function (signature) {\r\n              return {signature: signature};\r\n            });\r\n        node.actions.reset(actions, {silent: true});\r\n        return true;\r\n      }\r\n    },\r\n\r\n    _resetFakedActions: function (node) {\r\n      node.actions.reset([], {silent: true});\r\n    }\r\n\r\n  });\r\n\r\n  DefaultActionController.version = \"1.0\";\r\n\r\n  return DefaultActionController;\r\n\r\n});\r\n\n","// Loads widgets and exposes a promise with the result status on the view\r\ncsui.define('csui/behaviors/default.action/default.action.behavior',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/utils/url', 'csui/utils/log',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/behaviors/default.action/impl/defaultaction',\r\n  'csui/utils/node.links/node.links'\r\n], function (module, _, $, Backbone, Marionette, Url, log,\r\n    NextNodeModelFactory, SearchQueryModelFactory, DefaultActionController,\r\n    nodeLinks) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var DefaultActionBehavior = Marionette.Behavior.extend({\r\n    constructor: function DefaultActionBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      var context = view.options.context;\r\n      this.view = view;\r\n      this._nextNode = context && context.getModel(NextNodeModelFactory);\r\n      this._searchQuery = context && context.getModel(SearchQueryModelFactory);\r\n      view.defaultActionController = this.options.defaultActionController ||\r\n                                     new DefaultActionController();\r\n    },\r\n\r\n    onExecuteDefaultAction: function (node) {\r\n      // Support triggering by the `triggers` object, where the view is\r\n      // passed by Marionette as the first parameter and there are no options\r\n      if (node instanceof Backbone.View) {\r\n        node = node.model;\r\n      }\r\n      var action = this.view.defaultActionController.getAction(node);\r\n      if (action) {\r\n        this.view.defaultActionController.executeAction(node, {\r\n          context: this.view.options.context,\r\n          originatingView: this.view\r\n        });\r\n      } else {\r\n        log.can('WARN') && log.warn('No default action was enabled for {0}.',\r\n            JSON.stringify(_.pick(node.attributes, 'name', 'id', 'type'))) &&\r\n        console.warn(log.last);\r\n      }\r\n    }\r\n  }, {\r\n    // TODO: Deprecate this method.\r\n    getDefaultActionNodeUrl: function (node) {\r\n      var url = nodeLinks.getUrl(node),\r\n          hash = url.lastIndexOf('#');\r\n      // This disallows using the hash part, when the slash-based routing is enabled.\r\n      // But it shoudl be no problem, because this method is not used in new scenaros\r\n      // any more and it didn't offer such contract forn the older ones.\r\n      if (hash >= 0) {\r\n        return url.substr(hash);\r\n      }\r\n      return url;\r\n    }\r\n  });\r\n\r\n  return DefaultActionBehavior;\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/error/impl/error',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"  <div class=\\\"csui-suggestion\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.suggestion || (depth0 != null ? depth0.suggestion : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"suggestion\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<div class=\\\"csui-error-icon-div\\\">\\r\\n  <div class=\\\"csui-error-icon-parent\\\">\\r\\n    <div class=\\\"csui-error-icon notification_error\\\"></div>\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n<div class=\\\"csui-message\\\">\"\n    + this.escapeExpression(((helper = (helper = helpers.message || (depth0 != null ? depth0.message : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"message\",\"hash\":{}}) : helper)))\n    + \"</div>\\r\\n\"\n    + ((stack1 = helpers['if'].call(depth0,(depth0 != null ? depth0.suggestion : depth0),{\"name\":\"if\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_error_impl_error', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/error/impl/error',[],function(){});\n","csui.define('csui/controls/error/error.view',[\r\n  'csui/lib/jquery',\r\n  'csui/lib/marionette',\r\n  'hbs!csui/controls/error/impl/error',\r\n  'css!csui/controls/error/impl/error'\r\n], function ($, Marionette, template) {\r\n  'use strict';\r\n\r\n  var ErrorView = Marionette.ItemView.extend({\r\n\r\n    className: function () {\r\n      var className = 'csui-error content-tile';\r\n      if (this.options.low) {\r\n        className += ' csui-low';\r\n      }\r\n      return className;\r\n    },\r\n\r\n    template: template,\r\n\r\n    modelEvents: {\r\n      change: 'render'\r\n    },\r\n\r\n    ui: {\r\n      messageArea: '.csui-message'\r\n    },\r\n\r\n    events: {\r\n      \"mouseenter\": 'showPopover',\r\n      \"mouseleave\": 'hidePopover'\r\n    },\r\n\r\n    constructor: function ErrorView(options) {\r\n      options = options || {};\r\n      Marionette.ItemView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    canShowPopover: function () {\r\n      return (!!this.options.model.get('title'));\r\n    },\r\n\r\n    onShow: function () {\r\n      if (this.canShowPopover()) {\r\n        var that = this;\r\n        this.$el.closest('.csui-disabled').removeClass('csui-disabled');\r\n        this.ui.messageArea.binf_popover({\r\n          content: this.options.model.get('title'),\r\n          html: true,\r\n          placement: function () {\r\n            var popOverSource = that.ui.messageArea,\r\n                maxWidth      = popOverSource.width(),\r\n                maxHeight     = popOverSource.height(),\r\n                offset        = popOverSource.offset(),\r\n                window_left   = offset.left,\r\n                window_top    = offset.top,\r\n                window_right  = (($(window).width()) - (window_left + popOverSource.outerWidth(true))),\r\n                window_bottom = (($(window).height()) - (window_top + popOverSource.outerHeight(true)));\r\n            if (window_right > maxWidth) {\r\n              return \"right\";\r\n            } else if (window_left > maxWidth) {\r\n              return \"left\";\r\n            } else if (window_bottom > maxHeight) {\r\n              return \"bottom\";\r\n            } else {\r\n              return \"top\";\r\n            }\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    showPopover: function (e) {\r\n      if (this.canShowPopover()) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.ui.messageArea.binf_popover('show');\r\n      }\r\n    },\r\n\r\n    hidePopover: function (e) {\r\n      if (this.canShowPopover()) {\r\n        e.preventDefault();\r\n        e.stopPropagation();\r\n        this.ui.messageArea.binf_popover('hide');\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  return ErrorView;\r\n\r\n});\r\n\n","csui.define('csui/widgets/error/error.view',[\r\n  'csui/lib/underscore','csui/lib/backbone', 'csui/controls/error/error.view'\r\n], function (_, Backbone, ErrorControlView) {\r\n  'use strict';\r\n\r\n  var ErrorWidgetView = ErrorControlView.extend({\r\n\r\n    className: function () {\r\n      var cvclass = ErrorControlView.prototype.className;\r\n      if( _.isFunction(cvclass)) {\r\n        cvclass = cvclass.call(this);\r\n      }\r\n      return 'csui-error-widget ' + cvclass;\r\n    },\r\n\r\n    constructor: function ErrorWidgetView(options) {\r\n      options || (options = {});\r\n      options.data || (options.data = {});\r\n      if (!options.model) {\r\n        options.model = new Backbone.Model({\r\n          message: options.data.message,\r\n          suggestion: options.data.suggestion\r\n        });\r\n      }\r\n\r\n      ErrorControlView.prototype.constructor.call(this, options);\r\n    }\r\n\r\n  });\r\n\r\n  return ErrorWidgetView;\r\n\r\n});\r\n\n","csui.define('csui/behaviors/widget.container/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/behaviors/widget.container/impl/nls/root/lang',{\r\n\r\n  loadingWidgetFailedMessage: '\"{0}\" failed to load.',\r\n  loadingWidgetFailedSuggestion: 'Please try again later or contact support.'\r\n\r\n});\r\n\n","// Loads widgets and exposes a promise with the result status on the view\r\ncsui.define('csui/behaviors/widget.container/widget.container.behavior',['require', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/widgets/error/error.view',\r\n  'csui/utils/log', 'i18n!csui/behaviors/widget.container/impl/nls/lang',\r\n  'csui/lib/jquery.when.all'\r\n], function (require, _, $, Marionette, ErrorView, log, lang) {\r\n  'use strict';\r\n\r\n  var WidgetContainerBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function WidgetContainerBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.view = view;\r\n      this.view.widgetsResolved = this._resolveWidgets();\r\n    },\r\n\r\n    _resolveWidgets: function () {\r\n      var promises = [];\r\n      if (!this.view.enumerateWidgets) {\r\n        throw new Marionette.Error({\r\n          name: 'UndefinedEnumerateWidgets',\r\n          message: 'Undefined enumerateWidgets method'\r\n        });\r\n      }\r\n      this.view.enumerateWidgets(_.bind(function (widget) {\r\n        promises.push(WidgetContainerBehavior.resolveWidget(widget));\r\n      }, this));\r\n      return $.whenAll.apply($, promises);\r\n    },\r\n\r\n  }, {\r\n\r\n    getErrorWidget: function (widget, error) {\r\n      return {\r\n        type: 'csui/widgets/error',\r\n        options: {\r\n          message: _.str.sformat(lang.loadingWidgetFailedMessage, widget.type),\r\n          suggestion: lang.loadingWidgetFailedSuggestion,\r\n          originalWidget: _.extend({}, widget)\r\n        },\r\n        view: ErrorView,\r\n        error: error\r\n      };\r\n    },\r\n\r\n    resolveWidget: function (widget) {\r\n      if (!widget.view) {\r\n        var promise = WidgetContainerBehavior._loadWidget(widget.type)\r\n            .then(function (Widget) {\r\n              widget.view = Widget;\r\n              // TODO: Remove the deprecated property\r\n              widget['class'] = Widget;\r\n            }, function (error) {\r\n              log.warn('Loading widget \"{0}\" failed. {1}', widget.type, error)\r\n              && console.warn(log.last);\r\n              log.warn('Occurred ' + log.getStackTrace()) && console.warn(log.last);\r\n              _.extend(widget, WidgetContainerBehavior.getErrorWidget(widget, error));\r\n            });\r\n        return promise;\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _loadWidget: function (name) {\r\n      var deferred  = $.Deferred(),\r\n          path,\r\n          lastSlash = name.lastIndexOf('/');\r\n      // Enable widget names without the module path for the core widgets;\r\n      // compatibility for early perspectives, which did not use full paths\r\n      if (lastSlash < 0) {\r\n        path = 'csui/widgets/' + name;\r\n      } else {\r\n        path = name;\r\n        name = name.substring(lastSlash + 1);\r\n      }\r\n      require([path + '/' + name + '.view'],\r\n          function (Widget) {\r\n            deferred.resolve(Widget);\r\n          }, function (error) {\r\n            deferred.reject(error);\r\n          });\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return WidgetContainerBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',['csui/lib/underscore', 'csui/lib/marionette'\r\n], function (_, Marionette) {\r\n  'use strict';\r\n\r\n  var ViewEventsPropagationMixin = {\r\n\r\n    propagateEventsToViews: function () {\r\n      var views = Array.prototype.slice.call(arguments);\r\n      _.each(this._eventsToPropagateToViews,\r\n          _.bind(this._propagateEventToViews, this, views));\r\n    },\r\n\r\n    cancelEventsToViewsPropagation: function () {\r\n      var views = Array.prototype.slice.call(arguments);\r\n      _.each(this._eventsToPropagateToViews,\r\n          _.bind(this._cancelEventToViewsPropagation, this, views));\r\n    },\r\n\r\n    _propagateEventToViews: function (views, name) {\r\n      _.each(views, function (view) {\r\n        //console.log('Propagating', name,\r\n        //    'from', Object.getPrototypeOf(this).constructor.name,\r\n        //    'to', Object.getPrototypeOf(view).constructor.name);\r\n        //var parentView = this;\r\n        var childView = view;\r\n        view.listenTo(this, name, function () {\r\n          //console.log('Triggering', name,\r\n          //    'from', Object.getPrototypeOf(parentView).constructor.name,\r\n          //    'to', Object.getPrototypeOf(childView).constructor.name);\r\n          // Check if the view has already triggered render and show events\r\n          // and if the view element has been added to the document.\r\n          if ((childView._isShown || childView._isAttached) && childView._isRendered &&\r\n              Marionette.isNodeAttached(childView.el)) {\r\n            var parameters = Array.prototype.slice.call(arguments);\r\n            parameters.unshift(childView, name);\r\n            Marionette.triggerMethodOn.apply(Marionette, parameters);\r\n          }\r\n          // context provided to be able to stop listening\r\n        }, this);\r\n      }, this);\r\n    },\r\n\r\n    _cancelEventToViewsPropagation: function (views, name) {\r\n      _.each(views, function (view) {\r\n        //console.log('Cancelling propagation', name,\r\n        //    'from', Object.getPrototypeOf(this).constructor.name,\r\n        //    'to', Object.getPrototypeOf(view).constructor.name);\r\n        // context provided to identify this origin as registrator\r\n        view.stopListening(this, name, undefined, this);\r\n      }, this);\r\n    },\r\n\r\n    _eventsToPropagateToViews: ['dom:refresh']\r\n\r\n  };\r\n\r\n  return ViewEventsPropagationMixin;\r\n\r\n});\r\n\n","csui.define('csui/controls/grid/grid.view',['require', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/lib/marionette',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin'\r\n], function (require, _, Backbone, Marionette, ViewEventsPropagationMixin) {\r\n\r\n  var ColumnView = Marionette.ItemView.extend({\r\n\r\n    className: function () {\r\n      var classNames = [];\r\n      if (!!this.model.get('className')) {\r\n        // Apply additional classes from model\r\n        classNames.push(this.model.get('className'));\r\n      }\r\n      this._addSizeClasses(classNames);\r\n      // TODO: Decide if we need it or not.  Or if we want just moves=pushes+pulls.\r\n      // Experimental features for testing: you can define offsets, pulls and pushes\r\n      // together with sizes for a grid column.  They will convert to binf-col-offset-*,\r\n      // binf-col-push-* and binf-col-pull classes respectively.\r\n      this._addOffsetClasses(classNames);\r\n      this._addPullClasses(classNames);\r\n      this._addPushClasses(classNames);\r\n      this._addHeightClasses(classNames);\r\n      return _.unique(classNames).join(' ');\r\n    },\r\n\r\n    attributes: function () {\r\n      var tmpAttributes;\r\n\r\n      if (this.model.get('widget') !== undefined) {\r\n        var widgetType = this.model.get('widget').type;\r\n        var lastSlash = widgetType.lastIndexOf('/');\r\n        if (lastSlash > 0) {\r\n          widgetType = widgetType.substring(lastSlash + 1);\r\n        }\r\n        // FIXME: use full path for widget type\r\n\r\n        tmpAttributes = {\r\n          'data-csui-widget_type': widgetType,\r\n          'data-csui-cell_address': this.model.get('widget').cellAddress\r\n        };\r\n      }\r\n      else {\r\n        tmpAttributes = {};\r\n      }\r\n\r\n      return tmpAttributes;\r\n    },\r\n\r\n    constructor: function ColumnView(options) {\r\n      if (!!options.cellBehaviours) {\r\n        this.behaviors = _.extend(options.cellBehaviours, this.behaviors);\r\n      }\r\n      this._init(options);\r\n    },\r\n\r\n    _init: function (options) {\r\n      Marionette.ItemView.prototype.constructor.call(this, _.extend({template: false}, options));\r\n      if (this.collection) {\r\n        this._createRows();\r\n      } else {\r\n        this._createCell();\r\n        this._registerModelEvents();\r\n      }\r\n      this.propagateEventsToViews(this.cell || this.rows);\r\n    },\r\n\r\n    _registerModelEvents: function () {\r\n      this.listenTo(this.model, 'change:widget', this._updateWidget);\r\n      this.listenTo(this.model, 'change:sizes', this._updateSizes);\r\n      this.listenTo(this.model, 'change:heights', this._updateSizes);\r\n    },\r\n\r\n    _updateSizes: function () {\r\n      var className = _.result(this, 'className');\r\n      this.$el.attr('class', className);\r\n    },\r\n\r\n    /**\r\n     * Replace and re-render cell with new widget\r\n     */\r\n    _updateWidget: function (newWidget) {\r\n      newWidget.cellAddress = this.model.get('widget').cellAddress;\r\n\r\n      // Create Cell for new widget\r\n      this._createCell();\r\n\r\n      // Update Attributes\r\n      var attrs = _.result(this, 'attributes');\r\n      if (this.id) { attrs.id = _.result(this, 'id'); }\r\n      if (this.className) { attrs['class'] = _.result(this, 'className');}\r\n      this.$el.attr(attrs);\r\n\r\n      // Finally, render\r\n      this.render();\r\n    },\r\n\r\n    onRender: function () {\r\n      this._renderContent();\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      this._destroyContent();\r\n    },\r\n\r\n    _addSizeClasses: function (classNames) {\r\n      var sizes = this.model.get('sizes');\r\n      if (sizes) {\r\n        sizes.xs != null && classNames.push('binf-col-xs-' + sizes.xs);\r\n        sizes.sm != null && classNames.push('binf-col-sm-' + sizes.sm);\r\n        sizes.md != null && classNames.push('binf-col-md-' + sizes.md);\r\n        sizes.lg != null && classNames.push('binf-col-lg-' + sizes.lg);\r\n        sizes.xl != null && classNames.push('binf-col-xl-' + sizes.xl);\r\n        sizes.xxl != null && classNames.push('binf-col-xxl-' + sizes.xxl);\r\n      }\r\n    },\r\n\r\n    _addOffsetClasses: function (classNames) {\r\n      var offset = this.model.get('offsets');\r\n      if (offset) {\r\n        offset.xs != null && classNames.push('binf-col-xs-offset-' + offset.xs);\r\n        offset.sm != null && classNames.push('binf-col-sm-offset-' + offset.sm);\r\n        offset.md != null && classNames.push('binf-col-md-offset-' + offset.md);\r\n        offset.lg != null && classNames.push('binf-col-lg-offset-' + offset.lg);\r\n        offset.xl != null && classNames.push('binf-col-xl-offset-' + offset.xl);\r\n        offset.xxl != null && classNames.push('binf-col-xxl-offset-' + offset.xxl);\r\n      }\r\n    },\r\n\r\n    _addPullClasses: function (classNames) {\r\n      var pulls = this.model.get('pulls');\r\n      if (pulls) {\r\n        pulls.xs != null && classNames.push('binf-col-xs-pull-' + pulls.xs);\r\n        pulls.sm != null && classNames.push('binf-col-sm-pull-' + pulls.sm);\r\n        pulls.md != null && classNames.push('binf-col-md-pull-' + pulls.md);\r\n        pulls.lg != null && classNames.push('binf-col-lg-pull-' + pulls.lg);\r\n        pulls.xl != null && classNames.push('binf-col-xl-pull-' + pulls.xl);\r\n        pulls.xxl != null && classNames.push('binf-col-xxl-pull-' + pulls.xxl);\r\n      }\r\n    },\r\n\r\n    _addPushClasses: function (classNames) {\r\n      var pushes = this.model.get('pushes');\r\n      if (pushes) {\r\n        pushes.xs != null && classNames.push('binf-col-xs-push-' + pushes.xs);\r\n        pushes.sm != null && classNames.push('binf-col-sm-push-' + pushes.sm);\r\n        pushes.md != null && classNames.push('binf-col-md-push-' + pushes.md);\r\n        pushes.lg != null && classNames.push('binf-col-lg-push-' + pushes.lg);\r\n        pushes.xl != null && classNames.push('binf-col-xl-push-' + pushes.xl);\r\n        pushes.xxl != null && classNames.push('binf-col-xxl-push-' + pushes.xxl);\r\n      }\r\n    },\r\n\r\n    _addHeightClasses: function (classNames) {\r\n      var heights = this.model.get('heights');\r\n      if (heights) {\r\n        heights.xs != null && classNames.push('row-xs-' + heights.xs);\r\n        heights.sm != null && classNames.push('row-sm-' + heights.sm);\r\n        heights.md != null && classNames.push('row-md-' + heights.md);\r\n        heights.lg != null && classNames.push('row-lg-' + heights.lg);\r\n        heights.xl != null && classNames.push('row-xl-' + heights.xl);\r\n        heights.xxl != null && classNames.push('row-xxl-' + heights.xxl);\r\n      }\r\n    },\r\n\r\n    _createRows: function () {\r\n      this.rows = new RowsView({\r\n        el: this.el,\r\n        grid: this.options.grid,\r\n        collection: this.collection\r\n      });\r\n    },\r\n\r\n    _createCell: function () {\r\n      var CellView        = this._getCellView(),\r\n          cellViewOptions = this._getCellViewOptions(),\r\n          fullOptions     = _.extend({model: this.model}, cellViewOptions);\r\n      this.cell = new CellView(fullOptions);\r\n    },\r\n\r\n    _getCellView: function () {\r\n      var cellView = this.options.grid.getOption('cellView');\r\n      if (cellView && !(cellView.prototype instanceof Backbone.View)) {\r\n        cellView = cellView.call(this.options.grid, this.model);\r\n      }\r\n      if (!cellView) {\r\n        throw new Marionette.Error({\r\n          name: 'NoCellViewError',\r\n          message: 'A \"cellView\" must be specified'\r\n        });\r\n      }\r\n      return cellView;\r\n    },\r\n\r\n    _getCellViewOptions: function () {\r\n      var cellViewOptions = this.options.grid.getOption('cellViewOptions');\r\n      if (_.isFunction(cellViewOptions)) {\r\n        cellViewOptions = cellViewOptions.call(this.options.grid, this.model);\r\n      }\r\n      return cellViewOptions;\r\n    },\r\n\r\n    _renderContent: function () {\r\n      if (this.cell) {\r\n        var region = new Marionette.Region({el:this.el});\r\n        region.show(this.cell);        \r\n      } else {\r\n        // If the grid is nested, nest also the height setting container class\r\n        if (this.options.grid.$el.hasClass('grid-rows')) {\r\n          this.$el.addClass('grid-rows');\r\n        }\r\n        this.rows.render();\r\n      }\r\n    },\r\n\r\n    _destroyContent: function () {\r\n      this.cell && this.cell.destroy();\r\n      this.rows && this.rows.destroy();\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(ColumnView.prototype, ViewEventsPropagationMixin);\r\n\r\n  var RowView = Marionette.CollectionView.extend({\r\n\r\n    className: 'binf-row',\r\n\r\n    childView: ColumnView,\r\n    childViewOptions: function (child) {\r\n      return {\r\n        grid: this.options.grid,\r\n        collection: child.rows,\r\n        cellBehaviours: this.options.cellBehaviours,\r\n        rowBehaviours: this.options.rowBehaviours\r\n      };\r\n    },\r\n\r\n    constructor: function RowView(options) {\r\n      if (!!options.rowBehaviours) {\r\n        this.behaviors = _.extend(options.rowBehaviours, this.behaviors);\r\n      }\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this, 'add:child', this.propagateEventsToViews);\r\n      // FIXME: implement stopListening in ViewEventsPropagationMixin on 'remove:child'\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(RowView.prototype, ViewEventsPropagationMixin);\r\n\r\n  var RowsView = Marionette.CollectionView.extend({\r\n\r\n    childView: RowView,\r\n    childViewOptions: function (child) {\r\n      return {\r\n        grid: this.options.grid,\r\n        collection: child.columns,\r\n        cellBehaviours: this.options.cellBehaviours,\r\n        rowBehaviours: this.options.rowBehaviours,\r\n        reorderOnSort: this.options.reorderOnSort\r\n      };\r\n    },\r\n\r\n    constructor: function RowsView() {\r\n      Marionette.CollectionView.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this, 'add:child', this.propagateEventsToViews);\r\n      // FIXME: implement stopListening in ViewEventsPropagationMixin on 'remove:child'\r\n    }\r\n\r\n  });\r\n\r\n  _.extend(RowsView.prototype, ViewEventsPropagationMixin);\r\n\r\n  var GridRowView = RowView.extend({\r\n\r\n    childView: ColumnView,\r\n    childViewOptions: function (child) {\r\n      return {\r\n        grid: this.options.grid,\r\n        cellBehaviours: this.options.cellBehaviours,\r\n        rowBehaviours: this.options.rowBehaviours\r\n      };\r\n    },\r\n\r\n    constructor: function GridRowView(options) {\r\n      options || (options = {});\r\n      options.grid = this;\r\n      if (!options.collection) {\r\n        options.collection = this._convertCollection(options);\r\n      }\r\n      RowView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    _convertCollection: function (options) {\r\n      return new Backbone.Collection(options.columns);\r\n    }\r\n\r\n  });\r\n\r\n  var GridView = RowsView.extend({\r\n\r\n    className: 'cs-grid binf-container-fluid',\r\n\r\n    constructor: function GridView(options) {\r\n      options || (options = {});\r\n      options.grid = this;\r\n      if (!options.collection) {\r\n        options.collection = this._convertCollection(options);\r\n      }\r\n      RowsView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    _convertCollection: function (options) {\r\n      return this._convertRows(options.rows, 'grid0');\r\n    },\r\n\r\n    _convertRows: function (rows, addressPrefix) {\r\n      rows = new Backbone.Collection(rows);\r\n      rows.each(function (row, rowIndex) {\r\n        var columns = row.get('columns');\r\n        row.cellAddress = addressPrefix + ':r' + rowIndex;\r\n        row.columns = this._convertColumns(columns, row.cellAddress);\r\n      }, this);\r\n      return rows;\r\n    },\r\n\r\n    _convertColumns: function (columns, addressPrefix) {\r\n      columns = new Backbone.Collection(columns);\r\n      columns.each(function (column, colIndex) {\r\n        var rows = column.get('rows');\r\n        column.cellAddress = addressPrefix + ':c' + colIndex;\r\n        if (column.get('widget') !== undefined) {\r\n          column.get('widget').cellAddress = column.cellAddress;\r\n        }\r\n        if (rows) {\r\n          column.rows = this._convertRows(rows, column.cellAddress);\r\n        }\r\n      }, this);\r\n      return columns;\r\n    }\r\n\r\n  }, {\r\n\r\n    RowView: GridRowView,\r\n    CellView: ColumnView\r\n\r\n  });\r\n\r\n  return GridView;\r\n\r\n});\r\n\n","csui.define('csui/controls/node-type.icon/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/node-type.icon/impl/nls/root/lang',{\r\n\r\n  shortcutTypeLabel: 'Shortcut to {0}',\r\n  nodeTypeUnknown: 'Unknown'\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/node-type.icon/node-type.icon',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"1\":function(depth0,helpers,partials,data) {\n    return \"  <span class=\\\"\"\n    + this.escapeExpression(this.lambda(depth0, depth0))\n    + \"\\\"></span>\\r\\n\";\n},\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var stack1, helper;\n\n  return \"<span class=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.mainClassName || (depth0 != null ? depth0.mainClassName : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"mainClassName\",\"hash\":{}}) : helper)))\n    + \"\\\"></span>\\r\\n\"\n    + ((stack1 = helpers.each.call(depth0,(depth0 != null ? depth0.overlayClassNames : depth0),{\"name\":\"each\",\"hash\":{},\"fn\":this.program(1, data, 0),\"inverse\":this.noop})) != null ? stack1 : \"\");\n}});\nHandlebars.registerPartial('csui_controls_node-type.icon_node-type.icon', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/node-type.icon/node-type.icon.view',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/utils/nodesprites',\r\n  'i18n!csui/controls/node-type.icon/impl/nls/lang',\r\n  'hbs!csui/controls/node-type.icon/node-type.icon'\r\n], function (_, $, Backbone, Marionette, nodeSpriteCollection,\r\n    lang, template) {\r\n  'use strict';\r\n\r\n  var NodeTypeIconModel = Backbone.Model.extend({\r\n    constructor: function NodeTypeIconModel(attributes, options) {\r\n      this.node = options.node;\r\n      attributes = this._getAttributesFromNode();\r\n\r\n      NodeTypeIconModel.__super__.constructor.call(this, attributes, options);\r\n\r\n      this\r\n          .listenTo(this.node, 'change:id', this._updateModelFromNode)\r\n          .listenTo(this.node, 'change:type', this._updateModelFromNode);\r\n    },\r\n\r\n    _getAttributesFromNode: function () {\r\n      var node              = this.node,\r\n          original          = node.original,\r\n          exactNodeSprite   = nodeSpriteCollection.findByNode(node) || {},\r\n          exactClassName    = exactNodeSprite.get('className'),\r\n          mainClassName     = exactClassName,\r\n          overlayClassNames = [];\r\n      var mimeTypeFromNodeSprite;\r\n      if (exactNodeSprite.attributes) {\r\n        mimeTypeFromNodeSprite = exactNodeSprite.get('mimeType');\r\n      }\r\n      // prefer the title mapped by mimetype entries in nodeSpriteCollection\r\n      var title = mimeTypeFromNodeSprite || node.get(\"type_name\") || node.get(\"type\");\r\n\r\n      // If the node is shortcut, find the icon data for the original node\r\n      // and add append an overlay CSS class for a small arrow icon.\r\n\r\n      // Note: For MicroPost(Comments and Replies), do not consider\r\n      // original node, show their respective icon\r\n\r\n      // Note2: since the RestAPI at the moment does not return the document version, showing the\r\n      // latest document mime-type icon with the shortcut overlay is incorrect.  Use the\r\n      // generation icon  for now.  When the RestAPI and UI supports Generation, switch this to\r\n      // generation-overlay.\r\n\r\n      if (original && original.get('id') && node.get(\"type\") !== 1281 && node.get(\"type\") !== 2) {\r\n        var originalNodeSprite = nodeSpriteCollection.findByNode(original) || {};\r\n        mainClassName = originalNodeSprite.get('className');\r\n        overlayClassNames.push('csui-icon csui-icon-shortcut-overlay');\r\n        title = _.str.sformat(lang.shortcutTypeLabel,\r\n            originalNodeSprite.get('mimeType') || original.get(\"type_name\") ||\r\n            lang.nodeTypeUnknown);\r\n      }\r\n\r\n      return {\r\n        className: exactClassName,\r\n        mainClassName: mainClassName,\r\n        overlayClassNames: overlayClassNames,\r\n        title: title\r\n      };\r\n    },\r\n\r\n    _updateModelFromNode: function () {\r\n      var attributes = this._getAttributesFromNode();\r\n      this.clear({silent: true});\r\n      this.set(attributes);\r\n    }\r\n  });\r\n\r\n  var NodeTypeIconView = Marionette.ItemView.extend({\r\n    tagName: 'span',\r\n\r\n    attributes: function () {\r\n      var title = this.model.get('title');\r\n      return {\r\n        'class': 'csui-icon-group',\r\n        'title': title,\r\n        'aria-label': title\r\n      };\r\n    },\r\n\r\n    template: template,\r\n\r\n    constructor: function NodeTypeIconView(options) {\r\n      options || (options = {});\r\n      if (!options.model) {\r\n        this.ownModel = true;\r\n        options.model = new NodeTypeIconModel(undefined, {node: options.node});\r\n      }\r\n\r\n      NodeTypeIconView.__super__.constructor.call(this, options);\r\n\r\n      // Passing the el to the ctor prevents creating an own el, including\r\n      // setting its attributes.  The caller must ensure the right tag.\r\n      if (options.el) {\r\n        $(options.el).attr(_.result(this, 'attributes'));\r\n      }\r\n\r\n      this.listenTo(this.model, 'change', this.render);\r\n    },\r\n\r\n    onRender: function () {\r\n      this._updateTitle();\r\n    },\r\n\r\n    onDestroy: function(){\r\n      if (this.ownModel){\r\n        this.model.stopListening();\r\n      }\r\n    },\r\n\r\n    _updateTitle: function () {\r\n      var title = this.model.get('title');\r\n      this.$el\r\n          .attr('title', title)\r\n          .attr('aria-label', title);\r\n    }\r\n  });\r\n\r\n  return NodeTypeIconView;\r\n});\r\n\n","csui.define('csui/controls/progressblocker/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/controls/progressblocker/impl/nls/root/lang',{\r\n  loadingText: \"Loading data, please wait.\"\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/progressblocker/impl/blocker',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<div class=\\\"outer-border\\\">\\r\\n  <div class=\\\"loader\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.loadingText || (depth0 != null ? depth0.loadingText : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"loadingText\",\"hash\":{}}) : helper)))\n    + \"\\\">\\r\\n  </div>\\r\\n</div>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_progressblocker_impl_blocker', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","\ncsui.define('css!csui/controls/progressblocker/impl/blocker',[],function(){});\n","csui.define('csui/controls/progressblocker/blocker',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/utils/log',\r\n  'i18n!csui/controls/progressblocker/impl/nls/lang',\r\n  'hbs!csui/controls/progressblocker/impl/blocker',\r\n  'css!csui/controls/progressblocker/impl/blocker'\r\n], function (module, _, $, Marionette, log, lang, template) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    delay: 10,\r\n    disableDelay: 10,\r\n    globalOnly: false\r\n  });\r\n  var enableDelay = config.delay,\r\n      disableDelay = config.disableDelay,\r\n      globalOnly = config.globalOnly,\r\n      suppressedViews = [],\r\n      globalBlockingView, detachableBlockingView;\r\n\r\n  var BlockingView = Marionette.ItemView.extend({\r\n    className: 'load-container binf-hidden',\r\n    template: template,\r\n\r\n    constructor: function BlockingView(options) {\r\n      Marionette.ItemView.prototype.constructor.apply(this, arguments);\r\n      this.parentView = options.parentView;\r\n      this.focus = options.focus;\r\n      this.counter = 0;\r\n    },\r\n\r\n    serializeData: function () {\r\n      return {\r\n        loadingText: lang.loadingText\r\n      };\r\n    },\r\n\r\n    enable: function () {\r\n      if (!this.options.local) {\r\n        var blockingView = this._getGlobalBlockingView();\r\n        if (blockingView) {\r\n          log.debug(\r\n              'Blocking view delegates global enabling by {0} ({1}) to {2} ({3}), counter: {4}.',\r\n              log.getObjectName(this.parentView), this.parentView.cid,\r\n              log.getObjectName(blockingView.parentView), blockingView.parentView.cid,\r\n              blockingView.counter) && console.log(log.last);\r\n          if (detachableBlockingView) {\r\n            suppressBlockingView(this);\r\n          } else {\r\n            return blockingView.enable();\r\n          }\r\n        }\r\n      }\r\n      // guard against multiple enabling calls\r\n      if (this.counter) {\r\n        ++this.counter;\r\n      } else {\r\n        this.counter = 1;\r\n        if (this.disableTimeout) {\r\n          clearTimeout(this.disableTimeout);\r\n          this.disableTimeout = undefined;\r\n        } else {\r\n          // delay the actual display by the configured time period\r\n          this.enableTimeout = setTimeout(_.bind(function () {\r\n            this.enableTimeout = undefined;\r\n            this._show();\r\n            log.debug('Blocking view enabled by {0} ({1}).',\r\n                log.getObjectName(this.parentView), this.parentView.cid)\r\n            && console.log(log.last);\r\n            Marionette.triggerMethodOn(this.parentView, 'enable:blocking', this);\r\n          }, this), enableDelay);\r\n        }\r\n      }\r\n    },\r\n\r\n    disable: function () {\r\n      if (!this.options.local) {\r\n        var blockingView = this._getGlobalBlockingView();\r\n        if (blockingView) {\r\n          log.debug(\r\n              'Blocking view delegates global disabling by {0} ({1}) to {2} ({3}), counter: {4}.',\r\n              log.getObjectName(this.parentView), this.parentView.cid,\r\n              log.getObjectName(blockingView.parentView), blockingView.parentView.cid,\r\n              blockingView.counter) && console.log(log.last);\r\n          if (!detachableBlockingView) {\r\n            return blockingView.disable();\r\n          }\r\n        }\r\n      }\r\n      // guard against multiple disabling calls\r\n      if (this.counter > 1) {\r\n        --this.counter;\r\n      } else if (this.counter === 0) {\r\n        log.debug('Blocking view has been already disabled by {0} ({1}).',\r\n            log.getObjectName(this.parentView), this.parentView.cid)\r\n        && console.log(log.last);\r\n      } else {\r\n        this.counter = 0;\r\n        // if the showing delay hasn't ended yet just cancel the display\r\n        if (this.enableTimeout) {\r\n          clearTimeout(this.enableTimeout);\r\n          this.enableTimeout = undefined;\r\n          releaseBlockingViews(this);\r\n        } else {\r\n          // delay the actual hiding in case another showing should come quickly\r\n          this.disableTimeout = setTimeout(_.bind(function () {\r\n            this.disableTimeout = undefined;\r\n            this._hide();\r\n            log.debug('Blocking view disabled by {0} ({1}).',\r\n                log.getObjectName(this.parentView), this.parentView.cid)\r\n            && console.log(log.last);\r\n            releaseBlockingViews(this);\r\n            Marionette.triggerMethodOn(this.parentView, 'disable:blocking', this);\r\n          }, this), disableDelay);\r\n        }\r\n      }\r\n    },\r\n\r\n    onBeforeDestroy: function () {\r\n      this._clearTimeouts();\r\n      this._resetGlobalBlockingView();\r\n    },\r\n\r\n    makeGlobal: function (detachable) {\r\n      // The outermost view, which usually means the first view, should win\r\n      if (!globalBlockingView) {\r\n        detachableBlockingView = !!detachable;\r\n        globalBlockingView = this;\r\n        this.$el.addClass('csui-global');\r\n      }\r\n    },\r\n\r\n    _getGlobalBlockingView: function () {\r\n      // If this view is the global view, return false; otherwise and endless recursion\r\n      // would occur constantly delegating the operation to the global view\r\n      if (globalBlockingView && globalBlockingView !== this &&\r\n          // Join the global blocking view, if using just the global one was forced,\r\n          // or if the global one is enabled; otherwise let the local one work\r\n          (globalOnly || globalBlockingView.counter)) {\r\n        return globalBlockingView;\r\n      }\r\n    },\r\n\r\n    _resetGlobalBlockingView: function () {\r\n      if (globalBlockingView === this) {\r\n        globalBlockingView = undefined;\r\n        this.$el.removeClass('csui-global');\r\n      }\r\n    },\r\n\r\n    _clearTimeouts: function () {\r\n      if (this.enableTimeout) {\r\n        clearTimeout(this.enableTimeout);\r\n      }\r\n      if (this.disableTimeout) {\r\n        clearTimeout(this.disableTimeout);\r\n      }\r\n    },\r\n\r\n    _show: function () {\r\n      this.$el.removeClass('binf-hidden');\r\n      if (this.focus) {\r\n        this.$('.loader').focus();\r\n      }\r\n    },\r\n\r\n    _hide: function () {\r\n      this.$el.addClass('binf-hidden');\r\n    }\r\n  });\r\n\r\n  var ParentWithBlockingView = {\r\n    blockActions: function () {\r\n      logParentBlockActions.call(this, true);\r\n      showImage(this.blockingView.$el);\r\n      this.blockingView.enable();\r\n      ++this._blockingCounter;\r\n      return this;\r\n    },\r\n\r\n    blockWithoutIndicator: function () {\r\n      logParentBlockActions.call(this, false);\r\n      hideImage(this.blockingView.$el);\r\n      this.blockingView.enable();\r\n      ++this._blockingCounter;\r\n      return this;\r\n    },\r\n\r\n    unblockActions: function () {\r\n      if (this === this.blockingView.parentView) {\r\n        log.debug('Blocking view asked for disabling for {0} ({1}), counter: {2}.',\r\n            log.getObjectName(this), this.cid, this.blockingView.counter)\r\n        && console.log(log.last);\r\n      } else {\r\n        log.debug(\r\n            'Blocking view asked for disabling for {0} ({1}) by {2} ({3}), counter: {4}.',\r\n            log.getObjectName(this), this.cid,\r\n            log.getObjectName(this.blockingView.parentView),\r\n            this.blockingView.parentView.cid, this.blockingView.counter)\r\n        && console.log(log.last);\r\n      }\r\n      this.blockingView.disable();\r\n      if (this._blockingCounter) {\r\n        --this._blockingCounter;\r\n      }\r\n      return this;\r\n    },\r\n\r\n    showBlockingView: function () {\r\n      log.debug('Blocking view is showing for {0} ({1}).',\r\n          log.getObjectName(this), this.cid) && console.log(log.last);\r\n      this.blockingView.render();\r\n      this.blockingView.parentView.$el.append(this.blockingView.el);\r\n    },\r\n\r\n    destroyBlockingView: function () {\r\n      log.debug('Blocking view is destroying for {0} ({1}).',\r\n          log.getObjectName(this), this.cid) && console.log(log.last);\r\n      if (this._blockingCounter) {\r\n        log.debug('Blocking view needs cleanup for {0} ({1}), counter: {2}.',\r\n            log.getObjectName(this), this.cid, this._blockingCounter)\r\n        && console.log(log.last);\r\n      }\r\n      while (this._blockingCounter) {\r\n        this.unblockActions();\r\n      }\r\n      this.blockingView.destroy();\r\n    }\r\n  };\r\n\r\n  function suppressBlockingView(view) {\r\n    log.debug('Blocking view is suppressing {0} ({1}).',\r\n        log.getObjectName(view.parentView), view.parentView.cid)\r\n    && console.log(log.last);\r\n    hideImage(view.$el);\r\n    suppressedViews.push(view);\r\n  }\r\n\r\n  function releaseBlockingViews(view) {\r\n    if (view === globalBlockingView) {\r\n      suppressedViews.forEach(function (view) {\r\n        log.debug('Blocking view is releasing {0} ({1}).',\r\n            log.getObjectName(view.parentView), view.parentView.cid)\r\n        && console.log(log.last);\r\n        showImage(view.$el);\r\n      });\r\n      suppressedViews = [];\r\n    }\r\n  }\r\n\r\n  function showImage(element) {\r\n    element.find('.outer-border').removeClass('binf-hidden');\r\n  }\r\n\r\n  function hideImage(element) {\r\n    element.find('.outer-border').addClass('binf-hidden');\r\n  }\r\n\r\n  function logParentBlockActions(indicator) {\r\n    indicator = indicator ? 'with' : 'without';\r\n    if (this === this.blockingView.parentView) {\r\n      log.debug(\r\n          'Blocking view asked for enabling {0} indicator for {1} ({2}), counter: {3}.',\r\n          indicator, log.getObjectName(this), this.cid, this.blockingView.counter)\r\n      && console.log(log.last);\r\n    } else {\r\n      log.debug(\r\n          'Blocking view asked for enabling for {0} indicator for {0} ({1}) by {2} ({3}), counter: {4}.',\r\n          indicator, log.getObjectName(this), this.cid,\r\n          log.getObjectName(this.blockingView.parentView),\r\n          this.blockingView.parentView.cid, this.blockingView.counter)\r\n      && console.log(log.last);\r\n    }\r\n  }\r\n\r\n  BlockingView.imbue = function (parent, parentView) {\r\n    var options;\r\n    if (Object.getPrototypeOf(parent) === Object.prototype) {\r\n      options = parent;\r\n      parent = options.parent;\r\n      parentView = options.parentView;\r\n    } else {\r\n      options = {};\r\n    }\r\n    parentView || (parentView = parent);\r\n    var blockingView = new BlockingView({\r\n      parentView: parentView,\r\n      local: options.local,\r\n      focus: options.focus\r\n    });\r\n    parent.blockingView = blockingView;\r\n    parent.blockingPrototype = ParentWithBlockingView;\r\n    _.extend(parent, ParentWithBlockingView);\r\n    parent._blockingCounter = 0;\r\n    parent.listenTo(parentView, 'render', parent.showBlockingView)\r\n          .listenTo(parentView, 'before:destroy', parent.destroyBlockingView);\r\n  };\r\n\r\n  var ChildWithBlockingView = {\r\n\r\n    blockActions: function () {\r\n      logChildBlockActions.call(this);\r\n      this.childWithBlockingView.blockActions();\r\n      return this;\r\n    },\r\n\r\n    blockWithoutIndicator: function () {\r\n      logChildBlockActions.call(this);\r\n      this.childWithBlockingView.blockWithoutIndicator();\r\n      return this;\r\n    },\r\n\r\n    unblockActions: function () {\r\n      log.debug('Blocking view delegates disabling for {0} ({1}) to {2} ({3}).',\r\n          log.getObjectName(this), this.cid,\r\n          log.getObjectName(this.childWithBlockingView),\r\n          this.childWithBlockingView.cid) && console.log(log.last);\r\n      this.childWithBlockingView.unblockActions();\r\n      return this;\r\n    }\r\n  };\r\n\r\n  function logChildBlockActions() {\r\n    log.debug('Blocking view delegates enabling for {0} ({1}) to {2} ({3}).',\r\n        log.getObjectName(this), this.cid, log.getObjectName(this.childWithBlockingView),\r\n        this.childWithBlockingView.cid) && console.log(log.last);\r\n  }\r\n\r\n  function toggleSuppression (suppress) {\r\n    // TODO: Find a way how to mark the outermost element for the local widgets.\r\n    var method = suppress ? 'addClass' : 'removeClass';\r\n    $('.binf-widgets .load-container')[method]('csui-no-blocking');\r\n  }\r\n\r\n  BlockingView.suppressAll = function () {\r\n    toggleSuppression(true);\r\n  };\r\n\r\n  BlockingView.resumeAll = function () {\r\n    toggleSuppression(false);\r\n  };\r\n\r\n  BlockingView.delegate = function (parent, child) {\r\n    if (Object.getPrototypeOf(parent) === Object.prototype) {\r\n      var options = parent;\r\n      parent = options.parent;\r\n      child = options.child;\r\n    }\r\n    parent.childWithBlockingView = child;\r\n    parent.childWithBlockingViewPrototype = ChildWithBlockingView;\r\n    _.extend(parent, ChildWithBlockingView);\r\n  };\r\n\r\n  return BlockingView;\r\n});\r\n\n","csui.define('csui/controls/perspective.panel/perspective.animator',['module', 'csui/lib/underscore', 'csui/lib/jquery'],\r\n  function ( module, _, $) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    ltrAnimation: false\r\n  });\r\n\r\n  function PerspectiveAnimator(perspectivePanelView) {\r\n    this.perspectivePanelView = perspectivePanelView;\r\n  }\r\n\r\n  PerspectiveAnimator.prototype = {\r\n\r\n    startAnimation: function (perspectiveView) {\r\n      var perspectivePanel = this.perspectivePanelView;\r\n\r\n      perspectivePanel.$el\r\n      // Flush the DOM redraw to separate hiding of the\r\n      // blocking view from the perspective change animation\r\n        .redraw()\r\n        .addClass('csui-in-transition');\r\n\r\n      perspectiveView.$el.addClass('cs-on-stage-right');\r\n      perspectiveView.triggerMethod('before:show');\r\n      this.perspectivePanelView.$el.append(perspectiveView.el);\r\n      perspectiveView.triggerMethod('show');\r\n    },\r\n\r\n\r\n    swapPerspective: function (currentPerspectiveView, upcomingPerspectiveView) {\r\n      var deferred = $.Deferred();\r\n\r\n      currentPerspectiveView.$el.addClass('cs-on-stage-left');\r\n      upcomingPerspectiveView.$el\r\n        .one(this._transitionEnd(), deferred.resolve)\r\n        // Do not let the browser \"optimize away\" the transition\r\n        // after appending by accessing some DOM property which\r\n        // needs the element rendered.\r\n        .redraw()\r\n        .removeClass('cs-on-stage-right');\r\n      return deferred.promise();\r\n    },\r\n\r\n    showPerspective: function (perspectiveView) {\r\n      var deferred = $.Deferred();\r\n\r\n      perspectiveView.$el\r\n        .one(this._transitionEnd(), deferred.resolve)\r\n        // Do not let the browser \"optimize away\" the transition\r\n        // after appending by accessing some DOM property which\r\n        // needs the element rendered.\r\n        .redraw()\r\n        .removeClass('cs-on-stage-right');\r\n      return deferred.promise();\r\n    },\r\n\r\n    finishAnimation: function () {\r\n      this.perspectivePanelView.$el.removeClass('csui-in-transition');\r\n    },\r\n\r\n    _transitionEnd: _.once(\r\n      function () {\r\n        var transitions = {\r\n              transition: 'transitionend',\r\n              WebkitTransition: 'webkitTransitionEnd',\r\n              MozTransition: 'transitionend',\r\n              OTransition: 'oTransitionEnd otransitionend'\r\n            },\r\n            element = document.createElement('div'),\r\n            transition;\r\n        for (transition in transitions) {\r\n          if (typeof element.style[transition] !== 'undefined') {\r\n            return transitions[transition];\r\n          }\r\n        }\r\n      }\r\n    )\r\n  };\r\n\r\n  return PerspectiveAnimator;\r\n});\r\n\r\n\n","csui.define('csui/controls/perspective.panel/perspective.factory',['require', 'csui/lib/underscore', 'csui/lib/jquery'\r\n], function (require, _, $) {\r\n\r\n  function PerspectiveFactory(options) {\r\n    this.options = options || {};\r\n  }\r\n\r\n  _.extend(PerspectiveFactory.prototype, {\r\n\r\n    createPerspective: function (model) {\r\n      var self = this;\r\n      return this._loadPerspective(model.get('type'))\r\n          .then(function (PerspectiveView) {\r\n            return new PerspectiveView(_.extend({\r\n              context: self.options.context\r\n            }, model.get('options')));\r\n          });\r\n    },\r\n\r\n    _loadPerspective: function (type) {\r\n      var deferred = $.Deferred(),\r\n          path,\r\n          lastSlash = type.lastIndexOf('/');\r\n      // Enable perspective types without the module path for the core perspectives;\r\n      // compatibility for early perspectives, which did not use the full paths\r\n      if (lastSlash < 0) {\r\n        path = 'csui/perspectives/' + type;\r\n      } else {\r\n        path = type;\r\n        type = type.substring(lastSlash + 1);\r\n      }\r\n      require([path + '/' + type + '.perspective.view'],\r\n          function (PerspectiveView) {\r\n            deferred.resolve(PerspectiveView);\r\n          }, function (error) {\r\n            deferred.reject(error);\r\n          });\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return PerspectiveFactory;\r\n\r\n});\r\n\n","\ncsui.define('css!csui/controls/perspective.panel/impl/perspective.panel',[],function(){});\n","csui.define('csui/controls/perspective.panel/perspective.panel.view',['require', 'module', 'csui/lib/jquery',\r\n  'csui/lib/underscore', 'csui/lib/marionette',\r\n  'csui/utils/base', 'csui/controls/perspective.panel/perspective.factory',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/utils/commandhelper',\r\n  'csui/controls/perspective.panel/perspective.animator',\r\n  'css!csui/controls/perspective.panel/impl/perspective.panel',\r\n  'csui/lib/jquery.redraw', 'csui/lib/jquery.scrollbarwidth'\r\n], function (require, module, $, _, Marionette, base, PerspectiveFactory,\r\n    BlockingView, CommandHelper, PerspectiveAnimator) {\r\n  'use strict';\r\n\r\n  var config = _.defaults({}, module.config(), {\r\n    progressWheel: true,\r\n    waitForData: true,\r\n    // May improve smoothness of animation, if some widgets render asynchronously\r\n    perspectiveShowDelay: 0,\r\n    limitTimeToWaitForData: true,\r\n    maximumTimeToWaitForData: 3000,\r\n    detachableBlockingView: true\r\n  });\r\n\r\n  if (!config.waitForData) {\r\n    config.perspectiveShowDelay = 0;\r\n  }\r\n\r\n  var pageUnloading = false;\r\n  $(window).bind('beforeunload.' + module.id, function (event) {\r\n    pageUnloading = true;\r\n  });\r\n\r\n  var PerspectivePanelView = Marionette.ItemView.extend({\r\n    className: 'cs-perspective-panel',\r\n\r\n    template: false,\r\n\r\n    constructor: function PerspectivePanelView() {\r\n      Marionette.View.prototype.constructor.apply(this, arguments);\r\n      var context = this.options.context;\r\n      this.perspectiveFactory = new PerspectiveFactory({\r\n        context: context\r\n      });\r\n      this.perspectiveAnimator = new PerspectiveAnimator(this);\r\n      BlockingView.imbue(this);\r\n      this.blockingView.makeGlobal(config.detachableBlockingView);\r\n\r\n      this.listenTo(context, \"maximize:widget\", this._addMaximizedWidget);\r\n      this.listenTo(context, \"restore:widget:size\", this._removeMaximizedWidget);\r\n\r\n      this.listenTo(context, 'change:perspective', this.onChangePerspective);\r\n      this.listenTo(context, 'enter:edit:perspective', this.onEnterEditPerspective);\r\n      this.listenTo(context, 'exit:edit:perspective', this.onExitEditPerspective);\r\n      this.listenTo(context, 'serialize:perspective', this.onSerializePerspective);\r\n      // Context change start with requesting the perspective and then\r\n      // either by chaging it and rebuilding the context, or just by re-fetching\r\n      // the context, of the perspective does not change.  Use the\r\n      // perspective request for blocking and context sync, which comes always\r\n      // at last, for unblocking.\r\n      if (config.progressWheel) {\r\n        var retainPerspective;\r\n        this.listenTo(context, 'request:perspective', function () {\r\n          this.blockActions();\r\n          retainPerspective = false;\r\n        })\r\n            .listenTo(context, 'retain:perspective', function () {\r\n              retainPerspective = true;\r\n            })\r\n            .listenTo(context, 'error:perspective', this.unblockActions)\r\n            .listenTo(context, 'request', function () {\r\n              // If the perspective is slided to the viewport right away,\r\n              // or if it is reused from the previous context object, it\r\n              // does not make sense to block the user from working with\r\n              // widgets finished loading so far, until all lwidgets get loaded.\r\n              if (!config.waitForData || retainPerspective) {\r\n                this.unblockActions();\r\n              }\r\n            })\r\n            .listenTo(context, 'sync', this.unblockActions)\r\n            .listenTo(context, 'error', this.unblockActions);\r\n        // If waiting for data loading can be interrupted and the perspective\r\n        // shown, unblock the perspective view, so that the global blocking\r\n        // view gets disabled and widgets, which finished loading, can be used.\r\n        if (config.limitTimeToWaitForData) {\r\n          this.listenTo(context, 'request', function () {\r\n            var self = this;\r\n            setTimeout(function () {\r\n              // If data have not been loaded yet, allow the user to use\r\n              // at least the widgets, which data are available already\r\n              // TODO: Find a better way; this decrements the counmter\r\n              // by one more, than just on the request/sync events\r\n              self.unblockActions();\r\n            }, config.maximumTimeToWaitForData);\r\n          });\r\n        }\r\n      }\r\n      this.listenTo(this, 'render', this.onRendered);\r\n\r\n      this._maximizedWidgets = {};\r\n      this._currentPespectiveStack = [];\r\n      this._currentPerspectiveSignature = undefined;\r\n    },\r\n\r\n    onEnterEditPerspective: function (perspectiveToEdit) {\r\n      this.blockActions();\r\n      this.isSwitchingEditMode = true; // To bypass animation\r\n      this.doChangePerspective(perspectiveToEdit)\r\n          .always(function () {\r\n            this.isSwitchingEditMode = false;\r\n            this.unblockActions();\r\n          }.bind(this));\r\n    },\r\n\r\n    /**\r\n     * Serialize perspective configuration and Trigger back to save perspective\r\n     */\r\n    onSerializePerspective: function (perspectiveModel) {\r\n      if (_.isFunction(this.currentPerspectiveView.serializePerspective)) {\r\n        var self = this;\r\n        this.currentPerspectiveView.serializePerspective(perspectiveModel).done(\r\n            function (perspective) {\r\n              self.options.context.trigger('save:perspective', perspective);\r\n            }).fail(function (error) {\r\n          self._showModalError({message: error});\r\n        });\r\n      }\r\n    },\r\n\r\n    onExitEditPerspective: function (perspectiveToEdit) {\r\n      this.blockActions();\r\n      this.isSwitchingEditMode = true; // To bypass animation\r\n      this.doChangePerspective(this.options.context.perspective)\r\n          .always(function () {\r\n            this.isSwitchingEditMode = false;\r\n            this.unblockActions();\r\n          }.bind(this));\r\n    },\r\n\r\n    onRendered: function () {\r\n      if (this.options.context.perspective.get('type')) {\r\n        this.onChangePerspective();\r\n      }\r\n    },\r\n\r\n    onChangePerspective: function () {\r\n      this.doChangePerspective();\r\n    },\r\n\r\n    doChangePerspective: function (targetPerspective) {\r\n      if (this._isRendered) {\r\n        var context     = this.options.context,\r\n            self        = this,\r\n            perspective = targetPerspective || this.options.context.perspective,\r\n            deferred    = $.Deferred();\r\n        // If we caught unload event earlier and now we change to another\r\n        // perspective, let's assume, that page unloading was cancelled\r\n        pageUnloading = false;\r\n        this.perspectiveFactory.createPerspective(perspective)\r\n            .done(function (perspectiveView) {\r\n              self._currentPespectiveStack.push(perspectiveView);\r\n              perspectiveView.widgetsResolved.always(function () {\r\n                context.clear();\r\n                // Prevent failed widgets to be slided to the perspective\r\n                if (!pageUnloading) {\r\n                  self._swapPerspective(perspectiveView, perspective).always(function () {\r\n                    deferred.resolve(perspectiveView);\r\n                  });\r\n                } else {\r\n                  deferred.resolve(perspectiveView);\r\n                }\r\n                self._currentPespectiveStack.splice(0,\r\n                    self._currentPespectiveStack.indexOf(perspectiveView));\r\n              });\r\n              self._currentPespectiveStack.splice(0,\r\n                  self._currentPespectiveStack.indexOf(perspectiveView));\r\n            })\r\n            .fail(function (error) {\r\n              if (config.progressWheel) {\r\n                self.unblockActions();\r\n              }\r\n              // Prevent error box about perspective failure showing up\r\n              if (!pageUnloading) {\r\n                self._showError(error);\r\n              }\r\n              deferred.reject(error);\r\n            });\r\n        return deferred.promise();\r\n      }\r\n      return $.Deferred().resolve().promise();\r\n    },\r\n\r\n    _isInPerspectiveEditMode: function () {\r\n      return !!this.currentPerspective && !!this.currentPerspective.get('options') &&\r\n             this.currentPerspective.get('options').perspectiveMode === 'edit';\r\n    },\r\n\r\n    _setSupportMaximizeWidget: function () {\r\n      if (this._isInPerspectiveEditMode() ||  // Maximize not allowed in Edit Perspective mode\r\n          this.currentPerspectiveView._supportMaximizeWidget !== true) {\r\n        $(\"body\").removeClass(\"csui-support-maximize-widget\");\r\n      } else {\r\n        $(\"body\").addClass(\"csui-support-maximize-widget\");\r\n      }\r\n    },\r\n\r\n    _setShowingMaximizedWidget: function (showingMaximizedWidget) {\r\n      if (showingMaximizedWidget) {\r\n        $(\"body\").addClass(\"csui-maximized-widget-mode\");\r\n      } else {\r\n        $(\"body\").removeClass(\"csui-maximized-widget-mode\");\r\n      }\r\n      !!this.currentPerspectiveView && this.currentPerspectiveView.triggerMethod('dom:refresh');\r\n    },\r\n\r\n    _addMaximizedWidget: function (ev) {\r\n      if (this._isInPerspectiveEditMode()) {\r\n        // Maximize not allowed in Edit Perspective mode\r\n        return;\r\n      }\r\n      if (this._maximizedWidgets[this._getCurrentPerspectiveSignature()] === undefined) {\r\n        var maximizedWidgetInfo = {\r\n          perspectiveSignature: this._getCurrentPerspectiveSignature(),\r\n          cellAddress: this.getCellAddress(ev)\r\n        };\r\n        this._maximizedWidgets[maximizedWidgetInfo.perspectiveSignature] = maximizedWidgetInfo;\r\n        this._maximizeWidgetView(maximizedWidgetInfo.cellAddress);\r\n      } else {\r\n        !!this.currentPerspectiveView && this.currentPerspectiveView.triggerMethod('dom:refresh');\r\n      }\r\n    },\r\n\r\n    getCellAddress: function (ev) {\r\n      return (ev.widgetView ? ev.widgetView.$el.parent().attr(\"data-csui-cell_address\") :\r\n              ev.currentPerspectiveView.$el.find(\".binf-row\").children().attr(\r\n                  \"data-csui-cell_address\"));\r\n    },\r\n    _removeMaximizedWidget: function (ev) {\r\n      delete this._maximizedWidgets[this._getCurrentPerspectiveSignature()];\r\n      this._restoreWidgetViewSize(ev.widgetView);\r\n    },\r\n\r\n    _maximizeWidgetView: function (cellAddress) {\r\n      this.currentPerspectiveView.$el.find(\".binf-row > div\").each(function () {\r\n        $(this).attr(\"data-csui-mwv-old-class\", $(this).attr(\"class\"));\r\n        if ($(this).attr(\"data-csui-cell_address\") === cellAddress) {\r\n          $(this).parent().addClass(\"csui-maximized-row zero-gutter\");\r\n          $(this).attr(\"class\", \"binf-col-xs-12 csui-maximized-column zero-gutter\");\r\n        } else {\r\n          $(this).attr(\"class\", \"binf-hidden-xs binf-hidden-sm binf-hidden-md binf-hidden-lg\");\r\n        }\r\n      });\r\n\r\n      this._setShowingMaximizedWidget(true);\r\n    },\r\n\r\n    _restoreWidgetViewSize: function (widgetView) {\r\n      var $widgetRow = widgetView.$el.parent().parent();\r\n\r\n      $widgetRow.removeClass(\"csui-maximized-row zero-gutter\");\r\n      this.currentPerspectiveView.$el.find(\".binf-row > div\").each(function () {\r\n        $(this).attr(\"class\", $(this).attr(\"data-csui-mwv-old-class\"));\r\n      });\r\n\r\n      this._setShowingMaximizedWidget(false);\r\n    },\r\n\r\n    _ensureWidgetViewMaximized: function () {\r\n      this._setSupportMaximizeWidget();\r\n\r\n      this._currentPerspectiveSignature = undefined;\r\n      var currentMaximizedWidgetInfo = this._maximizedWidgets[this._getCurrentPerspectiveSignature()];\r\n      if (currentMaximizedWidgetInfo === undefined ||\r\n          this.currentPerspectiveView._supportMaximizeWidgetOnDisplay !== true) {\r\n        this._setShowingMaximizedWidget(false);\r\n      } else {\r\n        this._maximizeWidgetView(currentMaximizedWidgetInfo.cellAddress);\r\n      }\r\n\r\n      if (this.currentPerspectiveView._supportMaximizeWidgetOnDisplay !== true) {\r\n        delete this._maximizedWidgets[this._getCurrentPerspectiveSignature()];\r\n      }\r\n    },\r\n\r\n    _getCurrentPerspectiveSignature: function () {\r\n      if (this._currentPerspectiveSignature === undefined) {\r\n        var cellSignatures = [];\r\n        !!this.currentPerspectiveView &&\r\n        this.currentPerspectiveView.$el.find(\".binf-row > div\").each(function () {\r\n          var address = $(this).attr(\"data-csui-cell_address\");\r\n          var widgetType = $(this).attr(\"data-csui-widget_type\");\r\n          var classNames = $(this).attr(\"class\");\r\n\r\n          if (address === undefined) {\r\n            address = \"\";\r\n          }\r\n\r\n          cellSignatures.push([address, widgetType, classNames].join(\",\"));\r\n        });\r\n\r\n        this._currentPerspectiveSignature = cellSignatures.join(\"|\");\r\n      }\r\n\r\n      return this._currentPerspectiveSignature;\r\n    },\r\n\r\n    _swapPerspective: function (perspectiveView, perspective) {\r\n      var self     = this,\r\n          perspectiveShown,\r\n          deferred = $.Deferred();\r\n\r\n      var scopeId = window.location.href;\r\n      scopeId = scopeId.substr(scopeId.indexOf('#'));\r\n\r\n      function showPerspective() {\r\n        if (!perspectiveShown) {\r\n          perspectiveShown = true;\r\n          // Generic waiting until the widgets and other components\r\n          // re-render their contents after they received fresh data\r\n          // would be complicated.\r\n          _.delay(function () {\r\n            // Prevent widgets showing errors to be slided to the perspective\r\n            if (!pageUnloading) {\r\n              self._showPerspective(perspectiveView, perspective, deferred);\r\n            }\r\n          }, config.perspectiveShowDelay);\r\n        }\r\n      }\r\n\r\n      function fetchData() {\r\n        self.options.context\r\n            .fetch()\r\n            .fail(function (error) {\r\n              // Prevent error box about context failure showing up, if the\r\n              // current action has been aborted and other page gets loaded\r\n              if (!pageUnloading) {\r\n                if (window.csui && window.csui.mobile) {\r\n                  // LPAD-59873: (this code is only run in mobile and doesn't affect smart UI) On mobile, we would like to\r\n                  // render the perspective upon error code 500. We do this because we would still like to use the app even\r\n                  // if we don't have access to certain shortcut tile widgets on the home page\r\n                  if (error.statusCode === 500 && (window.location.href.indexOf('#') === -1 ||\r\n                                                   window.location.href.indexOf('#home') !== -1)) {\r\n                    showPerspective();\r\n                    return;\r\n                  } else if (error.statusCode === 0) {\r\n                    CommandHelper.showOfflineMessage(error);\r\n                  } else {\r\n                    self._showModalError(error);\r\n                    self.options.context.trigger('reject:perspective', error);\r\n                  }\r\n\r\n                  perspectiveView.destroy();\r\n                } else {\r\n                  self._showError(error);\r\n                  showPerspective();\r\n                }\r\n              }\r\n            })\r\n            .done(showPerspective);\r\n      }\r\n\r\n      perspectiveView.render();\r\n\r\n      if (scopeId && scopeId === '#offline.list') {\r\n        showPerspective();\r\n        this.unblockActions();\r\n      } else if (config.waitForData) {\r\n        fetchData();\r\n        if (config.limitTimeToWaitForData) {\r\n          setTimeout(showPerspective, config.maximumTimeToWaitForData);\r\n        }\r\n      } else {\r\n        var eventName = this.currentPerspectiveView ?\r\n                        'swap:perspective' : 'show:perspective';\r\n        this.once(eventName, fetchData);\r\n        showPerspective();\r\n      }\r\n      return deferred;\r\n    },\r\n\r\n    /**\r\n     * Perspective show / transition for enter, exit from edit mode\r\n     */\r\n    _showPerspectiveForEditMode: function (perspectiveView, perspective) {\r\n      this.currentPerspectiveView.destroy();\r\n\r\n      this.currentPerspectiveView = perspectiveView;\r\n      this.currentPerspective = perspective;\r\n      this._currentPerspectiveSignature = undefined;\r\n      this._ensureWidgetViewMaximized();\r\n      this._showWidgetInMaximizeMode(perspective);\r\n\r\n      perspectiveView.triggerMethod('before:show');\r\n      this.$el.append(perspectiveView.el);\r\n      perspectiveView.triggerMethod('show');\r\n    },\r\n\r\n    _showPerspective: function (perspectiveView, perspective, deferred) {\r\n      var body = $(document.body),\r\n          self = this;\r\n      var perViewIndex = this._currentPespectiveStack.indexOf(perspectiveView);\r\n      if (perViewIndex === -1) {\r\n        // this perspectiveView is no longer required to show, since perspective(s) after this are displayed.\r\n        return;\r\n      }\r\n      // Invalidate all perspective before current perspective to stop them from displaying.\r\n      this._currentPespectiveStack.splice(0, perViewIndex);\r\n\r\n      function finishShowingPerspective(perspectiveView) {\r\n        body.scrollTop(0);\r\n        self.perspectiveAnimator.finishAnimation();\r\n        self.currentPerspectiveView = perspectiveView;\r\n        self.currentPerspective = perspective;\r\n        deferred.resolve(perspectiveView);\r\n      }\r\n\r\n      if (!!this.isSwitchingEditMode) {\r\n        // Switching in / out of Edit mode, no swap animation required.\r\n        this._showPerspectiveForEditMode(perspectiveView, perspective);\r\n        deferred.resolve(perspectiveView);\r\n        return;\r\n      }\r\n\r\n      // Note: the perspective is set to maximized before perspectiveAnimator.startAnimation is\r\n      // called so that when show at the perspective is called, the perspectiveView already has\r\n      // the final width.\r\n      //\r\n      // hack: need to set currentPerspectiveView with the new perspective to get\r\n      // _ensureWidgetViewMaximized and _showWidgetInMaximizeMode working\r\n      //\r\n      // todo: make _ensureWidgetViewMaximized and _showWidgetInMaximizeMode to take any\r\n      //  perspectiveView and apply the changes there for maximization\r\n      var previousPerspectiveView = this.currentPerspectiveView;\r\n      var previousPerspective = this.currentPerspective;\r\n\r\n      this.currentPerspectiveView = perspectiveView;\r\n      this.currentPerspective = perspective;\r\n      this._ensureWidgetViewMaximized();\r\n      this._showWidgetInMaximizeMode(perspective);\r\n\r\n      this.currentPerspectiveView = previousPerspectiveView;\r\n      this.currentPerspective = previousPerspective;\r\n\r\n      // Setting a fixed size to the perspective panel solves two\r\n      // problems, which cause disturbance in the transition:\r\n      //\r\n      // * Scrollbar appears on the page, when the old perspective is still\r\n      //   visible, if the new perspective is taller than the viewport and\r\n      //   the old one was not.\r\n      //\r\n      // * Safari on on iOS 9 zooms out, when the new perspective is added\r\n      //   to the perspective panel, so that both perspectives can be seen\r\n      //   anz zooms in again, when the old perspective is destroyed.\r\n      // Suppress the scrollbar only if the current perspective\r\n      // did not need it\r\n      this.perspectiveAnimator.startAnimation(perspectiveView);\r\n\r\n      if (this.currentPerspectiveView) {\r\n        this.triggerMethod('before:swap:perspective', this);\r\n        this.perspectiveAnimator.swapPerspective(this.currentPerspectiveView, perspectiveView)\r\n            .done(function () {\r\n              self.currentPerspectiveView.destroy();\r\n              finishShowingPerspective(perspectiveView);\r\n              self.triggerMethod('swap:perspective', self);\r\n            });\r\n      } else {\r\n        this.triggerMethod('before:show:perspective', this);\r\n        this.perspectiveAnimator.showPerspective(perspectiveView)\r\n            .done(function () {\r\n              finishShowingPerspective(perspectiveView);\r\n              self.triggerMethod('show:perspective', self);\r\n            });\r\n\r\n      }\r\n    },\r\n\r\n    //This function will check for the number of widgets in current perspective, if the\r\n    // perspective contains only nodestable view widget then show it in maximized mode\r\n    _showWidgetInMaximizeMode: function (perspective) {\r\n      var perspectiveType    = perspective && perspective.get(\"type\"),\r\n          perspectiveOptions = perspective && perspective.get(\"options\"),\r\n          widgetType,\r\n          noOfWidgets        = 0,\r\n          maximizeWidgets    = ['csui/widgets/nodestable', 'nodestable',\r\n            'permsexp/widgets/permissions.explorer'];\r\n      if (perspectiveType === 'grid' && perspectiveOptions.rows.length === 1 &&\r\n          perspectiveOptions.rows[0].columns.length === 1) {\r\n        widgetType = perspectiveOptions.rows[0].columns[0].widget.type;\r\n        noOfWidgets++;\r\n      } else if (perspectiveType === 'left-center-right') {\r\n        if (perspectiveOptions.right && perspectiveOptions.right.type) {\r\n          widgetType = perspectiveOptions.right.type;\r\n          noOfWidgets++;\r\n        }\r\n        if (perspectiveOptions.center && perspectiveOptions.center.type) {\r\n          widgetType = perspectiveOptions.center.type;\r\n          noOfWidgets++;\r\n        }\r\n        if (perspectiveOptions.left && perspectiveOptions.left.type) {\r\n          widgetType = perspectiveOptions.left.type;\r\n          noOfWidgets++;\r\n        }\r\n      } else if (perspectiveType === 'flow') {\r\n        noOfWidgets = (perspectiveOptions.widgets || []).length;\r\n        widgetType = noOfWidgets === 0 ? \"\" : perspectiveOptions.widgets[0].type;\r\n      }\r\n      if (noOfWidgets === 1 && ($.inArray(widgetType, maximizeWidgets) != -1)) {\r\n        perspective.set(\"showWidgetInMaxMode\", true);\r\n        this._addMaximizedWidget(this);\r\n      }\r\n\r\n    },\r\n\r\n    _showError: function (error) {\r\n      require(['csui/controls/globalmessage/globalmessage'\r\n      ], function (GlobalMessage) {\r\n        GlobalMessage.showMessage('error', error.message);\r\n      });\r\n    },\r\n\r\n    _showModalError: function (error, options) {\r\n      require(['csui/dialogs/modal.alert/modal.alert'\r\n      ], function (ModalAlert) {\r\n        ModalAlert.showError(error.message, options);\r\n      });\r\n    }\r\n  });\r\n\r\n  return PerspectivePanelView;\r\n});\r\n\n","csui.define('csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',['csui/lib/underscore', 'csui/lib/marionette'\r\n], function (_, Marionette) {\r\n  'use strict';\r\n\r\n  var LayoutViewEventsPropagationMixin = {\r\n\r\n    propagateEventsToRegions: function () {\r\n      _.each(this._eventsToPropagateToRegions,\r\n          _.bind(this._propagateEventToRegions, this));\r\n    },\r\n\r\n    _propagateEventToRegions: function (name) {\r\n      //console.log('Propagating', name,\r\n      //    'within', Object.getPrototypeOf(this).constructor.name);\r\n      this.listenTo(this, name, function () {\r\n        var regions;\r\n        if (this.regionManager) {\r\n          regions = this.regionManager.getRegions();\r\n        } else {\r\n          regions = this.getRegions();\r\n        }\r\n\r\n        _.each(regions, function (region) {\r\n          var view = region.currentView;\r\n          // Check if the region contains a view, if the view has already\r\n          // triggered render and show events and if the view element has\r\n          // been added to the document.\r\n          if (view && (view._isShown || view._isAttached) && view._isRendered &&\r\n              Marionette.isNodeAttached(view.el)) {\r\n            //console.log('Triggering', name,\r\n            //    'from', Object.getPrototypeOf(this).constructor.name,\r\n            //    'to', Object.getPrototypeOf(region.currentView).constructor.name);\r\n            var parameters = Array.prototype.slice.call(arguments);\r\n            parameters.unshift(region.currentView, name);\r\n            Marionette.triggerMethodOn.apply(Marionette, parameters);\r\n          }\r\n        }, this);\r\n      });\r\n    },\r\n\r\n    _eventsToPropagateToRegions: ['dom:refresh']\r\n\r\n  };\r\n\r\n  return LayoutViewEventsPropagationMixin;\r\n\r\n});\r\n\n","csui.define('csui/controls/mixins/global.alert/global.alert.mixin',[], function () {\r\n  'use strict';\r\n  var GlobalAlertMixin = {\r\n    prepareForGlobalAlert: function () {\r\n      this.listenTo(this, 'global.alert.inprogress', this.handleAlertInProgress);\r\n      this.listenTo(this, 'global.alert.completed', this.handleAlertComplete);\r\n    },\r\n\r\n    handleAlertInProgress: function () {\r\n      if (this.currentlyFocusedElement !== this.disableCurrentFocusElementHandler) {\r\n        this.originalCurrentlyFocusedElement = this.currentlyFocusedElement;\r\n      }\r\n      this.currentlyFocusedElement = this.disableCurrentFocusElementHandler;\r\n    },\r\n\r\n    disableCurrentFocusElementHandler: function () {\r\n      // console.log('Disabled current focus for ', this.constructor.name);\r\n    },\r\n\r\n    handleAlertComplete: function () {\r\n      if (this.originalCurrentlyFocusedElement != null) {\r\n        // console.log('Rolling back to original currentlyFocusedElement.', this.constructor.name);\r\n        this.currentlyFocusedElement = this.originalCurrentlyFocusedElement;\r\n        this.originalCurrentlyFocusedElement = undefined;\r\n      }\r\n    }\r\n  };\r\n  return GlobalAlertMixin;\r\n});\n","csui.define('csui/controls/tile/behaviors/blocking.behavior',['csui/lib/underscore', 'csui/lib/marionette',\r\n  'csui/controls/progressblocker/blocker'\r\n], function (_, Marionette, BlockingView) {\r\n  'use strict';\r\n\r\n  var BlockingBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function BlockingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      var blockingParentView = getOption.call(this, 'blockingParentView', options);\r\n      if (blockingParentView) {\r\n        BlockingView.delegate(view, blockingParentView);\r\n      } else {\r\n        BlockingView.imbue(view);\r\n      }\r\n\r\n      if (this.collection) {\r\n        view.listenTo(view.collection, \"request\", view.blockActions)\r\n            .listenTo(view.collection, \"sync\", view.unblockActions)\r\n          // TODO: Find a better workaround for model.destroy relaying request\r\n          // event to the collection but not the sync and error events\r\n            .listenTo(view.collection, \"destroy\", view.unblockActions)\r\n            .listenTo(view.collection, \"error\", view.unblockActions);\r\n      }\r\n      if (view.model) {\r\n        view.listenTo(view.collection, \"request\", view.blockActions)\r\n            .listenTo(view.collection, \"sync\", view.unblockActions)\r\n            .listenTo(view.collection, \"error\", view.unblockActions);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, options) {\r\n    options = this.options || options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return BlockingBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tile/behaviors/infinite.scrolling.behavior',['require', 'csui/lib/jquery', 'csui/lib/underscore', 'csui/lib/marionette'\r\n], function (require, $, _, Marionette) {\r\n  \"use strict\";\r\n\r\n  var InfiniteScrollingBehavior = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      content: null,\r\n      contentParent: null,\r\n      fetchMoreItemsThreshold: 95\r\n    },\r\n\r\n    constructor: function ScrollingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(view, 'render', this._bindScrollingEvents);\r\n      this.listenTo(view, 'before:destroy', this._unbindScrollingEvents);\r\n    },\r\n\r\n    _bindScrollingEvents: function () {\r\n      var contentParent = getOption.call(this, 'contentParent');\r\n      this._contentParent = contentParent ? this.view.$(contentParent) : this.view.$el;\r\n      this._contentParent.on('scroll.' + this.view.cid, _.bind(this._checkScrollPosition, this));\r\n      var content = getOption.call(this, 'content');\r\n      this._content = content ? this.view.$(content) :\r\n                      contentParent ? this._contentParent.children().first() : this.view.$el;\r\n    },\r\n\r\n    _checkScrollPosition: function () {\r\n      var fetchMoreItemsThreshold = getOption.call(this, 'fetchMoreItemsThreshold');\r\n      var contentH;\r\n      if (this._content.length === 1) {\r\n        contentH = this._content.height();\r\n      } else {\r\n        contentH = _.reduce(this._content, function (sum, el) {return sum + $(el).height()}, 0);\r\n      }\r\n      var scrollableHeight     = contentH - this._contentParent.height(),\r\n          scrollablePercentage = this._contentParent.scrollTop() * 100 / scrollableHeight;\r\n      if (scrollablePercentage >= fetchMoreItemsThreshold) {\r\n        this._checkScrollPositionFetch();\r\n      }\r\n    },\r\n\r\n    _checkScrollPositionFetch: function () {\r\n      var collection = this.view.collection;\r\n      if (collection.length < collection.totalCount && !collection.fetching &&\r\n          collection.skipCount < collection.length) {\r\n        // console.log('fetching from', collection.length);\r\n        var self = this;\r\n        this.view.trigger('before:collection:scroll:fetch');\r\n        collection.setSkip(collection.length, false);\r\n        collection.fetch({\r\n          reset: false,\r\n          remove: false,\r\n          merge: false,\r\n          success: function () {\r\n            self.view.trigger('collection:scroll:fetch');\r\n          }\r\n        });\r\n      }\r\n    },\r\n\r\n    _unbindScrollingEvents: function () {\r\n      if (this._contentParent) {\r\n        this._contentParent.off('scroll.' + this.view.cid);\r\n      }\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property) {\r\n    var options = this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return InfiniteScrollingBehavior;\r\n\r\n});\r\n\n","csui.define('csui/controls/tile/behaviors/parent.scrollbar.updating.behavior',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior'\r\n], function (_, $, Marionette, PerfectScrollingBehavior) {\r\n  'use strict';\r\n\r\n  var ParentScrollbarUpdatingRegion = Marionette.Region.extend({\r\n\r\n    constructor: function ParentScrollbarUpdatingRegion(options) {\r\n      Marionette.Region.prototype.constructor.apply(this, arguments);\r\n      // Set when before:swapOut is triggered and reset when its finishing\r\n      // counterpart is triggered to optimize the event handlers for view\r\n      // swapping in the region\r\n      this._swapping = false;\r\n      \r\n      // Support scrollbar updates on populating and emptying regions\r\n      this\r\n          .listenTo(this, 'before:swapOut', function () {\r\n            this._swapping = true;\r\n          })\r\n          .listenTo(this, 'swapOut', function () {\r\n            this._swapping = false;\r\n          })\r\n          .listenTo(this, 'show', function () {\r\n            this._requestScrollbarUpdate();\r\n          })\r\n          .listenTo(this, 'empty', function () {\r\n            if (!this._swapping) {\r\n              this._requestScrollbarUpdate();\r\n            }\r\n          });\r\n    },\r\n\r\n    _requestScrollbarUpdate: function () {\r\n      // There is no connection from the current view in the region to the layout\r\n      // view, which could be used for event triggering.  Use DOM event bubbling\r\n      // as a workaround to reach the parent views.\r\n      // {this.region}.{owning region manager}.{owning layout view}\r\n      triggerScrollbarUpdate(this._parent._parent);\r\n    }\r\n\r\n  });\r\n\r\n  var ParentScrollbarUpdatingBehavior = Marionette.Behavior.extend({\r\n\r\n    constructor: function ParentScrollbarUpdatingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n\r\n      if (PerfectScrollingBehavior.usePerfectScrollbar()) {\r\n        var updateOnWindowResize = getOption.call(this, 'updateOnWindowResize');\r\n        // Increase when before:render and before:render:collection events\r\n        // are triggered and decrease, when their finishing counterparts are\r\n        // triggered to optimize the event handlers for single view adding\r\n        // or removal\r\n        this._renderState = 0;\r\n        \r\n        this\r\n        // Maintain the rendering state for the events triggered between\r\n        // before:render and render\r\n            .listenTo(view, 'before:render', function () {\r\n              this._renderState = 1;\r\n            })\r\n            .listenTo(view, 'render', function () {\r\n              this._renderState = 0;\r\n              this._requestScrollbarUpdate();\r\n            })\r\n            // Listen to requests for an explicit scrollbar update\r\n            .listenTo(view, 'update:scrollbar', this._requestScrollbarUpdate)\r\n            // Delay listening to the collection events; the collection may\r\n            // not be present in the view or its options yet\r\n            .listenToOnce(view, 'before:render', function () {\r\n              if (updateOnWindowResize) {\r\n                $(window).bind('resize.' + view.cid, _.bind(this._updateScrollbar, this));\r\n                this.listenToOnce(view, 'before:destroy', function () {\r\n                  $(window).unbind('resize.' + view.cid);\r\n                });\r\n              }\r\n              // Support optimized adding and removing child views\r\n              // in CollectionView, which does not call render\r\n              if (view instanceof Marionette.CollectionView && view.collection) {\r\n                this\r\n                    .listenTo(view.collection, 'reset', function () {\r\n                      this._resetTriggered = true;\r\n                    })\r\n                    .listenTo(view, 'before:render:collection', function () {\r\n                      ++this._renderState;\r\n                    })\r\n                    .listenTo(view, 'render:collection', function () {\r\n                      this._resetTriggered = false;\r\n                      --this._renderState;\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, single child view updates were skipped\r\n                      if (!this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'render:empty', function () {\r\n                      // If the collection was re-rendered after catching the\r\n                      // 'reset' event, no child view updates were performed\r\n                      if (this._resetTriggered || !this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'add:child', function () {\r\n                      // If a child view was added alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    })\r\n                    .listenTo(view, 'remove:child', function () {\r\n                      // If a child view was removed alone, otside the 'reset' event\r\n                      // handler and render() method call, request the update\r\n                      if (!this._resetTriggered && !this._renderState) {\r\n                        this._requestScrollbarUpdate();\r\n                      }\r\n                    });\r\n              }\r\n            });\r\n      }\r\n    },\r\n\r\n    _requestScrollbarUpdate: function () {\r\n      // ChildView should proxy all events to its parent with the 'childview:'\r\n      // prefix, but this concept supports only CollectionView.  Use DOM event\r\n      // bubbling as a workaround to reach the parent views.\r\n      triggerScrollbarUpdate(this.view);\r\n    }\r\n\r\n  }, {\r\n\r\n    // Support showing and emptying regions in LayoutView,\r\n    // which does not call render\r\n    Region: ParentScrollbarUpdatingRegion\r\n\r\n  });\r\n\r\n  function triggerScrollbarUpdate(view) {\r\n    // console.log('Updating parent scrollbar requested in',\r\n    //     Object.getPrototypeOf(view).constructor.name);\r\n    $.event.trigger('csui:update:scrollbar', {view: view}, view.el, false);\r\n  }\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property, source) {\r\n    var options = source || this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return ParentScrollbarUpdatingBehavior;\r\n\r\n});\r\n\n","\n/* START_TEMPLATE */\ncsui.define('hbs!csui/controls/tile/behaviors/impl/searching.behavior',['module','hbs','csui/lib/handlebars'], function( module, hbs, Handlebars ){ \nvar t = Handlebars.template({\"compiler\":[6,\">= 2.0.0-beta.1\"],\"main\":function(depth0,helpers,partials,data) {\n    var helper;\n\n  return \"<form class=\\\"search-box binf-hidden\\\">\\r\\n  <input class=\\\"search\\\" type=\\\"search\\\" placeholder=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.searchPlaceholder || (depth0 != null ? depth0.searchPlaceholder : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchPlaceholder\",\"hash\":{}}) : helper)))\n    + \"\\\" style=\\\"display: none\\\">\\r\\n  <span class=\\\"clearer csui-icon formfield_clear\\\"></span>\\r\\n</form><span class=\\\"icon icon-search\\\" title=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.searchIconTitle || (depth0 != null ? depth0.searchIconTitle : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchIconTitle\",\"hash\":{}}) : helper)))\n    + \"\\\" aria-label=\\\"\"\n    + this.escapeExpression(((helper = (helper = helpers.searchIconAria || (depth0 != null ? depth0.searchIconAria : depth0)) != null ? helper : helpers.helperMissing),(typeof helper === \"function\" ? helper.call(depth0,{\"name\":\"searchIconAria\",\"hash\":{}}) : helper)))\n    + \"\\\" role=\\\"button\\\"></span>\\r\\n\";\n}});\nHandlebars.registerPartial('csui_controls_tile_behaviors_impl_searching.behavior', t);\nreturn t;\n});\n/* END_TEMPLATE */\n;\n","csui.define('csui/controls/tile/behaviors/searching.behavior',['csui/lib/underscore', 'csui/lib/marionette',\r\n  'hbs!csui/controls/tile/behaviors/impl/searching.behavior',\r\n  'csui/lib/jquery.ui/js/jquery-ui'\r\n], function (_, Marionette, template) {\r\n  \"use strict\";\r\n\r\n  var SearchingBehavior = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      searchPlaceholder: 'Type to filter',\r\n      headerTitle: '.tile-title',\r\n      searchButton: '.tile-controls'\r\n    },\r\n\r\n    ui: function () {\r\n      var headerTitle = getOption.call(this, 'headerTitle');\r\n      return {\r\n        headerTitle: headerTitle,\r\n        searchBox: '.search-box',\r\n        searchInput: '.search',\r\n        clearer: '.clearer'\r\n      };\r\n    },\r\n\r\n    triggers: {\r\n      'click .icon-search': 'toggle:search'\r\n    },\r\n\r\n    constructor: function SearchingBehavior(options, view) {\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(view, 'render', this._renderSearchButton);\r\n      this.listenTo(view, 'toggle:search', this._toggleSearching);\r\n    },\r\n\r\n    _renderSearchButton: function () {\r\n      var searchButtonSelector = getOption.call(this, 'searchButton'),\r\n          searchButton         = this.view.$(searchButtonSelector),\r\n          searchPlaceholder    = getOption.call(this, 'searchPlaceholder'),\r\n          iconTitle = getOption.call(this, 'searchIconTitle'),\r\n          searchIconTitle = iconTitle ? iconTitle : 'Search',\r\n          iconAria = getOption.call(this, 'searchIconAria'),\r\n          searchIconAria = iconAria ? iconAria : searchIconTitle,\r\n          data                 = {\r\n            searchPlaceholder: searchPlaceholder,\r\n            searchIconTitle: searchIconTitle,\r\n            searchIconAria: searchIconAria\r\n          };\r\n      searchButton.html(template(data));\r\n      this.view._bindUIElements.call(this);\r\n    },\r\n\r\n    _toggleSearching: function () {\r\n      var self = this;\r\n      this.ui.searchInput.val('');\r\n      this.ui.clearer.toggle(false);\r\n      this.ui.headerTitle.toggle('fade');\r\n      this.ui.searchBox.removeClass('binf-hidden');\r\n      this.ui.searchInput.toggle('blind', {direction: 'right'}, 200, function () {\r\n        if (self.ui.searchInput.is(\":visible\")) {\r\n          self.ui.searchInput.focus();\r\n        }\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  // TODO: Expose this functionality and make it generic for other behaviors\r\n  function getOption(property) {\r\n    var options = this.options || {};\r\n    var value = options[property];\r\n    return _.isFunction(value) ? options[property].call(this.view) : value;\r\n  }\r\n\r\n  return SearchingBehavior;\r\n\r\n});\r\n\n","/**\r\n * Behaviour applied to draggable item, works along with dnd.container.behaviour.js\r\n */\r\ncsui.define('csui/behaviors/drag.drop/dnd.item.behaviour',['csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/lib/backbone'\r\n], function (_, $, Marionette, Backbone) {\r\n\r\n  var DragAndDropItemBehaviour = Marionette.Behavior.extend({\r\n    constructor: function DragAndDropItemBehaviour(options, view) {\r\n      this.view = view;\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this._registerListeners();\r\n    },\r\n\r\n    _registerListeners: function () {\r\n      this.listenTo(this.view, 'render', this._initDnD);\r\n    },\r\n\r\n    _initDnD: function () {\r\n      this.$el.addClass(DragAndDropItemBehaviour.DRAGGABLE_CLASSNAME);\r\n      this.$el.attr(DragAndDropItemBehaviour.DRAGGABLE_DATA_ATTR, this.view.model.cid);\r\n    }\r\n  }, {\r\n    DRAGGABLE_CLASSNAME: 'csui-draggable-item',\r\n    DRAGGABLE_DATA_ATTR: 'data-csui-draggable-item'\r\n  });\r\n\r\n  return DragAndDropItemBehaviour;\r\n});\n","csui.define('csui/behaviors/drag.drop/dnd.container.behaviour',['require', 'i18n', 'csui/lib/underscore', 'csui/lib/jquery',\r\n  'csui/lib/marionette', 'csui/lib/backbone', 'csui/behaviors/drag.drop/dnd.item.behaviour'\r\n], function (require, i18n, _, $, Marionette, Backbone, DnDItemBehaviour) {\r\n\r\n  var DragAndDropContainerBehaviour = Marionette.Behavior.extend({\r\n\r\n    defaults: {\r\n      placeholder: undefined, // a class or function. Undefined represents close of original element\r\n      handle: undefined, // Restricts sort start click to the specified element.\r\n      draggableItem: '.' + DnDItemBehaviour.DRAGGABLE_CLASSNAME,\r\n      disableDraggable: '.csui-draggable-item-disable',\r\n      over: false,\r\n      receive: false,\r\n      helper: \"original\" // Use original element as drag image\r\n    },\r\n\r\n    constructor: function DragAndDropContainerBehaviour(options, view) {\r\n      this.view = view;\r\n      Marionette.Behavior.prototype.constructor.apply(this, arguments);\r\n      this.listenTo(this.view, 'render', this._initSorting);\r\n    },\r\n\r\n    _getPlaceholder: function (currentItem) {\r\n      var placeholder = this.options.placeholder;\r\n      if (!placeholder || _.isString(placeholder)) {\r\n        var className = placeholder;\r\n        placeholder = function () {\r\n          var nodeName = currentItem[0].nodeName.toLowerCase(),\r\n              element  = $(\"<\" + nodeName + \">\");\r\n\r\n          element.addClass(\"ui-sortable-placeholder\")\r\n              .addClass(className || currentItem[0].className)\r\n              .removeClass(\"ui-sortable-helper\");\r\n          return element;\r\n        };\r\n      }\r\n      return placeholder.call(this, currentItem);\r\n    },\r\n\r\n    _initSorting: function () {\r\n      var self = this;\r\n      this.view.$el.addClass('csui-dnd-container');\r\n      this.$el.sortable({\r\n        items: this.options.draggableItem,\r\n        cancel: this.options.disableDraggable,\r\n        handle: this.options.handle,\r\n        placeholder: {\r\n          element: this._getPlaceholder.bind(this),\r\n          update: function () {}\r\n        },\r\n        helper: this.options.helper,\r\n        start: this._onSortStart.bind(this),\r\n        stop: this._onSortStop.bind(this),\r\n        over: this.options.over,\r\n        out: this.options.out,\r\n        receive: this.options.receive\r\n      });\r\n    },\r\n\r\n    _onSortStart: function (event, ui) {\r\n      this.$el.addClass('csui-drag-start');\r\n      this.options.start && this.options.start(event, ui);\r\n    },\r\n\r\n    /**\r\n     * Update respective Backbone colleciton on DOM changes\r\n     */\r\n    _onSortStop: function (event, ui) {\r\n      this.$el.removeClass('csui-drag-start');\r\n      var dragItemId = ui.item.attr(DnDItemBehaviour.DRAGGABLE_DATA_ATTR);\r\n      var model = this.view.collection.get(dragItemId);\r\n      var modelIndex = this.view.collection.indexOf(model);\r\n      var updatedIndex = this.$el.find('[data-csui-draggable-item=' + dragItemId + ']').index();\r\n      if (modelIndex === updatedIndex) {\r\n        // DOM placement not changes.. no collection update required.\r\n        return;\r\n      }\r\n      this.view.collection.remove(model, {silent: true});\r\n      this.view.collection.add(model, {at: updatedIndex, silent: true});\r\n      // Trigger sort to let CollectionView reorder views according to collection order modifications.\r\n      this.view.collection.trigger('sort');\r\n      this.options.stop && this.options.stop(event, ui);\r\n    }\r\n  });\r\n\r\n  return DragAndDropContainerBehaviour;\r\n});\r\n\n","csui.define('csui/perspectives/impl/nls/lang',{\r\n    // Always load the root bundle for the default locale (en-us)\r\n    \"root\": true,\r\n    // Do not load English locale bundle provided by the root bundle\r\n    \"en-us\": false,\r\n    \"en\": false\r\n  });\r\n  \n","csui.define('csui/perspectives/impl/nls/root/lang',{\r\n  invalidWidgetOptions: 'Some widgets have options that require values before the perspective can be saved. Please click on each of the highlighted widgets and check for any required options that have missing values.',\r\n  invalidWidget: 'Some widgets are not configurable. Please remove these widgets to save.'\r\n});\n","\n","csui.define(\r\n    'csui/perspectives/mixins/perspective.edit.mixin',['require', 'csui/lib/underscore', 'csui/lib/jquery', \"csui/utils/log\",\r\n      'i18n!csui/perspectives/impl/nls/lang', 'csui/models/node/node.model',\r\n      'csui/models/widget/widget.model'],\r\n    function (require, _, $, log, lang, NodeModel, WidgetModel) {\r\n      'use strict';\r\n      /**\r\n       * Mix provides supported functionality required for Perspective Inline Editing\r\n       */\r\n          // used for constant extraction, fields which when specified must be replaced with constants\r\n          // when perspective is transported\r\n      var CONSTANT_FIELD_TYPES = ['otcs_node_picker', 'otconws_workspacetype_id',\r\n            'otcs_user_picker', 'otconws_metadata'];\r\n\r\n      var PerspectiveEditMixin = {\r\n        mixin: function (prototype) {\r\n          return _.extend(prototype, {\r\n\r\n            /**\r\n             * Get prepare for perspective edit. Add required event listeners\r\n             */\r\n            prepareForEditMode: function () {\r\n              this.listenTo(this, 'update:widget:options',\r\n                  function (config) {\r\n                    var widget = config.widgetView.model.get('widget');\r\n                    if (widget.type === 'csui/perspective.manage/widgets/perspective.widget') {\r\n                      widget = widget.options;\r\n                    }\r\n                    widget.options = config.options;\r\n                    config.widgetView.model.set('hasValidOptions', config.isValid, {\r\n                      silent: true\r\n                    });\r\n                  });\r\n            },\r\n\r\n            _resolveWidget: function (widget) {\r\n              var deferred = $.Deferred();\r\n              var widgetModel = new WidgetModel({id: widget.type});\r\n              widgetModel.fetch().then(function () {\r\n                widget.view = widgetModel.get('view');\r\n                deferred.resolve(widgetModel);\r\n              }, function (error) {\r\n                deferred.reject(error);\r\n              });\r\n              return deferred.promise();\r\n            },\r\n\r\n            /**\r\n             * Serialize widget options\r\n             */\r\n            serializeWidget: function (model, constantsDataSeed) {//constantsDataSeed: path for constant extraction\r\n              var deferred = $.Deferred();\r\n              var widget = model.get('widget');\r\n              if (widget.type === 'csui/widgets/error') {\r\n                // Error widget indicates, original cannot load / initial widget. Respoective module might be uninstalled later.\r\n                // Hence cannot be configurated. So retain configuration of original widget.\r\n                widget = widget.options.originalWidget;\r\n                // TODO Take care of constant data as it cannot be evaluated now since widget is not available.\r\n                deferred.resolve({\r\n                  widget: {\r\n                    type: widget.type,\r\n                    kind: widget.kind,\r\n                    options: widget.options,\r\n                    c_id: widget.cid\r\n                  },\r\n                });\r\n                return deferred.promise();\r\n              }\r\n              if (model.get('hasValidOptions') !== false) {\r\n                // Has valid form options\r\n                var kind    = widget.kind,\r\n                    type    = widget.type,\r\n                    cid     = widget.cid,\r\n                    options = this.removeNullsInObject(widget.options);\r\n                if (type === 'csui/perspective.manage/widgets/perspective.widget') {\r\n                  type = options.widget.id;\r\n                  widget.type = type;\r\n                  options = options.options;\r\n                }\r\n                //Fetch widget model for the widget\r\n                this._resolveWidget(widget).done(_.bind(function (widgetModel) {\r\n                  var widgetManifest = widgetModel ? widgetModel.get('manifest') :\r\n                      {},\r\n                      properties     = widgetManifest && widgetManifest.options ?\r\n                                       widgetManifest.options : {};\r\n                  var constantsData = [];\r\n                  this.collectionConstantData(options, properties, constantsData,\r\n                      constantsDataSeed + '/options');\r\n                  deferred.resolve({\r\n                    widget: {\r\n                      type: type,\r\n                      kind: kind,\r\n                      options: options,\r\n                      c_id: cid\r\n                    },\r\n                    constantsData: constantsData\r\n                  });\r\n                }, this)).fail(function (error) {\r\n                  deferred.reject({\r\n                    error: lang.invalidWidget\r\n                  });\r\n                });\r\n              } else {\r\n                // Invalid options form\r\n                deferred.reject({\r\n                  error: lang.invalidWidgetOptions\r\n                });\r\n              }\r\n              return deferred.promise();\r\n            },\r\n\r\n            //Collect attributes if any, which are needed to be replaced with constants\r\n            collectionConstantData: function (data, options, constants, seed) {\r\n              if (_.isEmpty(options)) {\r\n                return;\r\n              }\r\n              if (_.isArray(data)) {\r\n                //data contains items which are to be traversed\r\n                _.each(data, function (value, key) {\r\n                  this.collectionConstantData(value, options.items, constants, seed + '/' + key);\r\n                }, this);\r\n              } else if (_.isObject(data)) {\r\n                //data contains fields which are to be traversed\r\n                _.each(data, function (value, key) {\r\n                  if (!!options.fields && !!options.fields[key]) {\r\n                    this.collectionConstantData(value, options.fields[key], constants,\r\n                        seed + '/' + key);\r\n                  }\r\n                }, this);\r\n              } else if (CONSTANT_FIELD_TYPES.indexOf(options.type) !== -1) {\r\n                //attribute which constant generation\r\n                constants.push({\r\n                  type: options.type,\r\n                  path: seed\r\n                });\r\n              }\r\n            },\r\n\r\n            //remove null and undefined objects from options form\r\n            removeNullsInObject: function (obj) {\r\n              var self = this;\r\n\r\n              function _checkAndRemove(value, key) {\r\n                if (typeof value === 'object' || _.isArray(value)) {\r\n                  self.removeNullsInObject(value);\r\n                }\r\n                if (_.isNull(value) || _.isUndefined(value) || value.length === 0) {\r\n                  if (_.isArray(obj)) {\r\n                    obj.splice(key, 1);\r\n                  } else {\r\n                    delete obj[key];\r\n                  }\r\n                }\r\n              }\r\n\r\n              if (_.isArray(obj)) {\r\n                for (var i = obj.length - 1; i >= 0; i--) {\r\n                  _checkAndRemove(obj[i], i);\r\n                }\r\n              } else {\r\n                _.each(obj, _checkAndRemove);\r\n              }\r\n              return obj;\r\n            },\r\n            /**\r\n             * Execute callbacks if any, once for each widget type in current perspective\r\n             */\r\n            executeCallbacks: function (models, perspectiveModel) {\r\n              this.perspectiveWidgets = models;\r\n              var deferred = $.Deferred();\r\n              models = _.filter(models, function (config) {\r\n                return config.widget.type !== 'csui/widgets/error';\r\n              });\r\n              this.loadCallbacks(models).then(_.bind(function (widgetsWithCallback) {\r\n                var promises = _.map(widgetsWithCallback,\r\n                    _.bind(function (widgetWithCallback) {\r\n                      return this.initializeWidget(widgetWithCallback, perspectiveModel);\r\n                    }, this));\r\n                $.whenAll.apply($, promises)\r\n                    .then(function () {\r\n                      deferred.resolve();\r\n                    }, function (error) {\r\n                      deferred.reject(error);\r\n                    });\r\n              }, this));\r\n              return deferred.promise();\r\n            },\r\n\r\n            loadCallbacks: function (models) {\r\n              var self     = this,\r\n                  deferred = $.Deferred(),\r\n                  promises = _.chain(models)\r\n                      .groupBy(function (model) {\r\n                        return model.widget.type;\r\n                      })\r\n                      .map(function (widgetType) {\r\n                        var deferredEach = $.Deferred();\r\n                        self._resolveWidget(widgetType[0].widget).done(function (widgetModel) {\r\n                          var widgetManifest = widgetModel ? widgetModel.get('manifest') :\r\n                                               false,\r\n                              widgetCallback = widgetManifest ? widgetManifest.callback : false;\r\n                          if (widgetCallback) {\r\n                            require([widgetCallback], function (callback) {\r\n                              if (callback && _.isFunction(callback)) {\r\n                                widgetModel.type = widgetModel.id;\r\n                                deferredEach.resolve(_.extend(widgetModel, new callback()));\r\n                              } else {\r\n                                deferredEach.reject();\r\n                              }\r\n                            }, function (error) {\r\n                              log.warn('Failed to load callback. {0}', error);\r\n                              deferredEach.reject(error);\r\n                            });\r\n                          } else {\r\n                            deferredEach.resolve();\r\n                          }\r\n                        }).fail(function () {\r\n                          // Ingore errors here since those were handled while serializing widget. For ex, Error Widget etc.,\r\n                          deferredEach.resolve();\r\n                        });\r\n                        return deferredEach.promise();\r\n                      })\r\n                      .compact()\r\n                      .value();\r\n              $.whenAll.apply($, promises)\r\n                  .then(function (results) {\r\n                    deferred.resolve(_.compact(results));\r\n                  });\r\n              return deferred.promise();\r\n            },\r\n\r\n            initializeWidget: function (widgetWithCallback, perspectiveModel) {\r\n              var deferred   = $.Deferred(),\r\n                  widgets    = _.filter(this.perspectiveWidgets, function (widget) {\r\n                    return widget.widget.type === widgetWithCallback.type;\r\n                  }),\r\n                  mode       = perspectiveModel.get('id') ? 'update' :\r\n                               'create',\r\n                  settings   = {\r\n                    priority: parseInt(perspectiveModel.get('priority')) || undefined,\r\n                    title: perspectiveModel.get('title') || '',\r\n                    overrideType: perspectiveModel.get('overrideType'),\r\n                    scope: perspectiveModel.get('scope') || '',\r\n                    containerType: parseInt(perspectiveModel.get('containerType')) ||\r\n                                   undefined,\r\n                    perspectiveParentId: parseInt(perspectiveModel.get('override_id')) ||\r\n                                         parseInt(perspectiveModel.get('perspectivesVolId')) ||\r\n                                         undefined,\r\n                    overrideObjId: parseInt(perspectiveModel.get('node')) || undefined,\r\n                    assetContainerId: perspectiveModel.get('assetContainerId') || undefined\r\n                  },\r\n                  parameters = {\r\n                    mode: mode,\r\n                    widgets: widgets,\r\n                    settings: settings,\r\n                    connector: perspectiveModel.connector\r\n                  };\r\n              if (mode == 'update') {\r\n                //TODO implement getPreviousWidgets for all perspectives other than flow perspective\r\n                var previousPerspectiveWidgets = this.getPreviousWidgets &&\r\n                                                 this.getPreviousWidgets(perspectiveModel);\r\n                parameters.previousWidgets = _.filter(previousPerspectiveWidgets,\r\n                    function (widget) {\r\n                      return widget.widget.type === widgetWithCallback.type;\r\n                    });\r\n              }\r\n              var callbackPromise = this.getHiddenWidgetOptions(widgetWithCallback, parameters),\r\n                  that            = this;\r\n              $.when(callbackPromise)\r\n                  .done(_.bind(function (responseParameters) {\r\n                    //TODO refactor the execution of retrieving and validating new widget options\r\n                    /*var responseWidgets = (_.has(responseParameters, 'widgets')) ?\r\n                                               responseParameters.widgets : [];\r\n\r\n                        // iterate the returned widgets array to get new options\r\n                        _.each(responseWidgets, _.bind(function (item) {\r\n                          if (_.has(item, 'newOptions') && _.isObject(item.newOptions)) {\r\n                            //TODO refactor with appropriate attributes\r\n                            var existingObjPath = 'perspective' +\r\n                                                  this.convertJSONPointerToPath(item.widgetBaseLocation),\r\n                                existingObj     = this.getDeepProperty(perspectiveModel,\r\n                                    existingObjPath);\r\n\r\n                            // options before changes\r\n                            item.oldOptions = _.deepClone(item.widget.options);\r\n                            // iterate the widget options and remove any bogus properties that have not been defined in the widget's manifest\r\n                            _.each(item.newOptions, function (value, key) {\r\n                              var manifest=widgetWithCallback.get('manifest');\r\n                              if (!_.has(manifest.schema.properties, key) ||\r\n                                  !_.has(manifest.options.fields[key], 'hidden') ||\r\n                                  !manifest.options.fields[key].hidden) {\r\n                                delete(item.newOptions[key]);\r\n                              }\r\n                            });\r\n                            // update the options\r\n                            _.deepExtend(existingObj, item.newOptions);\r\n                          }\r\n                      }, this));*/\r\n                    deferred.resolve();\r\n                  }, this))\r\n                  .fail(function (error) {\r\n                    deferred.reject(error);\r\n                  });\r\n              return deferred.promise();\r\n            },\r\n\r\n            getHiddenWidgetOptions: function (widgetWithCallback, parameters) {\r\n              var deferredOptions        = $.Deferred(),\r\n                  deferredContainer      = $.Deferred(),\r\n                  widgetPromises         = [],\r\n                  errors                 = [],\r\n                  ensureContainerPromise = deferredContainer.promise(), // note: no response argument - i.e. an empty promise\r\n                  useOverrideContainer   = false;\r\n\r\n              // check that the callback object is valid\r\n              if (!widgetWithCallback || !_.has(widgetWithCallback, 'defineWidgetOptionsCommon') ||\r\n                  !_.has(widgetWithCallback, 'defineWidgetOptionsEach')) {\r\n                deferredOptions.reject();\r\n                return deferredOptions.promise();\r\n              }\r\n\r\n              // the callback should have an ensureContainer() function that returns a promise\r\n              if (_.has(widgetWithCallback, 'ensureContainer') &&\r\n                  _.isFunction(widgetWithCallback.ensureContainer)) {\r\n                // call ensureContainer() function to create a container in the assets volume\r\n                if (widgetWithCallback.ensureContainer(parameters)) {\r\n                  ensureContainerPromise = this.ensureContainer(parameters);\r\n                } else {\r\n                  useOverrideContainer = true;\r\n                }\r\n              } else {\r\n                useOverrideContainer = true;\r\n              }\r\n\r\n              if (useOverrideContainer) {\r\n                // no need to call ensureContainer(), so resolve with an empty promise\r\n                deferredContainer.resolve();\r\n              }\r\n\r\n              $.when(ensureContainerPromise).done(function (response) {\r\n                // when asset container is known to exist\r\n\r\n                if (!_.has(parameters.settings, 'assetContainerId') ||\r\n                    _.isUndefined(parameters.settings.assetContainerId)) {\r\n                  // the assetContainerId is the id of where the asset will be added. e.g. either in the Perspective Assets Volume, or the container that the perspective overrides\r\n                  var id = (response) ? response.id : parameters.settings.overrideObjId, // no response if ensureContainer was an empty promise\r\n                      ac = {assetContainerId: id};\r\n\r\n                  _.extend(parameters.settings, ac); // the containerId is required by the callback\r\n                  // _.extend(PMan.perspective.perspectiveOut, ac);\r\n                }\r\n\r\n                var promiseBefore = widgetWithCallback.defineWidgetOptionsCommon(parameters);\r\n\r\n                // check callback returns something that looks like a promise\r\n                if (!promiseBefore || typeof promiseBefore != 'object' ||\r\n                    !_.has(promiseBefore, 'state')) {\r\n                  // looks like the callback didn't return a promise, so reject the deferred and return from this function immediately\r\n                  deferredOptions.reject();\r\n                  return deferredOptions.promise();\r\n                }\r\n\r\n                // when common options have been processed\r\n                $.when(promiseBefore).done(function (commonOptions) {\r\n                  if (_.has(parameters, 'widgets') && _.isArray(parameters.widgets)) {\r\n\r\n                    _.each(parameters.widgets, function (item, index) {\r\n                      // first add any common option properties\r\n\r\n                      if (!_.has(item, 'newOptions')) {\r\n                        item.newOptions = {};\r\n                      }\r\n\r\n                      _.extend(item.newOptions, commonOptions);\r\n\r\n                      // next apply any widget-specific options\r\n                      widgetPromises.push(widgetWithCallback.defineWidgetOptionsEach(item,\r\n                          parameters));\r\n                      $.when(widgetPromises[index])\r\n                          .done(function (newOptions) {\r\n                            _.extend(item.newOptions, newOptions);\r\n                          })\r\n                          .fail(function (errorMsg) {\r\n                            errors.push(errorMsg); // error returned by user-extended _eachWidgetOptions()\r\n                          });\r\n                    });\r\n\r\n                    // when all widgets have been processed\r\n                    $.when.apply(this, widgetPromises)\r\n                        .done(function () {\r\n                          // all done\r\n                          deferredOptions.resolve(parameters);\r\n                        })\r\n                        .fail(function (errorMsg) {\r\n                          errors.push(errorMsg);\r\n                          deferredOptions.reject(errors); // errors array returned to perspective manager\r\n                        });\r\n                  }\r\n\r\n                })\r\n                    .fail(function (errorMsg) {\r\n                      errors.push(errorMsg); // error returned by user-extended _eachWidgetOptions()\r\n                      deferredOptions.reject(errors);\r\n                    });\r\n              })\r\n                  .fail(function (error) {\r\n                    deferredContainer.reject(error);\r\n                    // Also reject the deferredOptions promise so the error is reported\r\n                    deferredOptions.reject([error]);\r\n                  });\r\n\r\n              return deferredOptions.promise();\r\n            },\r\n\r\n            ensureContainer: function (parameters) {\r\n              // ensures that a container exists for perspective assets created by callbacks.\r\n\r\n              var deferredContainer = $.Deferred();\r\n\r\n              function uniqueId() {\r\n                // using a timestamp alone does not guard against 2 users near-simultaneously attempting to create an asset container with the same name, whereas combination of timestamp and ~16 digit random suffix makes it practically impossible (1 in 1e+32)\r\n                return _.now() + Math.random().toString().substring(2);\r\n              }\r\n\r\n              //TODO: update scenario: need to identify if an assetcontainer exists and what it's ID is (it might not, if e.g. the perspective didn't previously contain a wiki tile)\r\n              if (_.has(parameters.settings, 'assetContainerId') &&\r\n                  !isNaN(parseInt(parameters.settings.assetContainerId))) {\r\n                // assetContainerId already exists, nothing to do\r\n                // this is the case if there are more than one wiki tiles\r\n                deferredContainer.resolve(false);\r\n              } else {\r\n                this.perspectiveAssetsVolume = new NodeModel(\r\n                    {\r\n                      id: 'volume',\r\n                      type: 954\r\n                    },\r\n                    {\r\n                      connector: parameters.connector\r\n                    });\r\n                this.perspectiveAssetsVolume.fetch().then(_.bind(function () {\r\n                  var collectOptions = {\r\n                    url: parameters.connector.connection.url + '/nodes',\r\n                    type: 'POST',\r\n                    data: {\r\n                      type: 955,\r\n                      parent_id: this.perspectiveAssetsVolume.get('id'),\r\n                      name: 'assets_' + uniqueId()\r\n                    },\r\n                    success: function (response) {\r\n                      deferredContainer.resolve(response);\r\n\r\n                    },\r\n                    error: function (error) {\r\n                      deferredContainer.reject(error);\r\n                    }\r\n                  };\r\n\r\n                  parameters.connector.makeAjaxCall(collectOptions).done(function (resp) {\r\n                    deferredContainer.resolve(resp);\r\n                  }).fail(function (resp) {\r\n                    deferredContainer.reject(resp);\r\n                  });\r\n                }, this));\r\n              }\r\n\r\n              return deferredContainer.promise();\r\n            }\r\n\r\n            /*convertJSONPointerToPath: function (jpath) {\r\n              // converts JSONPointer path notation to standard JS dotted/bracketed notation\r\n              if (jpath) {\r\n                var path = jpath.split('/');\r\n                path = path.reduce(function (memo, item) {\r\n                  if (Number(item)) {\r\n                    return memo + '[' + item + ']';\r\n                  } else {\r\n                    return memo + '.' + item;\r\n                  }\r\n                });\r\n                return path;\r\n              }\r\n            },\r\n\r\n            getDeepProperty: function (obj, path) {\r\n              // gets properties deep within an object, by passing in a path string 'key' in dotted form e.g. 'foo.bar.thing'\r\n              var keys  = path.replace(/\\[([\"']?)([^\\1]+?)\\1?\\]/g, '.$2').replace(/^\\./,\r\n                      '').split('.'),\r\n                  value = false;\r\n\r\n              for (var i = 0, n = keys.length; i < n; i++) {\r\n                var property = keys[i];\r\n                if (property in obj) {\r\n                  obj = obj[property];\r\n                } else {\r\n                  return;\r\n                }\r\n              }\r\n              return obj;\r\n\r\n            }*/\r\n\r\n          });\r\n        }\r\n      };\r\n\r\n      return PerspectiveEditMixin;\r\n    });\r\n\n","csui.define('csui/perspectives/flow/impl/nls/lang',{\r\n    // Always load the root bundle for the default locale (en-us)\r\n    \"root\": true,\r\n    // Do not load English locale bundle provided by the root bundle\r\n    \"en-us\": false,\r\n    \"en\": false\r\n  });\r\n  \n","csui.define('csui/perspectives/flow/impl/nls/root/lang',{\r\n    tileLabel: 'Single Width',\r\n    headerLabel: 'Double Width',\r\n    fullpageLabel: 'Full Page'\r\n  });\r\n  \n","\ncsui.define('css!csui/perspectives/flow/impl/flow.perspective',[],function(){});\n","// Loads widgets and renders them in a single row of grid cells\r\ncsui.define('csui/perspectives/flow/flow.perspective.view',['require', 'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/models/widget/widget.collection',\r\n\r\n  'csui/controls/grid/grid.view', 'csui/utils/log',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n  'csui/behaviors/drag.drop/dnd.item.behaviour',\r\n  'csui/behaviors/drag.drop/dnd.container.behaviour',\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n  'i18n!csui/perspectives/flow/impl/nls/lang',\r\n  'css!csui/perspectives/flow/impl/flow.perspective'\r\n], function (require, module, _, $, Backbone, Marionette, WidgetCollection, GridView,\r\n    log, WidgetContainerBehavior, DnDItemBehaviour, DnDContainerBehaviour, PerspectiveEditMixin,\r\n    lang) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    defaultWidgetKind: 'tile',\r\n    widgetSizes: {\r\n      fullpage: {\r\n        widths: {\r\n          xs: 12\r\n        },\r\n        heights: {\r\n          xs: 'full'\r\n        }\r\n      },\r\n      header: {\r\n        widths: {\r\n          xs: 12,\r\n          md: 8,\r\n          xl: 6\r\n        }\r\n      },\r\n      widetile: {\r\n        widths: {\r\n          xs: 12,\r\n          lg: 6\r\n        }\r\n      },\r\n      tile: {\r\n        widths: {\r\n          xs: 12,\r\n          sm: 6,\r\n          md: 4,\r\n          xl: 3\r\n        }\r\n      }\r\n    }\r\n  });\r\n\r\n  var FlowPerspectiveView = GridView.extend({\r\n\r\n    className: function () {\r\n      var className       = 'cs-perspective cs-flow-perspective grid-rows',\r\n          parentClassName = _.result(GridView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        if (!widget.view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved:' +\r\n                     widget['error']\r\n          });\r\n        }\r\n        return widget.view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model) {\r\n      var widget = model.get('widget');\r\n      return {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // widgets in the grid should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined\r\n      };\r\n    },\r\n\r\n    constructor: function FlowPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      if (options.perspectiveMode === 'edit') {\r\n        this._prepareOptionsForEditMode(options);\r\n        this.prepareForEditMode();\r\n      }\r\n      if (!options.collection) {\r\n        var extWidgets = _.chain(config)\r\n            .pick(function (value, key) {\r\n              return key.indexOf('-widgets') >= 0;\r\n            })\r\n            .values()\r\n            .flatten();\r\n\r\n        if (extWidgets && extWidgets._wrapped && extWidgets._wrapped.length > 0) {\r\n          options.widgets = _.filter(options.widgets, function (widget) {\r\n            return _.contains(extWidgets._wrapped, widget.type);\r\n          });\r\n        }\r\n\r\n        options.collection = this._createCollection(options);\r\n      }\r\n      GridView.prototype.constructor.call(this, options);\r\n      if (options.perspectiveMode === 'edit') {\r\n        this._registerEditEvents();\r\n      }\r\n    },\r\n\r\n    /**\r\n     * Add a empty placeholder at the end for new widgets to drop in edit mode\r\n     */\r\n    _prepareOptionsForEditMode: function (options) {\r\n      var self = this;\r\n      options.widgets || (options.widgets = []);\r\n      options.widgets.push({\r\n        kind: 'tile',\r\n        type: 'csui/perspective.manage/widgets/perspective.placeholder',\r\n        className: 'csui-draggable-item-disable'\r\n      });\r\n\r\n      options.cellBehaviours = {\r\n        PerspectiveWidgetConfig: { // For widget editing\r\n          behaviorClass: require(\r\n              'csui/perspective.manage/behaviours/pman.widget.config.behaviour'),\r\n          perspectiveView: this\r\n        },\r\n        DnDItemBehaviour: { // For DnD widget\r\n          behaviorClass: DnDItemBehaviour\r\n        }\r\n      };\r\n\r\n      this._createDnDPlaceholderWidget();\r\n\r\n      options.reorderOnSort = true; // To let reorder views on collection reorder (DnD reorder)\r\n      options.rowBehaviours = {\r\n        DnDContainerBehaviour: {\r\n          behaviorClass: DnDContainerBehaviour,\r\n          placeholder: this._getDnDPlaceholder.bind(this),\r\n          handle: '.csui-pman-widget-masking', // Limit re-ordering to mask (avoids callout popover),\r\n          helper: 'clone', // Use clone of the original element as drag image to preserve styles of original element as it is.\r\n          start: function(event, ui) {\r\n            //hiding popover on drag start\r\n            var popoverTarget = self.$el.find(\".binf-popover\");\r\n            if (popoverTarget.length) {\r\n              popoverTarget.removeClass(\"pman-ms-popover\");\r\n              popoverTarget.hide();\r\n              popoverTarget.binf_popover('destroy');\r\n            }\r\n          },\r\n          over: _.bind(function (event, ui) {\r\n            var placeholderWidget = this._getDnDPlaceholder(ui.helper);\r\n            var placeholder = ui.placeholder;\r\n            placeholder.show();\r\n            // Update DnD placeholder with widget styles\r\n            placeholder.attr('class', placeholderWidget.attr('class'));\r\n            placeholder.html(placeholderWidget.html());\r\n            placeholder.css('visibility', 'visible');\r\n            // FIXME: Remove transfer data to placeholder. Instead set data to ui.item\r\n            placeholder.data('pman.widget', ui.helper.data('pman.widget'));\r\n            placeholder.removeData('isBeyondLayout');\r\n          }, this),\r\n          out: function(event, ui) {\r\n            ui.placeholder.hide();\r\n            ui.placeholder.data('isBeyondLayout', true);\r\n          },\r\n          receive: _.bind(function (event, ui) {\r\n            if (ui.placeholder.data('isBeyondLayout') === true) {\r\n              // Dropped outside the placeholder.\r\n              ui.sender.sortable(\"cancel\");\r\n              return;\r\n            }\r\n            if (ui.position.top > 0) {\r\n              var newWidget = ui.placeholder.data('pman.widget'),\r\n                  index     = ui.item.index(); // this.$el.find('.binf-row >div').index(ui.item);\r\n\r\n              var widget = {\r\n                type: 'csui/perspective.manage/widgets/perspective.widget',\r\n                kind: newWidget.get('manifest').kind,\r\n                options: {\r\n                  options: {}, // To be used and filled by callout form\r\n                  widget: newWidget\r\n                },\r\n                view: this.pespectiveWidgetView\r\n              };\r\n              var self = this;\r\n              var widgetUpdates = self._prepareGridCell(widget, index);\r\n              var cells = self.collection.at(0).columns;\r\n              cells.add(widgetUpdates, {at: index});\r\n            }\r\n            // Move Placeholder widget to last\r\n            this._makesurePlaceholderAtLast();\r\n\r\n            // Cancel sort event since placing widget manually here.\r\n            ui.sender.sortable(\"cancel\");\r\n          }, this),\r\n          stop: _.bind(function () {\r\n            this._makesurePlaceholderAtLast();\r\n          }, this)\r\n        }\r\n      };\r\n\r\n    },\r\n\r\n    _makesurePlaceholderAtLast: function () {\r\n      var cells = this.collection.at(0).columns;\r\n      // Move Placeholder widget to last\r\n      var placeholderCell = cells.find(function (cell) {\r\n        return cell.get(\"widget\").type ===\r\n               'csui/perspective.manage/widgets/perspective.placeholder';\r\n      });\r\n      if (placeholderCell === cells.last()) {\r\n        // Already at last\r\n        return;\r\n      }\r\n      cells.remove(placeholderCell);\r\n      cells.add(placeholderCell);\r\n    },\r\n\r\n    /**\r\n     * Create a empty placeholder widget to be used to show as DnD watermark placeholder\r\n     */\r\n    _createDnDPlaceholderWidget: function () {\r\n      var self              = this,\r\n          placeholderWidget = {\r\n            type: 'csui/perspective.manage/widgets/perspective.placeholder',\r\n          };\r\n      this._resolveWidget(placeholderWidget).done(function (resolvedWidget) {\r\n        var cellOptions = self._createCell(placeholderWidget, resolvedWidget, 0);\r\n        cellOptions.className = \"pman-dnd-hover-placeholder\";\r\n        self.dndPlaceholderCell = new GridView.CellView({\r\n          grid: self,\r\n          model: new Backbone.Model(cellOptions)\r\n        });\r\n        self.dndPlaceholderCell.render();\r\n      });\r\n\r\n      this._resolveWidget({\r\n        type: 'csui/perspective.manage/widgets/perspective.widget'\r\n      }).done(function (resolvedWidget) {\r\n        self.pespectiveWidgetView = resolvedWidget.get('view');\r\n      });\r\n    },\r\n\r\n    /**\r\n     * Prepare placeholder watermark for widget currently dropping\r\n     */\r\n    _getDnDPlaceholder: function (dragEl) {\r\n      var widget = dragEl.data('pman.widget');\r\n      if (!!widget) {\r\n        var kind = widget.attributes.manifest.kind;\r\n        if (!kind) {\r\n          kind = config.defaultWidgetKind;\r\n        }\r\n        var sizes = config.widgetSizes[kind];\r\n        // Update watermark widget with current droping widget sizes\r\n        this.dndPlaceholderCell.model.set({\r\n          sizes: sizes.widths,\r\n          heights: sizes.heights\r\n        });\r\n      }\r\n      return this.dndPlaceholderCell.$el;\r\n    },\r\n\r\n    _registerEditEvents: function () {\r\n      var self = this;\r\n      this.listenTo(this, 'delete:widget', function (widgetView) {\r\n        var cells = self.collection.at(0).columns;\r\n        var model = widgetView.model;\r\n        cells.remove(model);\r\n      });\r\n\r\n      this.listenTo(this, 'update:widget:size', function (widgetView, kind) {\r\n        var sizes  = config.widgetSizes[kind],\r\n            widget = widgetView.model.get('widget');\r\n        widget.kind = kind;\r\n        widgetView.model.set({\r\n          sizes: sizes.widths,\r\n          heights: sizes.heights,\r\n          widget: widget\r\n        });\r\n      });\r\n\r\n      this.listenTo(this, 'replace:widget', this._replaceWidget);\r\n    },\r\n\r\n    _replaceWidget: function (currentWidget, widgetToReplace) {\r\n      if (!this.getPManPlaceholderWidget) {\r\n        // 'getPManPlaceholderWidget' Provided by pman.config.behaviour\r\n        return;\r\n      }\r\n      var self = this;\r\n      var cells = this.collection.at(0).columns;\r\n      // Load new widget\r\n      this._resolveWidget(widgetToReplace).done(function () {\r\n        // Replace current widget with new widget\r\n        if (currentWidget.model.get('widget').type !== self.getPManPlaceholderWidget().type) {\r\n          // Preserve widget kind if dropping on existing widget\r\n          widgetToReplace.kind = currentWidget.model.get('widget').kind;\r\n        }\r\n        var widgetUpdates = self._prepareGridCell(widgetToReplace,\r\n            cells.indexOf(currentWidget.model));\r\n        currentWidget.model.set(widgetUpdates);\r\n        // Check if has any placeholders, otherwise add new placeholder widget\r\n        var placeholderWidget = self.getPManPlaceholderWidget(),\r\n            hasPlaceholders   = cells.filter(function (w) {\r\n              return w.get('widget').type === placeholderWidget.type;\r\n            }).length > 0;\r\n        if (!hasPlaceholders) {\r\n          // Create a placeholder wiget to be able to drop new widgets\r\n          self._resolveWidget(placeholderWidget).done(function (resolvedWidget) {\r\n            var newCell = self._createCell(placeholderWidget, resolvedWidget, cells.length);\r\n            cells.add(newCell);\r\n          });\r\n        }\r\n      });\r\n    },\r\n\r\n    _createCollection: function (options) {\r\n      var rows = new Backbone.Collection();\r\n      var uniqueWidgets = _.chain(options.widgets)\r\n          .pluck('type')\r\n          .unique()\r\n          .map(function (id) {\r\n            return {id: id};\r\n          })\r\n          .value();\r\n\r\n      var resolvedWidgets = new WidgetCollection(uniqueWidgets);\r\n      var self = this;\r\n\r\n      this.widgetsResolved = resolvedWidgets\r\n          .fetch()\r\n          .then(function () {\r\n            var firstRow = rows.add({});\r\n            firstRow.columns = self._createColumns(options.widgets, resolvedWidgets);\r\n          });\r\n      return rows;\r\n    },\r\n\r\n    _createColumns: function (widgets, resolvedWidgets) {\r\n      var columns = _.map(widgets, function (widget, columnIndex) {\r\n        var resolvedWidget = resolvedWidgets.get(widget.type);\r\n        return this._createCell(widget, resolvedWidget, columnIndex);\r\n      }.bind(this));\r\n      return new Backbone.Collection(columns);\r\n    },\r\n\r\n    _prepareGridCell: function (widgetConfig, columnIndex) {\r\n      var kind = widgetConfig.kind;\r\n      if (!kind) {\r\n        kind = config.defaultWidgetKind;\r\n      }\r\n      var sizes = config.widgetSizes[kind];\r\n      return {\r\n        sizes: sizes.widths,\r\n        heights: sizes.heights,\r\n        className: widgetConfig.className,\r\n        widget: {\r\n          cellAddress: 'grid0:r0:c' + columnIndex,\r\n          type: widgetConfig.type,\r\n          options: widgetConfig.options,\r\n          view: widgetConfig.view,\r\n          kind: kind\r\n        }\r\n      };\r\n    },\r\n\r\n    _createCell: function (widget, resolvedWidget, columnIndex) {\r\n      var widgetView     = resolvedWidget.get('view'),\r\n          manifest       = resolvedWidget.get('manifest') || {},\r\n          supportedKinds = manifest.supportedKinds,\r\n          kind           = widget.kind;\r\n      if (!kind || !supportedKinds || !_.contains(supportedKinds, kind)) {\r\n        kind = manifest.kind;\r\n      }\r\n      widget.kind = kind;\r\n      if (widgetView) {\r\n        widget.view = widgetView;\r\n        return this._prepareGridCell(widget, columnIndex);\r\n      }\r\n      var error = resolvedWidget.get('error');\r\n      log.warn('Loading widget \"{0}\" failed. {1}', widget.type, error)\r\n      && console.warn(log.last);\r\n      var sizes = config.widgetSizes[config.defaultWidgetKind];\r\n      return {\r\n        sizes: sizes.widths,\r\n        heights: sizes.heights,\r\n        widget: WidgetContainerBehavior.getErrorWidget(widget, error)\r\n      };\r\n    },\r\n\r\n    /**\r\n     * Returns supported widgets sizes(kinds) for given widget\r\n     */\r\n    getSupportedWidgetSizes: function (manifest, widget) {\r\n      return _.map(manifest.supportedKinds, function (suppKind) {\r\n        return {\r\n          kind: suppKind,\r\n          label: lang[suppKind + 'Label'],\r\n          selected: widget.model.get('widget').kind === suppKind\r\n        };\r\n      });\r\n    },\r\n\r\n    serializePerspective: function (perspectiveModel) {\r\n      var self         = this,\r\n          deferred     = $.Deferred(),\r\n          cells        = this.collection.at(0).columns,\r\n          widgetModels = cells.filter(function (cell) {\r\n            return cell.get('widget').type !==\r\n                   'csui/perspective.manage/widgets/perspective.placeholder';\r\n          });\r\n\r\n      var widgetPromises = widgetModels.map(function (widget, index) {\r\n        return self.serializeWidget(widget, '/options/widgets/' + index);\r\n      });\r\n      $.whenAll.apply($, widgetPromises).done(function (results) {\r\n        self.executeCallbacks(results, perspectiveModel).done(function () {\r\n          var constant_data = _.flatten(results.map(function (result) {\r\n            return result.constantsData;\r\n          }));\r\n          deferred.resolve({\r\n            perspective: {\r\n              type: 'flow',\r\n              options: {\r\n                widgets: _.map(results, function (result) {return result.widget;})\r\n              }\r\n            },\r\n            constant_data: constant_data,\r\n            constant_extraction_mode: 1\r\n          });\r\n        }).fail(function (results) {\r\n          // TODO Group errors\r\n          results = _.filter(results, function (result) {return !!result.error});\r\n          deferred.reject(results[0].error);\r\n        });\r\n      }, this).fail(function (results) {\r\n        // TODO Group errors\r\n        results = _.filter(results, function (result) {return !!result.error});\r\n        deferred.reject(results[0].error);\r\n      });\r\n      return deferred.promise();\r\n    },\r\n\r\n    getPreviousWidgets: function (perspectiveModel) {\r\n      var perspective     = perspectiveModel.get('perspective'),\r\n          previousWidgets = perspective &&\r\n                            perspective.options ?\r\n                            perspective.options.widgets :\r\n              {};\r\n      previousWidgets = _.map(previousWidgets, function (widget) {\r\n        return {widget: widget};\r\n      });\r\n      return previousWidgets;\r\n    },\r\n\r\n    _supportMaximizeWidget: true,\r\n\r\n    _supportMaximizeWidgetOnDisplay: true\r\n\r\n  });\r\n\r\n  // TODO add mixin dynamically for edit mode only\r\n  PerspectiveEditMixin.mixin(FlowPerspectiveView.prototype);\r\n  return FlowPerspectiveView;\r\n\r\n});\r\n\n","// Loads widgets and renders them in a grid\r\ncsui.define('csui/perspectives/grid/grid.perspective.view',['module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/marionette',\r\n  'csui/controls/grid/grid.view', 'csui/behaviors/widget.container/widget.container.behavior'\r\n], function (module, _, $, Marionette, GridView, WidgetContainerBehavior) {\r\n\r\n  var config = module.config();\r\n\r\n  var GridPerspectiveView = GridView.extend({\r\n\r\n    className: function () {\r\n      var className = 'cs-perspective cs-grid-perspective grid-rows',\r\n          parentClassName = _.result(GridView.prototype, 'className');\r\n      if (parentClassName) {\r\n        className = className + ' ' + parentClassName;\r\n      }\r\n      return className;\r\n    },\r\n\r\n    cellView: function (model) {\r\n      var widget = model.get('widget');\r\n      if (widget) {\r\n        var view = widget.view;\r\n        if (!view) {\r\n          throw new Marionette.Error({\r\n            name: 'UnresolvedWidgetError',\r\n            message: 'Widget \"' + widget.type + '\" not resolved: ' +\r\n                     widget.error\r\n          });\r\n        }\r\n        return view;\r\n      }\r\n    },\r\n\r\n    cellViewOptions: function (model) {\r\n      var widget = model.get('widget');\r\n      return {\r\n        context: this.options.context,\r\n        data: widget && widget.options || {},\r\n        // widgets in the grid should create their own model instead\r\n        // of using the grid cell model\r\n        model: undefined\r\n      };\r\n    },\r\n\r\n    behaviors: {\r\n      WidgetContainer: {\r\n        behaviorClass: WidgetContainerBehavior\r\n      }\r\n    },\r\n\r\n    constructor: function GridPerspectiveView(options) {\r\n      options || (options = {});\r\n      options = $.extend(true, {}, options);\r\n      var rows = options.rows;\r\n      if (rows && rows.length > 0 && config.supportedWidgets) {\r\n        var columns = rows[0].columns;\r\n        rows[0].columns = _.filter(columns, function (column) {\r\n          return _.contains(config.supportedWidgets, column.widget.type);\r\n        });\r\n\r\n        if( columns.length > 1 && config.widgetSizes ){\r\n          _.each(columns, function (column) {\r\n            column.sizes = config.widgetSizes;\r\n            column.heights = {};\r\n          });\r\n        }\r\n      }\r\n      GridView.prototype.constructor.call(this, options);\r\n    },\r\n\r\n    enumerateWidgets: function (callback) {\r\n      this._enumerateWidgetRow(this.options.collection, callback);\r\n    },\r\n\r\n    _enumerateWidgetRow: function (rows, callback) {\r\n      rows.each(function (row) {\r\n        row.columns.each(function (column) {\r\n          var widget = column.get('widget');\r\n          widget && callback(widget);\r\n          if (column.rows) {\r\n            this._enumerateWidgetRow(column.rows, callback);\r\n          }\r\n        }, this);\r\n      }, this);\r\n    },\r\n  \r\n    _supportMaximizeWidget: true,\r\n\r\n    _supportMaximizeWidgetOnDisplay: true\r\n\r\n  });\r\n\r\n  return GridPerspectiveView;\r\n\r\n});\r\n\n","csui.define('csui/pages/start/perspective.router',[\r\n  'csui/lib/backbone'\r\n], function (Backbone) {\r\n  'use strict';\r\n\r\n  var PerspectiveRouter = Backbone.Router.extend({\r\n    constructor: function PerspectiveRouter(options) {\r\n      Backbone.Router.prototype.constructor.apply(this, arguments);\r\n\r\n      // Save common options for descended routers\r\n      this.context = options.context;\r\n      this._routeWithSlashes = options.routeWithSlashes;\r\n\r\n      // Allow this router to react, before another router routes\r\n      this.listenTo(this, 'other:route', this.onOtherRoute);\r\n    },\r\n\r\n    execute: function (callback, args) {\r\n      // Inform the routing container, that a router is about to route\r\n      this.trigger('before:route', this);\r\n      return Backbone.Router.prototype.execute.apply(this, arguments);\r\n    },\r\n\r\n    navigate: function (fragment, options) {\r\n      // Preserve query (carries application settings) and hash parts (carries\r\n      // inside-page location); perspective routers use path only\r\n      if (this._routeWithSlashes) {\r\n        fragment += location.search + location.hash;\r\n      }\r\n\r\n      this.trigger('before:route', this);\r\n      return Backbone.Router.prototype.navigate.call(this, fragment, options);\r\n    }\r\n  });\r\n\r\n  return PerspectiveRouter;\r\n});\r\n\n","// Route hash-based URLs to contextual object changes and the other way round\r\ncsui.define('csui/pages/start/perspective.routing',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/utils/routing',\r\n  // Load external routers working with perspective context\r\n  'csui-ext!csui/pages/start/perspective.routing'\r\n], function (module, _, Backbone, Url, routing, extraRouters) {\r\n  'use strict';\r\n  var instance;\r\n  var config = _.extend({\r\n    handlerUrlPathSuffix: '/app',\r\n    rootUrlPath: null\r\n  }, module.config());\r\n\r\n  function PerspectiveRouting(options) {\r\n    // Later added routers override the earlier ones;\r\n    // put the landing page router to the front\r\n    var DefaultRouters = [];\r\n    var Routers = _\r\n            .chain(extraRouters)\r\n            .flatten(true)\r\n            .filter(function (Router) {\r\n              if (Router.isDefault) {\r\n                DefaultRouters.push(Router);\r\n              } else {\r\n                return true;\r\n              }\r\n            })\r\n            .concat(DefaultRouters)\r\n            .unique()\r\n            .reverse()\r\n            .value(),\r\n        routeWithSlashes = routing.routesWithSlashes();\r\n    this._routers = _.map(Routers, function (Router) {\r\n      var router = new Router(_.extend({\r\n        routeWithSlashes: routeWithSlashes\r\n      }, options));\r\n      router.on('before:route', _.bind(this._informOthers, this));\r\n      return router;\r\n    }, this);\r\n\r\n    this._context = options.context;\r\n    this._originalHistoryLength = history.length;\r\n  }\r\n\r\n  _.extend(PerspectiveRouting.prototype, Backbone.Events, {\r\n    start: function () {\r\n      // Start the client application URL router\r\n      var historyOptions;\r\n      if (routing.routesWithSlashes()) {\r\n        historyOptions = {\r\n          pushState: true,\r\n          // The application should configure root of their slash-based path.\r\n          // Otherwise it will be inferred from the current location, which\r\n          // will be handled as an OTCS CGI URL.\r\n          root: config.rootUrlPath != null && config.rootUrlPath ||\r\n                Url.combine(\r\n                    new Url(new Url(location.pathname).getCgiScript()).getPath(),\r\n                    config.handlerUrlPathSuffix)\r\n        };\r\n      } else {\r\n        // The current location path is the default root. However, the\r\n        // Backbone.history.atRoot() returns true, only if the root is\r\n        // set explicitly.  Probably a Backbone bug.\r\n\t\t    var rootPath = Backbone.history.decodeFragment(location.pathname);\r\n        historyOptions = {\r\n          root: rootPath\r\n        };\r\n      }\r\n      Backbone.history.start(historyOptions);\r\n    },\r\n\r\n    hasRouted: function () {\r\n      return history.length > this._originalHistoryLength;\r\n    },\r\n\r\n    _informOthers: function (akceptor) {\r\n      _.each(this._routers, function (router) {\r\n        if (router !== akceptor) {\r\n          router.trigger('other:route', router, akceptor);\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  PerspectiveRouting.routesWithSlashes = routing.routesWithSlashes;\r\n\r\n  return {\r\n    //The is made singleton as the \"hasRouted()\" functionality will be helpful for widgets\r\n    //to verify whether to display back button or not (Eg:SearchResultsHeaderView)\r\n    getInstance: function (options) {\r\n      if (!instance) {\r\n        instance = new PerspectiveRouting(options);\r\n      }\r\n      return instance;\r\n    },\r\n    // TODO: Deprecate this method, use csui/utils/routing\r\n    routesWithSlashes: routing.routesWithSlashes\r\n  };\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/application.scope.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n\r\n  var ApplicationScopeModel = Backbone.Model.extend({});\r\n\r\n  var ApplicationScopeModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'applicationScope',\r\n\r\n    constructor: function ApplicationScopeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var applicationScope = this.options.applicationScope || {};\r\n      if (!(applicationScope instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        applicationScope = new ApplicationScopeModel(applicationScope.models, _.extend({},\r\n            applicationScope.options, config.options));\r\n      }\r\n      this.property = applicationScope;\r\n    }\r\n\r\n  });\r\n\r\n  return ApplicationScopeModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/user',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector', 'csui/models/authenticated.user'\r\n], function (module, _, $, Backbone, ModelFactory, ConnectorFactory,\r\n    AuthenticatedUserModel) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var UserModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'user',\r\n\r\n    constructor: function UserModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var user = this.options.authentication || this.options.user || {},\r\n          config = module.config();\r\n      if (prefetch) {\r\n        this.initialResponse = user.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(user instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        user = new AuthenticatedUserModel(user.attributes || config.attributes,\r\n            _.defaults({\r\n              connector: connector\r\n            }, user.options, config.options));\r\n      }\r\n      this.property = user;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        var promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n        return promise;\r\n      } else {\r\n        return this.property.fetch(options);\r\n      }\r\n    }\r\n  });\r\n\r\n  return UserModelFactory;\r\n});\r\n\n","csui.define('csui/pages/start/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/pages/start/nls/root/lang',{\r\n  UserTitle:   \"OpenText Content Server\",\r\n  NodeTitle:   \"{0}\",\r\n  SearchTitle: \"Searching for \\\"{0}\\\"\"\r\n});\r\n\n","\n","csui.define('csui/pages/start/impl/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/pages/start/impl/nls/root/lang',{\r\n  UserLoadingTitle: \"Loading current user...\",\r\n  NodeLoadingTitle: \"Loading {0}...\",\r\n  Home: 'Home',\r\n  mainNavigationAria: 'Main navigation',\r\n  profileMenuTitle: 'Profile Menu',\r\n  profileMenuAria: 'Profile Menu of {0}',\r\n  profileImageAlt: 'Profile Menu of {0}'\r\n});\r\n\n","\n","csui.define('csui/pages/start/impl/landing.perspective.router',['csui/lib/underscore', 'csui/utils/base',\r\n  'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/factories/user', 'i18n!csui/pages/start/nls/lang',\r\n  'i18n!csui/pages/start/impl/nls/lang'\r\n], function (_, base, PerspectiveRouter, ApplicationScopeModelFactory,\r\n    UserModelFactory, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var LandingPerspectiveRouter = PerspectiveRouter.extend({\r\n    routes: {\r\n      '*other': 'openLandingPerspective'\r\n    },\r\n\r\n    constructor: function LandingPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context.getModel(ApplicationScopeModelFactory);\r\n      this.listenTo(this.applicationScope, 'change:id', this._updateHomeUrl);\r\n\r\n      this.user = this.context.getModel(UserModelFactory);\r\n      this.listenTo(this.user, 'change:id', this._updatePageTitle);\r\n    },\r\n\r\n    openLandingPerspective: function () {\r\n      this._updatePageTitle();\r\n      this.applicationScope.set('id', '');\r\n    },\r\n\r\n    _updateHomeUrl: function () {\r\n      // Empty scope means landing page\r\n      if (this.applicationScope.id) {\r\n        return;\r\n      }\r\n      this._updatePageTitle();\r\n      this.navigate('');\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      if (this.applicationScope.id === \"\") {\r\n        document.title = !this.user.has('name') ? lang.UserLoadingTitle :\r\n                         _.str.sformat(publicLang.UserTitle, base.formatMemberName(this.user));\r\n      }\r\n    }\r\n  }, {\r\n    isDefault: true\r\n  });\r\n\r\n  return LandingPerspectiveRouter;\r\n});\r\n\n","csui.define('csui/pages/start/impl/node.perspective.router',[\r\n  'csui/lib/underscore', 'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/next.node', 'csui/models/node/node.model',\r\n  'i18n!csui/pages/start/nls/lang', 'i18n!csui/pages/start/impl/nls/lang'\r\n], function (_, PerspectiveRouter, NextNodeModelFactory, NodeModel,\r\n    publicLang, lang) {\r\n  'use strict';\r\n\r\n  var NodePerspectiveRouter = PerspectiveRouter.extend({\r\n    routes: {\r\n      'nodes/:id': 'openNodePerspective'\r\n    },\r\n\r\n    constructor: function NodePerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.nextNode = this.context.getModel(NextNodeModelFactory);\r\n      this.listenTo(this.nextNode, 'change:id', this._updateNodeUrl);\r\n      // As long as perspective context fetches nextNode directly, it is\r\n      // easier to listen to its changes, than for the contextual node\r\n      this.listenTo(this.nextNode, 'change:name', this._updatePageTitle);\r\n    },\r\n\r\n    openNodePerspective: function (id) {\r\n      this._updatePageTitle();\r\n      if (NodeModel.usesIntegerId) {\r\n        id = parseInt(id);\r\n      }\r\n      this.nextNode.set('id', id);\r\n    },\r\n\r\n    onOtherRoute: function () {\r\n      this.nextNode.clear({silent: true});\r\n    },\r\n\r\n    _updateNodeUrl: function () {\r\n      this._updatePageTitle();\r\n      this.navigate('nodes/' + this.nextNode.get('id'));\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      document.title = !this.nextNode.has('name') ?\r\n          _.str.sformat(lang.NodeLoadingTitle, this.nextNode.get('id')) :\r\n          _.str.sformat(publicLang.NodeTitle, this.nextNode.get('name'));\r\n    }\r\n  });\r\n\r\n  return NodePerspectiveRouter;\r\n});\r\n\n","csui.define('csui/pages/start/impl/search.perspective.router',[\r\n  'module', 'csui/lib/underscore', 'csui/pages/start/perspective.router',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'i18n!csui/pages/start/nls/lang', 'i18n!csui/pages/start/impl/nls/lang'\r\n], function (module, _, PerspectiveRouter, SearchQueryModelFactory, publicLang, lang) {\r\n  'use strict';\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    // TODO: Remove this parameters. Private modules must not have public\r\n    // configuration. Introduce a public localization string, if you need\r\n    // to override the page title.\r\n    showTitle: true\r\n  });\r\n\r\n  var SearchPerspectiveRouter = PerspectiveRouter.extend({\r\n    routes: {\r\n      'search/*path': 'openSearchPerspective'\r\n    },\r\n\r\n    constructor: function SearchPerspectiveRouter(options) {\r\n      PerspectiveRouter.prototype.constructor.apply(this, arguments);\r\n\r\n      this.searchQuery = this.context.getModel(SearchQueryModelFactory);\r\n      this.listenTo(this.searchQuery, 'change', this._updateSearchUrl);\r\n    },\r\n\r\n    openSearchPerspective: function (path) {\r\n      // convert the path made of 'name/value' pairs to {name; value} map\r\n      var name,\r\n          parameters = _.reduce(path.split('/'), function (result, item) {\r\n            if (name) {\r\n              result[name] = item != null ? decodeURIComponent(item).trim() : '';\r\n              name = undefined;\r\n            } else {\r\n              name = decodeURIComponent(item);\r\n            }\r\n            return result;\r\n          }, {});\r\n      this._updatePageTitle();\r\n\r\n      // if context is coming from CVS then do 'silent:true' otherwise keep it false , to avoid\r\n      // double call to _fetchSearchPerspective().\r\n      this.searchQuery.set(parameters, {silent: !!this.searchQuery.get('query_id')});\r\n    },\r\n\r\n    onOtherRoute: function () {\r\n      this.searchQuery.clear({silent: true});\r\n    },\r\n\r\n    routerURL: function(searchQuery) {\r\n      var url = _.reduce(searchQuery.attributes, function (result, value, name) {\r\n        if (value) {\r\n          result += '/' + encodeURIComponent(name) + '/' + encodeURIComponent(value);\r\n        } else {\r\n          result += '/' + encodeURIComponent(name) + '/' + '%20';\r\n        }\r\n        return result;\r\n      }, 'search');\r\n      return url;\r\n    },\r\n\r\n    _updateSearchUrl: function () {\r\n      // format the path using the {name; value} map to 'name/value' pairs\r\n      var url = this.routerURL(this.searchQuery);\r\n      this._updatePageTitle();\r\n      this.navigate(url);\r\n    },\r\n\r\n    _updatePageTitle: function () {\r\n      if(config.showTitle) {\r\n        document.title = _.str.sformat(publicLang.SearchTitle, this.searchQuery.get('where'));\r\n      }\r\n    },\r\n\r\n    // TODO: Remove this. URLs have to be properly encoded and decoded.\r\n    // Overriding this to pass the encoded url fragment to the 'openSearchPerspective' .\r\n    // This is to ensure correct functionality even in the case of the search value containing '/' symbols.\r\n    _extractParameters: function(route, fragment) {\r\n      var params = route.exec(fragment).slice(1);\r\n      return _.map(params, function(param, i) {\r\n        return param ? param : null;\r\n      });\r\n    }\r\n  });\r\n\r\n  return SearchPerspectiveRouter;\r\n});\r\n\n","csui.define('csui/utils/classic.nodes/impl/core.classic.nodes',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    // Discussion\r\n    {\r\n      equals: {type: 215},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'view',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Discussion Topic or Reply\r\n    {\r\n      equals: {type: [130, 134]},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'view',\r\n          objId: node.get('id'),\r\n          show: 1,\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Task\r\n    {\r\n      equals: {type: 206},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseTask',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Task List\r\n    {\r\n      equals: {type: 204},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseTaskList',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Task Group\r\n    {\r\n      equals: {type: 205},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseTaskGroup',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Milestone\r\n    {\r\n      equals: {type: 212},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'BrowseMilestone',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Channel\r\n    {\r\n      equals: {type: 207},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'ViewChannel',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // News\r\n    {\r\n      equals: {type: 208},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'ViewNews',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Poll\r\n    {\r\n      equals: {type: 218},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'OpenPoll',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Form\r\n    {\r\n      equals: {type: 223},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'EditForm',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // LiveReport\r\n    {\r\n      equals: {type: 299},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'RunReport',\r\n          objId: node.get('id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // Prospector\r\n    {\r\n      equals: {type: 384},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'ProspectorBrowse',\r\n          objId: node.get('id'),\r\n          order: '-SCORE',\r\n          summaries: 1,\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    },\r\n    // follow up\r\n    {\r\n      equals: {type: 31214},\r\n      forced: true,\r\n      urlQuery: function (node) {\r\n        return {\r\n          func: 'll',\r\n          objAction: 'addresubmission',\r\n          RS_FUNCTION: 'Edit',\r\n          RSID: node.get('followup_id'),\r\n          objId: node.get('location_id'),\r\n          nexturl: location.href\r\n        };\r\n      }\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/content.helper',[\r\n  'csui/utils/url', 'csui/models/version'\r\n], function (Url, VersionModel) {\r\n  'use strict';\r\n\r\n  function getContentPageUrl (node) {\r\n    var cgiUrl = new Url(node.connector.connection.url).getCgiScript();\r\n    var urlQuery = {\r\n      func: 'doc.fetchcsui',\r\n      nodeid: node.get('id')\r\n    };\r\n    if (node instanceof VersionModel) {\r\n      urlQuery.vernum = node.get('version_number');\r\n    }\r\n    return Url.appendQuery(cgiUrl, Url.combineQueryString(urlQuery));\r\n  }\r\n\r\n  return {\r\n    getContentPageUrl: getContentPageUrl\r\n  };\r\n});\r\n\n","csui.define('csui/utils/handlebars/l10n',['csui/lib/handlebars', 'csui/utils/base'\r\n], function (Handlebars, base) {\r\n\r\n  Handlebars.registerHelper('csui-l10n', function (value) {\r\n    return base.getClosestLocalizedString(value);\r\n  });\r\n\r\n  return Handlebars.helpers['csui-l10n'];\r\n\r\n});\r\n\n","csui.define('csui/utils/impl/core.defaultactionitems',[\r\n  'csui/utils/classic.nodes/classic.nodes',\r\n  'csui/utils/smart.nodes/smart.nodes'\r\n], function (classicNodes, smartNodes) {\r\n  'use strict';\r\n\r\n  return [\r\n    // Document and Generation\r\n    // TODO: Move Drawing to its module\r\n    {\r\n      equals: {type: [144, 736, 2]},\r\n      signature: 'Open',\r\n      sequence: 10\r\n    },\r\n    // URL\r\n    {\r\n      type: 140,\r\n      signature: 'Navigate',\r\n      sequence: 30\r\n    },\r\n    // Saved Search Query\r\n    {\r\n      type: 258,\r\n      signature: 'ExecuteSavedQuery',\r\n      sequence: 30\r\n    },\r\n    // Containers (supported in Smart UI, but need a permission check)\r\n    {\r\n      equals: {container: true},\r\n      signature: 'Browse',\r\n      sequence: 200\r\n    },\r\n    // Nodes forced to be opened in Classic UI\r\n    {\r\n      signature: 'OpenSpecificClassicPage',\r\n      sequence: 600,\r\n      decides: function (node) {\r\n        return classicNodes.isForced(node);\r\n      }\r\n    },\r\n    // Nodes, which should have just their perspective open in Smart UI\r\n    {\r\n      signature: 'OpenSpecificNodePerspective',\r\n      sequence: 800,\r\n      decides: function (node) {\r\n        return smartNodes.isSupported(node);\r\n      }\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/node.links/impl/core.node.links',[\r\n  'csui/utils/url'\r\n], function (Url) {\r\n  'use strict';\r\n\r\n  return [\r\n    {\r\n      equals: {\r\n        type: 140\r\n      },\r\n      getUrl: function (node) {\r\n        return node.get('url');\r\n      }\r\n    },\r\n    {\r\n      equals: {\r\n        type: 258\r\n      },\r\n      getUrl: function (node) {\r\n        return Url.combine('search/query_id/', node.get('id'));\r\n      }\r\n    },\r\n    {\r\n      getUrl: function (node) {\r\n        return Url.combine('nodes/', node.get('id'));\r\n      }\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/open.authenticated.page',[\r\n  'csui/lib/jquery', 'csui/utils/url'\r\n], function ($, Url) {\r\n  'use strict';\r\n\r\n  function openAuthenticatedPage (connector, url, options) {\r\n    var cgiUrl = new Url(connector.connection.url).getCgiScript();\r\n    var ticket = connector.connection.session.ticket;\r\n\r\n    var contentDocument = createWindowDocument();\r\n    var form = createForm();\r\n    createField('func', 'csui.authenticate');\r\n    createField('otcsticket', ticket);\r\n    createField('nexturl', url);\r\n    form.submit();\r\n\r\n    return $.Deferred().resolve().promise();\r\n\r\n    function createWindowDocument() {\r\n      options || (options = {});\r\n      var content = options.window || (options.openInNewTab === false ?\r\n          window : window.open('', '_blank'));\r\n      return content.document;\r\n    }\r\n\r\n    function createForm() {\r\n      var form = contentDocument.createElement('form');\r\n      form.setAttribute('method', 'post');\r\n      form.setAttribute('action', cgiUrl);\r\n      contentDocument.body.appendChild(form);\r\n      return form;\r\n    }\r\n\r\n    function createField(name, value) {\r\n      var field = contentDocument.createElement('input');\r\n      field.setAttribute('name', name);\r\n      field.setAttribute('value', value);\r\n      field.setAttribute('type', 'hidden');\r\n      form.appendChild(field);\r\n    }\r\n  }\r\n\r\n  return openAuthenticatedPage;\r\n});\r\n\n","csui.define('csui/utils/smart.nodes/impl/core.smart.nodes',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    // Containers - browse children by default\r\n    {\r\n      equals: {container: true},\r\n      sequence: 1000\r\n    }\r\n  ];\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/node',[\r\n  'module', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/node/node.model', 'csui/utils/commands'\r\n], function (module, $, Backbone, ModelFactory, ConnectorFactory,\r\n    NodeModel, commands) {\r\n  'use strict';\r\n\r\n  var NodeModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'node',\r\n\r\n    constructor: function NodeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var node = this.options.node || {},\r\n          config = module.config();\r\n      if (!(node instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            creationOptions = $.extend(true, {\r\n              connector: connector,\r\n              // Do not waste server resources and request only common\r\n              // properties at start; it returns all what it can by default.\r\n              fields: {\r\n                properties: [],\r\n                'versions.element(0)': ['owner_id']\r\n              },\r\n              // Command enabling for shortcuts needs the original node info\r\n              expand: {\r\n                properties: ['original_id']\r\n              },\r\n              // Make sure, that the metadata token is returned for nodes\r\n              // requesated via this factory, because they are supposed to\r\n              // be shared and may be the subject of changes.\r\n              stateEnabled: true,\r\n              // Command enabling needs permitted actions\r\n              commands: commands.getAllSignatures()\r\n            }, config.options, node.options);\r\n        // Next node can be fetshed just like node; keep their defaults in sync\r\n        node = new NodeModel(node.attributes || config.attributes,\r\n            creationOptions);\r\n      }\r\n      this.property = node;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return NodeModelFactory;\r\n});\r\n\n","csui.define('csui/models/node/node.addable.type.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/node/node.addable.type.collection'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory, NodeAddableTypeCollection) {\r\n\r\n  var AddableTypeCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'addableTypes',\r\n\r\n    constructor: function AddableTypeCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var addableTypes = this.options.addableTypes || {};\r\n      if (!(addableTypes instanceof Backbone.Collection)) {\r\n        var node   = context.getModel(NodeModelFactory, options),\r\n            config = module.config();\r\n        addableTypes = new NodeAddableTypeCollection(addableTypes.models,\r\n            _.defaults(\r\n                {\r\n                  // Prefer refreshing the entire collection after re-fetching it\r\n                  // to improve rendering performance\r\n                  autoreset: true\r\n                },\r\n                addableTypes.options,\r\n                config.options,\r\n                // node is intentionally listed at the end to give previous options preference\r\n                {node: node}\r\n            ));\r\n      }\r\n      this.property = addableTypes;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return AddableTypeCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/context',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/lib/marionette', 'csui/utils/base', 'csui/utils/log'\r\n], function (_, $, Backbone, Marionette, base, log) {\r\n  'use strict';\r\n\r\n  var Context = Marionette.Controller.extend({\r\n\r\n    constructor: function Context(options) {\r\n      this.cid = _.uniqueId('context');\r\n      Marionette.Controller.prototype.constructor.apply(this, arguments);\r\n      this._factories = {};\r\n      // Prevent pre-set attributes to take part in unique object prefixes;\r\n      // global options passed to all factories are only for initializing\r\n      _.each(this.options.factories, function (object, key) {\r\n        object.internal = true;\r\n      });\r\n    },\r\n\r\n    // Offer an intuitive interface; when a model is needed, use getModel, when a collection\r\n    // is needed, use getCollection, and when other object is needed, use getObject\r\n    getModel: getObject,      // NodeModel, e.g.\r\n    getCollection: getObject, // FavoriteCollection, e.g.\r\n    getObject: getObject,     // Connector, e.g.\r\n\r\n    // Offer an intuitive interface; when a model is needed, use hasModel, when a collection\r\n    // is needed, use hasCollection, and when other object is needed, use hasObject\r\n    hasModel: hasObject,      // NodeModel, e.g.\r\n    hasCollection: hasObject, // FavoriteCollection, e.g.\r\n    hasObject: hasObject,     // Connector, e.g.\r\n\r\n    getFactory: function (Factory, options) {\r\n      return this._getFactory(Factory, options, true);\r\n    },\r\n\r\n    clear: function (options) {\r\n      log.info('Clearing the context started.') && console.log(log.last);\r\n      this.triggerMethod('before:clear', this);\r\n      if (options && options.all) {\r\n        this._destroyAllFactories();\r\n      } else {\r\n        this._destroyNonPermanentFactories();\r\n      }\r\n      log.info('Clearing the context succeeded.') && console.log(log.last);\r\n      this.triggerMethod('clear', this);\r\n      return this;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      log.info('Fetching the context started.') && console.log(log.last);\r\n      this.triggerMethod('request', this);\r\n      this._destroyTemporaryFactories();\r\n      var self = this,\r\n          promises = _.chain(this._factories)\r\n              .filter(function (factory) {\r\n                return self._isFetchable(factory);\r\n              })\r\n              .map(function (factory) {\r\n                var clonedOptions = options ? _.clone(options) : {};\r\n                return factory.fetch(clonedOptions);\r\n              })\r\n              .compact()\r\n              .value();\r\n      return $.when\r\n          .apply($, promises)\r\n          .then(function () {\r\n            log.info('Fetching the context succeeded.') && console.log(log.last);\r\n            self.triggerMethod('sync', self);\r\n          }, function (request, statusText, messageText) {\r\n            var error = new base.Error(request);\r\n            log.error('Fetching the context failed: {0}', error) &&\r\n            console.error(log.last);\r\n            self.triggerMethod('error', error);\r\n            return $.Deferred().reject(error);\r\n          });\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      if (factory.options.detached) {\r\n        return false;\r\n      }\r\n      if (factory.isFetchable) {\r\n        return factory.isFetchable();\r\n      }\r\n      return !!factory.fetch;\r\n    },\r\n\r\n    _destroyTemporaryFactories: function () {\r\n      this._factories = _.pick(this._factories, function (factory) {\r\n        if (factory.options.temporary) {\r\n          factory.destroy();\r\n        } else {\r\n          return true;\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    _destroyNonPermanentFactories: function () {\r\n      this._factories = _.pick(this._factories, function (factory) {\r\n        if (factory.options && factory.options.permanent) {\r\n          return true;\r\n        } else {\r\n          factory.destroy();\r\n        }\r\n      }, this);\r\n    },\r\n\r\n    _destroyAllFactories: function () {\r\n      _.each(this._factories, function (factory) {\r\n        factory.destroy();\r\n      });\r\n      this._factories = {};\r\n    },\r\n\r\n    _getPropertyName: function (Factory, options) {\r\n      options || (options = {});\r\n      // Pre-initializing the model with its type or id will make it unique in the context\r\n      var attributes = options.attributes || {};\r\n\r\n      // Stamp globally unique factory names by an artificial attribute\r\n      if (options.unique) {\r\n        attributes = _.extend({\r\n          stamp: _.uniqueId()\r\n        }, attributes);\r\n      }\r\n      return _.reduce(attributes, function (result, value, key) {\r\n        if (value == null) {\r\n          return result;\r\n        }\r\n        return result + '-' + key + '-' + value;\r\n      }, Factory.prototype.propertyPrefix);\r\n    },\r\n\r\n    _getFactory: function (Factory, options, createIfNotFound) {\r\n      // Support getting objects by the factory name, if the factory object\r\n      // cannot be required as a dependency\r\n      if (typeof Factory === 'string') {\r\n        return this._factories[Factory];\r\n      }\r\n      options || (options = {});\r\n      // Factories expect their options in a property named with their prefix; options for all\r\n      // factories are together to allow passing options to nested factories\r\n      var propertyPrefix = Factory.prototype.propertyPrefix,\r\n          globalOptions = this.options.factories || {},\r\n          objectOptions, nameOptions, factoryOptions;\r\n      // Calls outside the factories can pass options.  Further calls to nested factories include\r\n      // options from the context constructor already; do not extend the options in that case.\r\n      if (options.internal) {\r\n        objectOptions = options[propertyPrefix];\r\n        // It is not possible to use the pre-initializing of the factory\r\n        // properties for nested factories.  It works only on the first\r\n        // level - for the caller outside the context constructor.\r\n        if (objectOptions && !objectOptions.internal &&\r\n            !(objectOptions instanceof Backbone.Model)) {\r\n          // Limit the parameters to the only object useful for the _getPropertyName\r\n          nameOptions = {\r\n            attributes: objectOptions.attributes,\r\n            unique: objectOptions.unique\r\n          };\r\n        }\r\n      } else {\r\n        // The caller outside the factories does not need to wrap the options in the factory\r\n        // prefix key; we do it here for their convenience\r\n        objectOptions = options[propertyPrefix];\r\n        // If no factory options were passed in, let the context ctor options merge in\r\n        if (objectOptions === undefined && !_.isEmpty(options)) {\r\n          // Merge this factory options from context constructor with getObject arguments\r\n          factoryOptions = _.omit(options,\r\n              'detached', 'permanent', 'temporary', 'unique');\r\n          if (!_.isEmpty(factoryOptions)) {\r\n            options[propertyPrefix] = _.defaults(factoryOptions, globalOptions[propertyPrefix]);\r\n          }\r\n        }\r\n        _.defaults(options, {\r\n          internal: true\r\n        }, globalOptions);\r\n        // Prefer the attributes passed to the getObject method directly\r\n        // to the attributes passed via the factory-specific options.\r\n        // If the factory-specific options are a Backbone model, it is\r\n        // the scenario pre-initializing the factory properties and the\r\n        // explicit attributes are mandatory then.\r\n        nameOptions = {\r\n          attributes: options.attributes,\r\n          unique: options.unique\r\n        };\r\n        if (!nameOptions.attributes && objectOptions && !objectOptions.internal &&\r\n            !(objectOptions instanceof Backbone.Model)) {\r\n          // Limit the parameters to the only object useful for the _getPropertyName\r\n          nameOptions = {\r\n            attributes: objectOptions.attributes,\r\n            unique: objectOptions.unique\r\n          };\r\n        }\r\n      }\r\n      // The property name for the factory is computed just from its options\r\n      var propertyName = this._getPropertyName(Factory, nameOptions),\r\n          factory = this._factories[propertyName];\r\n      if (!factory && createIfNotFound) {\r\n        options.factoryName = propertyName;\r\n        factory = new Factory(this, options);\r\n        this._factories[propertyName] = factory;\r\n      }\r\n      return factory;\r\n    }\r\n\r\n  });\r\n\r\n  function getObject(Factory, options) {\r\n    var factory = this._getFactory(Factory, options, true);\r\n    return factory.property;\r\n  }\r\n\r\n  function hasObject(Factory, options) {\r\n    return !!this._getFactory(Factory, options, false);\r\n  }\r\n\r\n  return Context;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/context.plugin',[\r\n  'csui/lib/underscore', 'csui/lib/backbone'\r\n], function (_, Backbone) {\r\n  'use strict';\r\n\r\n  function ContextPlugin(options) {\r\n    this.context = options.context;\r\n  }\r\n\r\n  _.extend(ContextPlugin.prototype, Backbone.Events, {\r\n    // Called when a factory is questioned if it is fetchable; it will be\r\n    // considered fetchable, unless this method returns false\r\n    isFetchable: function (factory) {}\r\n  });\r\n\r\n  ContextPlugin.extend = Backbone.Model.extend;\r\n\r\n  return ContextPlugin;\r\n});\r\n\n","csui.define('csui/utils/contexts/impl/node.opening.context',[\r\n  'csui/utils/contexts/context',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/node.links/node.links',\r\n  'csui/utils/contexts/factories/user'\r\n], function (Context, ConnectorFactory, NextNodeModelFactory,\r\n    nodeLinks, UserModelFactory) {\r\n  'use strict';\r\n\r\n  // FIXME: Copied from node perspective context plugin.\r\n  var nodeOptions = {\r\n    fields: {\r\n      properties: [],\r\n      columns: [],\r\n      'versions.element(0)': ['mime_type']\r\n    },\r\n    includeResources: ['metadata', 'perspective']\r\n  };\r\n\r\n  var NodeOpeningContext = Context.extend({\r\n    constructor: function NodeOpeningContext(options) {\r\n      Context.prototype.constructor.apply(this, arguments);\r\n\r\n      this.connector = this.getObject(ConnectorFactory, {\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      this.user = this.getModel(UserModelFactory, {\r\n        permanent: true\r\n      });\r\n      this.nextNode = this.getModel(\r\n          NextNodeModelFactory, {\r\n            options: nodeOptions,\r\n            permanent: true,\r\n            detached: true\r\n          })\r\n          .on('change:id', this.onNextNodeChanged, this);\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return Context.prototype._isFetchable.apply(this, arguments) &&\r\n             // The user model should be fetched only at the beginning\r\n             (factory.property !== this.user || !this.user.get('id'));\r\n    },\r\n\r\n    openNodePage: function (node) {\r\n      this.triggerMethod('before:open:page', this, this.nextNode);\r\n      window.open(nodeLinks.getUrl(node));\r\n    }\r\n  });\r\n\r\n  return NodeOpeningContext;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/previous.node',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/node/node.model'\r\n], function (module, _, Backbone, ModelFactory, ConnectorFactory, NodeModel) {\r\n  'use strict';\r\n\r\n  var PreviousNodeModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'previousNode',\r\n\r\n    constructor: function PreviousNodeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var connector = context.getObject(ConnectorFactory, options),\r\n          config = module.config();\r\n      this.property = new NodeModel(undefined,\r\n          _.defaults({\r\n            connector: connector\r\n          }, config.options));\r\n    }\r\n\r\n  });\r\n\r\n  return PreviousNodeModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/impl/delayed.actions.for.node',[\r\n  'csui/utils/commands', 'csui/utils/defaultactionitems'\r\n], function (commands, defaultActionItems) {\r\n  'use strict';\r\n\r\n  function delayCommands (node) {\r\n    node.resetCommands();\r\n    node.resetDefaultActionCommands();\r\n    node.setCommands(commands.getAllSignatures());\r\n    node.setDefaultActionCommands(defaultActionItems.getAllCommandSignatures(commands));\r\n    node.setEnabledDelayRestCommands(true, false);\r\n  }\r\n\r\n  function relayActionEvents (context) {\r\n    context.nextNode.delayedActions\r\n        .on('request', relayRequestNodeActions, context)\r\n        .on('sync', relaySyncNodeActions, context)\r\n        .on('error', relayErrorNodeActions, context);\r\n    context.nextNode.actions\r\n        .on('reset update', relayUpdateNodeActions, context);\r\n    resumeRelayingActionEvents(context);\r\n  }\r\n\r\n  function relayRequestNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      var delayedActions = this.node.delayedActions;\r\n      delayedActions._fetchStarted();\r\n      delayedActions.trigger('request', delayedActions, {}, {});\r\n      delayedActions.fetching = this.nextNode.delayedActions.fetching;\r\n    }\r\n  }\r\n\r\n  function relaySyncNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      var delayedActions = this.node.delayedActions;\r\n      delayedActions._fetchSucceeded();\r\n      delayedActions.trigger('sync', delayedActions, {}, {});\r\n    }\r\n  }\r\n\r\n  function relayErrorNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      var delayedActions = this.node.delayedActions;\r\n      delayedActions._fetchFailed();\r\n      delayedActions.trigger('error', delayedActions, {}, {});\r\n    }\r\n  }\r\n\r\n  function relayUpdateNodeActions () {\r\n    if (this.relayingActionEvents) {\r\n      updateNodeActions(this);\r\n    }\r\n  }\r\n\r\n  function suppressRelayingActionEvents (context) {\r\n    context.relayingActionEvents = false;\r\n  }\r\n\r\n  function resumeRelayingActionEvents (context) {\r\n    context.relayingActionEvents = true;\r\n  }\r\n\r\n  function updateNodeActions(context) {\r\n    context.node.actions.reset(context.nextNode.actions.models);\r\n  }\r\n\r\n  return {\r\n    delayCommands: delayCommands,\r\n    relayActionEvents: relayActionEvents,\r\n    suppressRelayingActionEvents: suppressRelayingActionEvents,\r\n    resumeRelayingActionEvents: resumeRelayingActionEvents,\r\n    updateNodeActions: updateNodeActions\r\n  };\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/browsing/browsing.context',[\r\n  'require', 'csui/lib/underscore',\r\n  'csui/utils/contexts/impl/node.opening.context',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/factories/previous.node',\r\n  'csui/utils/contexts/impl/delayed.actions.for.node',\r\n  'csui-ext!csui/utils/contexts/browsing/browsing.context'\r\n], function (require, _, NodeOpeningContext, NodeModelFactory,\r\n    PreviousNodeModelFactory, delayedActions, contextPlugins) {\r\n  'use strict';\r\n\r\n  // FIXME: Copied from node perspective context plugin.\r\n  var nodeOptions = {\r\n    fields: {\r\n      properties: [],\r\n      columns: []\r\n    },\r\n    includeResources: ['metadata', 'perspective']\r\n  };\r\n\r\n  var BrowsingContext = NodeOpeningContext.extend({\r\n    constructor: function BrowsingContext(options) {\r\n      NodeOpeningContext.prototype.constructor.apply(this, arguments);\r\n\r\n      this.on('request', this._changeNode, this);\r\n\r\n      this.previousNode = this.getModel(PreviousNodeModelFactory, {\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      delayedActions.delayCommands(this.nextNode);\r\n      delayedActions.relayActionEvents(this);\r\n      this.node = this.getModel(NodeModelFactory, {\r\n        options: nodeOptions,\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      delayedActions.delayCommands(this.node);\r\n\r\n      // Keep the same order as in perspective context\r\n      var Plugins = _\r\n          .chain(contextPlugins)\r\n          .flatten(true)\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(Plugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return NodeOpeningContext.prototype._isFetchable.apply(this, arguments) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    },\r\n\r\n    onNextNodeChanged: function () {\r\n      // Setting just node ID to nextNode will try to drill down;\r\n      // non-containers are handled by opening a new window, but\r\n      // need passing more node attributes to nextNode\r\n      if (this.nextNode.get('container') !== false) {\r\n        this.enterContainer();\r\n      } else {\r\n        this.openNewNodePage();\r\n      }\r\n    },\r\n\r\n    openNewNodePage: function () {\r\n      this.openNodePage(this.nextNode);\r\n      this.nextNode.clear({silent: true});\r\n    },\r\n\r\n    enterContainer: function () {\r\n      this.triggerMethod('before:enter:container', this, this.nextNode);\r\n      this.nextNode\r\n          .fetch()\r\n          .then(function () {\r\n            this._enteringContainer = true;\r\n            return this.fetch();\r\n          }.bind(this))\r\n          .fail(function (error) {\r\n            require(['csui/dialogs/modal.alert/modal.alert'], function (ModalAlert) {\r\n              ModalAlert.showError(error.toString());\r\n            });\r\n          });\r\n    },\r\n\r\n    _changeNode: function () {\r\n      if (this._enteringContainer) {\r\n        this.previousNode.clear({silent: true});\r\n        this.previousNode.set(this.node.attributes);\r\n        this.node.clear({silent: true});\r\n        this.node.set(this.nextNode.attributes);\r\n        delayedActions.updateNodeActions(this);\r\n        this.nextNode.clear({silent: true});\r\n        this._enteringContainer = false;\r\n      }\r\n    },\r\n\r\n    fetch: function () {\r\n      var parameters = Array.prototype.slice.apply(arguments),\r\n          self = this;\r\n\r\n      function continueFetching () {\r\n        NodeOpeningContext.prototype.fetch.apply(self, parameters);\r\n      }\r\n\r\n      if (!this._enteringContainer && this.node.isFetchable()) {\r\n        this.triggerMethod('before:enter:container', this, this.node);\r\n        return this.node\r\n            .fetch()\r\n            .then(continueFetching);\r\n      }\r\n      return continueFetching();\r\n    }\r\n  });\r\n\r\n  return BrowsingContext;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/page/page.context',[\r\n  'csui/lib/underscore', 'csui/utils/contexts/context',\r\n  'csui-ext!csui/utils/contexts/page/page.context'\r\n], function (_, Context, contextPlugins) {\r\n  'use strict';\r\n\r\n  var PageContext = Context.extend({\r\n    constructor: function PageContext() {\r\n      Context.prototype.constructor.apply(this, arguments);\r\n\r\n      // Keep the same order as in perspective context\r\n      var Plugins = _\r\n          .chain(contextPlugins)\r\n          .flatten(true)\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(Plugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return Context.prototype._isFetchable.apply(this, arguments) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    }\r\n  });\r\n\r\n  return PageContext;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/portal/portal.context',[\r\n  'csui/lib/underscore', 'csui/utils/contexts/impl/node.opening.context',\r\n  'csui-ext!csui/utils/contexts/portal/portal.context'\r\n], function (_, NodeOpeningContext, contextPlugins) {\r\n  'use strict';\r\n\r\n  var PortalContext = NodeOpeningContext.extend({\r\n    constructor: function PortalContext(options) {\r\n      NodeOpeningContext.prototype.constructor.apply(this, arguments);\r\n\r\n      // Keep the same order as in perspective context\r\n      var Plugins = _\r\n          .chain(contextPlugins)\r\n          .flatten(true)\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(Plugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return NodeOpeningContext.prototype._isFetchable.apply(this, arguments) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    },\r\n\r\n    onNextNodeChanged: function () {\r\n      this.openNewNodePage();\r\n    },\r\n\r\n    openNewNodePage: function () {\r\n      this.openNodePage(this.nextNode);\r\n      this.nextNode.clear({silent: true});\r\n    }\r\n  });\r\n\r\n  return PortalContext;\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/perspective.context.plugin',[\r\n  'csui/utils/contexts/context.plugin'\r\n], function (ContextPlugin) {\r\n  'use strict';\r\n\r\n  var PerspectiveContextPlugin = ContextPlugin.extend({\r\n    // Called when the context is constructed, when the application is starting\r\n    onCreate: function () {},\r\n\r\n    // Called when the context is cleared, when a new perspective is loading\r\n    onClear: function () {},\r\n\r\n    // Called when the context is going to be re-fetched, because the current\r\n    // perspective did not change\r\n    onRefresh: function () {},\r\n  });\r\n\r\n  return PerspectiveContextPlugin;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/landing.perspectives',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external perspectives\r\n  'csui-ext!csui/utils/contexts/perspective/landing.perspectives'\r\n], function (_, Backbone, RulesMatchingMixin, extraPerspectives) {\r\n\r\n  var UserPerspectiveModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      important: false,\r\n      module: null\r\n    },\r\n\r\n    constructor: function UserPerspectiveModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(UserPerspectiveModel.prototype);\r\n\r\n  var UserPerspectiveCollection = Backbone.Collection.extend({\r\n\r\n    model: UserPerspectiveModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function UserPerspectiveCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByUser: function (user) {\r\n      return this.find(function (item) {\r\n        return item.matchRules(user, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var userPerspectives = new UserPerspectiveCollection([\r\n    {\r\n      // default landing page\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/user.json',\r\n      sequence: 10000\r\n    }\r\n  ]);\r\n\r\n  if (extraPerspectives) {\r\n    userPerspectives.add(_.flatten(extraPerspectives, true));\r\n  }\r\n\r\n  return userPerspectives;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/landing.perspective.context.plugin',['csui/lib/underscore', 'csui/utils/log',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/landing.perspectives'\r\n], function (_, log, UserModelFactory, ApplicationScopeModelFactory,\r\n    PerspectiveContextPlugin, landingPerspectives) {\r\n  'use strict';\r\n\r\n  var LandingPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n\r\n    constructor: function LandingPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory)\r\n          .on('change:id', this._fetchLandingPerspective, this);\r\n      this.userFactory = this.context.getFactory(UserModelFactory);\r\n      this.user = this.userFactory.property;\r\n    },\r\n\r\n    _fetchLandingPerspective: function () {\r\n      // Empty scope means landing page\r\n      if (this.applicationScope.id) {\r\n        return;\r\n      }\r\n      this.context.triggerMethod('request:perspective', this);\r\n      // Use the factory to allow pre-fetching data from the page.\r\n      this.userFactory.fetch({\r\n        success: _.bind(this._changePerspective, this, this.user),\r\n        error: _.bind(this.context.rejectPerspective, this.context)\r\n      });\r\n    },\r\n\r\n    _changePerspective: function (sourceModel) {\r\n      var perspectiveModule,\r\n          perspective = landingPerspectives.findByUser(sourceModel);\r\n      // Let override landing page on the client side\r\n      if (_.isEmpty(sourceModel.get('perspective')) || perspective.get('important')) {\r\n        perspectiveModule = perspective.get('module');\r\n      }\r\n      if (perspectiveModule) {\r\n        return this.context.overridePerspective(sourceModel, perspectiveModule);\r\n      }\r\n      this.context.applyPerspective(sourceModel);\r\n    }\r\n\r\n  });\r\n\r\n  return LandingPerspectiveContextPlugin;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/node.perspectives',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external perspectives\r\n  'csui-ext!csui/utils/contexts/perspective/node.perspectives'\r\n], function (_, Backbone, RulesMatchingMixin, extraPerspectives) {\r\n\r\n  var NodePerspectiveModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      important: false,\r\n      module: null\r\n    },\r\n\r\n    constructor: function NodePerspectiveModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(NodePerspectiveModel.prototype);\r\n\r\n  var NodePerspectiveCollection = Backbone.Collection.extend({\r\n\r\n    model: NodePerspectiveModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function NodePerspectiveCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByNode: function (node) {\r\n      return this.find(function (item) {\r\n        return item.matchRules(node, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var nodePerspectives = new NodePerspectiveCollection([\r\n    {\r\n      // saved search query\r\n      equals: {type: 258},\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/saved.query.json',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // document\r\n      equals: {type: 144},\r\n      important: true,\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/document.overview.json',\r\n      sequence: 100\r\n    },\r\n    {\r\n      // node container\r\n      equals: {container: true},\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/container.json',\r\n      sequence: 1000\r\n    },\r\n    {\r\n      // default node\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/metadata.json',\r\n      sequence: 10000\r\n    }\r\n  ]);\r\n\r\n  if (extraPerspectives) {\r\n    nodePerspectives.add(_.flatten(extraPerspectives, true));\r\n  }\r\n\r\n  return nodePerspectives;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/node.perspective.context.plugin',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/contexts/factories/previous.node',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/node.perspectives',\r\n  'csui/utils/classic.nodes/classic.nodes',\r\n  'csui/utils/contexts/impl/delayed.actions.for.node'\r\n], function (_, Backbone, NodeModelFactory, NextNodeModelFactory,\r\n    PreviousNodeModelFactory, ApplicationScopeModelFactory,\r\n    PerspectiveContextPlugin, nodePerspectives, classicNodes,\r\n    delayedActions) {\r\n  'use strict';\r\n\r\n  var nodeOptions = {\r\n    fields: {\r\n      properties: [],\r\n      columns: []\r\n    },\r\n    includeResources: ['metadata', 'perspective']\r\n  };\r\n\r\n  var NodePerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n    constructor: function NodePerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory);\r\n\r\n      this.nextNodeFactory = this.context.getFactory(NextNodeModelFactory, {\r\n        options: nodeOptions,\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n      this.nextNode = this.nextNodeFactory.property;\r\n      delayedActions.delayCommands(this.nextNode);\r\n      delayedActions.relayActionEvents(this);\r\n      this.nextNode.on('change:id', this._fetchNodePerspective, this);\r\n\r\n      this.previousNode = this.context\r\n          .getModel(PreviousNodeModelFactory, {\r\n            permanent: true,\r\n            detached: true\r\n          });\r\n\r\n      // Move the contextual node out of permanent factories; it cannot be\r\n      // retained, because when the perspective switches, other models could\r\n      // be listening on it and would waist a fetch, because their views are\r\n      // going to be destroyed with the old perspective.\r\n      createNodeModel.call(this);\r\n    },\r\n\r\n    onClear: function () {\r\n      this._clearModels(true);\r\n    },\r\n\r\n    onRefresh: function () {\r\n      this._clearModels(false);\r\n    },\r\n\r\n    isFetchable: function (factory) {\r\n      // The contextual node is fetched by fetchPerspective already.\r\n      return factory.property !== this.node;\r\n    },\r\n\r\n    _clearModels: function (recreateNode) {\r\n      // Changes in node models could trigger re-fetching the temporary\r\n      // models, which are cleared in fetch() first otherwise.\r\n      this.previousNode.clear({silent: true});\r\n      this.previousNode.set(this.node.attributes);\r\n      if (recreateNode) {\r\n        // Create a new node model to prevent triggering change events on the\r\n        // previous one, which should be destroyed with the old perspective\r\n        createNodeModel.call(this);\r\n      }\r\n      this.node.clear({silent: true});\r\n      this.node.set(this.nextNode.attributes);\r\n      delayedActions.updateNodeActions(this);\r\n      // Resume updating actions on the current node suppressed during the navigation.\r\n      delayedActions.resumeRelayingActionEvents(this);\r\n    },\r\n\r\n    _fetchNodePerspective: function () {\r\n      Backbone.trigger('closeToggleAction');\r\n      // Compatibility with the early way how to go to the landing page\r\n      var nextNodeId = this.nextNode.get('id');\r\n      if (nextNodeId == null || nextNodeId <= 0) {\r\n        return;\r\n      }\r\n      this.context.triggerMethod('request:perspective', this);\r\n      this.applicationScope.set('id', 'node');\r\n      // Do not update actions on the current node; a new node will be created soon.\r\n      delayedActions.suppressRelayingActionEvents(this);\r\n      // Use the factory to allow pre-fetching data from the page.\r\n      this.nextNodeFactory.fetch({\r\n        success: _.bind(this._changePerspective, this, this.nextNode),\r\n        error: _.bind(this.context.rejectPerspective, this.context)\r\n      });\r\n    },\r\n\r\n    _changePerspective: function (sourceModel) {\r\n      // Check if the node is forced to be opened in Classic UI\r\n      var classicUrl = classicNodes.getUrl(sourceModel);\r\n      if (classicUrl) {\r\n        window.location.replace(classicUrl);\r\n        return;\r\n      }\r\n\r\n      var perspectiveModule,\r\n          perspective = nodePerspectives.findByNode(sourceModel);\r\n      // Avoid opening a non-container in the children-browse perspective\r\n      // and prefer important client-side perspectives too\r\n      if (_.isEmpty(sourceModel.get('perspective')) || !sourceModel.get('container') ||\r\n          perspective.get('important')) {\r\n        perspectiveModule = perspective.get('module');\r\n      }\r\n      if (perspectiveModule) {\r\n        return this.context.overridePerspective(sourceModel, perspectiveModule);\r\n      }\r\n\r\n      this.context.applyPerspective(sourceModel);\r\n    }\r\n  });\r\n\r\n  function createNodeModel () {\r\n    this.node = this.context\r\n        .getModel(NodeModelFactory, {\r\n          options: nodeOptions\r\n        });\r\n    delayedActions.delayCommands(this.node);\r\n  }\r\n\r\n  return NodePerspectiveContextPlugin;\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/search.perspectives',['module',\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/rules.matching/rules.matching.mixin',\r\n  // Load and register external perspectives\r\n  'csui-ext!csui/utils/contexts/perspective/search.perspectives'\r\n], function (module, _, Backbone, RulesMatchingMixin, extraPerspectives) {\r\n\r\n  var config = module.config();\r\n  _.defaults(config, {\r\n    perspectiveCollection:[{\r\n      // default search\r\n      module: 'json!csui/utils/contexts/perspective/impl/perspectives/search.json',\r\n      sequence: 10000\r\n    }]\r\n  });\r\n\r\n  var SearchPerspectiveModel = Backbone.Model.extend({\r\n\r\n    defaults: {\r\n      sequence: 100,\r\n      module: null\r\n    },\r\n\r\n    constructor: function SearchPerspectiveModel(attributes, options) {\r\n      Backbone.Model.prototype.constructor.apply(this, arguments);\r\n      this.makeRulesMatching(options);\r\n    }\r\n\r\n  });\r\n\r\n  RulesMatchingMixin.mixin(SearchPerspectiveModel.prototype);\r\n\r\n  var SearchPerspectiveCollection = Backbone.Collection.extend({\r\n\r\n    model: SearchPerspectiveModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function SearchPerspectiveCollection(models, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n    },\r\n\r\n    findByQuery: function (query) {\r\n      return this.find(function (item) {\r\n        return item.matchRules(query, item.attributes);\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  var searchPerspectives = new SearchPerspectiveCollection(config.perspectiveCollection);\r\n\r\n  if (extraPerspectives) {\r\n    searchPerspectives.add(_.flatten(extraPerspectives, true));\r\n  }\r\n\r\n  return searchPerspectives;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/impl/search.perspective.context.plugin',['require', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/log', 'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/search.perspectives'\r\n], function (require, _, Backbone, log, SearchQueryModelFactory,\r\n    ApplicationScopeModelFactory, PerspectiveContextPlugin,\r\n    searchPerspectives) {\r\n  'use strict';\r\n\r\n  var SearchPerspectiveContextPlugin = PerspectiveContextPlugin.extend({\r\n\r\n    constructor: function SearchPerspectiveContextPlugin(options) {\r\n      PerspectiveContextPlugin.prototype.constructor.apply(this, arguments);\r\n\r\n      this.applicationScope = this.context\r\n          .getModel(ApplicationScopeModelFactory);\r\n      this.searchQuery = this.context\r\n          .getModel(SearchQueryModelFactory, {\r\n            permanent: true,\r\n            detached: true\r\n          })\r\n          .on('change', this._fetchSearchPerspective, this);\r\n    },\r\n\r\n    _fetchSearchPerspective: function () {\r\n      var perspective = searchPerspectives.findByQuery(this.searchQuery);\r\n      this.applicationScope.set('id', 'search'); // set application view state\r\n      this.context.loadPerspective(perspective.get('module'));\r\n    }\r\n\r\n  });\r\n\r\n  return SearchPerspectiveContextPlugin;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/global.error',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory'\r\n], function (module, _, Backbone, ModelFactory) {\r\n  'use strict';\r\n\r\n  var GlobalError = Backbone.Model.extend({\r\n    defaults: {\r\n      message: null,\r\n      details: null\r\n    }\r\n  });\r\n\r\n  var GlobalErrorFactory = ModelFactory.extend({\r\n    propertyPrefix: 'globalError',\r\n\r\n    constructor: function GlobalErrorModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var globalError = this.options.globalError || {};\r\n      if (!(globalError instanceof Backbone.Model)) {\r\n        var config = module.config();\r\n        globalError = new GlobalError(globalError.attributes, _.extend({},\r\n            globalError.options, config.options));\r\n        // The default global error model should be permanent to\r\n        // survive a perspective switch to the error perspective.\r\n        this.options.permanent = true;\r\n      }\r\n      this.property = globalError;\r\n    }\r\n  });\r\n\r\n  return GlobalErrorFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/perspective/perspective.guide',['csui/lib/underscore'], function (_) {\r\n\r\n  function PerspectiveGuide() {\r\n  }\r\n\r\n  PerspectiveGuide.prototype = {\r\n    isNew: function (oldPerspective, newPerspective) {\r\n      //In case of widget maximize mode we are setting showWidgetInMaxMode attribute, we need to\r\n      // omit this atrribute for perspective comparison\r\n      return !_.isEqual(_.omit(oldPerspective, ['showWidgetInMaxMode', 'id']),\r\n          _.omit(newPerspective, ['id']));\r\n    }\r\n  };\r\n\r\n  return PerspectiveGuide;\r\n\r\n});\r\n\n","\n","csui.define('csui/utils/contexts/perspective/perspective.context',['require', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/base', 'csui/utils/log', 'csui/utils/contexts/context',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/global.error',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/perspective/impl/landing.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/perspective.guide',\r\n  // Load external plugins to drivw perspective switches\r\n  'csui-ext!csui/utils/contexts/perspective/perspective.context'\r\n], function (require, _, $, Backbone, base, log, Context,\r\n    UserModelFactory, GlobalErrorModelFactory, ApplicationScopeModelFactory,\r\n    LandingPerspectiveContextPlugin, PerspectiveGuide, contextPlugins) {\r\n  'use strict';\r\n\r\n  var PerspectiveContext = Context.extend({\r\n\r\n    constructor: function PerspectiveContext() {\r\n      Context.prototype.constructor.apply(this, arguments);\r\n\r\n      _.defaults(this.options, {online: true});\r\n\r\n      this.perspective = new Backbone.Model();\r\n      this.perspectiveGuide = new PerspectiveGuide();\r\n\r\n      // Automatically initialized context models\r\n      this._applicationScope = this.getModel(ApplicationScopeModelFactory, {\r\n        permanent: true,\r\n        detached: true\r\n      });\r\n\r\n      if (this.options.online) {\r\n        this._user = this.getModel(UserModelFactory, {\r\n          options: {\r\n            includeResources: ['perspective']\r\n          },\r\n          permanent: true\r\n        });\r\n      }\r\n\r\n      // Keep the same order as for perspective routers\r\n      var Plugins = _\r\n          .chain(contextPlugins)\r\n          .flatten(true)\r\n          .concat([LandingPerspectiveContextPlugin])\r\n          .unique()\r\n          .reverse()\r\n          .value();\r\n      this._plugins = _.map(Plugins, function (Plugin) {\r\n        return new Plugin({context: this});\r\n      }, this);\r\n    },\r\n\r\n    // TODO: Deprecate this function, force empty URL to route\r\n    fetchPerspective: function () {\r\n      var landingPerspectivePlugin = _.find(this._plugins, function (plugin) {\r\n        return plugin instanceof LandingPerspectiveContextPlugin;\r\n      });\r\n      landingPerspectivePlugin._fetchLandingPerspective();\r\n      return this;\r\n    },\r\n\r\n    _destroyNonPermanentFactories: function () {\r\n      Context.prototype._destroyNonPermanentFactories.apply(this, arguments);\r\n      _.invoke(this._plugins, 'onClear');\r\n    },\r\n\r\n    _isFetchable: function (factory) {\r\n      return Context.prototype._isFetchable.apply(this, arguments) &&\r\n             // The user model should be fetched only at the beginning\r\n             (factory.property !== this._user || !this._user.get('id')) &&\r\n             _.all(this._plugins, function (plugin) {\r\n               return plugin.isFetchable(factory) !== false;\r\n             });\r\n    },\r\n\r\n    loadPerspective: function (perspectiveModule) {\r\n      var deferred = $.Deferred(),\r\n          self     = this;\r\n      log.debug('Using perspective from \"{0}\".', perspectiveModule) &&\r\n      console.log(log.last);\r\n      this.triggerMethod('request:perspective', this.context);\r\n      this.loadingPerspective = deferred.promise();\r\n      require([perspectiveModule], function (perspective) {\r\n        var wrapperModel = new Backbone.Model({perspective: perspective});\r\n        self.loadingPerspective = false;\r\n        self.applyPerspective(wrapperModel);\r\n      }, function (error) {\r\n        self.loadingPerspective = false;\r\n        self.rejectPerspective(error);\r\n      });\r\n    },\r\n\r\n    overridePerspective: function (sourceModel, perspectiveModule) {\r\n      var self = this;\r\n      log.debug('Overriding the perspective in {0} with \"{1}\".',\r\n          log.getObjectName(sourceModel), perspectiveModule) &&\r\n      console.log(log.last);\r\n      return require([perspectiveModule], function (perspective) {\r\n        sourceModel.set('perspective', perspective);\r\n        self.applyPerspective(sourceModel);\r\n      }, _.bind(this.rejectPerspective, this));\r\n    },\r\n\r\n    applyPerspective: function (sourceModel) {\r\n      this.triggerMethod('sync:perspective', this, sourceModel);\r\n      var newPerspective = sourceModel.get('perspective') || {};\r\n      if (this.perspectiveGuide.isNew(this.perspective.attributes, newPerspective)) {\r\n        this.triggerMethod('before:change:perspective', this, sourceModel);\r\n        log.info('Perspective has changed') && console.log(log.last);\r\n        this.perspective.clear();\r\n        this.perspective.set(newPerspective);\r\n        this.triggerMethod('change:perspective', this, sourceModel);\r\n        // The context will be fetched by the owner, after it resolves the widgets\r\n        // and renders them to get the context filled by models.\r\n      } else {\r\n        var self = this;\r\n        log.info('Perspective has not changed') && console.log(log.last);\r\n        this._destroyTemporaryFactories();\r\n        _.invoke(this._plugins, 'onRefresh');\r\n        // The current perspective stays, just the widgets may need refresh.\r\n        this.triggerMethod('retain:perspective', this, sourceModel);\r\n        this.fetch();\r\n      }\r\n    },\r\n\r\n    rejectPerspective: function (sourceModel, error) {\r\n      var self = this;\r\n\r\n      if (!error) {\r\n        error = sourceModel;\r\n      }\r\n      if (!(error instanceof Error)) {\r\n        error = new base.Error(error);\r\n      }\r\n      this.triggerMethod('error:perspective', this, error);\r\n\r\n      function informFailure() {\r\n        self._informFailure(error)\r\n            .then(function () {\r\n              self.trigger('reject:perspective');\r\n            });\r\n      }\r\n\r\n      if (sourceModel && sourceModel instanceof Backbone.Model) {\r\n        //Set nextNode id to '-1' so a user can re-attempt to open it.\r\n        sourceModel.set('id', -1, {silent: true});\r\n\r\n        // trigger event to update breadcrumbs\r\n        self.trigger('current:folder:changed', sourceModel);\r\n\r\n        require([\r\n          'json!csui/utils/contexts/perspective/impl/perspectives/error.global.json'\r\n        ], function (perspective) {\r\n          log.debug('Showing error perspective for {0}.',\r\n              log.getObjectName(sourceModel)) &&\r\n          console.log(log.last);\r\n\r\n          sourceModel.set('perspective', perspective, {silent: true});\r\n          var globalError = self.getModel(GlobalErrorModelFactory);\r\n          globalError.set({\r\n            message: error.message,\r\n            details: error.errorDetails\r\n          });\r\n\r\n          self.applyPerspective(sourceModel);\r\n        }, function () {\r\n          informFailure();\r\n        });\r\n      } else {\r\n        informFailure();\r\n      }\r\n    },\r\n\r\n    _informFailure: function (error) {\r\n      var errorHandled = false,\r\n          deferred     = $.Deferred();\r\n\r\n      //If offline is supported, then let the plugin handle the network error\r\n      if (error.statusCode === 0) {\r\n        errorHandled = _.find(this._plugins, function (plugin) {\r\n          if (plugin.offlineErrorHandler) {\r\n            return plugin.offlineErrorHandler(error);\r\n          }\r\n        });\r\n      }\r\n\r\n      if (!errorHandled) {\r\n        require(['csui/dialogs/modal.alert/modal.alert'], function (alertDialog) {\r\n          alertDialog.showError(error.toString())\r\n              .always(deferred.resolve);\r\n        });\r\n      }\r\n      return deferred.promise();\r\n    }\r\n\r\n  });\r\n\r\n  return PerspectiveContext;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/ancestors',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/nodeancestors'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory, NodeAncestorCollection) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var AncestorCollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'ancestors',\r\n\r\n    constructor: function AncestorsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var ancestors = this.options.ancestors || {},\r\n          config = module.config();\r\n      if (prefetch) {\r\n        this.initialResponse = ancestors.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(ancestors instanceof Backbone.Collection)) {\r\n        var node = context.getModel(NodeModelFactory, options);\r\n        ancestors = new NodeAncestorCollection(ancestors.models,\r\n          _.defaults({\r\n            node: node\r\n          }, ancestors.options, config.options));\r\n      }\r\n      this.property = ancestors;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        var promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n        return promise;\r\n      } else {\r\n        return this.property.fetch(options);\r\n      }\r\n    }\r\n  });\r\n\r\n  return AncestorCollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/children',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/nodechildren', 'csui/utils/commands'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory,\r\n    NodeChildrenCollection, allCommands) {\r\n  'use strict';\r\n\r\n  var ChildrenCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'children',\r\n\r\n    constructor: function ChildrenCollectionFactory(context, options) {\r\n      options || (options = {});\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var children = this.options.children || {},\r\n          commands = children.options && children.options.commands ||\r\n                     allCommands;\r\n      if (!(children instanceof Backbone.Collection)) {\r\n        var node   = context.getModel(NodeModelFactory, options),\r\n          config = module.config();\r\n        children = new NodeChildrenCollection(children.models,\r\n          _.defaults({\r\n              // Prefer refreshing the entire table to rendering one row after another.\r\n              autoreset: true,\r\n              // Minimize the response information; the server adds information with\r\n              // every update and UI would get slower\r\n              fields: {\r\n                properties: []\r\n              },\r\n              // Shortcut information needs to be resolved to support UI and actions.\r\n              expand: {\r\n                properties: ['original_id']\r\n              },\r\n              // Ask the server to check for permitted actions V2\r\n              commands: commands.getAllSignatures()\r\n            },\r\n            config.options,\r\n            children.options,\r\n            // node is intentionally listed at the end to give previous options preference\r\n            {node: node}\r\n          ));\r\n      }\r\n      this.property = children;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return ChildrenCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/children2',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/node.children2/node.children2', 'csui/utils/commands'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory,\r\n    NodeChildren2Collection, allCommands) {\r\n  'use strict';\r\n\r\n  var Children2CollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'children2',\r\n\r\n    constructor: function Children2CollectionFactory(context, options) {\r\n      options || (options = {});\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var children = this.options.children2 || {},\r\n          commands = children.options && children.options.commands ||\r\n                     allCommands;\r\n      if (!(children instanceof Backbone.Collection)) {\r\n        var node   = context.getModel(NodeModelFactory, options),\r\n            config = module.config();\r\n        children = new NodeChildren2Collection(children.models,\r\n            _.defaults({\r\n                  // Prefer refreshing the entire table to rendering one row after another.\r\n                  autoreset: true,\r\n                  // Minimize the response information; the server adds information with\r\n                  // every update and UI would get slower\r\n                  fields: {\r\n                    properties: [],\r\n                    'versions.element(0)': ['owner_id']\r\n                  },\r\n                  // Shortcut information needs to be resolved to support UI and actions.\r\n                  expand: {\r\n                    properties: ['original_id']\r\n                  },\r\n                  // Make sure, that the metadata token is returned for nodes\r\n                  // requesated via this factory, because they are supposed to\r\n                  // be shared and may be the subject of changes.\r\n                  stateEnabled: true,\r\n                  // Ask the server to check for permitted actions V2\r\n                  commands: commands.getAllSignatures()\r\n                },\r\n                config.options,\r\n                children.options,\r\n                // node is intentionally listed at the end to give previous options preference\r\n                {node: node}\r\n            ));\r\n      }\r\n      this.property = children;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return Children2CollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/columns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/children'\r\n], function (module, _, Backbone, CollectionFactory, NodeChildrenFactory) {\r\n\r\n  var ColumnCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'columns',\r\n\r\n    constructor: function ColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getModel(NodeChildrenFactory, options),\r\n            config = module.config();\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return ColumnCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/columns2',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/node', 'csui/models/node.columns2',\r\n  'csui/utils/log'\r\n], function (module, _, Backbone, CollectionFactory, NodeModelFactory,\r\n    NodeColumn2Collection, log) {\r\n  'use strict';\r\n\r\n  log = log(module.id);\r\n\r\n  var Column2CollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'columns2',\r\n\r\n    constructor: function Column2CollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns2 || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var node = columns.options && columns.options.node ||\r\n                   context.getModel(NodeModelFactory, options);\r\n        this.property = new NodeColumn2Collection();\r\n        this.node = node;\r\n        node.columns.on('reset', this._resetColumns, this);\r\n        this._resetColumns();\r\n      } else {\r\n        this.property = columns;\r\n      }\r\n    },\r\n\r\n    _resetColumns: function () {\r\n      var node          = this.node,\r\n          definitionMap = {},\r\n          definitions   = completeDefinitions(node.definitions, definitionMap);\r\n      node.columns.each(markDisplayableColumn.bind(null, definitionMap));\r\n      if (areDifferent(this.property, definitions)) {\r\n        this.property.reset(definitions);\r\n      } else {\r\n        this.property.trigger('remain', this.property);\r\n      }\r\n    }\r\n  });\r\n\r\n  function completeDefinitions(definitions, definitionMap) {\r\n    return definitions.map(function (definition) {\r\n      definition = definition.toJSON();\r\n      var key = definition.key;\r\n      definition.column_key = key;\r\n      switch (key) {\r\n      case 'name':\r\n        definition.default_action = true;\r\n        definition.contextual_menu = false;\r\n        definition.editable = true;\r\n        definition.filter_key = key;\r\n        break;\r\n      case 'type':\r\n        definition.default_action = true;\r\n        break;\r\n      case 'modify_date':\r\n        definition.initialSortingDescending = true;\r\n        break;\r\n      }\r\n      definitionMap[key] = definition;\r\n      if (definition.sort_key) {\r\n        definition.sort = true;\r\n        delete definition.sort_key;\r\n      }\r\n      return definition;\r\n    });\r\n  }\r\n\r\n  function markDisplayableColumn(definitionMap, column, index) {\r\n    var columnKey      = column.get('key'),\r\n        formattedIndex = columnKey.lastIndexOf('_formatted'),\r\n        order          = 500 + index,\r\n        definition;\r\n    // Update the real value-carrying column, which does not end with\r\n    // \"_formatted\", if only the \"_formatted\" one is present and not\r\n    // the real one. \"_formatted\"  columns should not be used, because\r\n    // they do not provide the real value for sorting, filtering, saving\r\n    // or other scenarios, where it is needed. Also the right formatting\r\n    // is specified in Smart UI. \"_formatted\" columns are for AJAX calls\r\n    // from Classic UI, because they for at according to its design.\r\n    if (formattedIndex >= 0) {\r\n      var realColumnKey = columnKey.substr(0, columnKey.length - 10);\r\n      definition = definitionMap[realColumnKey];\r\n      if (definition) {\r\n        definition.definitions_order = order;\r\n        return;\r\n      }\r\n    }\r\n    definition = definitionMap[columnKey];\r\n    if (definition) {\r\n      definition.definitions_order = order;\r\n    } else {\r\n      log.warn('No definition found for the column \"{0}\".', columnKey);\r\n    }\r\n  }\r\n\r\n  var columnProperties = [\r\n    'description', 'key', 'multi_value', 'name', 'type', 'type_name'];\r\n\r\n  function areDifferent(collection, objects) {\r\n    return collection.length !== objects.length ||\r\n           collection.some(function (model, index) {\r\n             var expected = _.pick(objects[index], columnProperties),\r\n                 actual = _.pick(model.attributes, columnProperties);\r\n             return !_.isEqual(expected, actual);\r\n           });\r\n  }\r\n\r\n  return Column2CollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/usernodepermission',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/connector', 'csui/models/authenticated.user.node.permission'\r\n], function (module, _, $, Backbone, ModelFactory, UserModelFactory, ConnectorFactory,\r\n    AuthenticatedUserNodePermissionModel) {\r\n  'use strict';\r\n\r\n  var UserNodePermissionModelFactory = ModelFactory.extend({\r\n    propertyPrefix: 'userNodePermission',\r\n\r\n    constructor: function UserNodePermissionModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var userNodePermission = this.options.userNodePermission || {},\r\n          config = module.config();\r\n      if (!(userNodePermission instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            user      = context.getModel(UserModelFactory);\r\n        userNodePermission = new AuthenticatedUserNodePermissionModel(\r\n            userNodePermission.attributes,\r\n            _.defaults({\r\n                  connector: connector,\r\n                  user: user,\r\n                  node: this.options.node\r\n                }, userNodePermission.options, config.options\r\n            )\r\n        );\r\n      }\r\n      this.property = userNodePermission;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n\r\n  return UserNodePermissionModelFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/volume',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/node',\r\n  'csui/models/node/node.model'\r\n], function (module, _, Backbone, ModelFactory, NodeModelFactory, NodeModel) {\r\n\r\n  var VolumeModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'volume',\r\n\r\n    constructor: function VolumeModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var volume = this.options.volume || {};\r\n      if (!(volume instanceof Backbone.Model)) {\r\n        var node = context.getModel(NodeModelFactory, options),\r\n            config = module.config();\r\n\r\n        // Make sure that the volume info is returned with the node info\r\n        node.setExpand('properties', 'volume_id');\r\n\r\n        // Create an empty node model to fill with the volume info\r\n        // as soon as it is fetched with the node info\r\n        volume = new NodeModel(\r\n            _.extend({}, node.get('volume_id'), volume.attributes || config.attributes),\r\n            _.extend({\r\n              connector: node.connector\r\n            }, volume.options, config.options));\r\n\r\n        this.listenTo(node, 'change:volume_id', function () {\r\n          volume.set(node.get('volume_id'));\r\n        });\r\n      }\r\n      this.property = volume;\r\n    }\r\n\r\n  });\r\n\r\n  return VolumeModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/nls/lang',{\r\n  // Always load the root bundle for the default locale (en-us)\r\n  \"root\": true,\r\n  // Do not load English locale bundle provided by the root bundle\r\n  \"en-us\": false,\r\n  \"en\": false\r\n});\r\n\n","csui.define('csui/models/widget/nls/root/lang',{\r\n  searchResults: \"Search Results\",\r\n\r\n  ra_access_date_last: 'Last Accessed',\r\n  ra_parent_id: 'Location',\r\n  ra_size: 'Size',\r\n\r\n  ma_type: \"Type\",\r\n  ma_name: \"Name\",\r\n  ma_location_name: \"Location\",\r\n  ma_date_due: \"Due Date\",\r\n  ma_priority: \"Priority\",\r\n  ma_status: \"Status\",\r\n  ma_from_user_name: \"From\",\r\n\r\n  fav_parent_id: 'Location',\r\n  fav_size: 'Size',\r\n\r\n  owner: \"Owner\",\r\n  created: \"Created\",\r\n  createdBy: \"Created by\",\r\n  modified: \"Modified\",\r\n  size: \"Size\",\r\n  type: \"Type\"\r\n\r\n});\r\n\n","\n","csui.define('csui/models/widget/favorites.model',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns',\r\n  'csui/models/node/node.model', 'i18n!csui/models/widget/nls/lang',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, CommandableV2Mixin,\r\n    ClientSideBrowsableMixin, BrowsableV2ResponseMixin, NodeChildrenColumnModel,\r\n    NodeChildrenColumnCollection, NodeModel, lang) {\r\n  'use strict';\r\n\r\n  var FavoriteColumnModel = NodeChildrenColumnModel.extend({\r\n\r\n    constructor: function FavoriteColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'fav_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      NodeChildrenColumnModel.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  var FavoriteColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n    model: FavoriteColumnModel,\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n          this, columnKeys, definitions);\r\n      _.each(columns, function (column) {\r\n        var columnKey = column['column_key'];\r\n        if (columnKey === 'type' || columnKey === 'name' || columnKey === 'modify_date' ||\r\n            columnKey === 'parent_id' || columnKey == 'size') {\r\n          column.sort = true;\r\n        }\r\n      });\r\n      return columns;\r\n    }\r\n\r\n  });\r\n\r\n  var FavoriteModel = NodeModel.extend({\r\n\r\n    parse: function (response, options) {\r\n      var fav, fav_version;\r\n      if (response.data && response.data.properties) {\r\n        fav = response.data.properties;\r\n        fav_version = response.data.versions;\r\n      } else {\r\n        fav = response;\r\n        fav_version = response.versions;\r\n      }\r\n      fav.short_name = fav.name; // fav.name.length > 20 ? fav.name.substr(0, 20) + '...' : fav.name;\r\n      if (!fav.size) {\r\n        if (fav.container) {\r\n          fav.size = fav.container_size;\r\n        } else if (fav_version) {\r\n          fav.size = fav_version.file_size;\r\n        }\r\n      }\r\n      if (!fav.mime_type && fav_version && fav_version.mime_type) {\r\n        fav.mime_type = fav_version.mime_type;\r\n      }\r\n      return NodeModel.prototype.parse.call(this, response, options);\r\n    }\r\n\r\n  });\r\n\r\n  var FavoriteCollection = Backbone.Collection.extend({\r\n\r\n    model: FavoriteModel,\r\n\r\n    constructor: function FavoriteCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options);\r\n\r\n      this.columns = new FavoriteColumnCollection();\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, this.options);\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    url: function () {\r\n      var url = this.connector.connection.url.replace('/v1', '/v2'),\r\n          query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery(),\r\n              this.getBrowsableUrlQuery()\r\n          );\r\n      url = Url.combine(url, '/members/favorites');\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      this.parseBrowsedState(response, options);\r\n      this.columns && this.columns.resetColumnsV2(response, this.options);\r\n      return this.parseBrowsedItems(response, options);\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n    }\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(FavoriteCollection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(FavoriteCollection.prototype);\r\n  ConnectableMixin.mixin(FavoriteCollection.prototype);\r\n  FetchableMixin.mixin(FavoriteCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(FavoriteCollection.prototype);\r\n  FieldsV2Mixin.mixin(FavoriteCollection.prototype);\r\n  ExpandableV2Mixin.mixin(FavoriteCollection.prototype);\r\n  CommandableV2Mixin.mixin(FavoriteCollection.prototype);\r\n\r\n  return FavoriteCollection;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorites',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/favorites.model', 'csui/utils/commands',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory, FavoritesCollection,\r\n    commands) {\r\n  'use strict';\r\n\r\n  var FavoriteCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites',\r\n\r\n    constructor: function FavoritesCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var favorites = this.options.favorites || {};\r\n      if (!(favorites instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        favorites = new FavoritesCollection(favorites.models, _.extend(\r\n            {connector: connector}, favorites.options, config.options,\r\n            FavoritesCollectionFactory.getDefaultResourceScope(),\r\n            {autoreset: true}));\r\n      }\r\n      this.property = favorites;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        // The latest version properties can be considered common properties\r\n        // too (the MIME type is there, for example)\r\n        fields: {\r\n          properties: [],\r\n          'versions.element(0)': []\r\n        },\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: ['metadata'],\r\n        // Ask the server to check for permitted actions V2\r\n        commands: commands.getAllSignatures()\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return FavoriteCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favoritescolumns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/favorites'\r\n], function (module, _, Backbone, CollectionFactory, FavoriteCollectionFactory) {\r\n\r\n  var FavoritesColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites_columns',\r\n\r\n    constructor: function FavoritesColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(FavoriteCollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return FavoritesColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorites2',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/models/favorites2', 'csui/utils/defaultactionitems',\r\n  'csui/utils/commands', 'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    Favorites2Collection, defaultActionItems, commands) {\r\n  'use strict';\r\n\r\n  var Favorite2CollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites2',\r\n\r\n    constructor: function Favorite2CollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var favorites = this.options.favorites || {};\r\n\r\n      if (!(favorites instanceof Backbone.Collection)) {\r\n\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        var config = module.config();\r\n\r\n        favorites = new Favorites2Collection(favorites.models,\r\n            _.extend({\r\n                connector: connector,\r\n                autoreset: true\r\n              },\r\n              favorites.options,\r\n              config.options,\r\n              Favorite2CollectionFactory.getDefaultResourceScope()\r\n            )\r\n        );\r\n      }\r\n      this.property = favorites;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: [],\r\n          favorites: ['name', 'tab_id'],\r\n          'versions.element(0)': ['mime_type','owner_id']\r\n        },\r\n        expand: {\r\n          properties: ['original_id', 'parent_id', 'reserved_user_id']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // no need for metadata to include, because column definitions are created fully client side\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2\r\n        commands: commands.getAllSignatures()\r\n      });\r\n    },\r\n\r\n    getLimitedResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: ['container', 'id', 'name', 'original_id', 'type', 'type_name', 'parent_id', 'container'],\r\n          favorites: ['name', 'tab_id'],\r\n          'versions.element(0)': ['mime_type']\r\n        },\r\n        expand: {\r\n          properties: ['original_id', 'parent_id']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2 - only default actions\r\n        commands: commands.getAllSignatures(),\r\n        defaultActionCommands: defaultActionItems.getAllCommandSignatures(commands)\r\n      });\r\n    },\r\n\r\n    getDefaultsOnlyResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: [],\r\n          favorites: ['name', 'tab_id'],\r\n          'versions.element(0)': []\r\n        },\r\n        expand: {\r\n          properties: ['original_id', 'parent_id', 'reserved_user_id']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // no need for metadata to include, because column definitions are created fully client side\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2\r\n        commands: defaultActionItems.getAllCommandSignatures(commands)\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2CollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorite2groups',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/favorites2',\r\n  'csui/models/favorite2groups', 'csui/utils/commands',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    Favorite2CollectionFactory, Favorite2GroupsCollection, commands) {\r\n  'use strict';\r\n\r\n  var Favorite2GroupsCollectionFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'favorites2groups',\r\n\r\n    constructor: function Favorite2GroupsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var favoriteGroups = this.options.favoriteGroups || {};\r\n\r\n      if (!(favoriteGroups instanceof Backbone.Collection)) {\r\n\r\n        var config = module.config();\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        var favorites = context.getCollection(Favorite2CollectionFactory, options);\r\n\r\n        favoriteGroups = new Favorite2GroupsCollection(favoriteGroups.models,\r\n            _.extend({\r\n                  favorites: favorites,\r\n                  connector: connector,\r\n                  autoreset: true,\r\n                  commands: commands.getAllSignatures()\r\n                },\r\n                favoriteGroups.options,\r\n                config.options,\r\n                Favorite2GroupsCollectionFactory.getDefaultResourceScope()\r\n            )\r\n        );\r\n      }\r\n      this.property = favoriteGroups;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  }, {\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: []\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return Favorite2GroupsCollectionFactory;\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/favorite2columns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/favorites2'\r\n], function (module, _, Backbone, CollectionFactory, Favorite2CollectionFactory) {\r\n\r\n  var Favorite2ColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'favorites2_columns',\r\n\r\n    constructor: function Favorite2ColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(Favorite2CollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return Favorite2ColumnsCollectionFactory;\r\n});\r\n\n","csui.define('csui/models/widget/myassignments.model',['csui/lib/underscore', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns',\r\n  'csui/models/node/node.model', 'i18n!csui/models/widget/nls/lang',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, Url, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, StateRequestorMixin,\r\n    CommandableV2Mixin, ClientSideBrowsableMixin, BrowsableV2ResponseMixin,\r\n    NodeChildrenColumnModel, NodeChildrenColumnCollection, NodeModel, lang) {\r\n  'use strict';\r\n\r\n  var MyAssignmentColumnModel = NodeChildrenColumnModel.extend({\r\n\r\n    constructor: function MyAssignmentColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'ma_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      NodeChildrenColumnModel.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  var MyAssignmentColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n    model: MyAssignmentColumnModel,\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n          this, columnKeys, definitions);\r\n      _.each(columns, function (column) {\r\n        var columnKey = column['column_key'];\r\n        if (columnKey === 'type' || columnKey === 'name' || columnKey === 'location_id' ||\r\n            columnKey === 'date_due' || columnKey === 'priority' || columnKey === 'status' ||\r\n            columnKey === 'from_user_name') {\r\n          column.sort = true;\r\n          if (columnKey === 'location_id') {\r\n            column.sort_key = 'location_name';\r\n          }\r\n        }\r\n      });\r\n      return columns;\r\n    },\r\n\r\n    // private: convert v2 'metadata' to v1 'definitions' for backward code compatibility and\r\n    //          reuse purpose\r\n    getV2Columns: function (response) {\r\n\r\n      // Note: from a long discussion with the server developer, use the common 'metadata' (or\r\n      // called 'definitions' in v1) in the first element. Elements in the collection can have\r\n      // different extended metadata (definitions).  If a business case arises that\r\n      // extended definitions are needed, will discuss again with them and add that support.\r\n\r\n      var definitions = (response.results && response.results[0] &&\r\n                         response.results[0].metadata &&\r\n                         response.results[0].metadata.assignments) || {};\r\n\r\n      // TODO: the server is currently missing the metadata output for expanded fields.\r\n      // Remove this temporary hard-coded code after the server properly outputs metadata.\r\n      // Watch for LPAD-43411.\r\n      if (!definitions.location_id_expand && definitions.name) {\r\n        definitions.location_id_expand = _.clone(definitions.name);\r\n        definitions.location_id_expand.key = 'location_id_expand';\r\n        definitions.location_id_expand.name = 'Location';\r\n      }\r\n      if (!definitions.from_user_id_expand && definitions.name) {\r\n        definitions.from_user_id_expand = _.clone(definitions.name);\r\n        definitions.from_user_id_expand.key = 'from_user_id_expand';\r\n        definitions.from_user_id_expand.name = 'From';\r\n      }\r\n\r\n      // client-side sub-field column\r\n      if (!definitions.location_name && definitions.name) {\r\n        definitions.location_name = _.clone(definitions.name);\r\n        definitions.location_name.key = 'location_name';\r\n        definitions.location_name.name = 'Location Name';\r\n      }\r\n      if (!definitions.from_user_name && definitions.name) {\r\n        definitions.from_user_name = _.clone(definitions.name);\r\n        definitions.from_user_name.key = 'from_user_name';\r\n        definitions.from_user_name.name = 'From';\r\n      }\r\n\r\n      var columnKeys = _.keys(definitions);\r\n\r\n      return this.getColumnModels(columnKeys, definitions);\r\n    }\r\n\r\n  });\r\n\r\n  var MyAssignmentModel = NodeModel.extend({\r\n\r\n    parse: function (response, options) {\r\n      var assignments = response.data.assignments;\r\n      assignments.short_name = assignments.name;\r\n\r\n      var location_expand;\r\n      if (assignments.location_id_expand) {\r\n        location_expand = assignments.location_id_expand;\r\n      } else if (assignments.workflow_subworkflow_id_expand) {\r\n        location_expand = assignments.workflow_subworkflow_id_expand;\r\n      } else if (assignments.workflow_id_expand) {\r\n        // note: workflow_id should be the same as workflow_subworkflow_id, this case is a fallback\r\n        location_expand = assignments.workflow_id_expand;\r\n      } else if (assignments.workflow_subworkflow_task_id_expand) {\r\n        location_expand = assignments.workflow_subworkflow_task_id_expand;\r\n      }\r\n      assignments.location_name = (location_expand && location_expand.name) || '';\r\n\r\n      var from_user_id_expand = assignments.from_user_id_expand || {};\r\n      var name = from_user_id_expand.first_name || '';\r\n      name = name + ' ' + (from_user_id_expand.last_name || '');\r\n      if (!name.length || (name.length === 1 && name === ' ')) {\r\n        name = from_user_id_expand.name;\r\n      }\r\n      assignments.from_user_name = name;\r\n\r\n      if (response.data && response.data.assignments) {\r\n        response.data.properties = response.data.assignments;\r\n      }\r\n\r\n      var node = NodeModel.prototype.parse.call(this, response, options);\r\n      return node;\r\n    }\r\n\r\n  });\r\n\r\n  var MyAssignmentCollection = Backbone.Collection.extend({\r\n\r\n    model: MyAssignmentModel,\r\n\r\n    constructor: function MyAssignmentCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateRequestor(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options);\r\n\r\n      this.columns = new MyAssignmentColumnCollection();\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, this.options);\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      return clone;\r\n    },\r\n\r\n    url: function () {\r\n      var url = this.connector.connection.url.replace('/v1', '/v2'),\r\n          query = Url.combineQueryString(\r\n              this.getAdditionalResourcesUrlQuery(),\r\n              this.getResourceFieldsUrlQuery(),\r\n              this.getExpandableResourcesUrlQuery(),\r\n              this.getStateEnablingUrlQuery(),\r\n              this.getRequestedCommandsUrlQuery()\r\n          );\r\n      url = Url.combine(url, '/members/assignments');\r\n      return query ? url + '?' + query : url;\r\n    },\r\n\r\n    parse: function (response, options) {\r\n      // filter out pstage items\r\n      response.results = _.filter(response.results, function (item) {\r\n        return item.data.assignments.type != 398; //pstage\r\n      });\r\n\r\n      this.parseBrowsedState(response, options);\r\n      this.columns && this.columns.resetColumnsV2(response, this.options);\r\n      return this.parseBrowsedItems(response, options);\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n    }\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(MyAssignmentCollection.prototype);\r\n  // when due_date is null, put the record at the bottom for ascending sort as PM and CWS request\r\n  var originalCompareValues = MyAssignmentCollection.prototype._compareValues;\r\n  MyAssignmentCollection.prototype._compareValues = function (property, left, right) {\r\n    if (property.indexOf('date') >= 0) {\r\n      if (left === null) {\r\n        return 1;\r\n      }\r\n      if (right === null) {\r\n        return -1;\r\n      }\r\n    }\r\n    return originalCompareValues.apply(this, arguments);\r\n  };\r\n\r\n  BrowsableV2ResponseMixin.mixin(MyAssignmentCollection.prototype);\r\n  ConnectableMixin.mixin(MyAssignmentCollection.prototype);\r\n  FetchableMixin.mixin(MyAssignmentCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n  FieldsV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n  ExpandableV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n  StateRequestorMixin.mixin(MyAssignmentCollection.prototype);\r\n  CommandableV2Mixin.mixin(MyAssignmentCollection.prototype);\r\n\r\n  return MyAssignmentCollection;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/myassignments',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/myassignments.model',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory, MyAssignmentCollection) {\r\n  'use strict';\r\n\r\n  var MyAssignmentCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'myassignments',\r\n\r\n    constructor: function MyAssignmentCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var myassignments = this.options.myassignments || {};\r\n      if (!(myassignments instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        myassignments = new MyAssignmentCollection(myassignments.models, _.extend(\r\n            {connector: connector}, myassignments.options, config.options,\r\n            MyAssignmentCollectionFactory.getDefaultResourceScope(),\r\n            {autoreset: true}));\r\n      }\r\n      this.property = myassignments;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    },\r\n\r\n    isFetchable: function(){\r\n      if (window.csui && window.csui.mobile) {\r\n        return !this.property.fetched;\r\n      }\r\n      return true;\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        // So far, all properties are includes in the assignments fields\r\n        fields: {\r\n          assignments: []\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: ['metadata']\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return MyAssignmentCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/myassignmentscolumns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/myassignments'\r\n], function (module, _, Backbone, CollectionFactory, MyAssignmentsCollectionFactory) {\r\n\r\n  var MyAssignmentsColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'myassignments_columns',\r\n\r\n    constructor: function MyAssignmentsColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(MyAssignmentsCollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return MyAssignmentsColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/recentlyaccessed/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/utils/url'\r\n], function (_, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          var url   = this.connector.connection.url.replace('/v1', '/v2'),\r\n              query = Url.combineQueryString(\r\n                  this.getAdditionalResourcesUrlQuery(),\r\n                  this.getResourceFieldsUrlQuery(),\r\n                  this.getExpandableResourcesUrlQuery(),\r\n                  this.getStateEnablingUrlQuery(),\r\n                  this.getRequestedCommandsUrlQuery(),\r\n                  this._getSubtypesUrlQuery()\r\n              );\r\n          url = Url.combine(url, '/members/accessed');\r\n          return query ? url + '?' + query : url;\r\n        },\r\n    \r\n        parse: function (response, options) {\r\n          this.parseBrowsedState(response, options);\r\n          this.columns && this.columns.resetColumnsV2(response, this.options);\r\n          return this.parseBrowsedItems(response, options);\r\n        },\r\n    \r\n        _getSubtypesUrlQuery: function () {\r\n          var where_types = \"\";\r\n    \r\n          if (this.options.recentlyAccessedSubtypes) {\r\n            for (var i = 0; i < this.options.recentlyAccessedSubtypes.length; i++) {\r\n              where_types = where_types.concat(\"where_type=\", this.options.recentlyAccessedSubtypes[i],\r\n                  \"&\");\r\n            }\r\n          }\r\n          return where_types;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/recentlyaccessed.model',[\r\n  'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/mixins/v2.additional.resources/v2.additional.resources.mixin',\r\n  'csui/models/mixins/v2.fields/v2.fields.mixin',\r\n  'csui/models/mixins/v2.expandable/v2.expandable.mixin',\r\n  'csui/models/mixins/v2.commandable/v2.commandable.mixin',\r\n  'csui/models/mixins/state.requestor/state.requestor.mixin',\r\n  'csui/models/mixins/v2.delayed.commandable/v2.delayed.commandable.mixin',\r\n  'csui/models/browsable/client-side.mixin', 'csui/models/browsable/v2.response.mixin',\r\n  'csui/models/nodechildrencolumn', 'csui/models/nodechildrencolumns',\r\n  'csui/models/node/node.model', 'i18n!csui/models/widget/nls/lang',\r\n  'csui/models/widget/recentlyaccessed/server.adaptor.mixin',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (_, Backbone, ConnectableMixin, FetchableMixin,\r\n    AdditionalResourcesV2Mixin, FieldsV2Mixin, ExpandableV2Mixin, StateRequestorMixin,\r\n    CommandableV2Mixin, DelayedCommandableV2Mixin, ClientSideBrowsableMixin,\r\n    BrowsableV2ResponseMixin, NodeChildrenColumnModel, NodeChildrenColumnCollection,\r\n    NodeModel, lang, ServerAdaptorMixin) {\r\n  'use strict';\r\n\r\n  var RecentlyAccessedColumnModel = NodeChildrenColumnModel.extend({\r\n\r\n    constructor: function RecentlyAccessedColumnModel(attributes, options) {\r\n      if (attributes && !attributes.title) {\r\n        var columnKey = 'ra_' + attributes.column_key;\r\n        attributes.title = lang[columnKey];\r\n      }\r\n      NodeChildrenColumnModel.prototype.constructor.call(this, attributes, options);\r\n    }\r\n\r\n  });\r\n\r\n  var RecentlyAccessedColumnCollection = NodeChildrenColumnCollection.extend({\r\n\r\n    model: RecentlyAccessedColumnModel,\r\n\r\n    // private\r\n    getColumnModels: function (columnKeys, definitions) {\r\n      var columns = NodeChildrenColumnCollection.prototype.getColumnModels.call(\r\n          this, columnKeys, definitions);\r\n      _.each(columns, function (column) {\r\n        var columnKey = column['column_key'];\r\n        if (columnKey === 'type' || columnKey === 'name' || columnKey === 'access_date_last' ||\r\n            columnKey === 'modify_date' || columnKey === 'parent_id' || columnKey === 'size') {\r\n          column.sort = true;\r\n          if (columnKey === 'parent_id') {\r\n            column.sort_key = 'parent_name';\r\n          }\r\n        }\r\n      });\r\n      return columns;\r\n    },\r\n\r\n    // private\r\n    getV2Columns: function (response) {\r\n      var definitions = (response.results &&\r\n                         response.results[0] &&\r\n                         response.results[0].metadata &&\r\n                         response.results[0].metadata.properties) || {};\r\n\r\n      // TODO: sadly the server is again missing the metadata output for access_date_last field.\r\n      // Remove this temporary hard-coded code after the server properly outputs this metadata.\r\n      if (!definitions.access_date_last && definitions.modify_date) {\r\n        definitions.access_date_last = _.clone(definitions.modify_date);\r\n        definitions.access_date_last.key = 'access_date_last';\r\n        definitions.access_date_last.name = 'Last Accessed';\r\n      }\r\n\r\n      // client-side sub-field column\r\n      if (!definitions.parent_name && definitions.name) {\r\n        definitions.parent_name = _.clone(definitions.name);\r\n        definitions.parent_name.key = 'parent_name';\r\n        definitions.parent_name.name = 'Location Name';  // no i18n needed, server has it in EN\r\n      }\r\n\r\n      return NodeChildrenColumnCollection.prototype.getV2Columns.call(this, response);\r\n    }\r\n\r\n  });\r\n\r\n  var RecentlyAccessedModel = NodeModel.extend({\r\n\r\n    parse: function (response, options) {\r\n      var ra, ra_version, ra_propertiesUser, ra_parentIdExpanded;\r\n      if (response.data && response.data.properties) {\r\n        ra = response.data.properties;\r\n        ra_version = response.data.versions;\r\n        ra_propertiesUser = response.data.properties_user;\r\n        ra_parentIdExpanded = response.data.properties.parent_id_expand;\r\n      } else {\r\n        ra = response;\r\n        ra_version = response.versions;\r\n        ra_propertiesUser = response.properties_user;\r\n        ra_parentIdExpanded = response.parent_id_expanded;\r\n      }\r\n\r\n      ra.short_name = ra.name; //ra.name.length > 20 ? ra.name.substr(0, 20) + '...' : ra.name;\r\n\r\n      if (!ra.size) {\r\n        if (ra.container) {\r\n          ra.size = ra.container_size;\r\n        } else if (ra_version) {\r\n          ra.size = ra_version.file_size;\r\n        }\r\n      }\r\n\r\n      if (!ra.mime_type && ra_version && ra_version.mime_type) {\r\n        ra.mime_type = ra_version.mime_type;\r\n      }\r\n\r\n      if (!ra.access_date_last && ra_propertiesUser && ra_propertiesUser.access_date_last) {\r\n        ra.access_date_last = ra_propertiesUser.access_date_last;\r\n      }\r\n\r\n      ra.parent_name = '';\r\n      if (!ra.parent_name && ra_parentIdExpanded && ra_parentIdExpanded.name) {\r\n        ra.parent_name = ra_parentIdExpanded.name;\r\n      }\r\n\r\n      return NodeModel.prototype.parse.call(this, response, options);\r\n    }\r\n\r\n  });\r\n\r\n  var RecentlyAccessedCollection = Backbone.Collection.extend({\r\n\r\n    model: RecentlyAccessedModel,\r\n\r\n    constructor: function RecentlyAccessedCollection(attributes, options) {\r\n      Backbone.Collection.prototype.constructor.apply(this, arguments);\r\n\r\n      // Support collection cloning\r\n      if (options) {\r\n        this.options = _.pick(options, ['connector', 'autoreset',\r\n          'includeResources', 'fields', 'expand', 'commands', 'recentlyAccessedSubtypes']);\r\n      }\r\n\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeAdditionalResourcesV2Mixin(options)\r\n          .makeFieldsV2(options)\r\n          .makeExpandableV2(options)\r\n          .makeStateRequestor(options)\r\n          .makeCommandableV2(options)\r\n          .makeClientSideBrowsable(options)\r\n          .makeBrowsableV2Response(options)\r\n          .makeDelayedCommandableV2(options)\r\n          .makeServerAdaptor(options);\r\n\r\n      this.columns = new RecentlyAccessedColumnCollection();\r\n    },\r\n\r\n    clone: function () {\r\n      // Provide the options; they may include connector and other parameters\r\n      var clone = new this.constructor(this.models, this.options);\r\n      // Clone sub-models not covered by Backbone\r\n      if (this.columns) {\r\n        clone.columns.reset(this.columns.toJSON());\r\n      }\r\n      // Clone properties about the full (not-yet fetched) collection\r\n      clone.actualSkipCount = this.actualSkipCount;\r\n      clone.skipCount = this.skipCount;\r\n      clone.topCount = this.topCount;\r\n      clone.totalCount = this.totalCount;\r\n      clone.filteredCount = this.filteredCount;\r\n      clone.filters = _.deepClone(this.filters);\r\n      clone.orderBy = this.orderBy;\r\n      clone.expand = _.clone(this.expand);\r\n      clone.includeActions = this.includeActions;\r\n      clone.includeCommands = _.clone(this.includeCommands);\r\n      clone.defaultActionCommands = _.clone(this.defaultActionCommands);\r\n      clone.commands = _.clone(this.commands);\r\n      //clone.delayRestCommands = this.delayRestCommands; //cloning of this attribute doesnot\r\n      // required since to enable delayedRestCommands on new cloned collection\r\n\r\n      return clone;\r\n    },\r\n\r\n    getResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: this.fields,\r\n        expand: this.expand,\r\n        includeResources: this._additionalResources,\r\n        commands: this.commands,\r\n        defaultActionCommands: this.defaultActionCommands\r\n      });\r\n    },\r\n\r\n    setResourceScope: function (scope) {\r\n      this.excludeResources();\r\n      scope.includeResources && this.includeResources(scope.includeResources);\r\n      this.resetFields();\r\n      scope.fields && this.setFields(scope.fields);\r\n      this.resetExpand();\r\n      scope.expand && this.setExpand(scope.expand);\r\n      this.resetCommands();\r\n      scope.commands && this.setCommands(scope.commands);\r\n      this.resetDefaultActionCommands();\r\n      scope.defaultActionCommands && this.setDefaultActionCommands(scope.defaultActionCommands);\r\n    },\r\n\r\n  });\r\n\r\n  ClientSideBrowsableMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  BrowsableV2ResponseMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  ConnectableMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  FetchableMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  AdditionalResourcesV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  FieldsV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  ExpandableV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  StateRequestorMixin.mixin(RecentlyAccessedCollection.prototype);\r\n  CommandableV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  DelayedCommandableV2Mixin.mixin(RecentlyAccessedCollection.prototype);\r\n  ServerAdaptorMixin.mixin(RecentlyAccessedCollection.prototype);\r\n\r\n  return RecentlyAccessedCollection;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/recentlyaccessed',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/recentlyaccessed.model', 'csui/utils/commands',\r\n  'csui/utils/defaultactionitems',\r\n  'csui/utils/deepClone/deepClone'\r\n], function (module, _, Backbone, CollectionFactory, ConnectorFactory,\r\n    RecentlyAccessedCollection, commands, defaultActionItems) {\r\n  'use strict';\r\n\r\n  var RecentlyAccessedCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'recentlyaccessed',\r\n\r\n    constructor: function RecentlyAccessedCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var recentlyAccessed = this.options.recentlyaccessed || {};\r\n      if (!(recentlyAccessed instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config    = module.config();\r\n        recentlyAccessed = new RecentlyAccessedCollection(recentlyAccessed.models, _.extend(\r\n            {connector: connector, recentlyAccessedSubtypes: config.recentlyAccessedSubtypes},\r\n            recentlyAccessed.options, config.options,\r\n            RecentlyAccessedCollectionFactory.getDefaultResourceScope(),\r\n            {autoreset: true}));\r\n      }\r\n      this.property = recentlyAccessed;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  }, {\r\n\r\n    getDefaultResourceScope: function () {\r\n      return _.deepClone({\r\n        // The latest version properties can be considered common properties\r\n        // too (the MIME type is there, for example)\r\n        fields: {\r\n          properties: [],\r\n          'versions.element(0)': []\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // Get property definitions to support table columns\r\n        includeResources: ['metadata'],\r\n        // Ask the server to check for permitted actions\r\n        commands: commands.getAllSignatures()\r\n      });\r\n    },\r\n\r\n    getLimitedResourceScope: function () {\r\n      return _.deepClone({\r\n        fields: {\r\n          properties: ['container', 'id', 'name', 'original_id', 'type', 'type_name', 'parent_id',\r\n            'reserved'],\r\n          'versions.element(0)': ['mime_type']\r\n        },\r\n        expand: {\r\n          properties: ['parent_id', 'reserved_user_id']\r\n        },\r\n        // Make sure, that the metadata token is returned for nodes\r\n        // requesated via this factory, because they are supposed to\r\n        // be shared and may be the subject of changes.\r\n        stateEnabled: true,\r\n        // Get property definitions to support table columns or similar\r\n        // and actions to support clickability and others\r\n        includeResources: [],\r\n        // Ask the server to check for permitted actions V2 - only default actions\r\n        commands: commands.getAllSignatures(),\r\n        defaultActionCommands: defaultActionItems.getAllCommandSignatures(commands)\r\n      });\r\n    }\r\n\r\n  });\r\n\r\n  return RecentlyAccessedCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/recentlyaccessedcolumns',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/recentlyaccessed'\r\n], function (module, _, Backbone, CollectionFactory, RecentlyAccessedCollectionFactory) {\r\n\r\n  var RecentlyAccessedColumnsCollectionFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'recentlyaccessed_columns',\r\n\r\n    constructor: function RecentlyAccessedColumnsCollectionFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var columns = this.options.columns || {};\r\n      if (!(columns instanceof Backbone.Collection)) {\r\n        var children = context.getCollection(RecentlyAccessedCollectionFactory, options);\r\n        columns = children.columns;\r\n      }\r\n      this.property = columns;\r\n    }\r\n\r\n  });\r\n\r\n  return RecentlyAccessedColumnsCollectionFactory;\r\n\r\n});\r\n\n","csui.define('csui/utils/contexts/factories/member',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/member'\r\n], function (module, _, Backbone, ModelFactory, ConnectorFactory, MemberModel) {\r\n  'use strict';\r\n\r\n  var MemberModelFactory = ModelFactory.extend({\r\n\r\n    propertyPrefix: 'member',\r\n\r\n    constructor: function MemberModelFactory(context, options) {\r\n      ModelFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var member = this.options.member || {};\r\n      if (!(member instanceof Backbone.Model)) {\r\n        var connector = context.getObject(ConnectorFactory, options),\r\n            config = module.config();\r\n        member = new MemberModel(member.attributes || config.attributes, _.defaults({\r\n          connector: connector\r\n        }, member.options, config.options));\r\n      }\r\n      this.property = member;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n\r\n  });\r\n\r\n  return MemberModelFactory;\r\n\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.metadata/search.metadata.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone'\r\n], function (_, $, Backbone) {\r\n  'use strict';\r\n\r\n  var SearchMetadataMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeSearchMetadataResponse: function (options) {\r\n          return this;\r\n        },\r\n\r\n        parseSearchMetadataResponse: function (resp, options) {\r\n          return resp;\r\n        }\r\n      });\r\n    }\r\n  };\r\n\r\n  return SearchMetadataMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.metadata/search.metadata.items',['csui/lib/underscore', \"csui/lib/backbone\",\r\n  'i18n!csui/models/widget/nls/lang'\r\n], function (_, Backbone, lang) {\r\n\r\n  var metadataCollection = [\r\n    {\r\n      key: 'create_date',\r\n      column_key: 'create_date',\r\n      column_name: lang.created,\r\n      column_type: 'date',\r\n      search_index: 'OTCreateDate',\r\n      sequence: 10\r\n    },\r\n    {\r\n      key: 'create_user_display_name',\r\n      column_key: 'create_user_display_name',\r\n      column_name: lang.createdBy,\r\n      search_index: 'OTCreatedByName',\r\n      sequence: 20\r\n    },\r\n    {\r\n      key: 'modify_date',\r\n      column_key: 'modify_date',\r\n      column_name: lang.modified,\r\n      column_type: 'date',\r\n      search_index: 'OTObjectDate',\r\n      sequence: 30\r\n    },\r\n    {\r\n      key: 'owner_display_name',\r\n      column_key: 'owner_display_name',\r\n      column_name: lang.owner,\r\n      search_index: 'OTName',\r\n      sequence: 40,\r\n      permanentColumn: false\r\n    },\r\n    {\r\n      key: 'mime_type_search',\r\n      column_key: 'mime_type_search',\r\n      column_name: lang.type,\r\n      search_index: 'OTFileType',\r\n      sequence: 50,\r\n      permanentColumn: false\r\n    },\r\n    {\r\n      key: 'size',\r\n      column_key: 'size',\r\n      column_name: lang.size,\r\n      search_index: 'OTObjectSize',\r\n      sequence: 60,\r\n      permanentColumn: false\r\n    }\r\n  ];\r\n  return metadataCollection;\r\n});\n","csui.define('csui/models/widget/search.results/search.metadata/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/models/widget/search.results/search.metadata/search.metadata.items'\r\n], function (_, $, Backbone, metadataCollection) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n    mixin: function (prototype) {\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        sync: function (method, model, options) {\r\n          var deferred = $.Deferred();\r\n          options = _.defaults({parse: true}, options);\r\n          this.trigger('request', this, {}, options);\r\n          setTimeout(function () {\r\n            options.success.call(options.context, metadataCollection, 'success', {});\r\n            deferred.resolve();\r\n          }.bind(this));\r\n          return deferred.promise();\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          return this.parseSearchMetadataResponse(response, options);\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.results/search.metadata/search.metadata.model',['csui/lib/jquery', 'csui/lib/underscore', \"csui/lib/backbone\",\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/widget/search.results/search.metadata/search.metadata.mixin',\r\n  'csui/models/widget/search.results/search.metadata/server.adaptor.mixin'\r\n], function ($, _, Backbone, ConnectableMixin, FetchableMixin, SearchMetadataMixin,\r\n    ServerAdaptorMixin) {\r\n  \"use strict\";\r\n\r\n  var SearchMetadataItemModel = Backbone.Model.extend({\r\n\r\n    idAttribute: \"key\",\r\n\r\n    defaults: {\r\n      key: null,  // key from the resource definitions\r\n      sequence: 0 // smaller number moves the column to the front\r\n    }\r\n\r\n  });\r\n\r\n  var SearchMetadataItemsCollection = Backbone.Collection.extend({\r\n\r\n    model: SearchMetadataItemModel,\r\n    comparator: \"sequence\",\r\n\r\n    constructor: function SearchMetadataItemsCollection(attributes, options) {\r\n      SearchMetadataItemsCollection.__super__.constructor.apply(this, arguments);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeSearchMetadataResponse(options)\r\n          .makeServerAdaptor(options);\r\n    },\r\n\r\n    getColumnKeys: function () {\r\n      return this.pluck('key');\r\n    },\r\n\r\n    deepClone: function () {\r\n      return new SearchMetadataItemsCollection(\r\n          this.map(function (column) {\r\n            return column.attributes;\r\n          }));\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n  FetchableMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n  SearchMetadataMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n  ServerAdaptorMixin.mixin(SearchMetadataItemsCollection.prototype);\r\n\r\n  return SearchMetadataItemsCollection;\r\n});\n","csui.define('csui/utils/contexts/factories/search.metadata.factory',['module', 'csui/lib/underscore', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/models/widget/search.results/search.metadata/search.metadata.model'\r\n], function (module, _, Backbone, CollectionFactory, SearchMetadataModel) {\r\n\r\n  var SearchMetadataModelFactory = CollectionFactory.extend({\r\n\r\n    propertyPrefix: 'searchMetadata',\r\n\r\n    constructor: function SearchMetadataModelFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var metadata = this.options.metadata || {};\r\n      if (!(metadata instanceof Backbone.Collection)) {\r\n        var config = module.config();\r\n        metadata = new SearchMetadataModel(metadata.models, _.extend({},\r\n            metadata.options, config.options));\r\n      }\r\n      this.property = metadata;\r\n    },\r\n    isFetchable: function () {\r\n      return !!this.options;\r\n    },\r\n\r\n    fetch: function (options) {\r\n      return this.property.fetch(options);\r\n    }\r\n  });\r\n  return SearchMetadataModelFactory;\r\n});\n","\ncsui.define('json!csui/utils/contexts/perspective/impl/perspectives/search.json',{\r\n  \"type\": \"grid\",\r\n  \"options\": {\r\n    \"rows\": [\r\n      {\r\n        \"columns\": [\r\n          {\r\n            \"sizes\": {\r\n              \"md\": 12\r\n            },\r\n            \"heights\": {\r\n              \"xs\": \"full\"\r\n            },\r\n            \"widget\": {\r\n              \"type\": \"csui/widgets/search.results\",\r\n              \"options\": {\r\n              }\r\n            }\r\n          }\r\n        ]\r\n      }\r\n    ]\r\n  }\r\n}\r\n);\n\n","csui.define('csui/models/widget/search.box/server.adaptor.mixin',[\r\n  'csui/lib/underscore', 'csui/lib/jquery', 'csui/utils/url'\r\n], function (_, $, Url) {\r\n  'use strict';\r\n\r\n  var ServerAdaptorMixin = {\r\n\r\n    mixin: function (prototype) {\r\n\r\n      return _.extend(prototype, {\r\n        makeServerAdaptor: function (options) {\r\n          return this;\r\n        },\r\n\r\n        url: function () {\r\n          return Url.combine(this.connector.connection.url, \"searchbar?enterprise_slices=true\");\r\n        },\r\n\r\n        parse: function (response, options) {\r\n          var sliceLabels = response.options.fields.slice.optionLabels,\r\n            sliceIds = response.schema.properties.slice.enum,\r\n            returnData = {};\r\n          returnData.slices = [];\r\n          $.each(sliceIds, function (sliceIdx) {\r\n            returnData.slices.push({\r\n              sliceId: sliceIds[sliceIdx],\r\n              sliceDisplayName: sliceLabels[sliceIdx]\r\n            });\r\n          });\r\n          return returnData;\r\n        }\r\n\r\n      });\r\n    }\r\n  };\r\n\r\n  return ServerAdaptorMixin;\r\n});\r\n\n","csui.define('csui/models/widget/search.box.model',['csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone', 'csui/utils/url',\r\n  'csui/models/mixins/connectable/connectable.mixin',\r\n  'csui/models/mixins/fetchable/fetchable.mixin',\r\n  'csui/models/widget/search.box/server.adaptor.mixin'\r\n], function (_, $, Backbone, Url, ConnectableMixin, FetchableMixin, ServerAdaptorMixin) {\r\n  \"use strict\";\r\n\r\n  var SearchBoxModel = Backbone.Model.extend({\r\n\r\n    constructor: function SearchBoxModel(models, options) {\r\n      this.options = options || (options = {});\r\n      Backbone.Model.prototype.constructor.call(this, models, options);\r\n      this.makeConnectable(options)\r\n          .makeFetchable(options)\r\n          .makeServerAdaptor(options);\r\n    }\r\n  });\r\n\r\n  ConnectableMixin.mixin(SearchBoxModel.prototype);\r\n  FetchableMixin.mixin(SearchBoxModel.prototype);\r\n  ServerAdaptorMixin.mixin(SearchBoxModel.prototype);\r\n\r\n  _.extend(SearchBoxModel.prototype, {\r\n\r\n    isFetchable: function () {\r\n      return !!this.options;\r\n    }\r\n\r\n  });\r\n\r\n  return SearchBoxModel;\r\n\r\n});\n","csui.define('csui/utils/contexts/factories/search.box.factory',[\r\n  'module', 'csui/lib/underscore', 'csui/lib/jquery', 'csui/lib/backbone',\r\n  'csui/utils/contexts/factories/factory', 'csui/utils/contexts/factories/connector',\r\n  'csui/models/widget/search.box.model'\r\n], function (module, _, $, Backbone, CollectionFactory, ConnectorFactory,\r\n    SearchBoxModel) {\r\n  'use strict';\r\n\r\n  var prefetch = /\\bprefetch(?:=([^&]*)?)/i.exec(location.search);\r\n  prefetch = !prefetch || prefetch[1] !== 'false';\r\n\r\n  var initialResourceFetched;\r\n\r\n  var SearchBoxFactory = CollectionFactory.extend({\r\n    propertyPrefix: 'searchBox',\r\n\r\n    constructor: function SearchBoxFactory(context, options) {\r\n      CollectionFactory.prototype.constructor.apply(this, arguments);\r\n\r\n      var searchBox = this.options.searchBox || {},\r\n          config = module.config();\r\n      if (prefetch) {\r\n        this.initialResponse = searchBox.initialResponse || config.initialResponse;\r\n      }\r\n      if (!(searchBox instanceof Backbone.Collection)) {\r\n        var connector = context.getObject(ConnectorFactory, options);\r\n        searchBox = new SearchBoxModel(searchBox.attributes || config.attributes,\r\n          _.defaults({\r\n            connector: connector\r\n          }, searchBox.options, config.options, {\r\n            autofetch: true\r\n          }));\r\n      }\r\n      this.property = searchBox;\r\n    },\r\n\r\n    isFetchable: function () {\r\n      return this.property.isFetchable();\r\n    },\r\n\r\n    fetch: function (options) {\r\n      if (this.initialResponse && !initialResourceFetched) {\r\n        var promise = this.property.prefetch(this.initialResponse, options);\r\n        initialResourceFetched = true;\r\n        return promise;\r\n      } else {\r\n        return this.property.fetch(options);\r\n      }\r\n    }\r\n  });\r\n\r\n  return SearchBoxFactory;\r\n});\r\n\n","csui.define('csui/temporary/activeviews/icons/icons',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    {\r\n      // ActiveView\r\n      equals: {type: 30309},\r\n      className: 'csui-icon mime_active_view',\r\n      // ActiveView has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    },\r\n    {\r\n      // web report\r\n      equals:    {type: 30303},\r\n      className: 'csui-icon mime_web_report',\r\n      // Web Report has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence:  30\r\n    }\r\n  ];\r\n\r\n});\r\n\n","csui.define('csui/temporary/appearances/icons/icons',[],function () {\r\n  'use strict';\r\n\r\n  return [\r\n    {\r\n      // Appearance\r\n      equals: {type: 480},\r\n      className: 'csui-icon mime_appearance',\r\n      // Appearance has a MIME type, which would decide the icon otherwise;\r\n      // the MIME type icons have the sequence number 50 in common\r\n      sequence: 30\r\n    }\r\n  ];\r\n\r\n});\r\n\n","\ncsui.define('css!csui/temporary/cop/icons/icons',[],function(){});\n","csui.define('csui/temporary/cop/icons/icons',['css!csui/temporary/cop/icons/icons'\r\n], function () {\r\n  'use strict';\r\n\r\n  return [\r\n    // Blog, FAQ, Forum, Wiki and their entries have a MIME type,\r\n    // which would decide the icon otherwise; the MIME type icons\r\n    // have the sequence number 50 in common\r\n    {\r\n      // blog\r\n      equals:    {type: 356},\r\n      className: 'csui-icon csui-temporary-cop-blog',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // blog entry\r\n      equals:    {type: 357},\r\n      className: 'csui-icon mime_blog_entry',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // collaborative place\r\n      equals:    {type: 1257},\r\n      className: 'csui-icon mime_collaborative_place',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // faq\r\n      equals:    {type: 123475},\r\n      className: 'csui-icon mime_faq',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // faq entry\r\n      equals:    {type: 123476},\r\n      className: 'csui-icon mime_faq_entry',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // forum\r\n      equals:    {type: 123469},\r\n      className: 'csui-icon mime_forum',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // forum topics and replies\r\n      equals:    {type: 123470},\r\n      className: 'csui-icon mime_forum_topics_replies',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // topic\r\n      equals:    {type: 130},\r\n      className: 'csui-icon mime_topic',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // wiki\r\n      equals:    {type: 5573},\r\n      className: 'csui-icon mime_wiki',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // wiki page\r\n      equals:    {type: 5574},\r\n      className: 'csui-icon mime_wiki_page',\r\n      sequence:  30\r\n    },\r\n    {\r\n      // community\r\n      equals:    {type: 3030202},\r\n      className: 'csui-icon mime_community',\r\n      sequence:  30\r\n    }\r\n  ];\r\n\r\n});\r\n\n","csui.define('bundles/csui-data',[\r\n  // Behaviours\r\n  'csui/behaviors/default.action/default.action.behavior',\r\n  // The controller using the commands is loaded dynamically\r\n  'csui/behaviors/default.action/impl/defaultaction',\r\n  'csui/behaviors/widget.container/widget.container.behavior',\r\n\r\n  // Controls\r\n  'csui/controls/error/error.view',\r\n  'csui/controls/globalmessage/globalmessage',\r\n  'css!csui/controls/globalmessage/globalmessage_icons',\r\n  'csui/controls/grid/grid.view',\r\n  'csui/controls/node-type.icon/node-type.icon.view',\r\n  'csui/controls/progressblocker/blocker',\r\n  'csui/controls/globalmessage/impl/progresspanel/progresspanel.view',\r\n  'i18n!csui/controls/globalmessage/impl/nls/globalmessage.lang',\r\n  'csui/controls/perspective.panel/perspective.animator',\r\n  'csui/controls/perspective.panel/perspective.panel.view',\r\n \r\n  // Control mixins\r\n  'csui/controls/mixins/layoutview.events.propagation/layoutview.events.propagation.mixin',\r\n  'csui/controls/mixins/view.events.propagation/view.events.propagation.mixin',\r\n  'csui/controls/mixins/global.alert/global.alert.mixin',\r\n\r\n  // Control behaviours\r\n  'csui/controls/tile/behaviors/blocking.behavior',\r\n  'csui/controls/tile/behaviors/infinite.scrolling.behavior',\r\n  'csui/controls/tile/behaviors/parent.scrollbar.updating.behavior',\r\n  'csui/controls/tile/behaviors/perfect.scrolling.behavior',\r\n  'csui/controls/tile/behaviors/searching.behavior',\r\n\r\n  // Perspectives\r\n  'csui/perspectives/flow/flow.perspective.view',\r\n  'csui/perspectives/grid/grid.perspective.view',\r\n  'csui/perspectives/mixins/perspective.edit.mixin',\r\n\r\n  // Routers\r\n  'csui/pages/start/perspective.router',\r\n  'csui/pages/start/perspective.routing',\r\n  'csui/pages/start/impl/landing.perspective.router',\r\n  'csui/pages/start/impl/node.perspective.router',\r\n  'csui/pages/start/impl/search.perspective.router',\r\n  'i18n!csui/pages/start/impl/nls/lang',\r\n\r\n  // Utilities\r\n  'csui/utils/classic.nodes/impl/core.classic.nodes',\r\n  'csui/utils/content.helper',\r\n  'csui/utils/handlebars/l10n',\r\n  'csui/utils/impl/core.defaultactionitems',\r\n  'csui/utils/node.links/impl/core.node.links',\r\n  'csui/utils/open.authenticated.page',\r\n  'csui/utils/smart.nodes/impl/core.smart.nodes',\r\n\r\n  // Contexts and factories\r\n  'csui/models/node/node.addable.type.factory',\r\n  'csui/utils/contexts/context',\r\n  'csui/utils/contexts/context.plugin',\r\n  'csui/utils/contexts/browsing/browsing.context',\r\n  'csui/utils/contexts/page/page.context',\r\n  'csui/utils/contexts/portal/portal.context',\r\n  'csui/utils/contexts/perspective/impl/landing.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/impl/node.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/impl/search.perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/landing.perspectives',\r\n  'csui/utils/contexts/perspective/node.perspectives',\r\n  'csui/utils/contexts/perspective/perspective.context',\r\n  'csui/utils/contexts/perspective/perspective.guide',\r\n  'csui/utils/contexts/perspective/perspective.context.plugin',\r\n  'csui/utils/contexts/perspective/search.perspectives',\r\n  'csui/utils/contexts/factories/ancestors',\r\n  'csui/utils/contexts/factories/children',\r\n  'csui/utils/contexts/factories/children2',\r\n  'csui/utils/contexts/factories/columns',\r\n  'csui/utils/contexts/factories/columns2',\r\n  'csui/utils/contexts/factories/connector',\r\n  'csui/utils/contexts/factories/factory',\r\n  'csui/utils/contexts/factories/global.error',\r\n  'csui/utils/contexts/factories/node',\r\n  'csui/utils/contexts/factories/next.node',\r\n  'csui/utils/contexts/factories/previous.node',\r\n  'csui/utils/contexts/factories/user',\r\n  'csui/utils/contexts/factories/usernodepermission',\r\n  'csui/utils/contexts/factories/volume',\r\n  'csui/utils/contexts/factories/application.scope.factory',\r\n  'csui/utils/contexts/factories/favoritescolumns',\r\n  'csui/utils/contexts/factories/favorite2groups',\r\n  'csui/utils/contexts/factories/favorites',\r\n  'csui/utils/contexts/factories/favorites2',\r\n  'csui/utils/contexts/factories/favorite2columns',\r\n  'csui/utils/contexts/factories/myassignmentscolumns',\r\n  'csui/utils/contexts/factories/myassignments',\r\n  'csui/utils/contexts/factories/recentlyaccessedcolumns',\r\n  'csui/utils/contexts/factories/recentlyaccessed',\r\n  'csui/utils/contexts/factories/member',\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/search.metadata.factory',\r\n\r\n  // Client-side perspectives\r\n  'json!csui/utils/contexts/perspective/impl/perspectives/search.json',\r\n\r\n  // Application widgets\r\n\r\n  // Application widgets manifests\r\n\r\n  // TODO: Remove the need for this impl by implementing search results\r\n  // for a saved template by a contextual node perspective\r\n  'csui/utils/contexts/factories/search.query.factory',\r\n  'csui/utils/contexts/factories/search.box.factory',\r\n\r\n  // TODO: Remove this, as long as the module owners take over\r\n  // the icons\r\n  'csui/temporary/activeviews/icons/icons',\r\n  'csui/temporary/appearances/icons/icons',\r\n  'csui/temporary/cop/icons/icons',\r\n\r\n  // TODO: Remove this module from public area. Localization has to\r\n  // be private  for its module.\r\n  'i18n!csui/models/widget/nls/lang'\r\n], {});\r\n\r\ncsui.require(['require', 'css'], function (require, css) {\r\n  css.styleLoad(require, 'csui/bundles/csui-data', true);\r\n});\r\n\n","csui.define('csui/pages/start/impl/perspective.factory',[\r\n  'csui/controls/perspective.panel/perspective.factory'\r\n], function (PerspectiveFactory) {\r\n  'use strict';\r\n\r\n  console.warn('DEPRECATED: depend on the module \"csui/controls/perspective.panel/perspective.factory\" instead.');\r\n\r\n  return PerspectiveFactory;\r\n});\n","csui.define('csui/pages/start/impl/perspective.router',[\r\n  'csui/utils/routing'\r\n], function (routing) {\r\n  'use strict';\r\n\r\n  // TODO: Deprecate this module, use csui/utils/routing\r\n\r\n  function PerspectiveRouter() {}\r\n\r\n  PerspectiveRouter.routesWithSlashes = routing.routesWithSlashes;\r\n\r\n  return PerspectiveRouter;\r\n});\r\n\n","csui.define('csui/pages/start/impl/perspective.panel/perspective.animator',[\r\n  'csui/controls/perspective.panel/perspective.animator'\r\n], function (PerspectiveAnimator) {\r\n  'use strict';\r\n\r\n  console.warn('DEPRECATED: depend on the module \"csui/controls/perspective.panel/perspective.animator\" instead.');\r\n\r\n  return PerspectiveAnimator;\r\n});\n","csui.define('csui/pages/start/impl/perspective.panel/perspective.panel.view',[\r\n  'csui/controls/perspective.panel/perspective.panel.view'\r\n], function (PerspectivePanelView) {\r\n  'use strict';\r\n\r\n  console.warn('DEPRECATED: depend on the module \"csui/controls/perspective.panel/perspective.panel.view\" instead.');\r\n\r\n  return PerspectivePanelView;\r\n});\n"]}